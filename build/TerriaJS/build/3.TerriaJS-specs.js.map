{"version":3,"sources":["webpack:///./node_modules/tinymce/icons/default/index.js","webpack:///./node_modules/tinymce/icons/default/icons.js","webpack:///./node_modules/tinymce/themes/silver/index.js","webpack:///./node_modules/tinymce/themes/silver/theme.js","webpack:///./node_modules/tinymce/models/dom/index.js","webpack:///./node_modules/tinymce/models/dom/model.js","webpack:///./node_modules/tinymce/plugins/media/index.js","webpack:///./node_modules/tinymce/plugins/media/plugin.js","webpack:///./node_modules/tinymce/plugins/image/index.js","webpack:///./node_modules/tinymce/plugins/image/plugin.js","webpack:///./node_modules/tinymce/plugins/link/index.js","webpack:///./node_modules/tinymce/plugins/link/plugin.js","webpack:///./node_modules/tinymce/plugins/lists/index.js","webpack:///./node_modules/tinymce/plugins/lists/plugin.js","webpack:///./node_modules/tinymce/plugins/table/index.js","webpack:///./node_modules/tinymce/plugins/table/plugin.js","webpack:///./node_modules/tinymce/plugins/autolink/index.js","webpack:///./node_modules/tinymce/plugins/autolink/plugin.js","webpack:///./node_modules/tinymce/skins/content/default/content.min.css","webpack:///./node_modules/tinymce/skins/ui/oxide/content.min.css","webpack:///./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/ScriptLoader2.js","webpack:///./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/Editor.js","webpack:///./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/EditorPropTypes.js","webpack:///./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/Utils.js","webpack:///./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/TinyMCE.js"],"names":["tinymce","IconManager","add","icons","getPrototypeOf$2","Object","getPrototypeOf","hasProto","v","constructor","predicate","_a","prototype","name","isType$1","type","value","x","t","Array","isArray","String","o","proto","isPrototypeOf","typeOf","isSimpleType","eq$1","a","isString","isObject","isPlainObject","is$2","isNull","isBoolean","isUndefined","undefined","isNullable","isNonNullable","isFunction","isNumber","isArrayOf","pred","i","len","length","noop","noarg","f","compose","fa","fb","args","apply","constant$1","identity","tripleEquals","b","curry","fn","initialArgs","restArgs","all","concat","not","die","msg","Error","apply$1","never","always","Optional","tag","this","some","none","singletonNone","fold","onNone","onSome","isSome","isNone","map","mapper","bind","binder","exists","forall","filter","getOr","replacement","or","getOrThunk","thunk","orThunk","getOrDie","message","from","getOrNull","getOrUndefined","each","worker","toArray","toString","nativeSlice","slice","nativeIndexOf","indexOf","nativePush","push","rawIndexOf","ts","call","xs","r","contains$2","range$2","num","chunk$1","array","size","s","map$2","each$1","partition$3","pass","fail","filter$2","foldr","acc","eachr","foldl","find$5","until","findUntil","findIndex$1","flatten","bind$3","reverse","difference","a1","a2","mapToObject","pure$2","sort","comparator","copy","get$h","head","last$1","findMap","arr","keys","hasOwnProperty$1","hasOwnProperty","obj","props","k","map$1","tupleMap","tuple","objAcc","internalFilter","onTrue","onFalse","filter$1","mapToArray","find$4","values","get$g","key","has$2","hasNonNullableKey","is$1","lhs","rhs","left","cat","lift2","oa","ob","mapFrom","someIf","checkRange","str","substr","start","removeLeading","prefix","startsWith","numChars","substring","removeFromStart","contains$1","end","idx","endsWith","suffix","trim$1","replace","blank","isNotEmpty","isSupported$1","dom","style","getPropertyValue","fromDom","node","SugarElement","fromHtml","html","scope","div","document","createElement","innerHTML","hasChildNodes","childNodes","console","error","fromTag","fromText","text","createTextNode","fromPoint","docElm","y","elementFromPoint","Global","window","Function","resolve","p","parts","path$1","split","getOrDie$1","actual","unsafe","getPrototypeOf$1","sandHTMLElement","test","name$3","element","nodeName","toLowerCase","isType","nodeType","type$1","isHTMLElement","isElement$1","isText","isDocument","isDocumentFragment","isTag","e","is","selector","elem","matches","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","bypassSelector","childElementCount","eq","e1","e2","contains","d1","d2","owner$4","ownerDocument","documentOrOwner","dos","documentElement","defaultView","parent","parentNode","parentElement","offsetParent","children","child$2","index","cs","firstChild","spot","offset","leaf","isShadowRoot","host","supported","Element","attachShadow","Node","getRootNode","isSupported","getContentContainer","body","getShadowRoot","getShadowHost","isOpenShadowHost","shadowRoot","inBody","doc","fbc","fab","getBody","rawSet","setAttribute","set$9","setAll$1","attrs","get$f","getAttribute","getOpt","has$1","hasAttribute","remove$7","removeAttribute","internalSet","property","setProperty","internalRemove","removeProperty","set$8","setAll","css","setOptions","get$e","getComputedStyle","getUnsafeProperty","getRaw","raw","getAllRaw","ruleName","item","isValidValue","remove$6","reflow","offsetWidth","Dimension","getOffset","get","parseFloat","aggregate","properties","val","parseInt","isNaN","set","h","match","getOuter","max","cumulativeInclusions","api$2","getBoundingClientRect","height","offsetHeight","get$d","getOuter$2","r$1","top","translate","SugarPosition","firstDefinedOrZero","absolute$3","win","offsetLeft","offsetTop","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","viewport$1","box","boxPosition","api$1","get$c","getOuter$1","cached","called","unknown$3","nu$d","major","minor","Version","nu","detect","versionRegexes","agent","cleanedAgent","regexes","firstMatch","group","Number","find$3","unknown","detect$4","candidates","userAgent","candidate","search","normalVersionRegex","checkContains","target","uastring","browsers","brand","oses","PlatformInfo","edge","chromium","opera","firefox","safari","nu$c","info","current","version","isBrowser","isEdge","isChromium","isIE","isOpera","isFirefox","isSafari","Browser","ie","windows","android","linux","macos","solaris","freebsd","chromeos","nu$b","isOS","isWindows","isiOS","isAndroid","isMacOS","isLinux","isSolaris","isFreeBSD","isChromeOS","OperatingSystem","ios","PlatformDetection","userAgentDataOpt","mediaMatch","browser","userAgentData","brands","uaBrand","lcBrand","detectBrowser$1","detectBrowser","os","detectOs","deviceType","isiPad","isiPhone","isMobile","isTouch","isTablet","isPhone","iOSwebview","isDesktop","isWebView","DeviceType","query","matchMedia","platform","navigator","detect$2","fromRawEvent$1","rawEvent","event","el","composed","composedPath","getOriginalEventTarget","stop","stopPropagation","prevent","preventDefault","kill","mkEvent","clientX","clientY","handler","useCapture","wrapped","handle","addEventListener","unbind","removeEventListener","before$1","marker","insertBefore","after$2","sibling","nextSibling","append$2","prepend$1","appendChild","append$1","elements","empty","textContent","rogue","remove$5","removeChild","get$b","_DOC","to","scrollTo","bounds$1","width","right","bottom","getBounds$3","_win","scroll","visualViewport","get$a","clientWidth","clientHeight","Math","pageLeft","pageTop","getDocument","walkUp","navigation","view","owner","rest","Navigation","freeze","__proto__","frameElement","find$2","path","d","paths","pathTo","frames","loc","bounds","box$1","xy","w","absolute$2","position","constrain","original","constraint","min","global$a","util","Tools","value$4","applyHelper","constHelper","outputHelper","output","inner","_onError","onValue","isValue","isError","Result","mapError","toOptional","error$1","onError","_onValue","fromOption","optional","err","SimpleResultType","fold$1","res","stype","serror","svalue","Value","SimpleResult","results","errors","field$2","newKey","presence","prop","ifField","ifCustom","instantiator","baseMerge","merger","objects","ret","j","curObject","deepMerge","old","merge$1","defaultedThunk","fallbackThunk","process","defaulted$1","fallback","mergeWithThunk","baseThunk","mergeErrors$1","ResultCombine","partitions","formatObj","input","JSON","stringify","nu$a","getErrorInfo","value$3","validator","extract","custom","anyValue$1","requiredAccess","bundle","missingRequired","fallbackAccess","extractField","field","av","bundleAsOption","optValue","ov","result","optionAccess","optionDefaultedAccess","valueThunk","getDelegate","getSetKeys","objOfOnly","fields","delegate","objOf","fieldNames","extra","unsupported","join","unsupportedFields","success","extractFields","fieldStrings","_okey","_presence","_instantiator","arrOf","oneOf","rawF","setOf$1","keys$1","validatedKeys","validateKeys","validKeys","schema","vk","arrOfObj","anyValue","typedValue","expectedType","actualType","number","string","boolean","functionProcessor","isPostMessageable","every","postMessageable","chooseFrom","branches","ch","branch","missingBranch","vp","choose$2","missingKey","chosen","valueOf","setOf","asRaw","label","errs","extractValue","extraction","errInfo","formatError","asRawOrDie$1","es","formatErrors","choose$1","thunkOf","desc","_desc","processor","getP","field$1","customField","validateEnum","required$1","requiredOf","requiredNumber","requiredString","requiredStringEnum","requiredFunction","requiredObjOf","objSchema","requiredArrayOfObj","objFields","requiredArrayOf","option$3","optionOf","optionNumber","optionString","optionStringEnum","optionFunction","optionArrayOf","optionObjOf","defaulted","defaultedOf","defaultedNumber","defaultedString","defaultedStringEnum","defaultedBoolean","defaultedFunction","defaultedArrayOf","defaultedObjOf","Cell","initial","Adt","cases","constructors","adt","acase","count","argLength","foldArgs","branchKeys","reqKey","log","params","bothErrors","firstError","secondError","bothValues","exclude","exclude$1","wrap$1","wrap$2","wrapAll","keyvalues","kv","wrapAll$1","consolidate","objs","base","partition$1","mergeValues","ensureIsRoot","isRoot","ancestor$2","transform","transformed","closest$4","isSource","component","simulatedEvent","defaultEventHandler","can","abort","run","nu$9","fuse$1","handlers","all$2","any","constant","touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseout","mouseup","mouseover","focusin","focusout","keydown","keyup","change","click","transitioncancel","transitionend","transitionstart","selectstart","prefixName","alloy","tap","focus$4","postBlur","postPaste","receive","execute$5","focusItem","longpress","sandboxClose","typeaheadCancel","systemInit","documentTouchmove","documentTouchend","windowScroll","windowResize","attachedToDom","detachedFromDom","dismissRequested","repositionRequested","focusShifted","slotVisibility","externalElementScroll","changeTab","dismissTab","highlight$1","dehighlight$1","emit","dispatchWith","emitWith","emitExecute","dispatch","data","getSystem","triggerEvent","dispatchEvent","derive$2","configs","run$1","runActionExtra","action","runOnSourceName","redirectToPart","detail","partName","uid","getByUid","redirectee","redirectToUid","partUids","runWithTarget","ev","getByDom","cutter","cut","stopper","runOnSource","runOnAttached","runOnDetached","runOnInit","runOnExecute$1","runOnName","get$9","set$6","content","docDom","fragment","createDocumentFragment","contentElements","fromHtml$1","shallow","isDeep","cloneNode","clone$1","getHtml","container","clone","events$i","originator","isRecursive","warn","DefaultEvents","events","unique","generate$6","time","Date","getTime","random","floor","prefix$1","idAttr$1","idAttr","writeOnly","defineProperty","writable","read$1","id","generate$5","make$8","NoContextApi","getComp","getMessage","debugInfo","triggerFocus","triggerEscape","broadcast","broadcastOn","broadcastEvent","build","buildOrPatch","addToWorld","removeFromWorld","addToGui","removeFromGui","isConnected","singleton$1","cleanParameters","parameters","markAsExtraApi","extraName","endIndex","openBracketIndex","toFunctionAnnotation","premadeTag","premade$1","comp","getPremade","spec","makeApi","apiFunction","markAsSketchApi","getApis","NoState","init","nu$8","readState","byInnerKey","indexKey","chain","nu$7","classes","attributes","styles","getCurried","descHandler","cHandler","behaviourTuple","nameToHandlers","behaviours","behaviour","combine$1","eventOrder","byEventName","behaviourEvents","groupByEvents","combineGroups","assemble","rawHandler","read$2","fuse","tuples","eventName","order","keyName","sorted","aKey","bKey","aIndex","bIndex","sortKeys","sortedTuples","c","missingOrderError","assembled","purpose","uncurried","baseBehaviour","schema$z","mergeWith","toEvents","read","attr","supports","classList","get$8","add$3","clazz","add$4","remove$3","remove$4","add$2","remove$2","remove","cleanClass","has","add$1","remove$1","hasAll","get$7","getNative","get$6","set$5","ensureInDom","child","obsoleted","obs","patchChildrenWith","builtChildren","currentChildren","patchSpecChild","oldObsoleted","childComp","newObs","oldTag","determineObsoleted","diffKeyValueSet","newObj","oldObj","newKeys","oldKeys","toRemove","toSet","bifilter","reconcileToDom","definition","class","existingAttributes","clone$2","attrsToSet","attrsToRemove","existingStyles","stylesToSet","stylesToRemove","existingClasses","classesToRemove","classesToAdd","innerHtml","domChildren","nodes","optObsoleted","patchDomChildren","valueElement","updateValue","renderToDom","hasMixedChildren","isPremade","attemptPatch","subject","introduceToDom","generateFrom","validated","list","optBlobThunk","blob","config","state","generateFrom$1","generate$4","me","getBehaviours$2","getDomDefinition","bList","bData","components","infoModification","domModification","toModification","baseModification","modification","baseMod","modsByBehaviour","exhibit","byAspect","combineObjects","combinedClasses","combinedAttributes","combinedStyles","combine$2","defnA","mod","build$2","getMe","systemApi","toInfo","bBlob","getBehaviours$3","getData$2","modDefinition","baseEvents","getEvents","subcomponents","hasConfigured","behaviourName","apis","connect","newApi","disconnect","syncComponents","children$1","subs","buildFromSpec","userSpec","specEvents","build$1","buildSubcomponents","completeSpec","text$2","external$1","extSpec","uids","userSpecWithUid","isSketchSpec$1","premade","ClosestOrAncestor","ancestor","ancestor$1","closest$3","closest$2","child$1","descendant","querySelector","one","closest$1","attribute","manager","ariaId","link","unlink","isAriaPartOf","queryElem","dep","find$1","isPartOf$1","EventConfiguration","eventConfig","processEvent","initialTarget","patterns","NORMAL","noLogger","LOGGING","logger","sequence","startTime","logEventCut","_name","outcome","logEventStopped","logNoParent","logEventNoHandlers","logEventResponse","write","finishTime","makeEventLogger","STOP","monitorEvent","menuFields","itemFields","itemSchema$3","_initSize","tieredMenuMarkers","markers$1","required","onPresenceHandler","fieldName","stack","lines","line","getTrace","onHandler","onKeyboardHandler","onStrictHandler","onStrictKeyboardHandler","output$1","snapshot","initSize","nu$6","bubble","direction","placement","boundsRestriction","labelPrefix","alwaysFit","restriction","adt$a","southeast","southwest","northeast","northwest","south","north","east","west","southeast$3","southwest$3","northeast$3","northwest$3","south$3","north$3","east$3","west$3","cycleBy","delta","clamp","anchor","restrictions","dir","getRestriction","labelPrefix$2","eastX$1","middleX$1","westX$1","northY$2","southY$2","centreY$1","southeast$2","bubbles","southwest$2","northeast$2","northwest$2","north$2","south$2","east$2","eastEdgeX$1","west$2","westEdgeX$1","all$1","allRtl$1","aboveOrBelow","aboveOrBelowRtl","belowOrAbove","belowOrAboveRtl","ActiveReceiving","receiveConfig","channelMap","channels","receivingData","targetChannels","universal","chooseChannels","channelInfo","channelSchema","onReceive","ReceivingSchema","loadEvent","bConfig","bState","_simulatedEvent","wrapApi","bName","apiName","markAsBehaviourApi","revokeBehaviour","doCreate","configSchema","schemaSchema","active","getConfig","wrappedApis","apiF","extraF","revoke","prepared","configAsRaw","initialConfig","behaviourInfo","exhibitor","derive$1","capabilities","simpleSchema","create$4","create$5","modeSchema","createModes","modes","createModes$1","branchKey","Receiving","ActivePosition","posConfig","useFixed","focus$3","focus","blur$1","blur","hasFocus","root","activeElement","active$1","preserve$1","refocus","focused","descend","descendant$1","oldFocus","newFocus","NuPositionCss","toPx","applyPositionCss","toOptions","adt$9","relative","fixed","positionWithDirection","posName","decision","decisionRect","rect","decisionX","decisionY","decisionRight","decisionBottom","cata$2","reposition","origin","toBox","rel","viewport","optBounds","pos","translate$2","outerScroll","relative$1","fixed$1","anchorBox","placementAttribute","getPlacement","adt$8","fit","nofit","attempt","bubbleOffset","adjustedBounds","applyRestriction","isVerticalAxis","newPos","adjustedLeft","adjustedTop","adjustedRight","adjustedBottom","adjustBounds","newX","newY","originInBounds","sizeInBounds","visibleW","visibleH","boundsX","boundsY","boundsRight","boundsBottom","determinePosition","fits","fittedBox","maxX","maxY","restrictedX","restrictedY","restrictedWidth","restrictedHeight","calcReposition","isPartlyVisible","maxWidth","maxHeight","upAvailable","downAvailable","middle","cataVertical","westAvailable","eastAvailable","cataHorizontal","calcMaxSizes","on","classesOn","off","classesOff","layout","testY","singleton","doRevoke","clear","isSet","unbindable","value$2","bind$2","capture","capture$1","fromRawEvent","timerAttr","hasChanges","intermediate","round","toFixed","equals","setupTransitionListeners","transition","transitionEnd","transitionCancel","timer","isSourceTransition","pseudoElement","propertyName","transitionDone","clearTimeout","transitionStart","duration","times","parse","delay","dur","getTransitionDuration","requestAnimationFrame","setTimeout","applyTransitionCss","lastPlacement","shouldTransition","placer","mode","shouldApplyTransitionCss","isTransitioning$1","intermediatePosition","intermediateCssOptions","timerId","startTransitioning","options","elementBox","panelWidth","panelHeight","attemptBestFit","isVisible","next","attemptLayout","newReposition","newVisibleW","newVisibleH","newIsVisible","abc","bestNext","attempts","preference","setPlacement","setPlacement$1","setMaxHeight","absMax","setMax$1","anchored","available","expandable$1","defaultOr","dephault","go","positionCss","position$2","classInfo","setClasses","maxHeightFunction","setHeight","maxWidthFunction","setWidth","allAlignments","nu$5","xOffset","yOffset","insetModifier","insetXOffset","insetYOffset","getClasses","make","xDelta","yDelta","alignmentsOn","alignmentsOff","insetNortheast","insetNorthwest","insetNorth","insetSoutheast","insetSouthwest","insetSouth","insetEast","insetWest","nu$4","onDirection","isLtr","isRtl","getDirection","AttributeValue","Attribute","isBottomToTopDir","BottomToTop","schema$y","get$5","defaultLtr","defaultRtl","defaultBottomLtr","defaultBottomRtl","dirElement","isBottomToTop","customLtr","layouts","ls","onLtr","customRtl","onRtl","ltr","onBottomLtr","rtl","onBottomRtl","HotspotAnchor","anchorInfo","hotspot","overrides","MakeshiftAnchor","adt$7","screen","absolute","point","toAbsolute","sum","points","sumAsAbsolute","positions","absolute$1","getRootPoint","frame","frameOwner","compOwner","getBox","pointed","calcNewAnchor","optBox","rootPoint","topLeft","onRelative","onFixed","sumAsFixed","layoutsLtr","showAbove","layoutsRtl","NodeAnchor","nodeBox","SimRange","soffset","finish","foffset","adt$6","before","after","Situ","situ","adt$5","domRange","exact","SimSelection","exactFromRange","simRange","getWin","selection","rng","startContainer","startSitu","_finishSitu","_soffset","_finish","_foffset","getStart","range","relativeToNative","finishSitu","createRange","setStartBefore","setStart","setStartAfter","setEndBefore","setEnd","setEndAfter","setFinish","exactToNative","toRect","adt$4","fromRange","startOffset","endContainer","endOffset","diagnose","ranges","getRanges","collapsed","rev","doDiagnose","asLtrRange","ancestors","rawParent","parents","descendants","querySelectorAll","all$3","makeRange","same","readRange","rangeCount","firstRng","getRangeAt","lastRng","doGetExact","anchorNode","focusNode","anchorOffset","focusOffset","getExact","getSelection","getNativeSelection","sel","getFirstRect","rects","getClientRects","getFirstRect$1","getBounds$1","getBounds$2","api","getOption","nodeValue","NodeValue","descendOnce$1","last","get$4","descendOnce","getAnchorSelection","modStart","modFinish","SelectionAnchor","selectionBox","optRect","rawRect","labelPrefix$1","eastX","westX","northY$1","southY$1","southeast$1","southwest$1","northeast$1","northwest$1","allRtl","SubmenuAnchor","submenuInfo","AnchorSchema","submenu","makeshift","TransitionSchema","PositionSchema","PlacementSchema","place","anchoring","placee","lastPlace","overrideOptions","simple","positionWithinBounds","posState","placementSpec","optWithinBounds","placeeDetail","anchorage","placeeState","oldVisibility","getFixedOrigin","getRelativeOrigin","getBounds","newState","vis","PositionApis","getMode","pConfig","_pState","reset","reset$2","Positioning","fireDetaching","fireAttaching","virtualAttach","virtualDetach","attach$1","replaceChildren","newSpecs","buildNewChildren","detachChildren$1","newChildren","deleted","attach","attachWith","insertion","doDetach","detach","parent$1","detachChildren","attachSystem","guiSystem","attachSystemWith","attachSystemAfter","inserter","detachSystem","rebuild","sandbox","sConfig","sState","_data","getAttachPoint","built","open$1","onOpen","close$1","onClose","isOpen$1","_sandbox","_sConfig","isOpen","cloak","_sState","sink","cssKey","newValue","store","cloakVisibilityAttr","decloak","hasPosition","oldValue","restore","SandboxApis","open","openWhileCloaked","transaction","close","isPartOf","getState","setContent","ActiveSandbox","sandboxConfig","sandboxState","SandboxSchema","SandboxState","contents","Sandboxing","dismissPopups","repositionPopups","mouseReleased","schema$x","receivingChannel$1","rawSpec","isExtraPart","fireEventInstead","fe","schema$w","receivingChannel","doReposition","onLoad$5","repConfig","repState","onLoad","onUnload$2","onUnload","RepresentApis","setValue","getValue","ActiveRepresenting","resetOnDom","_se","memory$1","isNotSet","dataset","dataByValue","dataByText","lookup","itemString","update","items","currentDataByValue","currentDataByText","newDataByValue","newDataByText","meta","RepresentState","memory","manual","setValue$2","onSetValue","DatasetStore","getDataKey","getFallbackEntry","initialValue","ManualStore","_repState","MemoryStore","initVal","RepresentSchema","Representing","setValueFrom","source","forbidden","forbid","_v","get$3","dump","augment","SketchBehaviours","_placeholder","adt$3","single","multiple","isSubstituted","scan","compSpec","placeholders","uiType","newSpec","subPlaceholder","substitute","req","childSpecs","substituted","valuesThunk","preprocess","preprocessor","substitutePlaces","ps","ph","replacements","_","used","oneReplace","substituteAll","single$2","placeholder","adt$2","external","fFactory","sketch","fSchema","fName","fPname","typeSpec","fGroupSchema","fDefaults","fOverrides","requiredSpec","externalSpec","optionalSpec","groupSpec","asNamedPart","part","name$2","convert","adtConstructor","partSchema","PartType","asCommon","combine","partSpec","partValidated","defaults","generate$3","np","g","doGenerateOne","pname","generateOne$1","schemas","names","substitutes","internals","externals","factory","_partSpec","_partValidated","units","u","components$1","getPart","partKey","getPartOrDie","getParts","partKeys","system","pk","getAllParts","pUid","_k","getAllPartNames","getPartsOrDie","defaultUids","baseUid","partTypes","partNames","pn","defaultUidsSchema","AlloyParts","generate","generateOne","asRawOrDie","partSchemas","partUidsSchemas","baseS","composite$1","specWithUid","supplyUid","partUidsSchema","hasUid","singleSchema","compositeSchema","rawConfig","extraApis","configFields","single$1","composite","partFields","inside","ComposeApis","getCurrent","composeConfig","_composeState","find","ComposeSchema","Composing","nativeDisabled","onLoad$1","disableConfig","disableState","disabled","disable","enable","hasNative","useNative","nativeDisable","nativeEnable","ariaDisable","ariaEnable","_disableState","disableClass","onDisabled","onEnabled","isDisabled","nativeIsDisabled","ariaIsDisabled","DisableApis","ActiveDisable","DisableSchema","Disabling","dehighlightAllExcept","hConfig","hState","skip","highlighted","highlightClass","skipComp","onDehighlight","highlight","isHighlighted","onHighlight","queryTarget","getByIndex","itemClass","getFirst","_hState","getLast","getDelta$2","selected","dest","getCandidates","HighlightApis","dehighlightAll","dehighlight","highlightFirst","firstComp","highlightLast","lastComp","highlightAt","highlightBy","getHighlighted","getPrevious","getNext","HighlightSchema","Highlighting","BACKSPACE","TAB","ENTER","ESCAPE","SPACE","LEFT","UP","RIGHT","DOWN","cyclePrev","tryPrev","cycleNext","tryNext","inSet","which","and","preds","isShift","shiftKey","isControl","ctrlKey","isNotShift","rule","classification","reportFocusShifting","prevFocus","n","dom$2","focusee","highlights","FocusInsideModes","typical","infoSchema","stateInit","getKeydownRules","getKeyupRules","optFocusIn","processKey","getRules","keyingConfig","keyingState","transitions","choose","onFocusHandler","focusInside","OnFocusMode","focusIn","keyboardEvents","isEnterOrSpace","OnEnterOrSpaceMode","tryGoInsideComponent","create$2","cyclicField","tabbingConfig","visibilitySelector","_tabbingState","tabstops","visibles","firstTabstop","findInitial","focusManager","goFromTabstop","stopIndex","cycle","useTabstopAt","isTabstop","cyclic","findCurrent","tabstop","navigate","onEnter","onEscape","AcyclicType","CyclicType","defaultExecute","doDefaultExecute","stopEventForFirefox","_component","schema$v","execute$4","executeConfig","execute","ExecutionType","_executeState","spaceExec","useSpace","enterExec","useEnter","downExec","useDown","execKeys","useControlEnter","flatgrid$1","dimensions","numRows","numColumns","setGridSize","getNumRows","getNumColumns","KeyingState","flatgrid","useH","movement","move","use","west$1","moveLeft","moveRight","east$1","useV","north$1","south$1","move$1","isHidden$1","locateVisible","locate","findIndex","withGrid","numCols","address","newIndex","row","column","cycleHorizontal$1","oldRow","oldColumn","colsInRow","newColumn","cycleVertical$1","newRow","newCol","schema$u","focusIn$3","gridConfig","_gridState","first","doMove$2","gridState","identified","handleTab","captureTab","moveLeft$3","moveRight$3","moveNorth$1","moveSouth$1","getKeydownRules$4","findCurrent$1","getKeyupRules$4","FlatgridType","getNewIndex","tryNewIndex","isDisabledButton","horizontalWithoutCycles","prevIndex","oldCandidate","onNewIndex","horizontal","_oldCandidate","schema$t","execute$2","flowConfig","focusIn$2","_state","getInitial","moveLeft$2","cycles","moveRight$2","doMove$1","flowState","executeOnMove","getKeyupRules$3","FlowType","_flowState","westMovers","allowHorizontal","allowVertical","eastMovers","toCell","matrix","rowIndex","columnIndex","cell","cycleHorizontal","startCol","deltaCol","newColIndex","cycleVertical","colIndex","startRow","deltaRow","nextRowIndex","colsInNextRow","nextColIndex","moveHorizontal","moveVertical","schema$s","focusIn$1","matrixConfig","previousSelector","selectors","doMove","ifCycle","ifMove","inRow","cellsInRow","allRows","rows","toMatrix","moveNorth","moveSouth","getKeydownRules$2","getKeyupRules$2","MatrixType","schema$r","menuConfig","moveUp","moveDown","getKeydownRules$1","menuState","moveOnTab","getKeyupRules$1","MenuType","schema$q","SpecialType","specialInfo","onSpace","onShiftEnter","onShiftTab","onTab","onUp","onDown","onLeft","onRight","stopSpaceKeyup","acyclic","flow","execution","menu","special","Keying","keyConfig","keyState","sendFocusIn","isFlatgridState","withoutReuse","withReuse","existingComps","deletedComp","virtualReplaceChildren","specs","patchSpecChildren","virtualReplace","replacee","replaceeIndex","childSpec","insert","appendAt","_replaceConfig","replaceAt","replaceConfig","replaceState","replacer","reuseDom","ReplaceApis","append","appendee","prepend","prependee","removee","foundChild","replaceBy","replaceePred","Replacing","eventHandlers","events$d","focus$2","focusConfig","ignore","onFocus","FocusApis","isFocused","ActiveFocus","tabindex","stopMousedown","FocusSchema","Focusing","set$2","toggleConfig","toggleState","initialState","toggleClass","updateClass","ariaInfo","aria","updateAriaState","onToggled","toggle$2","ToggleApis","toggle","isOn","ActiveToggle","executor","load","toggleOnExecute","updateExpanded","status","ToggleSchema","pressed","syncWithExpanded","checked","expanded","Toggling","pointerEvents","onClick","events$a","optAction","hoverEvent","focusEvent","toggledEvent","onHover","onFocus$1","hover","focus$1","toggled","getItemRole","toggling","exclusive","getTogglingSpec","tConfig","_value","schema$p","hasSubmenu","itemBehaviours","ignoreFocus","schema$o","owner$2","parts$h","schema$n","focusWidget","widget","onHorizontalArrow","autofocus","setSource","_widget","widgetBehaviours","itemSchema$2","separator","parts$g","itemInfo","builder","unit","fakeFocus","markers","schema$m","grid","movementInfo","rowSelector","Menu","_spec","_externals","menuBehaviours","selectedItem","checkedRadioItems","ele","deselectOtherRadioItems","role","trace","byItem","byMenu","triggerItem","triggerMenu","generate$2","menus","expansions","menuItems","menuPaths","_triggerItem","extractPreparedMenu","prep","LayeredState","primary","directory","getTriggerData","menuValue","getItemByValue","getPreparedMenu","getTriggeringItem","triggeringItemValue","triggeredItem","triggeredMenu","triggeringItem","triggeringPath","lookupMenu","lookupItem","itemValue","setMenuBuilt","menuName","setContents","sPrimary","sMenus","sExpansions","sPaths","expand","refresh","collapse","otherMenus","menuValues","getPrimary","getMenus","isClear","getTriggeringPath","extraPath","revPath","menuIndex","onMenuItemHighlightedEvent","onMenuItemDehighlightedEvent","HighlightOnOpen","collapseItem$1","tieredMenu","HighlightMenuAndItem","collapseMenu","tmenu","highlightPrimary","repositionMenus","_rawUiSpec","submenuParentItems","layeredState","setup","componentMap","primaryName","makeSketch","menuComp","itemComp","nbMenu","buildMenus","toDirectory","getItemValue","_container","_menuName","setActiveMenu","setActiveMenuAndItem","mv","closeOthers","others","backgroundMenu","stayInDom","updateAriaExpansions","parentItems","getSubmenuParents","updateMenuPath","latestMenuName","menuPrep","activeMenu","ExpandHighlightDecision","expandRight","HighlightSubmenu","activeMenuPrep","buildIfRequired","onOpenSubmenu","collapseLeft","onCollapseMenu","keyOnItem","getSource","onExecute","onOpenMenu","highlightOnOpen","HighlightJustMenu","tmenuComp","se","onHighlightItem","onDehighlightItem","navigateOnHover","updateView","HighlightParent","getActiveItem","currentItem","maybeActivePrimary","allMenus","preparedMenus","extractMenuFromContainer","primaryMenu","onRepositionMenu","tmenuBehaviours","_keyInfo","selectedMenu","tieredData","singleData","collapseItem","InlineView","showWithinBounds","thing","lazySink","showMenuWithinBounds","menuSpec","menuSandbox","getSubmenuLayouts","triggeringPaths","isFirstTierSubmenu","submenuTriggers","st","submenuLayouts","makeMenu","showAt","showMenuAt","hide","getContent","inlineBehaviours","getRelated","isPartOfRelated","onShow","onHide","fireDismissalEventInstead","fireRepositionEventInstead","global$9","Button","lookupAttr","buttonBehaviours","getModAttributes","record","isSketchSpec","anyInSystem","asSpec","global$8","rtlTransform","defaultIconName","defaultIcon","getIconName","lcName","rtlName","addToEnd","ensureTrailing","lookupIcon","get$2","iconProvider","addFocusableBehaviour","svg","renderIcon$3","iconName","fallbackIcon","_b","rtlIconClasses","needsRtlTransform","iconHtml","render$3","notificationIconMap","warning","Notification","memBannerText","translationProvider","renderPercentBar","percent","renderPercentText","memBannerProgress","progress","updateProgress","updateText","banner","iconChoices","icon","level","memButton","onAction","notificationIconSpec","iconNames","renderFirst","closeButton","ToolbarMode$1","ToolbarLocation$1","global$7","global$6","global$5","ToolbarMode","ToolbarLocation","option$2","editor","wrapOptional","register$e","registerOption","register","stringOrFalseProcessor","stringOrNumberProcessor","default","getElement","DOM","getStyle","valid","auto","inline","isReadOnly","getHeightOption","getWidthOption","getMinWidthOption","getMinHeightOption","getMaxWidthOption","getMaxHeightOption","getUserStyleFormats","shouldMergeStyleFormats","shouldAutoHideStyleFormats","getContentLanguages","getRemovedMenuItems","getToolbarMode","getToolbarGroups","getToolbarLocation","fixedContainerSelector","fixedToolbarContainerTarget","isToolbarPersist","getStickyToolbarOffset","getMenubar","getToolbar","getFilePickerCallback","getFilePickerValidatorHandler","getFontSizeInputDefaultUnit","getFilePickerTypes","useTypeaheadUrls","getAnchorTop","getAnchorBottom","isDraggableModal$1","useStatusBar","useElementPath","useBranding","getResize","getPasteAsText","getSidebarShow","promotionEnabled","isSkinDisabled","isMenubarEnabled","getSkinUrl","skinUrl","documentBaseURI","skin","baseURL","getLineHeightFormats","isToolbarEnabled","toolbar","isToolbarString","isToolbarObjectArray","isMultipleToolbars","getMultipleToolbarsOption","toolbars","toolbarArray","isToolbarLocationBottom","fixedContainerTarget","useFixedContainer","getUiContainer","isDistractionFree","isStickyToolbar","isSplitUiMode","Options","isDraggableModal","autocompleteSelector","detect$1","elm","AutocompleterEditorEvents","redirectKeyToItem","getItem","getMenu","keyCode","isActive","isMenuOpen","stopImmediatePropagation","cancelIfNecessary","isProcessingAction","ItemResponse","ItemResponse$1","navClass","selectableClass","colorClass","presetClasses","normal","color","tickedClass","iconClass","textClass","caretClass","activeClass","containerClass","containerRowClass","classForPreset","presets","forMenu","hasIcons","menuClasses","dom$1","columns","schema$l","focusBehaviours","selectOnFocus","setSelectionRange","inputBehaviours","inputAttributes","inputStyles","inputClasses","Input","refetchTriggerEvent","redirectMenuItemInteractionEvent","menuSearcherClass","findWithinSandbox","sandboxComp","inputElem","findWithinMenu","saveState","inputComp","fetchPattern","selectionStart","selectionEnd","renderMenuSearcher","handleByBrowser","handleByHighlightedItem","eventData","interactionEvent","eventType","customSearcherEventsName","i18n","searchResultsClass","augmentWithAria","chunk","rowDom","chunks","preprocessCollection","isSeparator","allSplits","currentSplit","insertItemsPlaceholder","initItems","onItem","rawItems","enrichedItems","_item","forCollection","_hasIcons","menuHasIcons","handleError","createHorizontalPartialMenuWithAlloyItems","_columns","_menuLayout","structure","createPartialMenuWithAlloyItems","menuLayout","getNormalStructure","menuType","searchMode","searchField","ariaControlsSearchResults","forCollectionWithSearchField","forCollectionWithSearchResults","forSwatch","forToolbar","name$1","text$1","title","value$1","fetch$1","getSubmenuItems","onItemAction","onSetup","optionalName","optionalText","optionalIcon","optionalTooltip","optionalLabel","optionalShortcut","optionalSelect","borderless","enabled","defaultedColumns","defaultedMeta","defaultedOnAction","defaultedType","generatedName","namePrefix","separatorMenuItemSchema","autocompleterItemSchema","baseToolbarButtonFields","toolbarButtonSchema","createToolbarButton","baseToolbarToggleButtonFields","toggleButtonSchema","createToggleButton","contextBarFields","contextButtonFields","contextToggleButtonFields","launchButtonFields","launchToggleButtonFields","toggleOrNormal","contextformbutton","contextformtogglebutton","contextFormSchema","contextToolbarSchema","cardImageFields","cardImageSchema","cardTextFields","cardTextSchema","itemSchema$1","cardimage","cardtext","cardcontainer","cardContainerSchema","commonMenuItemFields","valuePrefix","cardMenuItemSchema","choiceMenuItemSchema","baseFields","insertTableFields","colorSwatchFields","fancyMenuItemSchema","inserttable","colorswatch","menuItemSchema","nestedMenuItemSchema","toggleMenuItemSchema","detectSize","margin","selectorClass","descendants$1","columnLength","thisTop","cTop","abs","ceil","namedEvents","SimpleBehaviours","ExclusivityChannel","ShowTooltipEvent","HideTooltipEvent","hideAllExclusive","_tConfig","_tState","TooltippingApis","setComponents","tState","getTooltip","tooltip","ActiveTooltipping","tooltipConfig","clearTooltip","clearTimer","resetTimer","isShowing","popup","tooltipDom","tooltipComponents","setTooltip","show","TooltippingSchema","TooltippingState","Tooltipping","ReadOnlyChannel","ReadOnlyDataSchema","broadcastReadonly","uiRefs","readonly","mainUi","outerContainer","motherships","mothership","uiMotherships","m","setupReadonlyModeSwitch","receivingConfig","DisablingConfigs","runWithApi","getApi","onControlAttached","editorOffCell","onDestroy","onControlDetached","onMenuItemExecute","itemResponse","triggersSubmenu","CLOSE_ON_EXECUTE","menuItemEventOrder","componentRenderPipeline","renderCommonItem","providersBackstage","optComponents","buildData","convertText","isMac","alt","ctrl","shift","access","shortcut","updated","segment","trim","renderIcon$2","renderText","renderHtml","renderStyledText","renderShortcut","renderCheckmark","renderColorStructure","providerBackstage","itemText","ariaLabel","iconSvg","iconContent","common","baseDom","getDom","renderItemDomStructure","domTitle","renderItemStructure","renderIcons","iconSpec","leftIcon","checkmark","checkMark","textRender","htmlContent","shortcutContent","caret","renderNormalItemStructure","tooltipBehaviour","sharedBackstage","tooltipWorker","getSink","_tooltip","replaceText","matchText","encoded","encode","encodeText","escapedMatchRegex","RegExp","escape","render$2","extras","directionClass","alignClass","align","valign","getValignClass","renderContainer","src","renderImage","shouldHighlight","cardText","highlightOn","parts$f","hexColour","normalizeHex","shorthandRegex","longformRegex","isHexString","hex","toUpperCase","extractValues","longForm","hexString","getLongForm","splitForm","exec","toHex","fromRgba","rgbaColour","red","green","blue","round$1","rgbRegex","rgbaRegex","alpha","isRgbaComponent","fromHsv","hsv","hue","saturation","brightness","side","chroma","fromHex","fromStringValues","fromString","rgbaString","rgbMatch","rgbaMatch","rgba","fireResizeContent","fireTextColorChange","fireResolveName","global$4","cacheStorage","getCacheForId","storageId","currentData","legacyDefault","setItem","storage","storageString","localstorage","cache","splice","unshift","pop","ColorCache","addColor","hsvColour","fromRgb","minRGB","maxRGB","hsvToHex","anyToHex","fromString$1","canvas","canvasContext","getContext","clearRect","fillStyle","fillRect","getImageData","foregroundId","backgroundId","calcCols","colors","sqrt","calcColsOption","numColors","calculatedCols","fallbackCols","option$1","mapColors","colorMap","fallbackColor","getColorCols$1","colorCols","colorColsOption","hasCustomColors$1","getColors$2","getDefaultForegroundColor","getDefaultBackgroundColor","getClosestCssBackgroundColorValue","isValidBackgroundColor","getCurrentColor","format","cssRgbValue","getAdditionalColors","hasCustom","applyColor","onChoice","colorPickerDialog","dialog","colorOpt","execCommand","getColors$1","getCurrentColors","getFetch$1","callback","setIconColor","splitButtonApi","newColor","setIconFill","select$1","optCurrentHex","registerTextColorButton","lastColor","ui","registry","addSplitButton","select","fetch","_splitButtonApi","registerTextColorMenuItem","addNestedMenuItem","fancytype","initData","storageKey","isValid","initialData","colorpicker","windowManager","buttons","_api","details","onSubmit","getData","alert","onCancel","createPartialChoiceMenu","onItemValueHandler","alloyItems","createChoiceItems","itemPresets","useText","isSelected","setActive","isEnabled","setEnabled","renderChoiceItem","deriveMenuMovement","menuMarkers","getColorItems","backstage","useCustomColors","allowCustomColors","colorinput","hasCustomColors","getColors","cellOverEvent","cellExecuteEvent","makeCell","col","labelId","makeComponents","cells","cellRow","makeLabelText","fancyMenuItems","sizeLabelId","makeCells","emptyLabelText","memLabel","selectedRow","selectedColumn","selectCells","getColorCols","shared","providers","widgetSpec","autocomplete","separator$3","nested","downwardsCaret","renderSubmenuCaret","underlinePath","toggle$1","fancy","render","card","CouplingApis","getCoupled","coupleConfig","coupleState","getOrCreate","getExistingCoupled","getExisting","CouplingSchema","CouplingState","coupled","lookupCoupled","coupledName","Coupling","nu$3","baseFn","callbacks","nCallback","isReady","cbs","cb","LazyValue","pure","errorReporter","make$5","then","aFutureB","toPromise","anonBind","futureB","toLazy","toCached","Future","Promise","partType$1","getAnchor","getHotspot","getAnchorOverrides","mapFetch","onOpenSync","processed","futureData","fetcher","getLazySink","tdata","openF","_onOpenSync","_highlightOnOpen","togglePopup","matchWidth","useMinWidth","buttonWidth","set$7","sinkDetail","internalSink","lazySinkFn","doRepositionMenus","makeSandbox$1","ariaControls","sandboxClasses","sandboxBehaviours","sandboxFields","schema$k","parts$e","Dropdown","switchToMenu","togglePopup$1","dropdownComp","HighlightNone","refetch","triggerExecute","dropdownBehaviours","handleRefetchTrigger","originalSandboxComp","dropdown","optSearcherState","newSandboxComp","searcherState","restoreState","getActiveMenuItemFrom","updateAriaOnHighlight","setActiveDescendant","activeMenuComp","resultsElem","controlledId","updateAriaOnDehighlight","getSearchPattern","FocusMode","createMenuItemFromBridge","isHorizontalMenu","parseForHorizontalMenu","menuitem","createNestedMenuItem","createToggleMenuItem","createSeparatorMenuItem","createFancyMenuItem","createAutocompleteItems","createCardMenuItem","createAutocompleterItem","createPartialMenu","createItem","itemHasIcon","identifyMenuLayout","createTieredDataFrom","partialMenu","Autocompleter","processingAction","activeState","autocompleter","hideIfNecessary","getCombinedItems","choices","itemMeta","nr","getRng","initRange","createRng","selectNode","getAutocompleterRange","autocompleterApi","reload","fetchOptions","BUBBLE_TO_SANDBOX","display","lookupData","ld","focusMode","ContentFocus","createInlineMenuFrom","updateDisplay","combinedItems","autocompleterUiApi","nonScrollingOverflows","isScroller","overflow","detectWhenSplitUiMode","popupSinkElem","poupSinkElem","scrollers","getBoundsFrom","sc","scrollableBoxes","constraints","constrainByMany","closest","DelayedFunction","fun","ref","cancel","schedule","getTouch","touches","monitor","settings","startData","longpressFired","longpress$1","touch","distX","distY","isFarEnough","fireIfReady","setup$d","rawSettings","stopBackspace","tapEvent","simpleEvents","tapStopped","pasteTimeout","onPaste","onKeydown","isDangerous","onFocusIn","focusoutTimeout","onFocusOut","derive","rawTarget","adt$1","stopped","resume","complete","doTriggerHandler","isStopped","isCut","fromSource","handlerInfo","eventHandler","doTriggerOnUntilStopped","listeners","_logger","fromExternal","listener","triggerOnUntilStopped","EventRegistry","registerId","extraArgs","curried","curryArgs","unregisterId","handlersById","_eventName","filterByType","broadcastHandler","isAboveRoot","findHandler","Registry","readOrTag","unregister","tagId","conflict","failOnDuplicate","getById","Container","domWithoutAttributes","containerBehaviours","takeover","domEvents","triggerUntilStopped","_alloyId","triggerHandler","broadcast$1","broadcastData","receivers","receiver","destroy","schema$j","parts$d","excludeFactory","FormField","fieldBehaviours","descriptor","descriptorId","getField","getLabel","ActiveTabstopping","tabConfig","tabAttr","TabstopSchema","Tabstopping","global$3","renderFormFieldWith","pLabel","pField","extraClasses","extraBehaviours","renderFormFieldSpecWith","renderFormFieldDomWith","renderLabel$3","formChangeEvent","formCloseEvent","formCancelEvent","formActionEvent","formSubmitEvent","formBlockEvent","formUnblockEvent","formTabChangeEvent","formResizeEvent","renderCollection","runOnItem","tgt","collectionEvents","currentActive","iterCollectionItems","applyAttributes","childElm","htmlLines","mapItemName","encodeAllRaw","ariaElements","isAriaElement","markValid","invalidConfig","getRoot","invalidClass","notify","notifyInfo","getContainer","validHtml","onValid","markInvalid","invalidState","onInvalid","_invalidState","validatorInfo","validate","onValidate","InvalidateApis","isInvalid","ActiveInvalidate","onEvent","validateOnLoad","InvalidateSchema","Invalidating","validation","Unselecting","unselectable","colorInputChangeEvent","colorSwatchChangeEvent","colorPickerCancelEvent","renderColorInput","colorInputBackstage","inputValue","span","emitSwatchChange","colorBit","memColorButton","renderPanelButton","colorPicker","valueOpt","colorButton","_field","labelPart","edgePart","model","edgeActions","det","mouseIsDown","tlEdgePart","tedgePart","trEdgePart","redgePart","brEdgePart","bedgePart","blEdgePart","ledgePart","thumbPart","spectrumPart","getValueFromEvent","spectrum","SliderParts","sliderChangeEvent","getEventSource","evt","isTouchEvent$2","touchEvent","mouseEvent","minX","minY","min1X","min1Y","max1X","max1Y","xRange","yRange","halfX","halfY","step","stepSize","snap","snapToGrid","snapStart","rounded","hasEdge","edgeName","hasLEdge","hasREdge","hasTEdge","hasBEdge","currentValue","xyValue","fireSliderChange$3","reduceBy","increaseBy","capValue","findValueOf","hasMinEdge","hasMaxEdge","minBound","maxBound","screenRange","capMin","capMax","findOffsetOf","initValue","extraValue","remainder","adjustment","rawSteps","maxSteps","snapValueOf","findOffsetOfValue$2","maxOffset","centerMinEdge","centerMaxEdge","getBoundsProperty","getMinXBounds","getMaxXBounds","getMinYBounds","getMaxYBounds","getXScreenRange","getYScreenRange","getCenterOffsetOf","componentMinEdge","componentMaxEdge","spectrumMinEdge","getXCenterOffSetOf","componentBounds","spectrumBounds","getYCenterOffSetOf","fireSliderChange$2","findValueOfOffset$1","handleMovement$2","xValue","moveBy$2","findPositionOfValue$1","slider","minEdge","maxEdge","minOffset","findOffsetOfValue$1","onLeft$2","onRight$2","onUp$2","onDown$2","edgeActions$2","HorizontalModel","setToMin","setToMax","findValueOfOffset","findPositionOfValue","setPositionFromValue","thumb","edges","getSpectrum","getLeftEdge","getRightEdge","thumbRadius","fireSliderChange$1","handleMovement$1","yValue","moveBy$1","findOffsetOfValue","onLeft$1","onRight$1","onUp$1","onDown$1","edgeActions$1","VerticalModel","getTopEdge","getBottomEdge","fireSliderChange","sliderValue","handleMovement","isVerticalMovement","moveBy","TwoDModel","mX","mY","xPos","yPos","thumbXRadius","thumbYRadius","Slider","getThumb","modelDetail","wasDown","onChoose","onDragStart","onDragEnd","sliderBehaviours","onChange","changeValue","getInitialValue","onInit","resetToMin","resetToMax","fieldsUpdate","sliderUpdate","paletteUpdate","owner$1","schema$i","getPartName$1","make$4","formBehaviours","form","resPs","resPThunk","pName","opt","wrapper","Form","fSpec","fieldParts","validInput","invalidInput","validatingInput","translatePrefix","rgbFormFactory","getClass","onValidHexx","onInvalidHexx","invalidation","renderTextField","description","helptext","comps","concats","copyRgbToForm","rgb","memPreview","updatePreview","preview","rgbFormSketcher","setValueRgb","onInvalidInput","onValidRgb","hexField","copyRgbToHex","onValidInput","isHexInputEvent","onValidHex","formPartStrings","redStrings","greenStrings","blueStrings","hexStrings","updateHex","copyHexToRgb","paletteFactory","_translate","setColour","ctx","grdWhite","createLinearGradient","addColorStop","grdBlack","saturationBrightnessPaletteSketcher","_detail","_thumb","_slider","setHue","_apis","setPaletteHue","setThumb","setPaletteThumb","makeFactory","colourPickerSketcher","rgbForm","onInvalidHex","sbPalette","paletteRgba","paletteHue","memSlider","sliderFactory","memPalette","memRgb","updatePalette","_hex","palette","updateFields","updateSlider","hueDegreesToSlider","updatePaletteThumb","runUpdates","updates","updateState","hexToHsv","onFieldsUpdate","oldHue","newHsv","newHex","onPaletteUpdate","hueSliderToDegrees","oldRgb","oldHsv","onSliderUpdate","ComposingConfigs","mem","processors","withComp","optInitialValue","getter","setter","withElement","RepresentingConfigs","rawProcessors","other","rawValue","postprocess","english","renderColorPicker","colourPickerFactory","translate$1","memPicker","picker","valOpt","global$2","global$1","renderDropZone","actions","onDrop","transferEvent","handleFiles","dataTransfer","files","onSelect","allowedImageFileTypes","explode","file","filterByExtension","memInput","accept","beforeObject","afterObject","craftWithClasses","outline","craft","triggerTab","targetComp","isPseudoStop","renderIFrame","isSandbox","sandboxed","isTransparent","transparent","baseClass","srcdoc","sourcing","cachedValue","_frameComponent","frameComponent","getDynamicSource","renderImagePreview","cachedData","url","memImage","memContainer","fakeValidatedData","zoom","cachedWidth","cachedHeight","translatedData","z","applyFramePositioning","panel","panelW","panelH","zoomToFit","imageWidth","imageHeight","calculateImagePosition","imageComponent","img","image","reject","loaded","l","naturalWidth","naturalHeight","internalToolbarButtonExecute","commonButtonDisplayEvent","toolbarButtonEventOrder","forceInitialSize","renderIcon$1","iconsProvider","renderIconFromPack$1","renderReplaceableIconFromPack","renderLabel$1","updateMenuText","updateMenuIcon","renderCommonDropdown","optMemDisplayText","optMemDisplayIcon","onLeftOrRightInMenu","tooltipAttributes","translatedTooltip","fixWidthBehaviourName","memDropdown","searchable","searcherComp","focusSearchField","displayText","displayIcon","activeItem","retargetAndDispatchWith","handleRedirectToMenuItem","itemCompCausingCollapse","nowActiveMenuComp","isSeparator$2","separator$2","unwrapReferences","realItems","isMenuItemReference","isExpandingMenuItem","itemWithValue","generateValueIfRequired","newData","submenuItems","getFromExpandingItem","mainMenuSearchMode","searchSettings","getSearchModeForField","mainMenu","submenuSearchMode","getSearchModeForResults","submenus","isSingleListItem","dataAttribute","fetchItems","selectedValue","findItemByValue","HtmlSelect","option","initialValues","selectClasses","selectAttributes","selectBehaviours","schema$h","coupledPart","selfName","otherName","lock","onLockedChange","parts$c","locked","lockClass","FormCoupledInputs","coupledFieldBehaviours","field1Name","field1","field2Name","field2","getField1","getField2","getLock","parseSize","sizeText","convertUnit","inInch","noSizeConversion","_input","makeRatioConverter","currentFieldText","otherFieldText","cValue","oValue","cSize","oSize","ratioSizeConversion","scale","baseInputBehaviours","multiline","validatingBehaviours","vl","inputMode","inputmode","classname","pTextField","extraClasses2","flex","maximized","getAnimationRoot","slideConfig","getDimensionProperty","dimension","getDimension","disableTransitions","shrinkingClass","growingClass","setShrunk","openClass","closedClass","setGrown","doImmediateShrink","slideState","_calculatedSize","setCollapsed","onStartShrink","onShrunk","doStartShrink","calculatedSize","doStartSmartShrink","doStartGrow","wasShrinking","beforeSize","fullSize","setExpanded","onStartGrow","isGrowing","_slideState","isShrinking","SlidingApis","isExpanded","grow","shrink","immediateShrink","hasGrown","hasShrunk","isCollapsed","isTransitioning","toggleGrow","immediateGrow","onGrown","ActiveSliding","SlidingSchema","Sliding","getMenuButtonApi","setText","setIcon","renderMenuButton","tabstopping","fetchContext","pattern","getFetch","getButton","getMenuItemAction","orig","getMenuItemSetup","renderLabel","leafLabelEventsId","renderLeafLabel","onLeafAction","visible","treeId","internalMenuButton","btn","button","isLeftArrowKey","code","isRightArrowKey","dirComp","dirLabelElement","renderIconFromPack","renderIcon","directoryLabelEventsId","renderDirectoryLabel","noChildren","expandChildren","directoryEle","directoryComp","parentDirElement","parentDirLabelElement","renderDirectoryChildren","renderDirectory","labelTabstopping","childrenVisible","childrenComp","ActiveStreaming","streamConfig","streamState","stream","streams","cancelEvent","rate","throttle","_config","setTimer","StreamingState","StreamingSchema","streamInfo","sInfo","throttler","onStream","stopEvent","Streaming","setValueFromItem","itemData","setCursorAtEnd","setSelectionOn","attemptSelectOver","selectsOver","inputDisplay","getDisplayText","setSelectionToEnd","itemExecute","schema$g","parts$b","_tmenu","previewing","lazyTypeaheadComp","selectOverTextInInput","populateFromBrowse","_menu","typeahead","Typeahead","navigateList","highlighter","focusBehaviours$1","getActiveMenu","typeaheadCustomEvents","responseTime","minChars","previousValue","pv","sandboxIsOpen","typeaheadComp","_typeaheadComp","onItemExecute","dismissOnBlur","typeaheadBehaviours","wrap","bindFuture","resA","bindResult","mapResult","foldResult","whenError","whenValue","withTimeout","timeout","errorThunk","timedOut","nu$1","FutureResult","renderCommonSpec","actionOpt","domFinal","renderIconButtonSpec","calculateClassesFromButtonType","buttonType","renderButtonSpec","translatedText","renderButton$1","buttonSpec","getAction","renderFooterButton","isMenuFooterButtonSpec","menuButtonSpec","fixedSpec","isNormalFooterButtonSpec","isToggleButtonSpec","_c","optMemIcon","memIcon","buttonTypeClasses","showIconAndText","translatedTextComponed","iconButtonSpec","newIcon","renderToggleButton","renderDialogButton","separator$1","toMenuItem","staticMenuItem","filteredTargets","targets","toMenuItems","filterLinkTargets","headerTargets","linkInfo","anchorTargets","anchorTargetTop","anchorTop","anchorTargetBottom","anchorBottom","filterByQuery","term","lowerCaseTerm","getItems","fileType","urlBackstage","urlInputValue","getLinkInformation","history","historyTargets","getHistory","errorId","set$1","get$1","make$2","dialogData","factories","bar","interpreter","renderBar","collection","alertbanner","iconTooltip","renderAlertBanner","renderInput","textarea","renderTextarea","backstageShared","renderLabel$2","iframe","iframeSpec","makeIframe","checkbox","toggleCheckboxHandler","makeIcon","className","memIcons","renderCheckbox","dropzone","renderGrid","listbox","initialItem","sketchSpec","listBoxWrap","renderListBox","selectbox","translatedOptions","chevron","selectWrap","renderSelectBox","sizeinput","converter","ratioEvent","pLock","formGroup","getFieldPart","isField1","widthField","heightField","_lock","newSize","unitDec","numText","formatSize","optCurrent","optOther","value1","value2","renderSizeInput","renderSlider","urlinput","updateHistory","urlEntry","addToHistory","filetype","typeaheadSpec","memUrlBox","_newValue","getValidationHandler","memInvalidIcon","invalidComp","completer","trimmedValue","_entry","errId","memStatus","optUrlPicker","getUrlPicker","browseUrlEvent","memUrlPickerButton","componentData","urlData","fieldname","chosenData","renderUrlInput","customeditor","editorApi","memReplaced","ta","isOldCustomEditor","scriptId","scriptUrl","ea","cvalue","ed","htmlpanel","imagepreview","table","renderTh","renderTd","renderTr","header","renderTable","tree","renderTree","renderPanel","noFormParts","interpretInForm","oldBackstage","newBackstage","interpretParts","interpretWithoutForm","westEdgeX","middleX","eastEdgeX","northY","southY","centreY","lookupPreserveLayout","preserve","lookupFlippedLayout","flip","bubbleAlignments$2","valignCentre","alignCentre","alignLeft","alignRight","getInlineDialogAnchor","contentAreaElement","lazyAnchorbar","lazyUseEditableAreaAnchor","getBannerAnchor","getCursorAnchor","bodyElement","getNodeAnchor$1","getAnchors","isToolbarTop","useFixedToolbarContainer","getContentAreaContainer","inlineDialog","cursor","isNestedFormat","isFormatReference","defaultStyleFormats","mapFormats","userFormats","fmt","customFormats","formats","isInlineFormat","isBlockFormat","isSelectorFormat","formatNameWithPrefix","getStyleFormats","registeredUserFormats","registerFormats","formatter","registerCustomFormats","processBasic","isSelectedFor","getPreviewFor","getStylePreview","register$a","doEnrich","newItems","getStyleItems","enrichMenu","enrichSupported","isSeparator$1","formatName","newItem","enrichCustom","hasContentEditableState","isElement","contentEditable","isContentEditableTrue","isContentEditableFalse","create$1","getElementText","innerText","isValidAnchor","isAnchor","isEditable","isHeader","tempNode","isChildOfContentEditableTrue","isValidHeader","headerTarget","headerId","getOrGenerateId","getLevel","anchorTarget","anchorId","anchorText","getTargetElements","elms","hasTitle","LinkTargets","getHeaderTargets","getAnchorTargets","STORAGE_KEY","isHttpUrl","isRecordOfUrlArray","getAllHistory","unparsedHistory","SyntaxError","itemsWithoutUrl","setAllHistory","isTruthy","makeMap","getPicker","getPickerSetting","pickerTypes","optFileTypes","_picker","types","getPickerTypes","getTextSetting","UrlInputBackstage","entry","init$6","lazySinks","contextMenuState","isPositionedAtTop","getDockingMode","setDockingMode","HeaderBackstage","getAll","block","parseStyle","getCssText","settingsFormats","eventsFormats","replaceSettings","_e","enriched","modifications","fromSettings","fromEvents","init$7","ColorInputBackstage","dialogSettings","DialogBackstage","commonBackstage","anchors","isContextMenuOpen","setContextMenuState","popupBackstage","dialogBackstage","parts$a","partType","schema$f","itemsPart","parts$9","CustomList","_external","shell","getListContainer","listBehaviours","setItems","itemComps","numListsRequired","numListsToAdd","itemsToAdd","makeItem","itemsToRemove","builtLists","setupItem","schema$e","parts$8","Toolbar","getGroupContainer","toolbarBehaviours","setGroups","groups","setup$a","isDocked$2","getBehaviours$1","StaticHeader","isDocked","getBehaviours","getOffsetParent","offsetParent$1","getOrigin","appear","contextualInfo","transitionClass","fadeOutClass","fadeInClass","disappear","isTopCompletelyVisible","isBottomCompletelyVisible","forceTopPosition","winBox","leftX","location","topY","forceBottomPosition","bottomY","getDockedLeftPosition","getPrior","getInitialPos","priorY","optScrollEnv","scrollEnv","scrollElmTop","currentScrollTop","getXYForRestoring","storePrior","getXYForSaving","setInitialPos","revertToOriginal","clearInitialPos","morph","offsetBox","scrollDelta","_left","_top","_right","_bottom","tryMorphToOriginal","isVisibleForModes","getModes","tryDecisionToFixedMorph","tryMorphToFixed","tryDockingPosition","tryMorph","tryMorphToOriginalOrUpdateFixed","forceDockWith","getDecision","storePriorIfNone","morphToStatic","setDocked","onUndocked","morphToCoord","onDocked","updateVisibility","morphToDocked","contextual","contextInfo","lazyContext","isPartiallyVisible","setVisible","applyFixedMorph","refreshInternal","lazyViewport","applyMorph","resetInternal","calculateMorphToOriginal","staticOrAbsoluteMorph","refresh$3","forceDockWithDecision","forceDockToTop","forceDockToBottom","DockingApis","setModes","ActiveDocking","dockInfo","dockState","onShown","onHidden","DockingSchema","Docking","docked","initialBounds","toolbarHeightChange","visibility","editorStickyOnClass","editorStickyOffClass","isDockedMode","updateIframeContentFlow","parentElem","padding","parentWidth","getOccupiedHeight","updateSinkVisibility","sinkElem","updateEditorClasses","editorContainer","focusedElm","runOnSinkElement","onDockingSwitch","additionalBehaviours","headerHeight","boxHeight","topBound","constrainedBounds","headerElem","focusedElem","ownerDoc","activeElm","restoreFocus","rootElm","findFocusedElem","boundsWithoutOffset","StickyHeader","lazyHeader","containerHeader","viewHeight","innerHeight","scrollPos","markerElement","markerPos","markerHeight","markerTop","markerBottom","editorHeaderPos","editorHeaderHeight","editorHeaderTop","editorHeaderBottom","editorHeaderDockedAtTop","editorHeaderDockedAtBottom","scrollFromBehindHeader","groupToolbarButtonSchema","baseMenuButtonFields","MenuButtonSchema","createMenuButton","splitButtonSchema","SilverMenubar","setMenus","newMenus","internal","activeButton","hoveredButton","activeComp","hoveredComp","prev","schema$d","getPartName","make$1","getSlotNames","onSlot","def","slot","doShowing","_key","hideSlot","hideSlots","onSlots","showSlot","getSlot","hideAllSlots","slotBehaviours","slotApis","SlotContainer","sSpec","sidebarSchema","makePanels","panelConfigs","bridged","createSidebar","sidepanel","optSidePanelSpec","sidePanelSpec","makeSidebar","slotContainer","updateSidebarRoleOnToggle","sidebar","sidebarState","whichSidebar","fixSize","autoSize","BlockingApis","getBusySpec","blockerBehaviours","blockSpec","blocker","isBlocked","onBlock","blockWith","unblock","onUnblock","BlockingSchema","Blocking","getAttrs","focusBusyComponent","throbber","toggleThrobber","tabIndexAttr","dataTabIndexAttr","iframeElement","tabIndex","toggleEditorTabIndex","_root","_behaviours","getBusySpec$1","throbberFocus","busyComp","setup$7","lazyThrobber","throbberState","stealFocus","isFocusEvent","targetElm","isPasteBinTarget","editorManager","command","fireAfterProgressState","setEditorTimeout","within","withinWidth","apportion","total","parray","generate$1","toUnit","partition","overflower","divide","tryFit","fitLast","fitAll","setGroups$1","storedGroups","bGroups","refresh$2","setOverflow","builtGroups","overflowGroup","focusedComp","availableWidth","overflows","schema$c","schema$b","parts$7","expandable","setMax","schema$a","parts$6","toggledClass","shouldSkipFocus","toolbarSandbox","bounder","FloatingToolbarButton","skipFocus","makeSandbox","toggleWithoutFocusing","schema$9","parts$5","ToolbarGroup","tgroupBehaviours","itemSelector","buildGroups","refresh$1","memFloatingToolbarButton","overflowGroups","floatingToolbarButton","SplitFloatingToolbar","getOverflowBounds","overflowToggledClass","splitToolbarBehaviours","getOverflow","schema$8","parts$4","onClosed","onOpened","toggleToolbar","overf","SplitSlidingToolbar","toolbarToggleEvent","_button","doSetGroups","renderToolbarGroupCommon","toolbarGroup","renderToolbarGroup","getToolbarBehaviours","toolbarSpec","modeName","onAttached","initGroups","renderMoreToolbarCommon","cyclicKeying","renderFloatingMoreToolbar","baseSpec","moreDrawerData","headerBounds","docElem","docBounds","scrollHeight","overflowXOffset","renderSlidingMoreToolbar","renderToolbar","scrolling","baseButtonFields","schemaWithoutGroupButton","togglebutton","groupFields","viewButtonSchema","viewSchema","renderViewButton","isToggleButton","optTranslatedText","optTranslatedTextComponed","optIconSpec","hasIconAndText","renderButton","deviceDetection","View","hasGroups","endButtons","btnspec","renderButtonsGroup","getPane","getOnShow","_comp","viewConfig","getOnHide","makeViews","viewConfigs","internalViewConfig","pane","makeSlotContainer","getCurrentName","runOnPaneWithInstanceApi","onCallback","ViewWrapper","setViews","whichView","toggleView","showMainView","hideMainView","optCurrentSlotName","isTogglingCurrentView","hideContainer","showContainer","runOnShow","prevName","runOnHide","views","editorCont","partMenubar","partMultipleToolbar","_mToolbar","tc","_index","partToolbar","renderer","sliding","floating","toolbarFactory","onToolbarToggled","lazyToolbar","lazyMoreButton","partHeader","sticky","partPromotion","partSocket","partSidebar","partThrobber","partViewWrapper","partEditorContainer","OuterContainer","toolbarDrawerOpenState","getSocket","setSidebar","showSidebar","configKey","toggleSidebar","getHeader","setToolbar","renderedGroups","setToolbars","mToolbar","renderedToolbars","refreshToolbar","toggleToolbarDrawer","toggleToolbarDrawerWithoutFocusing","isToolbarDrawerToggled","getThrobber","focusToolbar","setMenubar","menubar","focusMenubar","defaultMenus","edit","tools","help","parseItemsString","identifyMenus","rawMenuData","userDefinedMenus","validMenus","isDefaultMenu","menuData","removedMenuItems","itemName","removedMenuItem","fireSkinLoaded","done","_skinLoaded","fireSkinLoaded$1","initialized","loadStylesheet","stylesheetUrl","styleSheetLoader","unload","loadUiSkins","loadShadowDomUiSkins","loadSkin","isInline","contentCSS","fireSkinLoadError$1","fireSkinLoadError","onSetupFormatToggle","boundCallback","binding","formatChanged","once","onSetupEvent","handleEvent","onActionToggleFormat$1","rawItem","undoManager","transact","onActionExecCommand","generateSelectItems","_editor","generateItem","response","invalid","si","validateItems","preItems","getCurrentValue","shouldHide","createMenuItems","createSelectButton","getComponent","Delimiter","buildBasicSettingsDataset","settingName","delimiter","rawFormats","SemiColon","alignMenuItems","getSpec$4","_format","alignment","canApply","findNearest","getStyles","getSpec$3","fallbackFormat","systemStackFonts","splitFonts","fontFamily","fonts","font","getSpec$2","systemFont","getMatchingValue","getFirstFont","queryCommandValue","matchOpt","matchesSystemStack","isSystemFontStack","Keys","tab","enter","backspace","delete","up","down","space","home","pageUp","pageDown","unsupportedLength","decimalDigits","exponentPart","unsignedDecimalLiteral","accepted","unitRaw","check","isUnit","createBespokeNumberInput","currentComp","updateInputValue","customEvents","fromInput","focusBack","alloyComp","parsedText","defaultUnit","getConfigFromUnit","newValueWithUnit","lenghtDelta","oldStart","oldEnd","decrease","increase","goToParent","focusInput","makeStepperButton","altExecuting","memMinus","memPlus","buttonNode","wrapperComp","legacyFontSizes","keywordFontSizes","toPt","fontSize","precision","factor","pow","toLegacy","getSpec$1","pt","legacy","Space","em","cm","in","pc","rem","getSpec","getFormatItems","flattenedItems","schema$7","arrowPart","arrow","buttonPart","splitDropdown","parts$3","SplitDropdown","executeOnButton","buttonEvents","splitDropdownBehaviours","getButtonApi","getToggleApi","getTooltipAttributes","focusButtonEvent","renderCommonStructure","optIcon","optText","renderCommonToolbarButton","specialisation","_d","itemApi","buttonApi","toolbarButtonBehaviours","renderToolbarButtonWith","bonusEvents","renderToolbarToggleButtonWith","fetchChoices","defaultToolbar","renderFromBridge","bridgeBuilder","renderToolbarButton","renderToolbarToggleButton","menubutton","splitbutton","buttonComp","renderSplitButton","grouptoolbarbutton","identify","identifyButtons","allowToolbarGroups","TopToBottom","renderFloatingToolbarButton","bespokeButtons","fontsize","fontsizeinput","skip_focus","getNumberInputSpec","fontfamily","blocks","createToolbar","toolbarConfig","filteredItemGroups","subItem","removeUnusedDefaults","strToolbar","groupsStrings","convertStringToolbar","isToolbarGroupSettingArray","lookupButton","toolbarItem","prefixes","extractFrom","toolbarGroups","rawUiConfig","toolbarButtonsConfig","detection","isiOS12","Iframe","async","lastToolbarWidth","eTargetNode","targetNode","uiRoot","popupUi","dialogUi","attachUiMotherships","innerWidth","contentWindow","initialDocEle","getDoc","lastWindowDimensions","lastDocumentDimensions","resizeWindow","outer","resizeDocument","docEle","fireScrollContent","elementLoad","setupEvents$1","socket","limit","unbinder","addCommand","_ui","addQueryValueHandler","nodeChanged","toolbarMode","iframeContainer","parseToInt","numToPx","calcCappedSize","minSize","maxSize","minOverride","maxOverride","getHeightWithFallback","baseHeight","minHeight","getHeight","getWidth","baseWidth","minWidth","InlineHeader","floatContainer","isSticky","editorMaxWidthOpt","headerBackstage","isSplitToolbar","removed","calcToolbarOffset","tbar","getOffsetParent$1","repositionPopups$1","stickyAction","bodyMargin","optToolbarWidth","restoreAndGetCompleteOuterContainerWidth","targetBounds","isOffsetParentBody","topValue","baseProperties","widthProperties","toolbarWidth","updateChromePosition","doUpdateMode","fc","currentMode","newMode","toolbarHeight","docHeight","calcMode","verticalDir","addClass","removeClass","updateMode","getTargetPosAndBounds","Inline","toolbarPersist","uiContainer","prevPosAndBounds","resizeContent","prevPos","prevBounds","hasResized","lastScrollX","updateUi","newScrollX","_args","setupEvents","hideContextToolbarEvent","runOnExecute","formApi","getFormApi","renderContextToggleButton","renderContextButton","buildInitGroups","commands","findPrimary","mementos","asSpecs","compInSystem","ContextForm","isVerticalOverlap","threshold","getSelectionBounds","leaf$1","getRangeRect","bodyPos","getContextToolbarBounds","toolbarType","viewportBounds","contentAreaBox","toolbarOrMenubarEnabled","getHorizontalBounds","isToolbarLocationTop","headerBox","isToolbarBelowContentArea","isToolbarAbove","containerBounds","getVerticalBounds","bubbleAlignments$1","inset","anchorOverrides","shouldUseInsetLayouts","determineInsetLayout","contextbar","selectionBounds","isSameAnchorElement","lastElement","isEntireElementSelected","currentPosition","preservePosition","isReposition","getAnchorSpec$2","mobile","smartInsetLayout","getInsetLayouts","matchTargetWith","ctxs","toolbarApi","contextToolbars","contextForms","matchStartNode","nodeCandidates","editorCandidates","nodeMatches","editorMatches","doesPositionExist","filterToolbarsByPosition","hasSelectionToolbars","hasNodeToolbars","nodeToolbars","selectionToolbars","filterByPositionForStartNode","matchAncestor","startNode","scopes","ancestorElem","inNodeScope","findPosition","basePosition","filterByPositionForAncestorNode","categorise","forms","inEditorScope","formNavigators","lookupTable","registerForm","contextForm","launch","registerToolbar","contextToolbar","forwardSlideEvent","backSlideEvent","changeSlideEvent","resizingClass","register$9","registryContextToolbars","lastTrigger","lastContextPosition","currentWidth","newWidth","newContents","oldContents","forwardContents","renderContextToolbar","canLaunchToolbar","shouldContextToolbarHide","contextToolbarBounds","anchorBounds","getAnchorElementBounds","hideOrRepositionIfNecessary","contextBarEle","wrapInPopDialog","shortcuts","getScopes","alloySpec","buildToolbar","allButtons","buildContextToolbarGroups","buildContextFormGroups","anchorLayout","getAnchorLayout","launchContext","launchContextToolbar","isSameLaunchElement","isDragging","rootElem","getNode","isOutsideRoot","lookup$1","toolbarKey","registerController","getMenuItems","getOptions","hash","oldApi","unbindWatcher","watcher","setCurrent","addMenuButton","onToolbarSetup","onMenuSetup","lineHeightSpec","normalise","register$7","customCode","customValue","lang","languageSpec","register$6","createAlignMenu","createFontFamilyMenu","createStylesMenu","createBlocksMenu","createFontSizeMenu","onSetupOutdentState","queryCommandState","register$5","addButton","registerButtons$2","makeSetupHandler","pasteAsText","pastePlainTextToggleHandler","onActionToggleFormat","registerButtons$1","_idx","addToggleButton","registerFormatButtons","registerCommandButtons","registerCommandToggleButtons","register$3","addMenuItem","registerMenuItems$2","onSetupUndoRedoState","register$2","registerMenuItems$1","registerButtons","onSetupVisualAidState","hasVisual","register$1","registerToolbarButton","addToggleMenuItem","registerMenuItems","setup$6","cmd","register$8","applyFormat","removeFormat","registerCommands","fallbackColorForeground","fallbackColorBackground","lastForeColor","lastBackColor","register$c","register$4","patchPipeConfig","shouldNeverUseNative","getAvoidOverlapSelector","getContextMenu","contextMenus","contextMenu","isTouchEvent$1","transposeContentAreaContainer","containerPos","getPos","dx","dy","transpose","getPointAnchor","pageX","pageY","fromPageXY","fromClientXY","getSelectionAnchor","getAnchorSpec$1","anchorType","getNodeAnchor","initAndShow$1","buildMenu","contextmenu","anchorSpec","bubbleAlignments","highlightImmediately","getAnchorSpec","initAndShow","openiOS","originalSelection","selectionReset","setRng","unbindEventListeners","preventMousedown","clearSelectionReset","setupiOSOverrides","rngRect","isTouchWithinSelection","makeContextItem","commonMenuItem","commonItem","addContextMenuGroup","groupItems","lastMenuItem","isTriggeredByKeyboard","isTouchEvent","pointerType","getSelectedElement","setup$5","hideContextMenu","showContextMenu","isNativeOverrideKeyEvent","isContextMenuDisabled","getAnchorType","selectedElement","sections","allItems","generateContextMenu","hideEvents","subtract","changes","asFixed","coord","asAbsolute","asOffset","toStyles","stylesOpt","absorb","partialCoord","originalCoord","absorbOne","stencil","optX","optY","parseAttrToInt","NaN","getCoords","snapInfo","snapsInfo","leftAttr","topAttr","moveOrSnap","newCoord","mustSnap","findClosestSnap","findSnap","fixedCoord","spanned","stopDrag","findMatchingSnap","snaps","sensor","inRange","coord1","coord2","withinRange","getSnapPoints","bestSnap","deltas","getDeltas","bestDeltas","DraggingApis","snapTo","dragConfig","getTarget","repositionTarget","snapPin","snapTo$1","initialAttribute","instigate","anyComponent","zindex","changeZIndex","discard","zIndex","resetZIndex","createComponent","blockerClass","blockerEvents","SnapSchema","schema$6","getCurrentCoord","oc","lift3","calcNewCoord","optSnaps","currentCoord","coords","absoluteCoord","newCoords","offset$1","clampCoords","translated","deltaX","deltaY","snapping","onSensor","calcStartData","dragState","dragMode","dragStartData","getStartData","dlt","onDrag","dragBy","updateStartState","setStartData","MouseData","getDelta","events$3","stop$1","delayDrop","dragApi","drop","forceDrop","init$3","schema$5","TouchData","getDataFrom","events$2","blockerSingleton","stopBlocking","init$2","mouse","mouseOrTouch","DraggingBranches","DragState","previous","dragEvent","nuData","calculateDelta","Dragging","dragger","calcSnap","selectorOpt","td","snapWidth","selectorHandle","sensorLeft","sensorTop","getSnapsConfig","cellOpt","currentTd","isSameCell","createSelector","setup$4","tlTds","brTds","startCell","finishCell","getTopLeftSnap","memTopLeft","getBottomRightSnap","memBottomRight","topLeftSnaps","bottomRightSnaps","bottomRight","getSnapConfig","isAbove","isBelow","cellRect","viewportHeight","aboveViewport","belowViewport","showOrHideHandle","snapTopLeft","snapBottomRight","otherCells","upOrLeftCells","downOrRightCells","renderElementPath","renderPathData","_btn","renderElement","newPath","isDefaultPrevented","isPropagationStopped","updatePath","ResizeTypes","resize","resizeType","originalHeight","originalWidth","Both","getDimensions","dim","fireResizeEditor","keyboardHandler","renderResizeHandler","None","Vertical","getResizeType","_target","renderStatusbar","getTextComponents","hasPlugin","replaceCountText","words","characters","currentVal","wordCount","renderWordCount","resizeHandler","getComponents","getLazyMothership","setup$3","setupForTheme","lazyUiRefs","getUiMotherships","optDialogMothership","optPopupMothership","dm","pm","lazyGetInOuterOrDie","LazyUiReferences","lazyMothership","lazyDialogMothership","lazyPopupMothership","deviceClasses","isToolbarBottom","memAnchorBar","lazyAnchorBar","backstages","makePromotion","promotion","renderMainUi","verticalDirAttributes","fireToggleToolbarDrawer","hasMultipleToolbar","hasToolbar","hasMenubar","shouldHavePromotion","hasAnyContents","menubarCollection","makeHeaderPart","sidebarContainer","viewWrapper","statusbar","editorComponents","isHidden","opacity","border","setEditorSize","parsedHeight","parsedWidth","getWidthWithFallback","renderUIWithRefs","toolbarGroupButtonConfig","addGroupToolbarButton","sidebars","toolbarOpt","addShortcut","addQueryStateHandler","channel","fireDismissPopups","onTouchstart","onTouchmove","onTouchend","onMousedown","onMouseup","onContentClick","onContentMouseup","onContentMousedown","loopEditor","relatedTarget","onWindowScroll","onWindowResize","onElementScroll","onEditorResize","onEditorProgress","onDismissPopups","setup$b","handleToggle","setup$8","popups","getMothership","dialogs","renderUI","isGridUiContainer","sinkSpec","reactiveWidthSpec","uiMothership","renderDialogUi","getPopupSinkBounds","renderPopupUi","reuseDialogUiForPopuUi","schema$2","basic","parts$2","dragBlockClass","getDragBounds","ModalDialog","dialogComp","modalEventsId","externalBlocker","blockerDom","getFooter","setIdle","setBusy","modalBehaviours","labelledElement","labelElement","labelledBy","describedElement","describeElement","describeId","describedBy","dialogToggleMenuItemSchema","dialogToggleMenuItemDataProcessor","baseFooterButtonFields","dialogFooterButtonFields","normalFooterButtonFields","menuFooterButtonFields","toggleButtonSpecFields","dialogFooterButtonSchema","submit","alertBannerFields","alertBannerSchema","buttonFields","buttonSchema","formComponentFields","formComponentWithLabelFields","checkboxFields","checkboxSchema","checkboxDataProcessor","collectionFields","collectionSchema","collectionDataProcessor","colorInputFields","colorInputSchema","colorInputDataProcessor","colorPickerSchema","colorPickerDataProcessor","customEditorFields","defaultedPostMsg","customEditorFieldsOld","customEditorSchema","customEditorDataProcessor","dropZoneSchema","dropZoneDataProcessor","createGridFields","itemsField","htmlPanelFields","htmlPanelSchema","iframeFields","iframeSchema","iframeDataProcessor","imagePreviewSchema","imagePreviewDataProcessor","inputFields","inputSchema","inputDataProcessor","createLabelFields","listBoxSingleItemFields","listBoxNestedItemFields","listBoxItemSchema","listBoxFields","listBoxSchema","listBoxDataProcessor","selectBoxFields","selectBoxSchema","selectBoxDataProcessor","sizeInputFields","sizeInputSchema","sizeInputDataProcessor","sliderFields","sliderSchema","sliderInputDataProcessor","tableFields","tableSchema","textAreaFields","textAreaSchema","textAreaDataProcessor","baseTreeItemFields","treeItemLeafSchema","treeItemDirectoryFields","treeItemDirectorySchema","treeItemSchema","treeFields","treeSchema","urlInputFields","urlInputSchema","urlInputDataProcessor","createItemsField","itemSchema","sErr","passValue","panelSchema","panelFields","tabFields","tabPanelFields","tabPanelSchema","dialogButtonFields","dialogButtonSchema","dialogSchema","tabpanel","urlDialogButtonSchema","urlDialogSchema","getAllObjects","isNamedItem","dataProcessors","togglemenuitem","createDataValidator","namedItems","getNamedItems","getDataProcessor","internalDialog","dataValidator","DialogManager","openUrl","redial","ActiveReflecting","reflectingConfig","reflectingState","renderComponents","newComponents","rawData","ReflectingApis","reflectState","ReflectingSchema","Reflecting","toValidValues","renderBodyPanel","memForm","formValue","TabButton","tabButtonBehaviours","schema$1","tabsPart","barDetail","dismissTab$1","tabbar","changeTab$1","clickToDismiss","tabClass","parts$1","Tabbar","tabbarBehaviours","selectedClass","Tabview","tabviewBehaviours","barPart","tabs","viewPart","TabSection","changeTabBy","section","byPred","tabSectionBehaviours","selectFirst","tabValue","tabview","tabWithValue","tabData","onChangeTab","onDismissTab","getViewItems","showTab","tabKey","setTabviewHeight","updateTabviewHeight","dialogBody","maxTabHeight","tablist","documentElement$1","tabviewHeight","currentTabHeight","dialogTopMargin","dialogBottomMargin","getMaxTabviewHeight","getTabview","smartMode","allTabs","extraEvents","tabviewComp","heights","_tab","measureHeights","maxTabHeightOpt","getMaxHeight","oldHeight","newHeight","SendDataToSectionChannel","SendDataToViewChannel","renderTabPanel","storedValue","updateDataWithForm","formData","validData","setDataOnForm","oldTab","tabMode","_viewItems","oldName","tsection","dialogChannel","titleChannel","bodyChannel","footerChannel","bodySendMessageChannel","renderBody","dialogId","contentId","ariaAttrs","incoming","isTabPanel","_typeof","Symbol","iterator","_setPrototypeOf","setPrototypeOf","_construct","Parent","Class","Reflect","construct","sham","Proxy","Boolean","_isNativeReflectConstruct","instance","arguments","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","iter","_iterableToArray","minLen","_unsupportedIterableToArray","TypeError","_nonIterableSpread","arr2","isFrozen","getOwnPropertyDescriptor","seal","create","_ref","thisValue","Func","func","arrayForEach","unapply","forEach","arrayPop","arrayPush","stringToLowerCase","stringMatch","stringReplace","stringIndexOf","stringTrim","regExpTest","typeErrorCreate","_len2","_key2","thisArg","_len","addToSet","lcElement","object","newObject","lookupGetter","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","getGlobal","purify","createDOMPurify","DOMPurify","originalDocument","DocumentFragment","HTMLTemplateElement","NodeFilter","_window$NamedNodeMap","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","trustedTypes","ElementPrototype","getNextSibling","getChildNodes","getParentNode","template","trustedTypesPolicy","createPolicy","ATTR_NAME","currentScript","policyName","createHTML","_createTrustedTypesPolicy","emptyHTML","_document","implementation","createNodeIterator","getElementsByTagName","importNode","documentMode","hooks","createHTMLDocument","PARSER_MEDIA_TYPE","transformCaseFunc","MUSTACHE_EXPR$1","ERB_EXPR$1","DATA_ATTR$1","ARIA_ATTR$1","IS_SCRIPT_OR_DATA$1","ATTR_WHITESPACE$1","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","configurable","enumerable","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","SUPPORTED_PARSER_MEDIA_TYPES","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","tbody","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_forceRemove","outerHTML","_removeAttribute","getAttributeNode","_initDocument","dirty","leadingWhitespace","dirtyPayload","parseFromString","createDocument","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isNode","_executeHook","entryPoint","currentNode","hook","_sanitizeElements","namespaceURI","tagName","allowedTags","firstElementChild","_basicCustomElementTest","parentTagName","_checkValidNamespace","_isValidAttribute","lcTag","_sanitizeAttributes","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","_attr","forceKeepAttr","setAttributeNS","_sanitizeShadowDOM","shadowNode","shadowIterator","nextNode","sanitize","importedNode","oldNode","returnNode","toStaticHTML","nodeIterator","shadowroot","serializedHTML","doctype","setConfig","clearConfig","isValidAttribute","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","sanitizeHtmlString","hiddenHeader","pClose","pUntitled","pBodyMessage","pFooter","footer","pFooterGroup","startButtons","renderDialog$1","dialogClass","blockerBackdropClass","scrollLockClass","extraStyles","dialogEvents","renderClose","renderTitle","titleId","renderDragHandle","pTitle","pHandle","draghandle","draggable","renderModalHeader","bs","getEventExtras","lazyDialog","closeWindow","blockEvent","renderModalDialog","mapMenuButtons","menuItemStates","mapItems","extractCellsToObject","innerAcc","initCommonEvents","fireApiEvent","_event","self","SilverDialogEvents","getInstanceApi","withSpec","currentDialog","currentDialogInit","rootNode","cur","onTabChange","newTabName","oldTabName","footerButtons","buttonGroups","makeGroup","memento","renderFooter","initSpec","makeButton","lookupByName","buttonName","renderModalFooter","getCompByName","getFormWrapper","getDialogApi","doRedial","withRoot","instanceApi","valueComp","setData","prevData","mergedData","newInternalData","dialogState","validateData$1","tabSection","getId","dialogInit","storedMenuButtons","toggleFullscreen","renderDialog","bodySpec","renderModalBody","objOfCells","dialogSize","getDialogSizeClasses","modalAccess","outerForm","fullscreenClass","sugarBody","renderInlineDialog","dialogLabelId","dialogContentId","memHeader","renderInlineHeader","memBody","renderInlineBody","storagedMenuButtons","memFooter","renderInlineFooter","inlineClass","global","SUPPORTED_MESSAGE_ACTIONS","isSupportedMessage","mceAction","renderUrlDialog","renderIframeBody","iframeUri","base_uri","href","iframeDomain","protocol","port","messageHandlerUnbinder","isSameOrigin","insertContent","handleMessage","isCustomMessage","onMessage","iframeEle","iframeWin","postMessage","sendMessage","getUrlDialogApi","inlineAdditionalBehaviours","isStickyToolbar$1","alertDialog","closeDialog","memFooterClose","titleSpec","closeSpec","footerCloseButton","setup$2","confirmDialog","memFooterYes","footerNo","footerYesButton","setup$1","openModalUrlDialog","openModalDialog","internalInitialData","openInlineDialog","config$1","refreshDocking","inlineDialogComp","isAlertOrConfirmDialog","confirm","registerOptions","colorProcessor","register$d","popupSinkBounds","renderModeUI","windowMgr","renderResult","getWindowManagerImpl","getNotificationManagerImpl","contentArea","win$1","closeCallback","notificationWrapper","notification","progressBar","thisNotification","notificationSpec","allNotifications","notificationManager","getNotifications","previousNotification","getEl","nodeAnchor","nuText","getArgs","NotificationManagerImpl","eq$2","range$1","each$2","last$2","resolve$2","isComment","fromDom$1","prevSibling","previousSibling","children$2","before$3","after$5","firstChild$1","after$4","unwrap","deep","shallowAs","validSectionList","rowspan","colspan","rowdetail","elementnew","isNew","isLocked","rowcells","getBody$1","ancestors$3","ancestors$4","getRaw$2","getAttrValue","getSpan","hasColspan","cellOrCol","hasRowspan","getCssValue","firstLayer","filterFirstLayer","tags","cells$1","columns$1","columnGroups","columnGroup","rows$1","fromRowsOrColGroups","elems","getSection","getParentSection","parentName","isValidSection","fromTable$1","unknown$2","nu$2","toNumber","px","toFloat","getProp","getCalculatedWidth","boxSizing","upper","lower","calcContentBoxSize","getInner","getRuntime$1","addCells","gridRow","existingCells","newCells","setCells","addCell","mutateCell","getCell","getCellElement","cellLength","extractGridDetails","cols","cloneRow","cloneCell","LOCKED_COL_ATTR","getLockedColumnsFromTable","lockedColStr","lockedCols","getLockedColumnsFromGrid","lockedArr","_val","sort$1","filterItems","warehouse","lockedColumns","rowData","maxRows","maxColumns","rowCount","colgroupRows","currentRow","rowCell","extended","occupiedColumnPosition","occupiedRowPosition","columnPosition","newpos","colgroups","columnsGroup","columnext","generateColumns","colgroup$1","colgroup","grid$1","Warehouse","fromTable","getAt","findItem","filtered","justCells","justColumns","hasColumns","getColumnAt","isValidCell","rowsArr","decide","getBlock","getFallback","inBlock","deduce","aa","getRuntime","rowInfo","colInfo","rtlEdge","ltrEdge","getTop$1","findPositions","getInnerEdge","getOuterEdge","cellOption","lastLine","optElements","amount","rPercentageBasedSizeRegex","rPixelBasedSizeRegex","isCol$2","getPercentSize","outerGetter","innerGetter","relativeParent","setPixelWidth","setPercentageWidth","normalizePixelSize","getTotalHeight","getHeightValue","getRaw$1","getRawWidth$1","getPercentageWidth","getPixelWidth$1","setGenericWidth","getPercentTableWidth","percentageBasedSizeRegex","isCol$1","getRawW","getRawH","backups","getWidthFrom","columnCells","justCols","colFilter","supportsColWidths","isValidColumn","getDeduced","deduced","getPixelWidths","tableSize","minCellWidth","getHeightFrom","widthLookup","noneSize","zero","pixelWidth","getWidths","getCellDelta","singleColumnWidth","setElementWidth","adjustTableWidth","isRelative","percentageSize","getFloatWidth","cellWidth","getPercentageWidths","_delta","pixelSize","TableSize","chooseSize","seenSelected","extract$1","selectedSelector","replica","replicaHouse","replicaStats","house","totalColumns","minRow","minCol","maxRow","maxCol","allCells","selectedCells","endRow","endCol","statsStruct","findSelectedStats","unselectedCells","stats","totalRows","fillInGaps","widthDelta","colWidths","allColsWidth","selectedColsWidth","getTableWidthDelta","emptyRows","clean","getEnd","elementsWithCursorPosition","isCursorPosition","descendantRtl","transferableAttributes","createCell","createCol","createColgroup","createRow$1","replace$1","cloneChildren","copy$2","pasteReplace","cellOperations","mutate","formatsToClone","cloneCss","sourceDom","targetDom","cssText","copy$1","lastNode","oldCell","newCell","firstText","formatSelector","clonedFormat","cloneFormats","validAttributes","attributeName","cloneAppropriateAttributes","colGap","gap","paste$1","isEditable$1","assumeEditable","isContentEditable","editable","getIsRoot","removeDataStyle","removeStyleAttribute","getSelectionStart","getPixelWidth","getPixelHeight","isInEditableContext$1","inSelection","leftEdge","rightEdge","topEdge","bottomEdge","finishCol","finishRow","isWithin","getAnyBox","startCoords","finishCoords","detailA","detailB","getBox$1","isRect","detailIsWithin","isRectangular","intercepts$1","parentCell","innerCell","c1","c2","deltaColumn","getWarehouse","intercepts","nestedIntercepts","firstTable","lastTable","optStartCell","optLastCell","lastCell","TagBoundaries","DomUniverse","copyTo","destination","as","afterAll","appendAll","comparePosition","compareDocumentPosition","isSpecial","getLanguage","getText","isBoundary","isEmptyTag","isNonEditable","unsafeOne","universe","look","tail","commonElement","sharedOne$1","ancestors$1","ps1","ps2","prune","ind","pruned1","pruned2","firstpath","secondpath","universe$3","sharedOne","_universe","rootTable","boxes","startTable","finishTable","ancestorCells","lca","lcaTable","finishAncestorCells","startAncestorCells","retrieve$1","sels","getEdges","firstSelectedSelector","lastSelectedSelector","shiftSelection","expandTo","retrieve","retrieveBox","sectionSelector","firstAncestor","lastAncestor","fA","lA","unmergable","hasSpan","mergable","ephemera","strSelected","strSelectedSelector","strAttributeSelector","strFirstSelected","strFirstSelectedSelector","strLastSelected","strLastSelectedSelector","attributeSelector","firstSelected","lastSelected","getSelectionFromSelector","initCell","cellName","getSelectionCellOrCaption","getSelectionCell","getCellsFromSelection","getSelectedCells","registerEvents","multiCellContext","extractSelected","getTextContent","serializer","serialize","serializeElements","getCellsFromFakeSelection","paste","isTable","generators","clipboard","pasteCells","scan$1","toEnd","freefallRtl$2","freefallRtl$1","universe$2","halve","main","getGenericWidth","surround","sizes","startIndex","clampDeltaHelper","minCellSize","diff","clampNegativeDelta","clampDelta","resizeTable","calcRelativeDeltas","ratio","newThis","calcLeftEdgeDeltas","clampedDelta","calcFixedDeltas","resizer","clampTableDelta","calcMiddleDeltas","_prev","calcRightEdgeDeltas","calcRedestributedWidths","totalWidth","pixelDelta","newSizes","preserveTable","isLastColumn","maxDelta","_minCellSize","_totalWidth","_pixelDelta","_isRelative","getGridSize","isHeaderCell","isHeaderCells","getRowHeaderType","isHeaderRow","getRowType","findCommonCellType","subType","headerCells","transformCell","substitution","transformRow","fixedCell","mutate$1","sectionCells","TableSection","rowType","findTableRowHeaderType","setIfNot","insert$1","render$1","newRows","syncRows","gridSection","tr","syncColGroup","colGroup","renderSection","sectionName","newSection","generateSection","sectionElems","renderOrRemoveSection","removeSection","headSection","bodySection","footSection","columnGroupsSection","findDiff","subgrid","getRow","isColRow","getColumn","toDetails","seen","updateSeen","rowdetailnew","toGrid","colgroupCols","rowCells","rowDetail","toDetailList","findInWarehouse","extractCells","cell$1","lc","operation","postAction","genWrappers","tableSection","fromWarehouse","out","newElements","tableSizing","sizing","resizing","onPasteByEditor","onCells","onUnlockedCells","allUnlocked","isUnlockedTableCell","unmerge","currentCell","isToReplace","splitRows","uniqueCells","sub","measureWidth","gridA","gridB","rowDelta","colDelta","measureHeight","generateElements","generator","rowFill","exampleRow","colFill","tailor","fillCols","fillRows","gridWidth","isLastColLocked","modifiedCols","newLockedColumns","isSpanning","matching","getLockedColumnsWithinBounds","startAddress","colNum","validStartAddress","currentStartAddress","gridColLength","adjustedRowAddress","possibleColAddresses","validColAddress","getValidStartAddress","gridBRows","lockedColumnsWithinBounds","rowRemainder","colRemainder","colRequired","rowRequired","measure","fittedGrid","newLockedColumnsWithinBounds","lockedColumnObj","skippedCol","gridBColIndex","newCellElm","mergeTables","insertCols","prevCell","splitCols","fittedNewGrid","secondDelta","fittedOldGrid","insertRows","oldCols","oldRows","newLocked","secondDiff","fittedGridB","newChild","lockedColFill","insertRowAt","example","ex","insertColumnAt","withinSpan","getElementFor","isDuplicatedCell","notInStartRow","notInStartColumn","determineScope","applyScope","newScope","isInHeader","getScope","replaceIn","genScope","shouldReplace","mapCells","isTarget","getColumnCells","replaceColumns","indexes","rowHeaders","shouldReplaceCell","targetColumn","_colIndex","columnReplacePredicate","scopeGenerator","columnScopeGenerator","replaceRows","targetRow","getRowCells","columnHeaders","_cell","newGrid","_rowIndex","rowReplacerPredicate","rowScopeGenerator","replaceCells","targetCells","ColumnContext","only","determine","context","neighbours","measures","recalculateHeightForCells","recalculate","widths","recalculateWidthForColumns","recalculateWidthForCells","recalculateAndApply","adjustWidth","clampedStep","newWidths","adjustHeight","getPixelHeights","newHeights","newCellSizes","newRowSizes","matchRowHeight","uniqueColumns","currentDetail","isCol","isColgroup","isRow$1","elementToData","getScopeAttribute","Generators","toData","nuCell","recent","getOrInit","makeNew","replaceOrInit","merge","stringAttributes","baseScope","getScopeProperty","blockList","universe$1","isBlock","isBlock$1","isList","isList$1","isEmptyTag$1","isBr","markCell","rightSiblingIsBlock","rightSibling","isListItem","advancedBr","markContent","elementFromGrid","findEditableCursorPosition","cursorElement","uniqueRows","makeRowsSection","initialGrid","rowIndexes","opMakeRowsHeader","opMakeRowsBody","opMakeRowsFooter","gridifyRows","pasteDetails","fromPastedRows","wh","_table","_info","adjustWidthTo","adjustAndRedistributeWidths","resizeBehaviour","tablePixelWidth","adjustAndRedistributeWidths$1","firstColumnIsLocked","_warehouse","lastColumnIsLocked","getColumnsWidth","uniqueCols","insertColumnsExtractor","pasteColumnsExtractor","headerCellGenerator","bodyCellGenerator","insertRowsBefore","targetIndex","insertRowsAfter","newG","insertColumnsBefore","extractDetail","insertColumnsAfter","eraseColumns","_comparator","_genWrappers","deleteColumnsAt","maxColIndex","eraseRows","deleteRowsAt","maxRowIndex","makeColumnsHeader","columnIndexes","unmakeColumnsHeader","makeRowsHeader","makeRowsBody","makeRowsFooter","makeCellsHeader","unmakeCellsHeader","mergeCells","merge$2","onMergable","mergeable","unmergeCells","onUnmergable","gridify","pasteColsBefore","mergedGrid","pasteColsAfter","pasteRowsBefore","pasteRowsAfter","getColumnsType","lastSelectedCell","minColRange","maxColRange","selectedColumnCells","getCellsType","getRowsType","minRowRange","maxRowRange","rowTypes","hasHeader","hasFooter","hasBody","findCommonRowType","fireNewRow","fireNewCell","fireTableModified","styleModified","structureModified","styleAndStructureModified","defaultWidth","getPixelForcedWidth","parentBlock","getParent","getTableCloneElements","getTableHeaderType","getTableColumnResizingBehaviour","isPreserveTableColumnResizing","isResizeTableColumnResizing","getTableSizingMode","isTablePercentagesForced","isTablePixelsForced","isTableResponsiveForced","hasTableResizeBars","shouldStyleWithCss","getTableDefaultAttributes","defaultAttributes","determineDefaultTableAttributes","getTableDefaultStyles","defaultStyles","determineDefaultTableStyles","tableUseColumnGroup","TableActions","cellSelectionHandler","isTableBody","colMutationOp","getTableSectionType","setSelectionFromAction","firstCell","clearSelectedCells","des","guard","effect","noEvents","deleteRow","deleteColumn","getTableRowType","getTableCellType","getTableColType","constrainSpan","currentColspan","isColInRange","copyCols","fakeColGroups","colsToCopy","copiedCols","clonedCol","fakeColgroup","generateColGroup","fakeRows","cellsToCopy","copiedCells","clonedCell","fakeTR","generateRows","copyRows","slicedGrid","filteredGrid","slicedDetails","pixels","validateFor","rawAmount","Size","redistributeValues","newWidthType","newTotalWidth","redistributeToPx","_pc","redistributeToPercent","redistribute$1","newType","floats","redistributeEmpty","normalize","floored","roundDown","getUnit","redistribute","optWidth","optHeight","widthUnit","oldWidths","getRawWidths","nuWidths","redistributeToColumns","redistributeToW","hUnit","totalHeight","oldHeights","getRawHeights","redistributeToH","isPercentSizing","isPixelSizing","isNoneSizing","cleanupLegacyAttributes","convertToPercentSize","convertToPixelSize","getPixelTableWidth","convertToNoneSize","rowElements","DefaultRenderOptions","colGroups","createGroupRow","createRows","createRow","placeCaretInCell","colHeaders","headerType","renderOpts","rowHeadersGoInThead","actualRowHeaders","thead","theadRows","tbodyRows","addVisual","isPercentage","fireEvents","tableElm","selectFirstCellInTable","tableTypeBase","tableTypeRow","tableTypeColumn","fakeClipboardItem","FakeClipboardItem","getType","clearData","setRows","rowsOpt","clearRows","getRows","setColumns","columnsOpt","clearColumns","getColumns","getSelectionStartCellOrCaption","getTableFromCell","performActionOnSelection","getSelectionStartCell","postExecute","actOnSelection","copyRowSelection","copyColSelection","pasteOnSelection","clonedRows","pasteRows","actOnType","no_events","mceTableSplitCells","mceTableMergeCells","mceTableInsertRowBefore","mceTableInsertRowAfter","mceTableInsertColBefore","mceTableInsertColAfter","mceTableDeleteCol","mceTableDeleteRow","mceTableCutCol","mceTableCutRow","mceTableCopyCol","mceTableCopyRow","mceTablePasteColBefore","mceTablePasteColAfter","mceTablePasteRowBefore","mceTablePasteRowAfter","mceTableDelete","cellOrCaption","isEmpty","setCursorLocation","mceTableCellToggleClass","allHaveClass","formatterAction","mceTableToggleClass","mceTableToggleCaption","caption","mceTableSizingMode","setSizingMode","mceTableCellType","mceTableColType","mceTableRowType","checkInput","headerRows","headerColumns","insertTable","getFormatName","validArgs","cata","onBefore","onOn","onAfter","Response","selectNodeContents","selectNodeContentsUsing","Situs","convertToRange","makeSitus","selectRange","cellSel","traverse","backtrack","_direction","sidestep","advance","successors","rules","succ","Walkers","hone","isLeaf","seekLeft$1","seekRight$1","after$1","failedUp","failedDown","isRow","BeforeAfter","verify","bridge","beforeOffset","afterOffset","failure","afterCell","beforeCell","beforeBounds","getRect","afterBounds","isOverlapping","_sharedRow","onSuccess","onFailedUp","onFailedDown","gatherer","cand","gather","handleParent","findBr","br","adjacent","inParent","indexInParent","tryBr","handleBr","toCaret","getElemBox","getBoxAt","getRangedRect","getPartialBox","getEntireBox","retry","inOutsideBlock","isOutside","downMovement","adjuster","guessBox","lowerCaret","adjustTil","numRetries","isAtTable","adjustForTable","situsFromPoint","guess","newCaret","moved","adjusted","getInnerHeight","checkScroll","scrollBy","Retries","tryUp","higherCaret","tryDown","getJumpSize","findSpot","brNeighbour","fromSitus","analysis","_message","tryCursor","situs","tryAgain","tryAt","inSameTable","simulate","handle$1","precheck","firstUpCheck","seekLeft","lastOffset","lastDownCheck","seekRight","findCell","isInEditableContext","isKey","keycode","isUp","isDown","isNavigation","isBackward","isForward","caretPositionFromPoint","offsetNode","caretRangeFromPoint","availableSearch","beforeSpecial","doSetNativeRange","removeAllRanges","addRange","doSetRange","setRangeFromRelative","setBaseAndExtent","extend","setLegacyRtlRange","setExact","preprocessExact","setRelative","preprocessRelative","setToElement","selectNodeContents$1","getAtPoint","WindowBridge","exactAdt","clearSelection","collapseSelection","toStart","setSelection","setRelativeSelection","selectContents","getScrollY","by","rc","annotations","clearstate","applySelection","clearBeforeUpdate","singleCell","isNonEditableCell","isCellClosestContentEditable","MouseSelection","isEditableNode","isEditableSelection","keyboard","clearToNavigate","realEvent","update$1","newSels","sync","SelectionAnnotation","onSelection","onClear","removeSelectionAttributes","addSelectionAttribute","getOtherCells","upGrid","upDetails","slicedCells","getUpOrLeftCells","downGrid","downDetails","getDownOrRightCells","bind$1","hasInternalTarget","TableCellSelectionHandler","cellSelection","lazyRoot","Selections","fireTableSelectionChange","fireTableSelectionClear","mouseHandlers","keyHandlers","handleResponse","hasShiftKey","ns","isLeftMouse","doubleTap","lastTarget","lastTimeStamp","touchEnd","lT","lTS","timeStamp","getDoubleTap","wrappedEvent","addTempAttr","onMultiple","onSingle","Event","trigger","typeDefs","baseWith","handleUnsupported","validateStrArr","everything","checkDupes","reqMessage","invalidKeys","incorrect","invalidTypeMessage","handleExact","unsuppMessage","exactly","DragMode","DragSink","DragApi","InDrag","compare","Movement","noDragState","NoDrag","inDragState","mutation","throttledDrop","runIfActive","namespace","dashNamespace","resolve$1","MouseDrag","layerClass","Blocker","mdown","mup","mmove","mout","BarMutation","drag","Mutation","assign","resizeBar","resizeRowBar","resizeColBar","wire","drawBar","cpOption","cp","refreshCol","colPositions","tableHeight","colBar","refreshRow","rowPositions","tableWidth","rowBar","refreshGrid","warhouse","isResizable","resizableRowBars","resizableRows","resizableRowPositions","_pos","barIndex","resizableColBars","resizableCols","colElmOpt","resizableColumns","resizableColPositions","bars","resizeBarDragging","BarManager","hoverTable","getResizer","_dataRow","_dataCol","currentCol","startAdjust","isColBar","tbl","hideBars","showBars","TableResize","lazySizing","hdirection","vdirection","beforeResize","afterResize","startDrag","refreshBars","ResizeWire","chrome","createContainer","barResizerPrefix","TableResizeHandler","selectionRng","tableResize","resizeWire","startW","startRawW","lazyResizingBehaviour","afterCornerResize","isRightEdgeResize","isPercentage$1","percentW","isPixel","computedWidth","syncPixels","sz","rawWire","objectResizing","hasTableObjectResizing","rawTable","fireObjectResizeStart","fireObjectResized","getAttrib","getRawWidth","setupTable","lookupOnSelection","registerQueryCommands","DomModel","getAudioTemplateCallback","getVideoTemplateCallback","getIframeTemplateCallback","hasLiveEmbeds","shouldFilterHtml","getUrlResolver","hasAltSource","hasPoster","hasDimensions","DOM$1","trimPx","getEphoxEmbedData","altsource","poster","htmlToData","forced_root_block","walk","fileEnd","mp3","m4a","wav","mp4","webm","ogg","swf","Parser","allow_conditional_comments","addPx","updateEphoxEmbed","styleMap","serializeStyle","sources","updateHtml","updateAll","numSources","sourceCount","parser","addNodeFilter","hasImage","urlPatterns","regex","allowFullscreen","getUrl","protocolMatches","getProtocol","newUrl","dataToHtml","dataIn","embed","convertURL","sourcemime","altsourcemime","matchPattern","allowfullscreen","audioTemplateCallback","videoTemplateCallback","iframeTemplateCallback","getIframeHtml","getFlashHtml","getAudioHtml","getScriptHtml","getVideoHtml","isMediaElement","loadedData","getEmbedHtml","embedHandler","rej","wrappedResolve","embedPromise","defaultPromise","metaData","dims","sourceInput","mainData","extractMeta","getFromData","getFromMetaData","getNonEmptyValue","errorMessage","addEmbedHtml","handleInsert","beforeObjects","afterObjects","selectPlaceholder","submitForm","catch","showDialog","editorData","snippet","getEditorData","sizeInput","generalTab","embedTab","advancedFormItems","advancedTab","serviceData","handleSource","dataFromEmbed","handleEmbed","handleUpdate","isLiveEmbedNode","defaultValue","setDimensions","previewNode","useDefaults","fallbackHeight","defaultHeight","createPlaceholderNode","placeHolder","retainAttributesAndInnerHtml","transparentSrc","createPreviewNode","previewWrapper","frameborder","sanitizedHtml","newNode","appendNodeContent","unescape","shimNode","sourceNode","attribs","ai","isPageEmbedWrapper","nodeClass","isWithinEmbedWrapper","parseAndSanitize","getEditorOption","boolAttrs","getBoolAttrs","getElementRule","attributesOrder","placeHolderConverter","addAttributeFilter","realElmName","realElm","selectorChangedWithUnbind","selectedNode","hasClass","hasAdvTab","hasUploadTab","getPrependUrl","getClassList","hasDescription","hasImageTitle","hasImageCaption","getImageList","showAccessibilityOptions","isAutomaticUploadsEnabled","parseIntAndGetMax","val1","val2","removePixelSuffix","addPixelSuffix","isPlaceholderImage","imgElm","isSafeImageUrl","isDomSafe","allow_html_data_urls","allow_script_urls","allow_svg_data_urls","getHspace","marginLeft","marginRight","getVspace","marginTop","marginBottom","getBorder","borderWidth","hasCaption","updateAttrib","toggleCaption","figureElm","insertAfter","removeFigure","wrapInFigure","normalizeStyle","normalizeCss","setSize","getSize","setHspace","pxValue","setVspace","setBorder","setBorderStyle","borderStyle","getBorderStyle","isFigure","getIsDecorative","getAlt","getStyleValue","hspace","vspace","isDecorative","updateProp","oldData","setAlt","setAttrib","sugarImage","normalized","updateAlt","normalizeCss$1","mergedCss","splitMargin","mergeMargins","compressed","getSelectedImage","splitTextBlock","figure","textBlockElements","getTextBlockElements","parentElm","isValidChild","textBlock","insertImageAtCaret","insertedElm","writeImageDataToSelection","syncSrcAttr","selectImage","onload","onerror","setAttribs","waitLoadImage","insertOrUpdateImage","partialData","sanitizedData","sanitizeImageData","deleteImage","sanitizeList","sanitizer","extractor","findEntryDelegate","isGroup","ListUtils","optList","AdvTab","collect","urlListSanitizer","futureImageList","imageList","ok","json","createImageList","hasAdvTab$1","hasUploadTab$1","hasUploadUrl$1","hasUploadUrl","hasUploadHandler$1","hasUploadHandler","readImageDataFromSelection","hasDescription$1","hasImageTitle$1","hasDimensions$1","hasImageCaption$1","hasAccessibilityOptions","automaticUploads","prependURL","preUrl","makeItems","imageDescription","useColumns","MainTab","UploadTab","fromImageData","images","borderstyle","fileinput","toImageData","removeEmptyAlt","addPrependUrl","srcURL","prependUrl","addPrependUrl2","formFillFromMeta","formFillFromMeta2","changeSrc","helpers","imageSize","calculateImageSize","prevImage","updateImagesDropdown","changeFileInput","blobUri","URL","createObjectURL","finalize","revokeObjectURL","updateSrcAndSwitchTab","reader","FileReader","readAsDataURL","dataUrl","blobInfo","createBlobCache","uploadImage","alertErr","addToBlobCache","changeHandler","prevAlt","changeImages","closeHandler","makeDialogBody","submitHandler","finalData","editorUpload","uploadImagesAuto","getImageSize","blobCache","filename","base64","stylesArg","upload","Dialog","createState","hasImageClass","toggleContentEditableState","toggleContentEditable","addContextMenu","assumeExternalTargets","hasContextToolbar","getLinkList","getDefaultLinkTarget","getDefaultLinkProtocol","getTargetList","getRelList","getLinkClassList","shouldShowLinkTitle","allowUnsafeLinkTarget","useQuickLink","sanitizeWith","extracter","ListOptions","createUi","isLink","getHref","collectNodesInRange","cloneContents","walker","hasProtocol","applyRelTargetRules","isUnsafe","rels","removeTargetRules","inArray","newRels","addTargetRules","getAnchorElement","selectedElm","getLinksInSelection","isImageFigure","isInAnchor","getAnchorText","anchorElm","trimCaretContainers","getLinks$1","grep","hasLinks","isOnlyTextSelected","inlineTextElements","getTextInlineElements","applyLinkOverrides","linkAttrs","newLinkAttrs","newRel","handleExternalTargets","linkDomMutation","attachState","getLinkAttrs","linkImageFigure","createLink","updateLink","unwrapOptions","cls","uriOptions","sanitizeData","unlinkImageFigure","bookmark","getBookmark","cloneRange","startAnchorElm","endAnchorElm","moveToBookmark","unlinkSelection","unlinkDomMutation","fig","getParents","isListGroup","findTextByValue","catalog","persistentText","hasPersistentText","DialogChanges","linkCatalog","persistentData","onUrlChange","getTitleFromUrlChange","onCatalogChange","catalogs","tryEmailTransform","tryProtocolTransform","defaultLinkProtocol","DialogConfirms","delayedConfirm","AnchorListOptions","anchorNodes","ClassListOptions","parseJson","LinkListOptions","linkList","optItems","RelOptions","isTargetBlank","safeRelExtractor","fallbacks","TargetOptions","nonEmptyAttr","DialogInfo","linkNode","links","linkClass","extractFromAnchor","optNode","flags","titleEnabled","collectData","getChangedValue","changedData","pData","handleSubmit","titleText","defaultTarget","getInitialData","dialogDelta","makeDialog","createEvent","initMouseEvent","appendClickRemove","getLink","getSelectedLink","gotoLink","targetEl","scrollIntoView","openDialog","gotoSelectedLink","toggler","toggleActiveState","toggleEnabledState","hasExactlyOneLinkInSelection","toggleUnlinkState","hasLinks$1","setupContextToolbars","onSetupLink","addContextForm","onlyText","getLinkText","collapseSelectionToEnd","setupButtons","setupMenuItems","setupContextMenu","metaKeyPressed","altKey","metaKey","hasOnlyAltModifier","setupGotoLinks","isDuplicated","lastChild","matchNodeName","matchNodeNames","isTextNode$1","isListNode","isOlUlNode","isOlNode","isListItemNode","isDlItemNode","isTableCellNode","isTextBlock","blockElements","isVoid","getVoidElements","isEmpty$2","keepBookmarks","isChildOfBody","isChildOf","shouldIndentOnTab","getForcedRootBlock","getForcedRootBlockAttrs","createTextBlock","contentNode","getBlockElements","createFragment","blockName","blockAttrs","hasContentNode","DOM$2","splitList","li","bookmarks","newBlock","tmpRng","extractContents","removeAndKeepBookmarks","isDescriptionDetail","isDescriptionTerm","outdentDlItem","dl","indentDlItem","getNormalizedPoint","normalizeRange","outRng","rangeStart","rangeEnd","listNames","listSelector","getParentList","getClosestListHost","getSelectedSubLists","parentList","selectedBlocks","getSelectedBlocks","isParentListSelected","findSubLists","getSelectedListItems","listItemsElms","findParentListItemsNodes","getClosestEditingHost","parentTableCell","parentBlocks","isListHost","listName","findLastParentListNode","parentLists","getSelectedListRoots","selectedLists","firstList","subsequentLists","getSelectedLists","getUniqueListRoots","lists","listRoots","isCustomList","inList","isWithinNonEditable","isWithinNonEditableList","setNodeChangeHandler","nodeChangeHandler","initialNode","fireListEvent","joinSegment","createSegment","listType","writeShallow","cast","newCast","depth","itemAttributes","appendItem","listAttributes","normalizeSegment","writeDeep","segments","createSegments","joinSegments","populateSegments","hasFirstChildList","isIndented","cloneItemContent","normalizeEntries","entries","closestSiblingEntry","cleanListProperties","matchingEntry","cloneListProperties","parseItem","itemSelection","selectionState","currentItemEntry","createEntry","childListEntries","parseList","outdentedComposer","normalizedEntries","fromElements","indentedComposer","composeList","contentDocument","listIndentation","indentation","entrySets","sourceList","parseLists","selectedListItems","getItemSelection","entrySet","indentEntry","indentSelectedEntries","composedLists","wasType","groupBy","composeEntries","composedList","selectionIndentation","dlItems","getSelectedDlItems","isHandled","dlIndentation","handleIndentation","selectionIsWithinNonEditableList","indentListSelection","outdentListSelection","flattenListSelection","isZwsp","char","createBookmark","setupEndPoint","resolveBookmark","restoreEndPoint","nodeIndex","listToggleActionFromListName","updateListWithDetails","setStyle","updateListStyle","updateListAttrs","getEndPointNode","findBetterContainer","forward","applyList","listItemName","getContentEditable","selectedTextBlocks","textBlocks","endNode","siblings","isBookmarkNode","getSelectedTextBlocks","listBlock","sib","sibStyle","detailStyle","hasCompatibleStyle","rename","removeStyles","mergeWithAdjacentLists","shouldMerge","list1","list2","isValidLists","hasSameListStyle","elm2","liSibling","toggleMultipleLists","parentIsList","hasListStyleDetail","allLists","newList","updateList$1","toggleList","hasNonEditableBlocksSelected","selectedSubLists","toggleSingleList","normalizeLists","normalizeList","findNextCaretContainer","nonEmptyBlocks","getNonEmptyElements","isBogusBr","walkFn","prev2","hasOnlyOneBlockChild","moveChildren","fromElm","toElm","unwrapSingleBlockChild","mergeLiElements","listNode","ul","nestedLists","mergeForward","fromLi","toLi","mergeIntoEmptyLi","backspaceDeleteFromListToListCaret","selectionStartElm","otherLi","resolvedBookmark","mergeBackward","backspaceDeleteIntoListCaret","findValidElement","findRoot","removeBlock","hasListSelection","backspaceDelete","backspaceDeleteCaret","backspaceDeleteRange","parseAlphabeticBase26","chars","charValue","charCodeAt","composeAlphabeticBase26","quotient","fromCharCode","parseDetail","listStyleType","currentList","isLowercase","deduceListType","parseStartValue","queryListCommandState","registerDialog","setStyles","updateList","isTextNode","nodeBuffer","wrapInvalidChildren","insertListItem","buffer","refNode","restBuffer","setupTabKey","DELETE","setupToggleButtonHandler","setupMenuButtonHandler","listProperties","flatten$1","children$3","child$3","addPxSuffix","toInt","radix","getTDTHOverallStyle","firstChildStyle","currentStyle","setAlign","defaultCellBorderWidths","defaultCellBorderStyles","getTableBorderWidths","getTableBorderStyles","hasAdvancedCellTab","hasAdvancedRowTab","hasAdvancedTableTab","hasAppearanceOptions","hasTableGrid","getCellClassList","getRowClassList","getTableClassList","getTableBackgroundColorMap","getTableBorderColorMap","isPixelsForced","isResponsiveForced","getDefaultStyles","determineDefaultStyles","getDefaultAttributes","determineDefaultAttributes","getRowsFromSelection","verticalAlignValues","onSetupToggle","formatValue","checkNode","buildListItems","buildMenuItems","applyTableCellStyle","filterNoneItem","generateMenuItemsCallback","buildColorMenu","colorList","changeRowHeader","changeColumnHeader","getItems$2","getClassList$1","getAdvancedTab","dialogName","advTabItems","DomModifier","setFormat","getRowType$1","onUnlockedMergable","onUnlockedUnmergable","selectedRows","rgbToHex","extractAdvancedStyles","borderwidth","bordercolor","backgroundcolor","getSharedValues","baseData","comparisonData","itemKey","comparisonValue","getAlignment","matchNode","getHAlignment","getVAlignment","cellA","cellB","applyStyleData$1","wasChanged","isSingleCell","cellElm","shouldOverrideCurrentValue","modifier","colModifier","shouldUpdate","updateSimpleProps$1","updateAdvancedProps$1","halign","setVAlign","onSubmitCellForm","modifiedData","celltype","applyStructureData$1","applyCellData","getData$1","cellsData","extractDataFromCellElement","open$2","dialogTabPanel","dialogPanel","formChildren","getItems$1","applyStyleData","rowElm","updateSimpleProps","updateAdvancedProps","onSubmitRowForm","typeModified","applyStructureData","applyRowData","rowsData","extractDataFromRowElement","insertNewTable","rowColCountItems","appearanceItems","classListItem","styleTDTH","onSubmitTableForm","removePxSuffix","cellspacing","cellpadding","advData","applyDataToElement","captionElm","captionModified","hasAdvTableTab","advStyle","extractDataFromSettings","optBorderWidth","extractDataFromTableElement","generalPanel","mceTableProps","mceTableRowProps","mceTableCellProps","mceInsertTableDialog","runAction","getSelectionTargets","changeHandlers","selectionDetails","isCaption","isDisabledForSelection","getSelectionEnd","findTargets","startCellOrCaption","oot","endTable","noMenu","getExtractedDetails","onAny","onFirst","onLast","unmergeable","resetTargets","setupHandler","onSetupWithToggle","isDisabledFromLocked","lockedDisable","onSetupTableHeaders","onSetupTableRowHeaders","onSetupTableColumnHeaders","onSetupTable","onSetupCellOrRow","onSetupColumn","onSetupPasteable","getClipboardData","onSetupPasteableColumn","onSetupMergeable","_targets","onSetupUnmergeable","onSetupTableWithCaption","Plugin","selectionTargets","addMenuIfRegistered","queryCommandSupported","addToggleMenuIfRegistered","insertTableAction","hasRowMenuItems","hasColumnMenuItems","hasCellMenuItems","tableClassList","tableCellClassList","addMenuItems","addButtonIfRegistered","addToggleButtonIfRegistered","addButtons","addContextToolbar","addToolbars","getAutoLinkPattern","isBracketOrSpace","findChar","charAt","parseCurrentLine","voidElements","autoLinkPattern","textSeeker","tempOffset","freefallRtl","endSpot","backwards","lastTextNode","startSpot","newRng","convertToLink","defaultLinkTarget","handleSpacebar","handleBracket","handleEnter","module","exports","getDocumentScriptLoader","extendStatics","__assign","eventPropTypes","onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onClearUndos","onContextMenu","onCommentChange","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDragDrop","onDragGesture","onDragOver","onExecCommand","onGetContent","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onUndo","onVisualAid","onSkinLoadError","onThemeLoadError","onModelLoadError","onPluginLoadError","onIconsLoadError","onLanguageLoadError","onScriptsLoad","onScriptsLoadError","EditorPropTypes","apiKey","onEditorChange","cloudChannel","plugins","textareaName","tinymceScriptSrc","defer","rollback","scriptLoading","isEventProp","eventAttrToEventName","configHandlers","prevProps","boundHandlers","handlerLookup","adapter","prevEventKeys","currEventKeys","removedKeys","addedKeys","wrappedHandler","configHandlers2","uuid","now","isTextareaOrInput","normalizePluginArray","setMode","injectScriptTag","scriptTag","referrerPolicy","loadHandler","errorHandler","ScriptLoader","loader","scriptLoadOrErrorHandler","_i","loadScripts","failureOrLog","successCount","failed","_src","items_1","existing","deleteScripts","getElementById","createDocumentScriptLoader","loadList","doLoad","reinitialize","getTinymce","__extends","__","_super","Editor","_this","rollbackTimer","valueCursor","rollbackChange","currentContent","handleBeforeInput","_evt","handleBeforeInputSpecial","handleEditorChange","newContent","handleEditorChangeSpecial","initialise","elementRef","parent_1","isInDoc","initPlugins","inputPlugins","finalInit","bindHandlers","init_instance_callback","setDirty","componentDidUpdate","localEditor_1","componentDidMount","getScriptSources","componentWillUnmount","changeEvents","beforeInputEvent","renderInline","renderIframe","Env","InputEvent","getTargetRanges","isValueControlled","wasControlled","nowControlled","propTypes","defaultProps"],"mappings":"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CX9pL,GAAMqG,GAAgByjL,EAAQ,CAACl5K,MACjCm5K,EAAUn5K,GAAYk5K,EAAOl5K,IAGjC,OAAOm5K,CACT,CACA,SAASC,GAAaF,EAAQ9nK,GAC5B,KAAkB,OAAX8nK,GAAiB,CACtB,IAAIhhK,EAAOu/J,GAAyByB,EAAQ9nK,GAC5C,GAAI8G,EAAM,CACR,GAAIA,EAAK5W,IACP,OAAO22K,GAAQ//J,EAAK5W,KAEtB,GAA0B,mBAAf4W,EAAKnrB,MACd,OAAOkrL,GAAQ//J,EAAKnrB,MAExB,CACAmsL,EAAS7sL,GAAe6sL,EAC1B,CAKA,OAJA,SAAuBh+K,GAErB,OADAzB,QAAQkqB,KAAK,qBAAsBzoB,GAC5B,IACT,CAEF,CACA,IAAIm+K,GAASxrK,GAAO,CAClB,IACA,OACA,UACA,UACA,OACA,UACA,QACA,QACA,IACA,MACA,MACA,MACA,QACA,aACA,OACA,KACA,SACA,SACA,UACA,SACA,OACA,OACA,MACA,WACA,UACA,OACA,WACA,KACA,YACA,MACA,UACA,MACA,SACA,MACA,MACA,KACA,KACA,UACA,KACA,WACA,aACA,SACA,OACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,MACA,OACA,UACA,OACA,WACA,QACA,MACA,OACA,KACA,WACA,SACA,SACA,IACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,UACA,SACA,SACA,QACA,SACA,SACA,OACA,SACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,WACA,QACA,KACA,QACA,OACA,KACA,QACA,KACA,IACA,KACA,MACA,QACA,QAEEyrK,GAAQzrK,GAAO,CACjB,MACA,IACA,WACA,cACA,eACA,eACA,gBACA,mBACA,SACA,WACA,OACA,OACA,UACA,SACA,OACA,IACA,QACA,WACA,QACA,QACA,OACA,iBACA,SACA,OACA,WACA,QACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,QACA,SACA,SACA,OACA,WACA,QACA,OACA,QACA,OACA,UAEE0rK,GAAa1rK,GAAO,CACtB,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,iBACA,UACA,UACA,UACA,UACA,UACA,iBACA,UACA,UACA,cACA,eACA,WACA,eACA,qBACA,cACA,SACA,iBAEE2rK,GAAgB3rK,GAAO,CACzB,UACA,gBACA,SACA,UACA,eACA,YACA,mBACA,iBACA,gBACA,gBACA,gBACA,QACA,YACA,OACA,eACA,YACA,UACA,gBACA,SACA,MACA,aACA,UACA,QAEE4rK,GAAW5rK,GAAO,CACpB,OACA,WACA,SACA,UACA,QACA,SACA,KACA,aACA,gBACA,KACA,KACA,QACA,UACA,WACA,QACA,OACA,KACA,SACA,QACA,SACA,OACA,OACA,UACA,SACA,MACA,QACA,MACA,SACA,eAEE6rK,GAAmB7rK,GAAO,CAC5B,UACA,cACA,aACA,WACA,YACA,UACA,UACA,SACA,SACA,QACA,YACA,aACA,iBACA,cACA,SAEEhU,GAAOgU,GAAO,CAAC,UACf5U,GAAO4U,GAAO,CAChB,SACA,SACA,QACA,MACA,iBACA,eACA,uBACA,WACA,aACA,UACA,SACA,UACA,cACA,cACA,UACA,OACA,QACA,QACA,QACA,OACA,UACA,WACA,eACA,SACA,cACA,WACA,WACA,UACA,MACA,WACA,0BACA,wBACA,WACA,YACA,UACA,eACA,OACA,MACA,UACA,SACA,SACA,OACA,OACA,WACA,KACA,YACA,YACA,QACA,OACA,QACA,OACA,OACA,UACA,OACA,MACA,MACA,YACA,QACA,SACA,MACA,YACA,WACA,QACA,OACA,QACA,UACA,aACA,SACA,OACA,UACA,UACA,cACA,cACA,SACA,UACA,UACA,aACA,WACA,MACA,WACA,MACA,WACA,OACA,OACA,UACA,aACA,QACA,WACA,QACA,OACA,QACA,OACA,UACA,QACA,MACA,SACA,OACA,QACA,UACA,WACA,QACA,YACA,OACA,SACA,SACA,QACA,QACA,QACA,SAEEm8D,GAAMn8D,GAAO,CACf,gBACA,aACA,WACA,qBACA,SACA,gBACA,gBACA,UACA,gBACA,iBACA,QACA,OACA,KACA,QACA,OACA,gBACA,YACA,YACA,QACA,sBACA,8BACA,gBACA,kBACA,KACA,KACA,IACA,KACA,KACA,kBACA,YACA,UACA,UACA,MACA,WACA,YACA,MACA,OACA,eACA,YACA,SACA,cACA,cACA,gBACA,cACA,YACA,mBACA,eACA,aACA,eACA,cACA,KACA,KACA,KACA,KACA,aACA,WACA,gBACA,oBACA,SACA,OACA,KACA,kBACA,KACA,MACA,IACA,KACA,KACA,KACA,KACA,UACA,YACA,aACA,WACA,OACA,eACA,iBACA,eACA,mBACA,iBACA,QACA,aACA,aACA,eACA,eACA,cACA,cACA,mBACA,YACA,MACA,OACA,QACA,SACA,OACA,MACA,OACA,aACA,SACA,WACA,UACA,QACA,SACA,cACA,SACA,WACA,cACA,OACA,aACA,sBACA,mBACA,eACA,SACA,gBACA,sBACA,iBACA,IACA,KACA,KACA,SACA,OACA,OACA,cACA,YACA,UACA,SACA,SACA,QACA,OACA,kBACA,mBACA,mBACA,eACA,cACA,eACA,cACA,aACA,eACA,mBACA,oBACA,iBACA,kBACA,oBACA,iBACA,SACA,eACA,QACA,eACA,iBACA,WACA,UACA,UACA,YACA,mBACA,cACA,kBACA,iBACA,aACA,OACA,KACA,KACA,UACA,SACA,UACA,aACA,UACA,aACA,gBACA,gBACA,QACA,eACA,OACA,eACA,mBACA,mBACA,IACA,KACA,KACA,QACA,IACA,KACA,KACA,IACA,eAEE8rK,GAAS9rK,GAAO,CAClB,SACA,cACA,QACA,WACA,QACA,eACA,cACA,aACA,aACA,QACA,MACA,UACA,eACA,WACA,QACA,QACA,SACA,OACA,KACA,UACA,SACA,gBACA,SACA,SACA,iBACA,YACA,WACA,cACA,UACA,UACA,gBACA,WACA,WACA,OACA,WACA,WACA,aAC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","file":"3.TerriaJS-specs.js","sourcesContent":["// Exports the \"default\" icons for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/icons/default')\n//   ES2015:\n//     import 'tinymce/icons/default'\nrequire('./icons.js');","tinymce.IconManager.add('default', {\n  icons: {\n    'accessibility-check': '<svg width=\"24\" height=\"24\"><path d=\"M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z\" fill-rule=\"nonzero\"/></svg>',\n    'action-next': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z\"/></svg>',\n    'action-prev': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z\"/></svg>',\n    'addtag': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z\"/></svg>',\n    'align-center': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'align-justify': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'align-left': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'align-none': '<svg width=\"24\" height=\"24\"><path d=\"M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z\" fill-rule=\"evenodd\"/></svg>',\n    'align-right': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-left': '<svg width=\"24\" height=\"24\"><path d=\"m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-right': '<svg width=\"24\" height=\"24\"><path d=\"m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z\" fill-rule=\"evenodd\"/></svg>',\n    'bold': '<svg width=\"24\" height=\"24\"><path d=\"M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z\" fill-rule=\"evenodd\"/></svg>',\n    'bookmark': '<svg width=\"24\" height=\"24\"><path d=\"M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z\" fill-rule=\"nonzero\"/></svg>',\n    'border-style': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"6\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"3\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"6.8\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"10.6\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"14.4\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"18.2\" y=\"16\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"13\" y=\"11\" rx=\"1\"/></g></svg>',\n    'border-width': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"5\" x=\"3\" y=\"5\" rx=\"1\"/><rect width=\"18\" height=\"3.5\" x=\"3\" y=\"11.5\" rx=\"1\"/><rect width=\"18\" height=\"2\" x=\"3\" y=\"17\" rx=\"1\"/></g></svg>',\n    'brightness': '<svg width=\"24\" height=\"24\"><path d=\"M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z\" fill-rule=\"evenodd\"/></svg>',\n    'browse': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z\" fill-rule=\"nonzero\"/></svg>',\n    'cancel': '<svg width=\"24\" height=\"24\"><path d=\"M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z\" fill-rule=\"nonzero\"/></svg>',\n    'cell-background-color': '<svg width=\"24\" height=\"24\"><path d=\"m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z\"/></svg>',\n    'cell-border-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z\" opacity=\".2\"/><path fill-rule=\"nonzero\" d=\"M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z\"/><path d=\"m13 11-2 2H5v-2h6V6h2z\"/><path fill-rule=\"nonzero\" d=\"m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z\"/></g></svg>',\n    'change-case': '<svg width=\"24\" height=\"24\"><path d=\"M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z\" fill-rule=\"evenodd\"/></svg>',\n    'character-count': '<svg width=\"24\" height=\"24\"><path d=\"M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist': '<svg width=\"24\" height=\"24\"><path d=\"M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z\" fill-rule=\"evenodd\"/></svg>',\n    'checkmark': '<svg width=\"24\" height=\"24\"><path d=\"M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-down': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-left': '<svg width=\"10\" height=\"10\"><path d=\"M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-right': '<svg width=\"10\" height=\"10\"><path d=\"M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-up': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z\" fill-rule=\"nonzero\"/></svg>',\n    'close': '<svg width=\"24\" height=\"24\"><path d=\"M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z\" fill-rule=\"evenodd\"/></svg>',\n    'code-sample': '<svg width=\"24\" height=\"26\"><path d=\"M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z\" fill-rule=\"evenodd\"/></svg>',\n    'color-levels': '<svg width=\"24\" height=\"24\"><path d=\"M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z\" fill-rule=\"evenodd\"/></svg>',\n    'color-picker': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z\" fill-rule=\"nonzero\"/></svg>',\n    'color-swatch-remove-color': '<svg width=\"24\" height=\"24\"><path stroke=\"#000\" stroke-width=\"2\" d=\"M21 3 3 21\" fill-rule=\"evenodd\"/></svg>',\n    'color-swatch': '<svg width=\"24\" height=\"24\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"1\" fill-rule=\"evenodd\"/></svg>',\n    'comment-add': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z\"/><path d=\"M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z\"/></g></svg>',\n    'comment': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z\"/></svg>',\n    'contrast': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z\" fill-rule=\"evenodd\"/></svg>',\n    'copy': '<svg width=\"24\" height=\"24\"><path d=\"M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z\" fill-rule=\"nonzero\"/></svg>',\n    'crop': '<svg width=\"24\" height=\"24\"><path d=\"M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z\" fill-rule=\"evenodd\"/></svg>',\n    'cut-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z\"/></svg>',\n    'cut-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z\"/></svg>',\n    'cut': '<svg width=\"24\" height=\"24\"><path d=\"M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'document-properties': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z\" fill-rule=\"nonzero\"/></svg>',\n    'drag': '<svg width=\"24\" height=\"24\"><path d=\"M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z\" fill-rule=\"evenodd\"/></svg>',\n    'duplicate-column': '<svg width=\"24\" height=\"24\"><path d=\"M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z\"/></svg>',\n    'duplicate-row': '<svg width=\"24\" height=\"24\"><path d=\"M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z\"/></svg>',\n    'duplicate': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z\"/><path d=\"M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z\"/></g></svg>',\n    'edit-block': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z\"/></svg>',\n    'edit-image': '<svg width=\"24\" height=\"24\"><path d=\"M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z\" fill-rule=\"nonzero\"/></svg>',\n    'embed-page': '<svg width=\"24\" height=\"24\"><path d=\"M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z\" fill-rule=\"nonzero\"/></svg>',\n    'embed': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z\" fill-rule=\"nonzero\"/></svg>',\n    'emoji': '<svg width=\"24\" height=\"24\"><path d=\"M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z\" fill-rule=\"nonzero\"/></svg>',\n    'export': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z\"/><path d=\"M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z\"/><path d=\"M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z\"/></g></svg>',\n    'fill': '<svg width=\"24\" height=\"26\"><path d=\"m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-horizontally': '<svg width=\"24\" height=\"24\"><path d=\"M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-vertically': '<svg width=\"24\" height=\"24\"><path d=\"M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z\" fill-rule=\"nonzero\"/></svg>',\n    'footnote': '<svg width=\"24\" height=\"24\"><path d=\"M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M19 4v6h-1V5h-1.5V4h2.6Z\"/><path d=\"M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z\"/></svg>',\n    'format-painter': '<svg width=\"24\" height=\"24\"><path d=\"M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z\" fill-rule=\"nonzero\"/></svg>',\n    'format': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z\"/></svg>',\n    'fullscreen': '<svg width=\"24\" height=\"24\"><path d=\"m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z\" fill-rule=\"nonzero\"/></svg>',\n    'gallery': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z\"/></svg>',\n    'gamma': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z\" fill-rule=\"nonzero\"/></svg>',\n    'help': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z\"/><path d=\"M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z\" fill-rule=\"nonzero\"/><circle cx=\"12\" cy=\"16\" r=\"1\"/></g></svg>',\n    'highlight-bg-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-highlight-bg-color__color\" d=\"M3 18h18v3H3z\"/><path fill-rule=\"nonzero\" d=\"M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6\"/></g></svg>',\n    'home': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"/></svg>',\n    'horizontal-rule': '<svg width=\"24\" height=\"24\"><path d=\"M4 11h16v2H4z\" fill-rule=\"evenodd\"/></svg>',\n    'image-options': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z\" fill-rule=\"nonzero\"/></svg>',\n    'image': '<svg width=\"24\" height=\"24\"><path d=\"m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z\" fill-rule=\"nonzero\"/></svg>',\n    'indent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z\" fill-rule=\"evenodd\"/></svg>',\n    'info': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-character': '<svg width=\"24\" height=\"24\"><path d=\"M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-time': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z\"/><path d=\"M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z\"/></g></svg>',\n    'invert': '<svg width=\"24\" height=\"24\"><path d=\"M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z\" fill-rule=\"evenodd\"/></svg>',\n    'italic': '<svg width=\"24\" height=\"24\"><path d=\"m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z\" fill-rule=\"evenodd\"/></svg>',\n    'language': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z\"/></svg>',\n    'line-height': '<svg width=\"24\" height=\"24\"><path d=\"M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z\"/></svg>',\n    'line': '<svg width=\"24\" height=\"24\"><path d=\"m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'link': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z\" fill-rule=\"nonzero\"/></svg>',\n    'list-bull-circle': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z\" fill-rule=\"nonzero\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><circle cx=\"11\" cy=\"14\" r=\"3\"/><circle cx=\"11\" cy=\"24\" r=\"3\"/><circle cx=\"11\" cy=\"34\" r=\"3\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-square': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-num-default-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\n    'list-num-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z\"/></g></svg>',\n    'list-num-lower-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-lower-greek-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-lower-greek': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-lower-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z\"/><path fill-rule=\"nonzero\" d=\"M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z\"/></g></svg>',\n    'list-num-lower-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z\"/><path fill-rule=\"nonzero\" d=\"M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z\"/></g></svg>',\n    'list-num-upper-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-upper-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-upper-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z\"/><path fill-rule=\"nonzero\" d=\"M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z\"/></g></svg>',\n    'list-num-upper-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z\"/><path fill-rule=\"nonzero\" d=\"M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z\"/></g></svg>',\n    'lock': '<svg width=\"24\" height=\"24\"><path d=\"M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z\" fill-rule=\"evenodd\"/></svg>',\n    'ltr': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z\" fill-rule=\"evenodd\"/></svg>',\n    'minus': '<svg width=\"24\" height=\"24\"><path d=\"M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z\"/></svg>',\n    'more-drawer': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z\" fill-rule=\"nonzero\"/></svg>',\n    'new-document': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z\" fill-rule=\"nonzero\"/></svg>',\n    'new-tab': '<svg width=\"24\" height=\"24\"><path d=\"m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z\" fill-rule=\"evenodd\"/></svg>',\n    'non-breaking': '<svg width=\"24\" height=\"24\"><path d=\"M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z\" fill-rule=\"evenodd\"/></svg>',\n    'notice': '<svg width=\"24\" height=\"24\"><path d=\"M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></svg>',\n    'ordered-list-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z\" fill-rule=\"evenodd\"/></svg>',\n    'ordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z\" fill-rule=\"evenodd\"/></svg>',\n    'orientation': '<svg width=\"24\" height=\"24\"><path d=\"M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z\" fill-rule=\"nonzero\"/></svg>',\n    'outdent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'page-break': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z\"/></g></svg>',\n    'paragraph': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z\"/></svg>',\n    'paste-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\n    'paste-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\n    'paste-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\n    'paste-row-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\n    'paste-text': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z\" fill-rule=\"nonzero\"/></svg>',\n    'paste': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z\" fill-rule=\"nonzero\"/></svg>',\n    'permanent-pen': '<svg width=\"24\" height=\"24\"><path d=\"M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z\" fill-rule=\"nonzero\"/></svg>',\n    'plus': '<svg width=\"24\" height=\"24\"><path d=\"M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z\"/></svg>',\n    'preferences': '<svg width=\"24\" height=\"24\"><path d=\"m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z\" fill-rule=\"evenodd\"/></svg>',\n    'preview': '<svg width=\"24\" height=\"24\"><path d=\"M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z\" fill-rule=\"nonzero\"/></svg>',\n    'print': '<svg width=\"24\" height=\"24\"><path d=\"M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z\" fill-rule=\"nonzero\"/></svg>',\n    'quote': '<svg width=\"24\" height=\"24\"><path d=\"M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z\" fill-rule=\"nonzero\"/></svg>',\n    'redo': '<svg width=\"24\" height=\"24\"><path d=\"M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z\" fill-rule=\"nonzero\"/></svg>',\n    'reload': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z\"/></g></svg>',\n    'remove-formatting': '<svg width=\"24\" height=\"24\"><path d=\"M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z\" fill-rule=\"evenodd\"/></svg>',\n    'remove': '<svg width=\"24\" height=\"24\"><path d=\"M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z\" fill-rule=\"nonzero\"/></svg>',\n    'resize-handle': '<svg width=\"10\" height=\"10\"><g fill-rule=\"nonzero\"><path d=\"M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z\"/></g></svg>',\n    'resize': '<svg width=\"24\" height=\"24\"><path d=\"M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z\" fill-rule=\"evenodd\"/></svg>',\n    'restore-draft': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z\"/><path d=\"M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z\" fill-rule=\"nonzero\"/></g></svg>',\n    'rotate-left': '<svg width=\"24\" height=\"24\"><path d=\"M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z\" fill-rule=\"nonzero\"/></svg>',\n    'rotate-right': '<svg width=\"24\" height=\"24\"><path d=\"M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z\" fill-rule=\"nonzero\"/></svg>',\n    'rtl': '<svg width=\"24\" height=\"24\"><path d=\"M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'save': '<svg width=\"24\" height=\"24\"><path d=\"M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z\" fill-rule=\"nonzero\"/></svg>',\n    'search': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z\" fill-rule=\"nonzero\"/></svg>',\n    'select-all': '<svg width=\"24\" height=\"24\"><path d=\"M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z\" fill-rule=\"nonzero\"/></svg>',\n    'selected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z\"/></svg>',\n    'settings': '<svg width=\"24\" height=\"24\"><path d=\"M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z\" fill-rule=\"evenodd\"/></svg>',\n    'sharpen': '<svg width=\"24\" height=\"24\"><path d=\"m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'sourcecode': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z\"/></g></svg>',\n    'spell-check': '<svg width=\"24\" height=\"24\"><path d=\"M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z\" fill-rule=\"evenodd\"/></svg>',\n    'strike-through': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z\"/><path d=\"M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z\" fill-rule=\"nonzero\"/></g></svg>',\n    'subscript': '<svg width=\"24\" height=\"24\"><path d=\"m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z\" fill-rule=\"nonzero\"/></svg>',\n    'superscript': '<svg width=\"24\" height=\"24\"><path d=\"M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z\" fill-rule=\"nonzero\"/></svg>',\n    'table-caption': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"12\" height=\"2\" x=\"3\" y=\"4\" rx=\"1\"/><path d=\"M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z\"/></g></svg>',\n    'table-cell-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z\"/><path fill-rule=\"nonzero\" d=\"M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z\" opacity=\".2\"/><path d=\"m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z\"/><path fill-rule=\"nonzero\" d=\"M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z\" opacity=\".2\"/></g></svg>',\n    'table-cell-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z\"/></svg>',\n    'table-cell-select-all': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z\" opacity=\".2\"/></g></svg>',\n    'table-cell-select-inner': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z\" opacity=\".2\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z\"/></g></svg>',\n    'table-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z\"/><path d=\"m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z\"/></g></svg>',\n    'table-delete-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z\"/></svg>',\n    'table-delete-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z\"/></svg>',\n    'table-delete-table': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z\"/><path d=\"m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z\"/></g></svg>',\n    'table-insert-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z\"/></svg>',\n    'table-insert-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z\"/></svg>',\n    'table-insert-row-above': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z\"/></svg>',\n    'table-insert-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z\"/></svg>',\n    'table-left-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z\"/></svg>',\n    'table-merge-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z\"/></svg>',\n    'table-row-numbering-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z\"/></svg>',\n    'table-row-numbering': '<svg width=\"24\" height=\"24\"><path d=\"M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z\"/></svg>',\n    'table-row-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z\"/></svg>',\n    'table-split-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z\"/></svg>',\n    'table-top-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z\"/></svg>',\n    'table': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z\"/></svg>',\n    'template-add': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z\"/><path d=\"M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z\"/></svg>',\n    'template': '<svg width=\"24\" height=\"24\"><path d=\"M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z\" fill-rule=\"nonzero\"/></svg>',\n    'temporary-placeholder': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z\"/><circle cx=\"14\" cy=\"4\" r=\"1\"/><circle cx=\"12\" cy=\"2\" r=\"1\"/><circle cx=\"10\" cy=\"4\" r=\"1\"/></g></svg>',\n    'text-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-text-color__color\" d=\"M3 18h18v3H3z\"/><path d=\"M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z\"/></g></svg>',\n    'text-size-decrease': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z\"/></svg>',\n    'text-size-increase': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z\"/></svg>',\n    'toc': '<svg width=\"24\" height=\"24\"><path d=\"M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'translate': '<svg width=\"24\" height=\"24\"><path d=\"m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'typography': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z\"/><path d=\"m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z\"/></svg>',\n    'underline': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'undo': '<svg width=\"24\" height=\"24\"><path d=\"M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z\" fill-rule=\"nonzero\"/></svg>',\n    'unlink': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z\" fill-rule=\"nonzero\"/></svg>',\n    'unlock': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z\" fill-rule=\"evenodd\"/></svg>',\n    'unordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z\" fill-rule=\"evenodd\"/></svg>',\n    'unselected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z\"/></svg>',\n    'upload': '<svg width=\"24\" height=\"24\"><path d=\"M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z\" fill-rule=\"nonzero\"/></svg>',\n    'user': '<svg width=\"24\" height=\"24\"><path d=\"M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z\" fill-rule=\"nonzero\"/></svg>',\n    'vertical-align': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><path d=\"M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z\"/></g></svg>',\n    'visualblocks': '<svg width=\"24\" height=\"24\"><path d=\"M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z\" fill-rule=\"evenodd\"/></svg>',\n    'visualchars': '<svg width=\"24\" height=\"24\"><path d=\"M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z\" fill-rule=\"evenodd\"/></svg>',\n    'warning': '<svg width=\"24\" height=\"24\"><path d=\"M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z\" fill-rule=\"evenodd\"/></svg>',\n    'zoom-in': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z\" fill-rule=\"nonzero\"/></svg>',\n    'zoom-out': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z\" fill-rule=\"nonzero\"/></svg>',\n  }\n});","// Exports the \"silver\" theme for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/themes/silver')\n//   ES2015:\n//     import 'tinymce/themes/silver'\nrequire('./theme.js');","/**\n * TinyMCE version 6.4.1 (2023-03-29)\n */\n\n(function () {\n    'use strict';\n\n    const getPrototypeOf$2 = Object.getPrototypeOf;\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$1 = t => a => t === a;\n    const is$2 = (value, constructor) => isObject(value) && hasProto(value, constructor, (o, proto) => getPrototypeOf$2(o) === proto);\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isPlainObject = value => is$2(value, Object);\n    const isArray = isType$1('array');\n    const isNull = eq$1(null);\n    const isBoolean = isSimpleType('boolean');\n    const isUndefined = eq$1(undefined);\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n    const isArrayOf = (value, pred) => {\n      if (isArray(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n    const noarg = f => () => f();\n    const compose = (fa, fb) => {\n      return (...args) => {\n        return fa(fb.apply(null, args));\n      };\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant$1 = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const not = f => t => !f(t);\n    const die = msg => {\n      return () => {\n        throw new Error(msg);\n      };\n    };\n    const apply$1 = f => {\n      return f();\n    };\n    const never = constant$1(false);\n    const always = constant$1(true);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const indexOf = (xs, x) => {\n      const r = rawIndexOf(xs, x);\n      return r === -1 ? Optional.none() : Optional.some(r);\n    };\n    const contains$2 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const range$2 = (num, f) => {\n      const r = [];\n      for (let i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    const chunk$1 = (array, size) => {\n      const r = [];\n      for (let i = 0; i < array.length; i += size) {\n        const s = nativeSlice.call(array, i, i + size);\n        r.push(s);\n      }\n      return r;\n    };\n    const map$2 = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition$3 = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter$2 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each$1(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find$5 = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const findIndex$1 = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind$3 = (xs, f) => flatten(map$2(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const difference = (a1, a2) => filter$2(a1, x => !contains$2(a2, x));\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const pure$2 = x => [x];\n    const sort = (xs, comparator) => {\n      const copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    const get$h = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$h(xs, 0);\n    const last$1 = xs => get$h(xs, xs.length - 1);\n    const from = isFunction(Array.from) ? Array.from : x => nativeSlice.call(x);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty$1 = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const map$1 = (obj, f) => {\n      return tupleMap(obj, (x, i) => ({\n        k: i,\n        v: f(x, i)\n      }));\n    };\n    const tupleMap = (obj, f) => {\n      const r = {};\n      each(obj, (x, i) => {\n        const tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const bifilter = (obj, pred) => {\n      const t = {};\n      const f = {};\n      internalFilter(obj, pred, objAcc(t), objAcc(f));\n      return {\n        t,\n        f\n      };\n    };\n    const filter$1 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const find$4 = (obj, pred) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        if (pred(x, i, obj)) {\n          return Optional.some(x);\n        }\n      }\n      return Optional.none();\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const get$g = (obj, key) => {\n      return has$2(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has$2 = (obj, key) => hasOwnProperty$1.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has$2(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    const is$1 = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const equals = (lhs, rhs, comparator = tripleEquals) => lift2(lhs, rhs, comparator).getOr(lhs.isNone() && rhs.isNone());\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const sequence = arr => {\n      const r = [];\n      for (let i = 0; i < arr.length; i++) {\n        const x = arr[i];\n        if (x.isSome()) {\n          r.push(x.getOrDie());\n        } else {\n          return Optional.none();\n        }\n      }\n      return Optional.some(r);\n    };\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    const lift3 = (oa, ob, oc, f) => oa.isSome() && ob.isSome() && oc.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Optional.none();\n    const mapFrom = (a, f) => a !== undefined && a !== null ? Optional.some(f(a)) : Optional.none();\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const addToEnd = (str, suffix) => {\n      return str + suffix;\n    };\n    const removeFromStart = (str, numChars) => {\n      return str.substring(numChars);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const removeLeading = (str, prefix) => {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    const ensureTrailing = (str, suffix) => {\n      return endsWith(str, suffix) ? str : addToEnd(str, suffix);\n    };\n    const contains$1 = (str, substr, start = 0, end) => {\n      const idx = str.indexOf(substr, start);\n      if (idx !== -1) {\n        return isUndefined(end) ? true : idx + substr.length <= end;\n      } else {\n        return false;\n      }\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const endsWith = (str, suffix) => {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim$1 = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty = s => !isNotEmpty(s);\n\n    const isSupported$1 = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const fromHtml$2 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    const fromDom = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    const SugarElement = {\n      fromHtml: fromHtml$2,\n      fromTag,\n      fromText,\n      fromDom,\n      fromPoint\n    };\n\n    const Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const path$1 = (parts, scope) => {\n      let o = scope !== undefined && scope !== null ? scope : Global;\n      for (let i = 0; i < parts.length && o !== undefined && o !== null; ++i) {\n        o = o[parts[i]];\n      }\n      return o;\n    };\n    const resolve = (p, scope) => {\n      const parts = p.split('.');\n      return path$1(parts, scope);\n    };\n\n    const unsafe = (name, scope) => {\n      return resolve(name, scope);\n    };\n    const getOrDie$1 = (name, scope) => {\n      const actual = unsafe(name, scope);\n      if (actual === undefined || actual === null) {\n        throw new Error(name + ' not available on this browser');\n      }\n      return actual;\n    };\n\n    const getPrototypeOf$1 = Object.getPrototypeOf;\n    const sandHTMLElement = scope => {\n      return getOrDie$1('HTMLElement', scope);\n    };\n    const isPrototypeOf = x => {\n      const scope = resolve('ownerDocument.defaultView', x);\n      return isObject(x) && (sandHTMLElement(scope).prototype.isPrototypeOf(x) || /^HTML\\w*Element$/.test(getPrototypeOf$1(x).constructor.name));\n    };\n\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const name$3 = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type$1 = element => element.dom.nodeType;\n    const isType = t => element => type$1(element) === t;\n    const isHTMLElement = element => isElement$1(element) && isPrototypeOf(element.dom);\n    const isElement$1 = isType(ELEMENT);\n    const isText = isType(TEXT);\n    const isDocument = isType(DOCUMENT);\n    const isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement$1(e) && name$3(e) === tag;\n\n    const is = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all$3 = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$2(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const contains = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n\n    const owner$4 = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument(dos) ? dos : owner$4(dos);\n    const documentElement = element => SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    const defaultView = element => SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parentElement = element => Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    const parents = (element, isRoot) => {\n      const stop = isFunction(isRoot) ? isRoot : never;\n      let dom = element.dom;\n      const ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        const rawParent = dom.parentNode;\n        const p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    const offsetParent = element => Optional.from(element.dom.offsetParent).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children = element => map$2(element.dom.childNodes, SugarElement.fromDom);\n    const child$2 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$2(element, 0);\n    const spot = (element, offset) => ({\n      element,\n      offset\n    });\n    const leaf = (element, offset) => {\n      const cs = children(element);\n      return cs.length > 0 && offset < cs.length ? spot(cs[offset], 0) : spot(element, offset);\n    };\n\n    const isShadowRoot = dos => isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    const supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    const isSupported = constant$1(supported);\n    const getRootNode = supported ? e => SugarElement.fromDom(e.dom.getRootNode()) : documentOrOwner;\n    const getContentContainer = dos => isShadowRoot(dos) ? dos : SugarElement.fromDom(documentOrOwner(dos).dom.body);\n    const isInShadowRoot = e => getShadowRoot(e).isSome();\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n    const getOriginalEventTarget = event => {\n      if (isSupported() && isNonNullable(event.target)) {\n        const el = SugarElement.fromDom(event.target);\n        if (isElement$1(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            const composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    const isOpenShadowHost = element => isNonNullable(element.dom.shadowRoot);\n\n    const inBody = element => {\n      const dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n    const body = () => getBody(SugarElement.fromDom(document));\n    const getBody = doc => {\n      const b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$9 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll$1 = (element, attrs) => {\n      const dom = element.dom;\n      each(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const get$f = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$f(element, key));\n    const has$1 = (element, key) => {\n      const dom = element.dom;\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    const remove$7 = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const clone$2 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported$1(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported$1(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$8 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const setAll = (element, css) => {\n      const dom = element.dom;\n      each(css, (v, k) => {\n        internalSet(dom, k, v);\n      });\n    };\n    const setOptions = (element, css) => {\n      const dom = element.dom;\n      each(css, (v, k) => {\n        v.fold(() => {\n          internalRemove(dom, k);\n        }, value => {\n          internalSet(dom, k, value);\n        });\n      });\n    };\n    const get$e = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported$1(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const getAllRaw = element => {\n      const css = {};\n      const dom = element.dom;\n      if (isSupported$1(dom)) {\n        for (let i = 0; i < dom.style.length; i++) {\n          const ruleName = dom.style.item(i);\n          css[ruleName] = dom.style[ruleName];\n        }\n      }\n      return css;\n    };\n    const isValidValue = (tag, property, value) => {\n      const element = SugarElement.fromTag(tag);\n      set$8(element, property, value);\n      const style = getRaw(element, property);\n      return style.isSome();\n    };\n    const remove$6 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is$1(getOpt(element, 'style').map(trim$1), '')) {\n        remove$7(element, 'style');\n      }\n    };\n    const reflow = e => e.dom.offsetWidth;\n\n    const Dimension = (name, getOffset) => {\n      const set = (element, h) => {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        const dom = element.dom;\n        if (isSupported$1(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      const get = element => {\n        const r = getOffset(element);\n        if (r <= 0 || r === null) {\n          const css = get$e(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      const getOuter = get;\n      const aggregate = (element, properties) => foldl(properties, (acc, property) => {\n        const val = get$e(element, property);\n        const value = val === undefined ? 0 : parseInt(val, 10);\n        return isNaN(value) ? acc : acc + value;\n      }, 0);\n      const max = (element, value, properties) => {\n        const cumulativeInclusions = aggregate(element, properties);\n        const absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set,\n        get,\n        getOuter,\n        aggregate,\n        max\n      };\n    };\n\n    const api$2 = Dimension('height', element => {\n      const dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    const get$d = element => api$2.get(element);\n    const getOuter$2 = element => api$2.getOuter(element);\n    const setMax$1 = (element, value) => {\n      const inclusions = [\n        'margin-top',\n        'border-top-width',\n        'padding-top',\n        'padding-bottom',\n        'border-bottom-width',\n        'margin-bottom'\n      ];\n      const absMax = api$2.max(element, value, inclusions);\n      set$8(element, 'max-height', absMax + 'px');\n    };\n\n    const r$1 = (left, top) => {\n      const translate = (x, y) => r$1(left + x, top + y);\n      return {\n        left,\n        top,\n        translate\n      };\n    };\n    const SugarPosition = r$1;\n\n    const boxPosition = dom => {\n      const box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    const firstDefinedOrZero = (a, b) => {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    const absolute$3 = element => {\n      const doc = element.dom.ownerDocument;\n      const body = doc.body;\n      const win = doc.defaultView;\n      const html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      const scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      const scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      const clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      const clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport$1(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    const viewport$1 = element => {\n      const dom = element.dom;\n      const doc = dom.ownerDocument;\n      const body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    const api$1 = Dimension('width', element => element.dom.offsetWidth);\n    const set$7 = (element, h) => api$1.set(element, h);\n    const get$c = element => api$1.get(element);\n    const getOuter$1 = element => api$1.getOuter(element);\n    const setMax = (element, value) => {\n      const inclusions = [\n        'margin-left',\n        'border-left-width',\n        'padding-left',\n        'padding-right',\n        'border-right-width',\n        'margin-right'\n      ];\n      const absMax = api$1.max(element, value, inclusions);\n      set$8(element, 'max-width', absMax + 'px');\n    };\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const DeviceType = (os, browser, userAgent, mediaMatch) => {\n      const isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      const isiPhone = os.isiOS() && !isiPad;\n      const isMobile = os.isiOS() || os.isAndroid();\n      const isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      const isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      const isPhone = isiPhone || isMobile && !isTablet;\n      const iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      const isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant$1(isiPad),\n        isiPhone: constant$1(isiPhone),\n        isTablet: constant$1(isTablet),\n        isPhone: constant$1(isPhone),\n        isTouch: constant$1(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant$1(iOSwebview),\n        isDesktop: constant$1(isDesktop)\n      };\n    };\n\n    const firstMatch = (regexes, s) => {\n      for (let i = 0; i < regexes.length; i++) {\n        const x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    const find$3 = (regexes, agent) => {\n      const r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      const group = i => {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$d(group(1), group(2));\n    };\n    const detect$5 = (versionRegexes, agent) => {\n      const cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$3();\n      }\n      return find$3(versionRegexes, cleanedAgent);\n    };\n    const unknown$3 = () => {\n      return nu$d(0, 0);\n    };\n    const nu$d = (major, minor) => {\n      return {\n        major,\n        minor\n      };\n    };\n    const Version = {\n      nu: nu$d,\n      detect: detect$5,\n      unknown: unknown$3\n    };\n\n    const detectBrowser$1 = (browsers, userAgentData) => {\n      return findMap(userAgentData.brands, uaBrand => {\n        const lcBrand = uaBrand.brand.toLowerCase();\n        return find$5(browsers, browser => {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(info => ({\n          current: info.name,\n          version: Version.nu(parseInt(uaBrand.version, 10), 0)\n        }));\n      });\n    };\n\n    const detect$4 = (candidates, userAgent) => {\n      const agent = String(userAgent).toLowerCase();\n      return find$5(candidates, candidate => {\n        return candidate.search(agent);\n      });\n    };\n    const detectBrowser = (browsers, userAgent) => {\n      return detect$4(browsers, userAgent).map(browser => {\n        const version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version\n        };\n      });\n    };\n    const detectOs = (oses, userAgent) => {\n      return detect$4(oses, userAgent).map(os => {\n        const version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version\n        };\n      });\n    };\n\n    const normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    const checkContains = target => {\n      return uastring => {\n        return contains$1(uastring, target);\n      };\n    };\n    const browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: uastring => {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chromium',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: uastring => {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    const oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: uastring => {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'macOS',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    const PlatformInfo = {\n      browsers: constant$1(browsers),\n      oses: constant$1(oses)\n    };\n\n    const edge = 'Edge';\n    const chromium = 'Chromium';\n    const ie = 'IE';\n    const opera = 'Opera';\n    const firefox = 'Firefox';\n    const safari = 'Safari';\n    const unknown$2 = () => {\n      return nu$c({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$c = info => {\n      const current = info.current;\n      const version = info.version;\n      const isBrowser = name => () => current === name;\n      return {\n        current,\n        version,\n        isEdge: isBrowser(edge),\n        isChromium: isBrowser(chromium),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    const Browser = {\n      unknown: unknown$2,\n      nu: nu$c,\n      edge: constant$1(edge),\n      chromium: constant$1(chromium),\n      ie: constant$1(ie),\n      opera: constant$1(opera),\n      firefox: constant$1(firefox),\n      safari: constant$1(safari)\n    };\n\n    const windows = 'Windows';\n    const ios = 'iOS';\n    const android = 'Android';\n    const linux = 'Linux';\n    const macos = 'macOS';\n    const solaris = 'Solaris';\n    const freebsd = 'FreeBSD';\n    const chromeos = 'ChromeOS';\n    const unknown$1 = () => {\n      return nu$b({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$b = info => {\n      const current = info.current;\n      const version = info.version;\n      const isOS = name => () => current === name;\n      return {\n        current,\n        version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isMacOS: isOS(macos),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    const OperatingSystem = {\n      unknown: unknown$1,\n      nu: nu$b,\n      windows: constant$1(windows),\n      ios: constant$1(ios),\n      android: constant$1(android),\n      linux: constant$1(linux),\n      macos: constant$1(macos),\n      solaris: constant$1(solaris),\n      freebsd: constant$1(freebsd),\n      chromeos: constant$1(chromeos)\n    };\n\n    const detect$3 = (userAgent, userAgentDataOpt, mediaMatch) => {\n      const browsers = PlatformInfo.browsers();\n      const oses = PlatformInfo.oses();\n      const browser = userAgentDataOpt.bind(userAgentData => detectBrowser$1(browsers, userAgentData)).orThunk(() => detectBrowser(browsers, userAgent)).fold(Browser.unknown, Browser.nu);\n      const os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      const deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser,\n        os,\n        deviceType\n      };\n    };\n    const PlatformDetection = { detect: detect$3 };\n\n    const mediaMatch = query => window.matchMedia(query).matches;\n    let platform = cached(() => PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch));\n    const detect$2 = () => platform();\n\n    const mkEvent = (target, x, y, stop, prevent, kill, raw) => ({\n      target,\n      x,\n      y,\n      stop,\n      prevent,\n      kill,\n      raw\n    });\n    const fromRawEvent$1 = rawEvent => {\n      const target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      const stop = () => rawEvent.stopPropagation();\n      const prevent = () => rawEvent.preventDefault();\n      const kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    const handle = (filter, handler) => rawEvent => {\n      if (filter(rawEvent)) {\n        handler(fromRawEvent$1(rawEvent));\n      }\n    };\n    const binder = (element, event, filter, handler, useCapture) => {\n      const wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    const bind$2 = (element, event, filter, handler) => binder(element, event, filter, handler, false);\n    const capture$1 = (element, event, filter, handler) => binder(element, event, filter, handler, true);\n    const unbind = (element, event, handler, useCapture) => {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    const before$1 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$2 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$2(v, element);\n        });\n      }, v => {\n        before$1(v, element);\n      });\n    };\n    const prepend$1 = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$2(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$2 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const appendAt = (parent, element, index) => {\n      child$2(parent, index).fold(() => {\n        append$2(parent, element);\n      }, v => {\n        before$1(v, element);\n      });\n    };\n\n    const append$1 = (parent, elements) => {\n      each$1(elements, x => {\n        append$2(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$1(children(element), rogue => {\n        remove$5(rogue);\n      });\n    };\n    const remove$5 = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n\n    const get$b = _DOC => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      const y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    const to = (x, y, _DOC) => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const win = doc.defaultView;\n      if (win) {\n        win.scrollTo(x, y);\n      }\n    };\n\n    const get$a = _win => {\n      const win = _win === undefined ? window : _win;\n      if (detect$2().browser.isFirefox()) {\n        return Optional.none();\n      } else {\n        return Optional.from(win.visualViewport);\n      }\n    };\n    const bounds$1 = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height,\n      right: x + width,\n      bottom: y + height\n    });\n    const getBounds$3 = _win => {\n      const win = _win === undefined ? window : _win;\n      const doc = win.document;\n      const scroll = get$b(SugarElement.fromDom(doc));\n      return get$a(win).fold(() => {\n        const html = win.document.documentElement;\n        const width = html.clientWidth;\n        const height = html.clientHeight;\n        return bounds$1(scroll.left, scroll.top, width, height);\n      }, visualViewport => bounds$1(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height));\n    };\n\n    const getDocument = () => SugarElement.fromDom(document);\n\n    const walkUp = (navigation, doc) => {\n      const frame = navigation.view(doc);\n      return frame.fold(constant$1([]), f => {\n        const parent = navigation.owner(f);\n        const rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    const pathTo = (element, navigation) => {\n      const d = navigation.owner(element);\n      const paths = walkUp(navigation, d);\n      return Optional.some(paths);\n    };\n\n    const view = doc => {\n      var _a;\n      const element = doc.dom === document ? Optional.none() : Optional.from((_a = doc.dom.defaultView) === null || _a === void 0 ? void 0 : _a.frameElement);\n      return element.map(SugarElement.fromDom);\n    };\n    const owner$3 = element => owner$4(element);\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        view: view,\n        owner: owner$3\n    });\n\n    const find$2 = element => {\n      const doc = getDocument();\n      const scroll = get$b(doc);\n      const path = pathTo(element, Navigation);\n      return path.fold(curry(absolute$3, element), frames => {\n        const offset = viewport$1(element);\n        const r = foldr(frames, (b, a) => {\n          const loc = viewport$1(a);\n          return {\n            left: b.left + loc.left,\n            top: b.top + loc.top\n          };\n        }, {\n          left: 0,\n          top: 0\n        });\n        return SugarPosition(r.left + offset.left + scroll.left, r.top + offset.top + scroll.top);\n      });\n    };\n\n    const pointed = (point, width, height) => ({\n      point,\n      width,\n      height\n    });\n    const rect = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height\n    });\n    const bounds = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height,\n      right: x + width,\n      bottom: y + height\n    });\n    const box$1 = element => {\n      const xy = absolute$3(element);\n      const w = getOuter$1(element);\n      const h = getOuter$2(element);\n      return bounds(xy.left, xy.top, w, h);\n    };\n    const absolute$2 = element => {\n      const position = find$2(element);\n      const width = getOuter$1(element);\n      const height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    const constrain = (original, constraint) => {\n      const left = Math.max(original.x, constraint.x);\n      const top = Math.max(original.y, constraint.y);\n      const right = Math.min(original.right, constraint.right);\n      const bottom = Math.min(original.bottom, constraint.bottom);\n      const width = right - left;\n      const height = bottom - top;\n      return bounds(left, top, width, height);\n    };\n    const constrainByMany = (original, constraints) => {\n      return foldl(constraints, (acc, c) => constrain(acc, c), original);\n    };\n    const win = () => getBounds$3(window);\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.ThemeManager');\n\n    const value$4 = value => {\n      const applyHelper = fn => fn(value);\n      const constHelper = constant$1(value);\n      const outputHelper = () => output;\n      const output = {\n        tag: true,\n        inner: value,\n        fold: (_onError, onValue) => onValue(value),\n        isValue: always,\n        isError: never,\n        map: mapper => Result.value(mapper(value)),\n        mapError: outputHelper,\n        bind: applyHelper,\n        exists: applyHelper,\n        forall: applyHelper,\n        getOr: constHelper,\n        or: outputHelper,\n        getOrThunk: constHelper,\n        orThunk: outputHelper,\n        getOrDie: constHelper,\n        each: fn => {\n          fn(value);\n        },\n        toOptional: () => Optional.some(value)\n      };\n      return output;\n    };\n    const error$1 = error => {\n      const outputHelper = () => output;\n      const output = {\n        tag: false,\n        inner: error,\n        fold: (onError, _onValue) => onError(error),\n        isValue: never,\n        isError: always,\n        map: outputHelper,\n        mapError: mapper => Result.error(mapper(error)),\n        bind: outputHelper,\n        exists: never,\n        forall: always,\n        getOr: identity,\n        or: identity,\n        getOrThunk: apply$1,\n        orThunk: apply$1,\n        getOrDie: die(String(error)),\n        each: noop,\n        toOptional: Optional.none\n      };\n      return output;\n    };\n    const fromOption = (optional, err) => optional.fold(() => error$1(err), value$4);\n    const Result = {\n      value: value$4,\n      error: error$1,\n      fromOption\n    };\n\n    var SimpleResultType;\n    (function (SimpleResultType) {\n      SimpleResultType[SimpleResultType['Error'] = 0] = 'Error';\n      SimpleResultType[SimpleResultType['Value'] = 1] = 'Value';\n    }(SimpleResultType || (SimpleResultType = {})));\n    const fold$1 = (res, onError, onValue) => res.stype === SimpleResultType.Error ? onError(res.serror) : onValue(res.svalue);\n    const partition$2 = results => {\n      const values = [];\n      const errors = [];\n      each$1(results, obj => {\n        fold$1(obj, err => errors.push(err), val => values.push(val));\n      });\n      return {\n        values,\n        errors\n      };\n    };\n    const mapError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return {\n          stype: SimpleResultType.Error,\n          serror: f(res.serror)\n        };\n      } else {\n        return res;\n      }\n    };\n    const map = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return {\n          stype: SimpleResultType.Value,\n          svalue: f(res.svalue)\n        };\n      } else {\n        return res;\n      }\n    };\n    const bind$1 = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return f(res.svalue);\n      } else {\n        return res;\n      }\n    };\n    const bindError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return f(res.serror);\n      } else {\n        return res;\n      }\n    };\n    const svalue = v => ({\n      stype: SimpleResultType.Value,\n      svalue: v\n    });\n    const serror = e => ({\n      stype: SimpleResultType.Error,\n      serror: e\n    });\n    const toResult$1 = res => fold$1(res, Result.error, Result.value);\n    const fromResult$1 = res => res.fold(serror, svalue);\n    const SimpleResult = {\n      fromResult: fromResult$1,\n      toResult: toResult$1,\n      svalue,\n      partition: partition$2,\n      serror,\n      bind: bind$1,\n      bindError,\n      map,\n      mapError,\n      fold: fold$1\n    };\n\n    const field$2 = (key, newKey, presence, prop) => ({\n      tag: 'field',\n      key,\n      newKey,\n      presence,\n      prop\n    });\n    const customField$1 = (newKey, instantiator) => ({\n      tag: 'custom',\n      newKey,\n      instantiator\n    });\n    const fold = (value, ifField, ifCustom) => {\n      switch (value.tag) {\n      case 'field':\n        return ifField(value.key, value.newKey, value.presence, value.prop);\n      case 'custom':\n        return ifCustom(value.newKey, value.instantiator);\n      }\n    };\n\n    const shallow$1 = (old, nu) => {\n      return nu;\n    };\n    const deep = (old, nu) => {\n      const bothObjects = isPlainObject(old) && isPlainObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    const baseMerge = merger => {\n      return (...objects) => {\n        if (objects.length === 0) {\n          throw new Error(`Can't merge zero objects`);\n        }\n        const ret = {};\n        for (let j = 0; j < objects.length; j++) {\n          const curObject = objects[j];\n          for (const key in curObject) {\n            if (has$2(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    const deepMerge = baseMerge(deep);\n    const merge$1 = baseMerge(shallow$1);\n\n    const required$2 = () => ({\n      tag: 'required',\n      process: {}\n    });\n    const defaultedThunk = fallbackThunk => ({\n      tag: 'defaultedThunk',\n      process: fallbackThunk\n    });\n    const defaulted$1 = fallback => defaultedThunk(constant$1(fallback));\n    const asOption = () => ({\n      tag: 'option',\n      process: {}\n    });\n    const mergeWithThunk = baseThunk => ({\n      tag: 'mergeWithThunk',\n      process: baseThunk\n    });\n    const mergeWith = base => mergeWithThunk(constant$1(base));\n\n    const mergeValues$1 = (values, base) => values.length > 0 ? SimpleResult.svalue(deepMerge(base, merge$1.apply(undefined, values))) : SimpleResult.svalue(base);\n    const mergeErrors$1 = errors => compose(SimpleResult.serror, flatten)(errors);\n    const consolidateObj = (objects, base) => {\n      const partition = SimpleResult.partition(objects);\n      return partition.errors.length > 0 ? mergeErrors$1(partition.errors) : mergeValues$1(partition.values, base);\n    };\n    const consolidateArr = objects => {\n      const partitions = SimpleResult.partition(objects);\n      return partitions.errors.length > 0 ? mergeErrors$1(partitions.errors) : SimpleResult.svalue(partitions.values);\n    };\n    const ResultCombine = {\n      consolidateObj,\n      consolidateArr\n    };\n\n    const formatObj = input => {\n      return isObject(input) && keys(input).length > 100 ? ' removed due to size' : JSON.stringify(input, null, 2);\n    };\n    const formatErrors = errors => {\n      const es = errors.length > 10 ? errors.slice(0, 10).concat([{\n          path: [],\n          getErrorInfo: constant$1('... (only showing first ten failures)')\n        }]) : errors;\n      return map$2(es, e => {\n        return 'Failed path: (' + e.path.join(' > ') + ')\\n' + e.getErrorInfo();\n      });\n    };\n\n    const nu$a = (path, getErrorInfo) => {\n      return SimpleResult.serror([{\n          path,\n          getErrorInfo\n        }]);\n    };\n    const missingRequired = (path, key, obj) => nu$a(path, () => 'Could not find valid *required* value for \"' + key + '\" in ' + formatObj(obj));\n    const missingKey = (path, key) => nu$a(path, () => 'Choice schema did not contain choice key: \"' + key + '\"');\n    const missingBranch = (path, branches, branch) => nu$a(path, () => 'The chosen schema: \"' + branch + '\" did not exist in branches: ' + formatObj(branches));\n    const unsupportedFields = (path, unsupported) => nu$a(path, () => 'There are unsupported fields: [' + unsupported.join(', ') + '] specified');\n    const custom = (path, err) => nu$a(path, constant$1(err));\n\n    const value$3 = validator => {\n      const extract = (path, val) => {\n        return SimpleResult.bindError(validator(val), err => custom(path, err));\n      };\n      const toString = constant$1('val');\n      return {\n        extract,\n        toString\n      };\n    };\n    const anyValue$1 = value$3(SimpleResult.svalue);\n\n    const requiredAccess = (path, obj, key, bundle) => get$g(obj, key).fold(() => missingRequired(path, key, obj), bundle);\n    const fallbackAccess = (obj, key, fallback, bundle) => {\n      const v = get$g(obj, key).getOrThunk(() => fallback(obj));\n      return bundle(v);\n    };\n    const optionAccess = (obj, key, bundle) => bundle(get$g(obj, key));\n    const optionDefaultedAccess = (obj, key, fallback, bundle) => {\n      const opt = get$g(obj, key).map(val => val === true ? fallback(obj) : val);\n      return bundle(opt);\n    };\n    const extractField = (field, path, obj, key, prop) => {\n      const bundle = av => prop.extract(path.concat([key]), av);\n      const bundleAsOption = optValue => optValue.fold(() => SimpleResult.svalue(Optional.none()), ov => {\n        const result = prop.extract(path.concat([key]), ov);\n        return SimpleResult.map(result, Optional.some);\n      });\n      switch (field.tag) {\n      case 'required':\n        return requiredAccess(path, obj, key, bundle);\n      case 'defaultedThunk':\n        return fallbackAccess(obj, key, field.process, bundle);\n      case 'option':\n        return optionAccess(obj, key, bundleAsOption);\n      case 'defaultedOptionThunk':\n        return optionDefaultedAccess(obj, key, field.process, bundleAsOption);\n      case 'mergeWithThunk': {\n          return fallbackAccess(obj, key, constant$1({}), v => {\n            const result = deepMerge(field.process(obj), v);\n            return bundle(result);\n          });\n        }\n      }\n    };\n    const extractFields = (path, obj, fields) => {\n      const success = {};\n      const errors = [];\n      for (const field of fields) {\n        fold(field, (key, newKey, presence, prop) => {\n          const result = extractField(presence, path, obj, key, prop);\n          SimpleResult.fold(result, err => {\n            errors.push(...err);\n          }, res => {\n            success[newKey] = res;\n          });\n        }, (newKey, instantiator) => {\n          success[newKey] = instantiator(obj);\n        });\n      }\n      return errors.length > 0 ? SimpleResult.serror(errors) : SimpleResult.svalue(success);\n    };\n    const valueThunk = getDelegate => {\n      const extract = (path, val) => getDelegate().extract(path, val);\n      const toString = () => getDelegate().toString();\n      return {\n        extract,\n        toString\n      };\n    };\n    const getSetKeys = obj => keys(filter$1(obj, isNonNullable));\n    const objOfOnly = fields => {\n      const delegate = objOf(fields);\n      const fieldNames = foldr(fields, (acc, value) => {\n        return fold(value, key => deepMerge(acc, { [key]: true }), constant$1(acc));\n      }, {});\n      const extract = (path, o) => {\n        const keys = isBoolean(o) ? [] : getSetKeys(o);\n        const extra = filter$2(keys, k => !hasNonNullableKey(fieldNames, k));\n        return extra.length === 0 ? delegate.extract(path, o) : unsupportedFields(path, extra);\n      };\n      return {\n        extract,\n        toString: delegate.toString\n      };\n    };\n    const objOf = values => {\n      const extract = (path, o) => extractFields(path, o, values);\n      const toString = () => {\n        const fieldStrings = map$2(values, value => fold(value, (key, _okey, _presence, prop) => key + ' -> ' + prop.toString(), (newKey, _instantiator) => 'state(' + newKey + ')'));\n        return 'obj{\\n' + fieldStrings.join('\\n') + '}';\n      };\n      return {\n        extract,\n        toString\n      };\n    };\n    const arrOf = prop => {\n      const extract = (path, array) => {\n        const results = map$2(array, (a, i) => prop.extract(path.concat(['[' + i + ']']), a));\n        return ResultCombine.consolidateArr(results);\n      };\n      const toString = () => 'array(' + prop.toString() + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const oneOf = (props, rawF) => {\n      const f = rawF !== undefined ? rawF : identity;\n      const extract = (path, val) => {\n        const errors = [];\n        for (const prop of props) {\n          const res = prop.extract(path, val);\n          if (res.stype === SimpleResultType.Value) {\n            return {\n              stype: SimpleResultType.Value,\n              svalue: f(res.svalue)\n            };\n          }\n          errors.push(res);\n        }\n        return ResultCombine.consolidateArr(errors);\n      };\n      const toString = () => 'oneOf(' + map$2(props, prop => prop.toString()).join(', ') + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const setOf$1 = (validator, prop) => {\n      const validateKeys = (path, keys) => arrOf(value$3(validator)).extract(path, keys);\n      const extract = (path, o) => {\n        const keys$1 = keys(o);\n        const validatedKeys = validateKeys(path, keys$1);\n        return SimpleResult.bind(validatedKeys, validKeys => {\n          const schema = map$2(validKeys, vk => {\n            return field$2(vk, vk, required$2(), prop);\n          });\n          return objOf(schema).extract(path, o);\n        });\n      };\n      const toString = () => 'setOf(' + prop.toString() + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const thunk = (_desc, processor) => {\n      const getP = cached(processor);\n      const extract = (path, val) => getP().extract(path, val);\n      const toString = () => getP().toString();\n      return {\n        extract,\n        toString\n      };\n    };\n    const arrOfObj = compose(arrOf, objOf);\n\n    const anyValue = constant$1(anyValue$1);\n    const typedValue = (validator, expectedType) => value$3(a => {\n      const actualType = typeof a;\n      return validator(a) ? SimpleResult.svalue(a) : SimpleResult.serror(`Expected type: ${ expectedType } but got: ${ actualType }`);\n    });\n    const number = typedValue(isNumber, 'number');\n    const string = typedValue(isString, 'string');\n    const boolean = typedValue(isBoolean, 'boolean');\n    const functionProcessor = typedValue(isFunction, 'function');\n    const isPostMessageable = val => {\n      if (Object(val) !== val) {\n        return true;\n      }\n      switch ({}.toString.call(val).slice(8, -1)) {\n      case 'Boolean':\n      case 'Number':\n      case 'String':\n      case 'Date':\n      case 'RegExp':\n      case 'Blob':\n      case 'FileList':\n      case 'ImageData':\n      case 'ImageBitmap':\n      case 'ArrayBuffer':\n        return true;\n      case 'Array':\n      case 'Object':\n        return Object.keys(val).every(prop => isPostMessageable(val[prop]));\n      default:\n        return false;\n      }\n    };\n    const postMessageable = value$3(a => {\n      if (isPostMessageable(a)) {\n        return SimpleResult.svalue(a);\n      } else {\n        return SimpleResult.serror('Expected value to be acceptable for sending via postMessage');\n      }\n    });\n\n    const chooseFrom = (path, input, branches, ch) => {\n      const fields = get$g(branches, ch);\n      return fields.fold(() => missingBranch(path, branches, ch), vp => vp.extract(path.concat(['branch: ' + ch]), input));\n    };\n    const choose$2 = (key, branches) => {\n      const extract = (path, input) => {\n        const choice = get$g(input, key);\n        return choice.fold(() => missingKey(path, key), chosen => chooseFrom(path, input, branches, chosen));\n      };\n      const toString = () => 'chooseOn(' + key + '). Possible values: ' + keys(branches);\n      return {\n        extract,\n        toString\n      };\n    };\n\n    const arrOfVal = () => arrOf(anyValue$1);\n    const valueOf = validator => value$3(v => validator(v).fold(SimpleResult.serror, SimpleResult.svalue));\n    const setOf = (validator, prop) => setOf$1(v => SimpleResult.fromResult(validator(v)), prop);\n    const extractValue = (label, prop, obj) => {\n      const res = prop.extract([label], obj);\n      return SimpleResult.mapError(res, errs => ({\n        input: obj,\n        errors: errs\n      }));\n    };\n    const asRaw = (label, prop, obj) => SimpleResult.toResult(extractValue(label, prop, obj));\n    const getOrDie = extraction => {\n      return extraction.fold(errInfo => {\n        throw new Error(formatError(errInfo));\n      }, identity);\n    };\n    const asRawOrDie$1 = (label, prop, obj) => getOrDie(asRaw(label, prop, obj));\n    const formatError = errInfo => {\n      return 'Errors: \\n' + formatErrors(errInfo.errors).join('\\n') + '\\n\\nInput object: ' + formatObj(errInfo.input);\n    };\n    const choose$1 = (key, branches) => choose$2(key, map$1(branches, objOf));\n    const thunkOf = (desc, schema) => thunk(desc, schema);\n\n    const field$1 = field$2;\n    const customField = customField$1;\n    const validateEnum = values => valueOf(value => contains$2(values, value) ? Result.value(value) : Result.error(`Unsupported value: \"${ value }\", choose one of \"${ values.join(', ') }\".`));\n    const required$1 = key => field$1(key, key, required$2(), anyValue());\n    const requiredOf = (key, schema) => field$1(key, key, required$2(), schema);\n    const requiredNumber = key => requiredOf(key, number);\n    const requiredString = key => requiredOf(key, string);\n    const requiredStringEnum = (key, values) => field$1(key, key, required$2(), validateEnum(values));\n    const requiredBoolean = key => requiredOf(key, boolean);\n    const requiredFunction = key => requiredOf(key, functionProcessor);\n    const forbid = (key, message) => field$1(key, key, asOption(), value$3(_v => SimpleResult.serror('The field: ' + key + ' is forbidden. ' + message)));\n    const requiredObjOf = (key, objSchema) => field$1(key, key, required$2(), objOf(objSchema));\n    const requiredArrayOfObj = (key, objFields) => field$1(key, key, required$2(), arrOfObj(objFields));\n    const requiredArrayOf = (key, schema) => field$1(key, key, required$2(), arrOf(schema));\n    const option$3 = key => field$1(key, key, asOption(), anyValue());\n    const optionOf = (key, schema) => field$1(key, key, asOption(), schema);\n    const optionNumber = key => optionOf(key, number);\n    const optionString = key => optionOf(key, string);\n    const optionStringEnum = (key, values) => optionOf(key, validateEnum(values));\n    const optionFunction = key => optionOf(key, functionProcessor);\n    const optionArrayOf = (key, schema) => optionOf(key, arrOf(schema));\n    const optionObjOf = (key, objSchema) => optionOf(key, objOf(objSchema));\n    const optionObjOfOnly = (key, objSchema) => optionOf(key, objOfOnly(objSchema));\n    const defaulted = (key, fallback) => field$1(key, key, defaulted$1(fallback), anyValue());\n    const defaultedOf = (key, fallback, schema) => field$1(key, key, defaulted$1(fallback), schema);\n    const defaultedNumber = (key, fallback) => defaultedOf(key, fallback, number);\n    const defaultedString = (key, fallback) => defaultedOf(key, fallback, string);\n    const defaultedStringEnum = (key, fallback, values) => defaultedOf(key, fallback, validateEnum(values));\n    const defaultedBoolean = (key, fallback) => defaultedOf(key, fallback, boolean);\n    const defaultedFunction = (key, fallback) => defaultedOf(key, fallback, functionProcessor);\n    const defaultedPostMsg = (key, fallback) => defaultedOf(key, fallback, postMessageable);\n    const defaultedArrayOf = (key, fallback, schema) => defaultedOf(key, fallback, arrOf(schema));\n    const defaultedObjOf = (key, fallback, objSchema) => defaultedOf(key, fallback, objOf(objSchema));\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const generate$7 = cases => {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each$1(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate: generate$7 };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    const partition$1 = results => {\n      const errors = [];\n      const values = [];\n      each$1(results, result => {\n        result.fold(err => {\n          errors.push(err);\n        }, value => {\n          values.push(value);\n        });\n      });\n      return {\n        errors,\n        values\n      };\n    };\n\n    const exclude$1 = (obj, fields) => {\n      const r = {};\n      each(obj, (v, k) => {\n        if (!contains$2(fields, k)) {\n          r[k] = v;\n        }\n      });\n      return r;\n    };\n\n    const wrap$2 = (key, value) => ({ [key]: value });\n    const wrapAll$1 = keyvalues => {\n      const r = {};\n      each$1(keyvalues, kv => {\n        r[kv.key] = kv.value;\n      });\n      return r;\n    };\n\n    const exclude = (obj, fields) => exclude$1(obj, fields);\n    const wrap$1 = (key, value) => wrap$2(key, value);\n    const wrapAll = keyvalues => wrapAll$1(keyvalues);\n    const mergeValues = (values, base) => {\n      return values.length === 0 ? Result.value(base) : Result.value(deepMerge(base, merge$1.apply(undefined, values)));\n    };\n    const mergeErrors = errors => Result.error(flatten(errors));\n    const consolidate = (objs, base) => {\n      const partitions = partition$1(objs);\n      return partitions.errors.length > 0 ? mergeErrors(partitions.errors) : mergeValues(partitions.values, base);\n    };\n\n    const ensureIsRoot = isRoot => isFunction(isRoot) ? isRoot : never;\n    const ancestor$2 = (scope, transform, isRoot) => {\n      let element = scope.dom;\n      const stop = ensureIsRoot(isRoot);\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        const transformed = transform(el);\n        if (transformed.isSome()) {\n          return transformed;\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$4 = (scope, transform, isRoot) => {\n      const current = transform(scope);\n      const stop = ensureIsRoot(isRoot);\n      return current.orThunk(() => stop(scope) ? Optional.none() : ancestor$2(scope, transform, stop));\n    };\n\n    const isSource = (component, simulatedEvent) => eq(component.element, simulatedEvent.event.target);\n\n    const defaultEventHandler = {\n      can: always,\n      abort: never,\n      run: noop\n    };\n    const nu$9 = parts => {\n      if (!hasNonNullableKey(parts, 'can') && !hasNonNullableKey(parts, 'abort') && !hasNonNullableKey(parts, 'run')) {\n        throw new Error('EventHandler defined by: ' + JSON.stringify(parts, null, 2) + ' does not have can, abort, or run!');\n      }\n      return {\n        ...defaultEventHandler,\n        ...parts\n      };\n    };\n    const all$2 = (handlers, f) => (...args) => foldl(handlers, (acc, handler) => acc && f(handler).apply(undefined, args), true);\n    const any = (handlers, f) => (...args) => foldl(handlers, (acc, handler) => acc || f(handler).apply(undefined, args), false);\n    const read$2 = handler => isFunction(handler) ? {\n      can: always,\n      abort: never,\n      run: handler\n    } : handler;\n    const fuse$1 = handlers => {\n      const can = all$2(handlers, handler => handler.can);\n      const abort = any(handlers, handler => handler.abort);\n      const run = (...args) => {\n        each$1(handlers, handler => {\n          handler.run.apply(undefined, args);\n        });\n      };\n      return {\n        can,\n        abort,\n        run\n      };\n    };\n\n    const constant = constant$1;\n    const touchstart = constant('touchstart');\n    const touchmove = constant('touchmove');\n    const touchend = constant('touchend');\n    const touchcancel = constant('touchcancel');\n    const mousedown = constant('mousedown');\n    const mousemove = constant('mousemove');\n    const mouseout = constant('mouseout');\n    const mouseup = constant('mouseup');\n    const mouseover = constant('mouseover');\n    const focusin = constant('focusin');\n    const focusout = constant('focusout');\n    const keydown = constant('keydown');\n    const keyup = constant('keyup');\n    const input = constant('input');\n    const change = constant('change');\n    const click = constant('click');\n    const transitioncancel = constant('transitioncancel');\n    const transitionend = constant('transitionend');\n    const transitionstart = constant('transitionstart');\n    const selectstart = constant('selectstart');\n\n    const prefixName = name => constant$1('alloy.' + name);\n    const alloy = { tap: prefixName('tap') };\n    const focus$4 = prefixName('focus');\n    const postBlur = prefixName('blur.post');\n    const postPaste = prefixName('paste.post');\n    const receive = prefixName('receive');\n    const execute$5 = prefixName('execute');\n    const focusItem = prefixName('focus.item');\n    const tap = alloy.tap;\n    const longpress = prefixName('longpress');\n    const sandboxClose = prefixName('sandbox.close');\n    const typeaheadCancel = prefixName('typeahead.cancel');\n    const systemInit = prefixName('system.init');\n    const documentTouchmove = prefixName('system.touchmove');\n    const documentTouchend = prefixName('system.touchend');\n    const windowScroll = prefixName('system.scroll');\n    const windowResize = prefixName('system.resize');\n    const attachedToDom = prefixName('system.attached');\n    const detachedFromDom = prefixName('system.detached');\n    const dismissRequested = prefixName('system.dismissRequested');\n    const repositionRequested = prefixName('system.repositionRequested');\n    const focusShifted = prefixName('focusmanager.shifted');\n    const slotVisibility = prefixName('slotcontainer.visibility');\n    const externalElementScroll = prefixName('system.external.element.scroll');\n    const changeTab = prefixName('change.tab');\n    const dismissTab = prefixName('dismiss.tab');\n    const highlight$1 = prefixName('highlight');\n    const dehighlight$1 = prefixName('dehighlight');\n\n    const emit = (component, event) => {\n      dispatchWith(component, component.element, event, {});\n    };\n    const emitWith = (component, event, properties) => {\n      dispatchWith(component, component.element, event, properties);\n    };\n    const emitExecute = component => {\n      emit(component, execute$5());\n    };\n    const dispatch = (component, target, event) => {\n      dispatchWith(component, target, event, {});\n    };\n    const dispatchWith = (component, target, event, properties) => {\n      const data = {\n        target,\n        ...properties\n      };\n      component.getSystem().triggerEvent(event, target, data);\n    };\n    const retargetAndDispatchWith = (component, target, eventName, properties) => {\n      const data = {\n        ...properties,\n        target\n      };\n      component.getSystem().triggerEvent(eventName, target, data);\n    };\n    const dispatchEvent = (component, target, event, simulatedEvent) => {\n      component.getSystem().triggerEvent(event, target, simulatedEvent.event);\n    };\n\n    const derive$2 = configs => wrapAll(configs);\n    const abort = (name, predicate) => {\n      return {\n        key: name,\n        value: nu$9({ abort: predicate })\n      };\n    };\n    const can = (name, predicate) => {\n      return {\n        key: name,\n        value: nu$9({ can: predicate })\n      };\n    };\n    const preventDefault = name => {\n      return {\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            simulatedEvent.event.prevent();\n          }\n        })\n      };\n    };\n    const run$1 = (name, handler) => {\n      return {\n        key: name,\n        value: nu$9({ run: handler })\n      };\n    };\n    const runActionExtra = (name, action, extra) => {\n      return {\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            action.apply(undefined, [\n              component,\n              simulatedEvent\n            ].concat(extra));\n          }\n        })\n      };\n    };\n    const runOnName = name => {\n      return handler => run$1(name, handler);\n    };\n    const runOnSourceName = name => {\n      return handler => ({\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            if (isSource(component, simulatedEvent)) {\n              handler(component, simulatedEvent);\n            }\n          }\n        })\n      });\n    };\n    const redirectToUid = (name, uid) => {\n      return run$1(name, (component, simulatedEvent) => {\n        component.getSystem().getByUid(uid).each(redirectee => {\n          dispatchEvent(redirectee, redirectee.element, name, simulatedEvent);\n        });\n      });\n    };\n    const redirectToPart = (name, detail, partName) => {\n      const uid = detail.partUids[partName];\n      return redirectToUid(name, uid);\n    };\n    const runWithTarget = (name, f) => {\n      return run$1(name, (component, simulatedEvent) => {\n        const ev = simulatedEvent.event;\n        const target = component.getSystem().getByDom(ev.target).getOrThunk(() => {\n          const closest = closest$4(ev.target, el => component.getSystem().getByDom(el).toOptional(), never);\n          return closest.getOr(component);\n        });\n        f(component, target, simulatedEvent);\n      });\n    };\n    const cutter = name => {\n      return run$1(name, (component, simulatedEvent) => {\n        simulatedEvent.cut();\n      });\n    };\n    const stopper = name => {\n      return run$1(name, (component, simulatedEvent) => {\n        simulatedEvent.stop();\n      });\n    };\n    const runOnSource = (name, f) => {\n      return runOnSourceName(name)(f);\n    };\n    const runOnAttached = runOnSourceName(attachedToDom());\n    const runOnDetached = runOnSourceName(detachedFromDom());\n    const runOnInit = runOnSourceName(systemInit());\n    const runOnExecute$1 = runOnName(execute$5());\n\n    const fromHtml$1 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(SugarElement.fromDom(div));\n    };\n\n    const get$9 = element => element.dom.innerHTML;\n    const set$6 = (element, content) => {\n      const owner = owner$4(element);\n      const docDom = owner.dom;\n      const fragment = SugarElement.fromDom(docDom.createDocumentFragment());\n      const contentElements = fromHtml$1(content, docDom);\n      append$1(fragment, contentElements);\n      empty(element);\n      append$2(element, fragment);\n    };\n    const getOuter = element => {\n      const container = SugarElement.fromTag('div');\n      const clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$2(container, clone);\n      return get$9(container);\n    };\n\n    const clone$1 = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const shallow = original => clone$1(original, false);\n\n    const getHtml = element => {\n      if (isShadowRoot(element)) {\n        return '#shadow-root';\n      } else {\n        const clone = shallow(element);\n        return getOuter(clone);\n      }\n    };\n\n    const element = elem => getHtml(elem);\n\n    const isRecursive = (component, originator, target) => eq(originator, component.element) && !eq(originator, target);\n    const events$i = derive$2([can(focus$4(), (component, simulatedEvent) => {\n        const event = simulatedEvent.event;\n        const originator = event.originator;\n        const target = event.target;\n        if (isRecursive(component, originator, target)) {\n          console.warn(focus$4() + ' did not get interpreted by the desired target. ' + '\\nOriginator: ' + element(originator) + '\\nTarget: ' + element(target) + '\\nCheck the ' + focus$4() + ' event handlers');\n          return false;\n        } else {\n          return true;\n        }\n      })]);\n\n    var DefaultEvents = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$i\n    });\n\n    let unique = 0;\n    const generate$6 = prefix => {\n      const date = new Date();\n      const time = date.getTime();\n      const random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    const prefix$1 = constant$1('alloy-id-');\n    const idAttr$1 = constant$1('data-alloy-id');\n\n    const prefix = prefix$1();\n    const idAttr = idAttr$1();\n    const write = (label, elem) => {\n      const id = generate$6(prefix + label);\n      writeOnly(elem, id);\n      return id;\n    };\n    const writeOnly = (elem, uid) => {\n      Object.defineProperty(elem.dom, idAttr, {\n        value: uid,\n        writable: true\n      });\n    };\n    const read$1 = elem => {\n      const id = isElement$1(elem) ? elem.dom[idAttr] : null;\n      return Optional.from(id);\n    };\n    const generate$5 = prefix => generate$6(prefix);\n\n    const make$8 = identity;\n\n    const NoContextApi = getComp => {\n      const getMessage = event => `The component must be in a context to execute: ${ event }` + (getComp ? '\\n' + element(getComp().element) + ' is not in context.' : '');\n      const fail = event => () => {\n        throw new Error(getMessage(event));\n      };\n      const warn = event => () => {\n        console.warn(getMessage(event));\n      };\n      return {\n        debugInfo: constant$1('fake'),\n        triggerEvent: warn('triggerEvent'),\n        triggerFocus: warn('triggerFocus'),\n        triggerEscape: warn('triggerEscape'),\n        broadcast: warn('broadcast'),\n        broadcastOn: warn('broadcastOn'),\n        broadcastEvent: warn('broadcastEvent'),\n        build: fail('build'),\n        buildOrPatch: fail('buildOrPatch'),\n        addToWorld: fail('addToWorld'),\n        removeFromWorld: fail('removeFromWorld'),\n        addToGui: fail('addToGui'),\n        removeFromGui: fail('removeFromGui'),\n        getByUid: fail('getByUid'),\n        getByDom: fail('getByDom'),\n        isConnected: never\n      };\n    };\n    const singleton$1 = NoContextApi();\n\n    const markAsBehaviourApi = (f, apiName, apiFunction) => {\n      const delegate = apiFunction.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: apiName,\n        parameters: cleanParameters(parameters.slice(0, 1).concat(parameters.slice(3)))\n      });\n      return f;\n    };\n    const cleanParameters = parameters => map$2(parameters, p => endsWith(p, '/*') ? p.substring(0, p.length - '/*'.length) : p);\n    const markAsExtraApi = (f, extraName) => {\n      const delegate = f.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: extraName,\n        parameters: cleanParameters(parameters)\n      });\n      return f;\n    };\n    const markAsSketchApi = (f, apiFunction) => {\n      const delegate = apiFunction.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: 'OVERRIDE',\n        parameters: cleanParameters(parameters.slice(1))\n      });\n      return f;\n    };\n\n    const premadeTag = generate$6('alloy-premade');\n    const premade$1 = comp => {\n      Object.defineProperty(comp.element.dom, premadeTag, {\n        value: comp.uid,\n        writable: true\n      });\n      return wrap$1(premadeTag, comp);\n    };\n    const isPremade = element => has$2(element.dom, premadeTag);\n    const getPremade = spec => get$g(spec, premadeTag);\n    const makeApi = f => markAsSketchApi((component, ...rest) => f(component.getApis(), component, ...rest), f);\n\n    const NoState = { init: () => nu$8({ readState: constant$1('No State required') }) };\n    const nu$8 = spec => spec;\n\n    const generateFrom$1 = (spec, all) => {\n      const schema = map$2(all, a => optionObjOf(a.name(), [\n        required$1('config'),\n        defaulted('state', NoState)\n      ]));\n      const validated = asRaw('component.behaviours', objOf(schema), spec.behaviours).fold(errInfo => {\n        throw new Error(formatError(errInfo) + '\\nComplete spec:\\n' + JSON.stringify(spec, null, 2));\n      }, identity);\n      return {\n        list: all,\n        data: map$1(validated, optBlobThunk => {\n          const output = optBlobThunk.map(blob => ({\n            config: blob.config,\n            state: blob.state.init(blob.config)\n          }));\n          return constant$1(output);\n        })\n      };\n    };\n    const getBehaviours$3 = bData => bData.list;\n    const getData$2 = bData => bData.data;\n\n    const byInnerKey = (data, tuple) => {\n      const r = {};\n      each(data, (detail, key) => {\n        each(detail, (value, indexKey) => {\n          const chain = get$g(r, indexKey).getOr([]);\n          r[indexKey] = chain.concat([tuple(key, value)]);\n        });\n      });\n      return r;\n    };\n\n    const nu$7 = s => ({\n      classes: isUndefined(s.classes) ? [] : s.classes,\n      attributes: isUndefined(s.attributes) ? {} : s.attributes,\n      styles: isUndefined(s.styles) ? {} : s.styles\n    });\n    const merge = (defnA, mod) => ({\n      ...defnA,\n      attributes: {\n        ...defnA.attributes,\n        ...mod.attributes\n      },\n      styles: {\n        ...defnA.styles,\n        ...mod.styles\n      },\n      classes: defnA.classes.concat(mod.classes)\n    });\n\n    const combine$2 = (info, baseMod, behaviours, base) => {\n      const modsByBehaviour = { ...baseMod };\n      each$1(behaviours, behaviour => {\n        modsByBehaviour[behaviour.name()] = behaviour.exhibit(info, base);\n      });\n      const byAspect = byInnerKey(modsByBehaviour, (name, modification) => ({\n        name,\n        modification\n      }));\n      const combineObjects = objects => foldr(objects, (b, a) => ({\n        ...a.modification,\n        ...b\n      }), {});\n      const combinedClasses = foldr(byAspect.classes, (b, a) => a.modification.concat(b), []);\n      const combinedAttributes = combineObjects(byAspect.attributes);\n      const combinedStyles = combineObjects(byAspect.styles);\n      return nu$7({\n        classes: combinedClasses,\n        attributes: combinedAttributes,\n        styles: combinedStyles\n      });\n    };\n\n    const sortKeys = (label, keyName, array, order) => {\n      try {\n        const sorted = sort(array, (a, b) => {\n          const aKey = a[keyName];\n          const bKey = b[keyName];\n          const aIndex = order.indexOf(aKey);\n          const bIndex = order.indexOf(bKey);\n          if (aIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + aKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (bIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + bKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (aIndex < bIndex) {\n            return -1;\n          } else if (bIndex < aIndex) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n        return Result.value(sorted);\n      } catch (err) {\n        return Result.error([err]);\n      }\n    };\n\n    const uncurried = (handler, purpose) => ({\n      handler,\n      purpose\n    });\n    const curried = (handler, purpose) => ({\n      cHandler: handler,\n      purpose\n    });\n    const curryArgs = (descHandler, extraArgs) => curried(curry.apply(undefined, [descHandler.handler].concat(extraArgs)), descHandler.purpose);\n    const getCurried = descHandler => descHandler.cHandler;\n\n    const behaviourTuple = (name, handler) => ({\n      name,\n      handler\n    });\n    const nameToHandlers = (behaviours, info) => {\n      const r = {};\n      each$1(behaviours, behaviour => {\n        r[behaviour.name()] = behaviour.handlers(info);\n      });\n      return r;\n    };\n    const groupByEvents = (info, behaviours, base) => {\n      const behaviourEvents = {\n        ...base,\n        ...nameToHandlers(behaviours, info)\n      };\n      return byInnerKey(behaviourEvents, behaviourTuple);\n    };\n    const combine$1 = (info, eventOrder, behaviours, base) => {\n      const byEventName = groupByEvents(info, behaviours, base);\n      return combineGroups(byEventName, eventOrder);\n    };\n    const assemble = rawHandler => {\n      const handler = read$2(rawHandler);\n      return (component, simulatedEvent, ...rest) => {\n        const args = [\n          component,\n          simulatedEvent\n        ].concat(rest);\n        if (handler.abort.apply(undefined, args)) {\n          simulatedEvent.stop();\n        } else if (handler.can.apply(undefined, args)) {\n          handler.run.apply(undefined, args);\n        }\n      };\n    };\n    const missingOrderError = (eventName, tuples) => Result.error(['The event (' + eventName + ') has more than one behaviour that listens to it.\\nWhen this occurs, you must ' + 'specify an event ordering for the behaviours in your spec (e.g. [ \"listing\", \"toggling\" ]).\\nThe behaviours that ' + 'can trigger it are: ' + JSON.stringify(map$2(tuples, c => c.name), null, 2)]);\n    const fuse = (tuples, eventOrder, eventName) => {\n      const order = eventOrder[eventName];\n      if (!order) {\n        return missingOrderError(eventName, tuples);\n      } else {\n        return sortKeys('Event: ' + eventName, 'name', tuples, order).map(sortedTuples => {\n          const handlers = map$2(sortedTuples, tuple => tuple.handler);\n          return fuse$1(handlers);\n        });\n      }\n    };\n    const combineGroups = (byEventName, eventOrder) => {\n      const r = mapToArray(byEventName, (tuples, eventName) => {\n        const combined = tuples.length === 1 ? Result.value(tuples[0].handler) : fuse(tuples, eventOrder, eventName);\n        return combined.map(handler => {\n          const assembled = assemble(handler);\n          const purpose = tuples.length > 1 ? filter$2(eventOrder[eventName], o => exists(tuples, t => t.name === o)).join(' > ') : tuples[0].name;\n          return wrap$1(eventName, uncurried(assembled, purpose));\n        });\n      });\n      return consolidate(r, {});\n    };\n\n    const baseBehaviour = 'alloy.base.behaviour';\n    const schema$z = objOf([\n      field$1('dom', 'dom', required$2(), objOf([\n        required$1('tag'),\n        defaulted('styles', {}),\n        defaulted('classes', []),\n        defaulted('attributes', {}),\n        option$3('value'),\n        option$3('innerHtml')\n      ])),\n      required$1('components'),\n      required$1('uid'),\n      defaulted('events', {}),\n      defaulted('apis', {}),\n      field$1('eventOrder', 'eventOrder', mergeWith({\n        [execute$5()]: [\n          'disabling',\n          baseBehaviour,\n          'toggling',\n          'typeaheadevents'\n        ],\n        [focus$4()]: [\n          baseBehaviour,\n          'focusing',\n          'keying'\n        ],\n        [systemInit()]: [\n          baseBehaviour,\n          'disabling',\n          'toggling',\n          'representing'\n        ],\n        [input()]: [\n          baseBehaviour,\n          'representing',\n          'streaming',\n          'invalidating'\n        ],\n        [detachedFromDom()]: [\n          baseBehaviour,\n          'representing',\n          'item-events',\n          'tooltipping'\n        ],\n        [mousedown()]: [\n          'focusing',\n          baseBehaviour,\n          'item-type-events'\n        ],\n        [touchstart()]: [\n          'focusing',\n          baseBehaviour,\n          'item-type-events'\n        ],\n        [mouseover()]: [\n          'item-type-events',\n          'tooltipping'\n        ],\n        [receive()]: [\n          'receiving',\n          'reflecting',\n          'tooltipping'\n        ]\n      }), anyValue()),\n      option$3('domModification')\n    ]);\n    const toInfo = spec => asRaw('custom.definition', schema$z, spec);\n    const toDefinition = detail => ({\n      ...detail.dom,\n      uid: detail.uid,\n      domChildren: map$2(detail.components, comp => comp.element)\n    });\n    const toModification = detail => detail.domModification.fold(() => nu$7({}), nu$7);\n    const toEvents = info => info.events;\n\n    const read = (element, attr) => {\n      const value = get$f(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    const add$4 = (element, attr, id) => {\n      const old = read(element, attr);\n      const nu = old.concat([id]);\n      set$9(element, attr, nu.join(' '));\n      return true;\n    };\n    const remove$4 = (element, attr, id) => {\n      const nu = filter$2(read(element, attr), v => v !== id);\n      if (nu.length > 0) {\n        set$9(element, attr, nu.join(' '));\n      } else {\n        remove$7(element, attr);\n      }\n      return false;\n    };\n\n    const supports = element => element.dom.classList !== undefined;\n    const get$8 = element => read(element, 'class');\n    const add$3 = (element, clazz) => add$4(element, 'class', clazz);\n    const remove$3 = (element, clazz) => remove$4(element, 'class', clazz);\n\n    const add$2 = (element, clazz) => {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$3(element, clazz);\n      }\n    };\n    const cleanClass = element => {\n      const classList = supports(element) ? element.dom.classList : get$8(element);\n      if (classList.length === 0) {\n        remove$7(element, 'class');\n      }\n    };\n    const remove$2 = (element, clazz) => {\n      if (supports(element)) {\n        const classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    const has = (element, clazz) => supports(element) && element.dom.classList.contains(clazz);\n\n    const add$1 = (element, classes) => {\n      each$1(classes, x => {\n        add$2(element, x);\n      });\n    };\n    const remove$1 = (element, classes) => {\n      each$1(classes, x => {\n        remove$2(element, x);\n      });\n    };\n    const hasAll = (element, classes) => forall(classes, clazz => has(element, clazz));\n    const getNative = element => {\n      const classList = element.dom.classList;\n      const r = new Array(classList.length);\n      for (let i = 0; i < classList.length; i++) {\n        const item = classList.item(i);\n        if (item !== null) {\n          r[i] = item;\n        }\n      }\n      return r;\n    };\n    const get$7 = element => supports(element) ? getNative(element) : get$8(element);\n\n    const get$6 = element => element.dom.value;\n    const set$5 = (element, value) => {\n      if (value === undefined) {\n        throw new Error('Value.set was undefined');\n      }\n      element.dom.value = value;\n    };\n\n    const determineObsoleted = (parent, index, oldObsoleted) => {\n      const newObsoleted = child$2(parent, index);\n      return newObsoleted.map(newObs => {\n        const elemChanged = oldObsoleted.exists(o => !eq(o, newObs));\n        if (elemChanged) {\n          const oldTag = oldObsoleted.map(name$3).getOr('span');\n          const marker = SugarElement.fromTag(oldTag);\n          before$1(newObs, marker);\n          return marker;\n        } else {\n          return newObs;\n        }\n      });\n    };\n    const ensureInDom = (parent, child, obsoleted) => {\n      obsoleted.fold(() => append$2(parent, child), obs => {\n        if (!eq(obs, child)) {\n          before$1(obs, child);\n          remove$5(obs);\n        }\n      });\n    };\n    const patchChildrenWith = (parent, nu, f) => {\n      const builtChildren = map$2(nu, f);\n      const currentChildren = children(parent);\n      each$1(currentChildren.slice(builtChildren.length), remove$5);\n      return builtChildren;\n    };\n    const patchSpecChild = (parent, index, spec, build) => {\n      const oldObsoleted = child$2(parent, index);\n      const childComp = build(spec, oldObsoleted);\n      const obsoleted = determineObsoleted(parent, index, oldObsoleted);\n      ensureInDom(parent, childComp.element, obsoleted);\n      return childComp;\n    };\n    const patchSpecChildren = (parent, specs, build) => patchChildrenWith(parent, specs, (spec, index) => patchSpecChild(parent, index, spec, build));\n    const patchDomChildren = (parent, nodes) => patchChildrenWith(parent, nodes, (node, index) => {\n      const optObsoleted = child$2(parent, index);\n      ensureInDom(parent, node, optObsoleted);\n      return node;\n    });\n\n    const diffKeyValueSet = (newObj, oldObj) => {\n      const newKeys = keys(newObj);\n      const oldKeys = keys(oldObj);\n      const toRemove = difference(oldKeys, newKeys);\n      const toSet = bifilter(newObj, (v, k) => {\n        return !has$2(oldObj, k) || v !== oldObj[k];\n      }).t;\n      return {\n        toRemove,\n        toSet\n      };\n    };\n    const reconcileToDom = (definition, obsoleted) => {\n      const {\n        class: clazz,\n        style,\n        ...existingAttributes\n      } = clone$2(obsoleted);\n      const {\n        toSet: attrsToSet,\n        toRemove: attrsToRemove\n      } = diffKeyValueSet(definition.attributes, existingAttributes);\n      const updateAttrs = () => {\n        each$1(attrsToRemove, a => remove$7(obsoleted, a));\n        setAll$1(obsoleted, attrsToSet);\n      };\n      const existingStyles = getAllRaw(obsoleted);\n      const {\n        toSet: stylesToSet,\n        toRemove: stylesToRemove\n      } = diffKeyValueSet(definition.styles, existingStyles);\n      const updateStyles = () => {\n        each$1(stylesToRemove, s => remove$6(obsoleted, s));\n        setAll(obsoleted, stylesToSet);\n      };\n      const existingClasses = get$7(obsoleted);\n      const classesToRemove = difference(existingClasses, definition.classes);\n      const classesToAdd = difference(definition.classes, existingClasses);\n      const updateClasses = () => {\n        add$1(obsoleted, classesToAdd);\n        remove$1(obsoleted, classesToRemove);\n      };\n      const updateHtml = html => {\n        set$6(obsoleted, html);\n      };\n      const updateChildren = () => {\n        const children = definition.domChildren;\n        patchDomChildren(obsoleted, children);\n      };\n      const updateValue = () => {\n        const valueElement = obsoleted;\n        const value = definition.value.getOrUndefined();\n        if (value !== get$6(valueElement)) {\n          set$5(valueElement, value !== null && value !== void 0 ? value : '');\n        }\n      };\n      updateAttrs();\n      updateClasses();\n      updateStyles();\n      definition.innerHtml.fold(updateChildren, updateHtml);\n      updateValue();\n      return obsoleted;\n    };\n\n    const introduceToDom = definition => {\n      const subject = SugarElement.fromTag(definition.tag);\n      setAll$1(subject, definition.attributes);\n      add$1(subject, definition.classes);\n      setAll(subject, definition.styles);\n      definition.innerHtml.each(html => set$6(subject, html));\n      const children = definition.domChildren;\n      append$1(subject, children);\n      definition.value.each(value => {\n        set$5(subject, value);\n      });\n      return subject;\n    };\n    const attemptPatch = (definition, obsoleted) => {\n      try {\n        const e = reconcileToDom(definition, obsoleted);\n        return Optional.some(e);\n      } catch (err) {\n        return Optional.none();\n      }\n    };\n    const hasMixedChildren = definition => definition.innerHtml.isSome() && definition.domChildren.length > 0;\n    const renderToDom = (definition, optObsoleted) => {\n      const canBePatched = candidate => name$3(candidate) === definition.tag && !hasMixedChildren(definition) && !isPremade(candidate);\n      const elem = optObsoleted.filter(canBePatched).bind(obsoleted => attemptPatch(definition, obsoleted)).getOrThunk(() => introduceToDom(definition));\n      writeOnly(elem, definition.uid);\n      return elem;\n    };\n\n    const getBehaviours$2 = spec => {\n      const behaviours = get$g(spec, 'behaviours').getOr({});\n      return bind$3(keys(behaviours), name => {\n        const behaviour = behaviours[name];\n        return isNonNullable(behaviour) ? [behaviour.me] : [];\n      });\n    };\n    const generateFrom = (spec, all) => generateFrom$1(spec, all);\n    const generate$4 = spec => {\n      const all = getBehaviours$2(spec);\n      return generateFrom(spec, all);\n    };\n\n    const getDomDefinition = (info, bList, bData) => {\n      const definition = toDefinition(info);\n      const infoModification = toModification(info);\n      const baseModification = { 'alloy.base.modification': infoModification };\n      const modification = bList.length > 0 ? combine$2(bData, baseModification, bList, definition) : infoModification;\n      return merge(definition, modification);\n    };\n    const getEvents = (info, bList, bData) => {\n      const baseEvents = { 'alloy.base.behaviour': toEvents(info) };\n      return combine$1(bData, info.eventOrder, bList, baseEvents).getOrDie();\n    };\n    const build$2 = (spec, obsoleted) => {\n      const getMe = () => me;\n      const systemApi = Cell(singleton$1);\n      const info = getOrDie(toInfo(spec));\n      const bBlob = generate$4(spec);\n      const bList = getBehaviours$3(bBlob);\n      const bData = getData$2(bBlob);\n      const modDefinition = getDomDefinition(info, bList, bData);\n      const item = renderToDom(modDefinition, obsoleted);\n      const events = getEvents(info, bList, bData);\n      const subcomponents = Cell(info.components);\n      const connect = newApi => {\n        systemApi.set(newApi);\n      };\n      const disconnect = () => {\n        systemApi.set(NoContextApi(getMe));\n      };\n      const syncComponents = () => {\n        const children$1 = children(item);\n        const subs = bind$3(children$1, child => systemApi.get().getByDom(child).fold(() => [], pure$2));\n        subcomponents.set(subs);\n      };\n      const config = behaviour => {\n        const b = bData;\n        const f = isFunction(b[behaviour.name()]) ? b[behaviour.name()] : () => {\n          throw new Error('Could not find ' + behaviour.name() + ' in ' + JSON.stringify(spec, null, 2));\n        };\n        return f();\n      };\n      const hasConfigured = behaviour => isFunction(bData[behaviour.name()]);\n      const getApis = () => info.apis;\n      const readState = behaviourName => bData[behaviourName]().map(b => b.state.readState()).getOr('not enabled');\n      const me = {\n        uid: spec.uid,\n        getSystem: systemApi.get,\n        config,\n        hasConfigured,\n        spec,\n        readState,\n        getApis,\n        connect,\n        disconnect,\n        element: item,\n        syncComponents,\n        components: subcomponents.get,\n        events\n      };\n      return me;\n    };\n\n    const buildSubcomponents = (spec, obsoleted) => {\n      const components = get$g(spec, 'components').getOr([]);\n      return obsoleted.fold(() => map$2(components, build$1), obs => map$2(components, (c, i) => {\n        return buildOrPatch(c, child$2(obs, i));\n      }));\n    };\n    const buildFromSpec = (userSpec, obsoleted) => {\n      const {\n        events: specEvents,\n        ...spec\n      } = make$8(userSpec);\n      const components = buildSubcomponents(spec, obsoleted);\n      const completeSpec = {\n        ...spec,\n        events: {\n          ...DefaultEvents,\n          ...specEvents\n        },\n        components\n      };\n      return Result.value(build$2(completeSpec, obsoleted));\n    };\n    const text$2 = textContent => {\n      const element = SugarElement.fromText(textContent);\n      return external$1({ element });\n    };\n    const external$1 = spec => {\n      const extSpec = asRawOrDie$1('external.component', objOfOnly([\n        required$1('element'),\n        option$3('uid')\n      ]), spec);\n      const systemApi = Cell(NoContextApi());\n      const connect = newApi => {\n        systemApi.set(newApi);\n      };\n      const disconnect = () => {\n        systemApi.set(NoContextApi(() => me));\n      };\n      const uid = extSpec.uid.getOrThunk(() => generate$5('external'));\n      writeOnly(extSpec.element, uid);\n      const me = {\n        uid,\n        getSystem: systemApi.get,\n        config: Optional.none,\n        hasConfigured: never,\n        connect,\n        disconnect,\n        getApis: () => ({}),\n        element: extSpec.element,\n        spec,\n        readState: constant$1('No state'),\n        syncComponents: noop,\n        components: constant$1([]),\n        events: {}\n      };\n      return premade$1(me);\n    };\n    const uids = generate$5;\n    const isSketchSpec$1 = spec => has$2(spec, 'uid');\n    const buildOrPatch = (spec, obsoleted) => getPremade(spec).getOrThunk(() => {\n      const userSpecWithUid = isSketchSpec$1(spec) ? spec : {\n        uid: uids(''),\n        ...spec\n      };\n      return buildFromSpec(userSpecWithUid, obsoleted).getOrDie();\n    });\n    const build$1 = spec => buildOrPatch(spec, Optional.none());\n    const premade = premade$1;\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$1 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$3 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$1, scope, predicate, isRoot);\n    };\n    const child$1 = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find$5(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    const descendant$1 = (scope, predicate) => {\n      const descend = node => {\n        for (let i = 0; i < node.childNodes.length; i++) {\n          const child = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    const closest$2 = (scope, predicate, isRoot) => closest$3(scope, predicate, isRoot).isSome();\n\n    const ancestor = (scope, selector, isRoot) => ancestor$1(scope, e => is(e, selector), isRoot);\n    const child = (scope, selector) => child$1(scope, e => is(e, selector));\n    const descendant = (scope, selector) => one(selector, scope);\n    const closest$1 = (scope, selector, isRoot) => {\n      const is$1 = (element, selector) => is(element, selector);\n      return ClosestOrAncestor(is$1, ancestor, scope, selector, isRoot);\n    };\n\n    const attribute = 'aria-controls';\n    const find$1 = queryElem => {\n      const dependent = closest$3(queryElem, elem => {\n        if (!isElement$1(elem)) {\n          return false;\n        }\n        const id = get$f(elem, 'id');\n        return id !== undefined && id.indexOf(attribute) > -1;\n      });\n      return dependent.bind(dep => {\n        const id = get$f(dep, 'id');\n        const dos = getRootNode(dep);\n        return descendant(dos, `[${ attribute }=\"${ id }\"]`);\n      });\n    };\n    const manager = () => {\n      const ariaId = generate$6(attribute);\n      const link = elem => {\n        set$9(elem, attribute, ariaId);\n      };\n      const unlink = elem => {\n        remove$7(elem, attribute);\n      };\n      return {\n        id: ariaId,\n        link,\n        unlink\n      };\n    };\n\n    const isAriaPartOf = (component, queryElem) => find$1(queryElem).exists(owner => isPartOf$1(component, owner));\n    const isPartOf$1 = (component, queryElem) => closest$2(queryElem, el => eq(el, component.element), never) || isAriaPartOf(component, queryElem);\n\n    const unknown = 'unknown';\n    var EventConfiguration;\n    (function (EventConfiguration) {\n      EventConfiguration[EventConfiguration['STOP'] = 0] = 'STOP';\n      EventConfiguration[EventConfiguration['NORMAL'] = 1] = 'NORMAL';\n      EventConfiguration[EventConfiguration['LOGGING'] = 2] = 'LOGGING';\n    }(EventConfiguration || (EventConfiguration = {})));\n    const eventConfig = Cell({});\n    const makeEventLogger = (eventName, initialTarget) => {\n      const sequence = [];\n      const startTime = new Date().getTime();\n      return {\n        logEventCut: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'cut',\n            target,\n            purpose\n          });\n        },\n        logEventStopped: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'stopped',\n            target,\n            purpose\n          });\n        },\n        logNoParent: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'no-parent',\n            target,\n            purpose\n          });\n        },\n        logEventNoHandlers: (_name, target) => {\n          sequence.push({\n            outcome: 'no-handlers-left',\n            target\n          });\n        },\n        logEventResponse: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'response',\n            purpose,\n            target\n          });\n        },\n        write: () => {\n          const finishTime = new Date().getTime();\n          if (contains$2([\n              'mousemove',\n              'mouseover',\n              'mouseout',\n              systemInit()\n            ], eventName)) {\n            return;\n          }\n          console.log(eventName, {\n            event: eventName,\n            time: finishTime - startTime,\n            target: initialTarget.dom,\n            sequence: map$2(sequence, s => {\n              if (!contains$2([\n                  'cut',\n                  'stopped',\n                  'response'\n                ], s.outcome)) {\n                return s.outcome;\n              } else {\n                return '{' + s.purpose + '} ' + s.outcome + ' at (' + element(s.target) + ')';\n              }\n            })\n          });\n        }\n      };\n    };\n    const processEvent = (eventName, initialTarget, f) => {\n      const status = get$g(eventConfig.get(), eventName).orThunk(() => {\n        const patterns = keys(eventConfig.get());\n        return findMap(patterns, p => eventName.indexOf(p) > -1 ? Optional.some(eventConfig.get()[p]) : Optional.none());\n      }).getOr(EventConfiguration.NORMAL);\n      switch (status) {\n      case EventConfiguration.NORMAL:\n        return f(noLogger());\n      case EventConfiguration.LOGGING: {\n          const logger = makeEventLogger(eventName, initialTarget);\n          const output = f(logger);\n          logger.write();\n          return output;\n        }\n      case EventConfiguration.STOP:\n        return true;\n      }\n    };\n    const path = [\n      'alloy/data/Fields',\n      'alloy/debugging/Debugging'\n    ];\n    const getTrace = () => {\n      const err = new Error();\n      if (err.stack !== undefined) {\n        const lines = err.stack.split('\\n');\n        return find$5(lines, line => line.indexOf('alloy') > 0 && !exists(path, p => line.indexOf(p) > -1)).getOr(unknown);\n      } else {\n        return unknown;\n      }\n    };\n    const ignoreEvent = {\n      logEventCut: noop,\n      logEventStopped: noop,\n      logNoParent: noop,\n      logEventNoHandlers: noop,\n      logEventResponse: noop,\n      write: noop\n    };\n    const monitorEvent = (eventName, initialTarget, f) => processEvent(eventName, initialTarget, f);\n    const noLogger = constant$1(ignoreEvent);\n\n    const menuFields = constant$1([\n      required$1('menu'),\n      required$1('selectedMenu')\n    ]);\n    const itemFields = constant$1([\n      required$1('item'),\n      required$1('selectedItem')\n    ]);\n    constant$1(objOf(itemFields().concat(menuFields())));\n    const itemSchema$3 = constant$1(objOf(itemFields()));\n\n    const _initSize = requiredObjOf('initSize', [\n      required$1('numColumns'),\n      required$1('numRows')\n    ]);\n    const itemMarkers = () => requiredOf('markers', itemSchema$3());\n    const tieredMenuMarkers = () => requiredObjOf('markers', [required$1('backgroundMenu')].concat(menuFields()).concat(itemFields()));\n    const markers$1 = required => requiredObjOf('markers', map$2(required, required$1));\n    const onPresenceHandler = (label, fieldName, presence) => {\n      getTrace();\n      return field$1(fieldName, fieldName, presence, valueOf(f => Result.value((...args) => {\n        return f.apply(undefined, args);\n      })));\n    };\n    const onHandler = fieldName => onPresenceHandler('onHandler', fieldName, defaulted$1(noop));\n    const onKeyboardHandler = fieldName => onPresenceHandler('onKeyboardHandler', fieldName, defaulted$1(Optional.none));\n    const onStrictHandler = fieldName => onPresenceHandler('onHandler', fieldName, required$2());\n    const onStrictKeyboardHandler = fieldName => onPresenceHandler('onKeyboardHandler', fieldName, required$2());\n    const output$1 = (name, value) => customField(name, constant$1(value));\n    const snapshot = name => customField(name, identity);\n    const initSize = constant$1(_initSize);\n\n    const nu$6 = (x, y, bubble, direction, placement, boundsRestriction, labelPrefix, alwaysFit = false) => ({\n      x,\n      y,\n      bubble,\n      direction,\n      placement,\n      restriction: boundsRestriction,\n      label: `${ labelPrefix }-${ placement }`,\n      alwaysFit\n    });\n\n    const adt$a = Adt.generate([\n      { southeast: [] },\n      { southwest: [] },\n      { northeast: [] },\n      { northwest: [] },\n      { south: [] },\n      { north: [] },\n      { east: [] },\n      { west: [] }\n    ]);\n    const cata$2 = (subject, southeast, southwest, northeast, northwest, south, north, east, west) => subject.fold(southeast, southwest, northeast, northwest, south, north, east, west);\n    const cataVertical = (subject, south, middle, north) => subject.fold(south, south, north, north, south, north, middle, middle);\n    const cataHorizontal = (subject, east, middle, west) => subject.fold(east, west, east, west, middle, middle, east, west);\n    const southeast$3 = adt$a.southeast;\n    const southwest$3 = adt$a.southwest;\n    const northeast$3 = adt$a.northeast;\n    const northwest$3 = adt$a.northwest;\n    const south$3 = adt$a.south;\n    const north$3 = adt$a.north;\n    const east$3 = adt$a.east;\n    const west$3 = adt$a.west;\n\n    const cycleBy = (value, delta, min, max) => {\n      const r = value + delta;\n      if (r > max) {\n        return min;\n      } else if (r < min) {\n        return max;\n      } else {\n        return r;\n      }\n    };\n    const clamp = (value, min, max) => Math.min(Math.max(value, min), max);\n\n    const getRestriction = (anchor, restriction) => {\n      switch (restriction) {\n      case 1:\n        return anchor.x;\n      case 0:\n        return anchor.x + anchor.width;\n      case 2:\n        return anchor.y;\n      case 3:\n        return anchor.y + anchor.height;\n      }\n    };\n    const boundsRestriction = (anchor, restrictions) => mapToObject([\n      'left',\n      'right',\n      'top',\n      'bottom'\n    ], dir => get$g(restrictions, dir).map(restriction => getRestriction(anchor, restriction)));\n    const adjustBounds = (bounds$1, restriction, bubbleOffset) => {\n      const applyRestriction = (dir, current) => restriction[dir].map(pos => {\n        const isVerticalAxis = dir === 'top' || dir === 'bottom';\n        const offset = isVerticalAxis ? bubbleOffset.top : bubbleOffset.left;\n        const comparator = dir === 'left' || dir === 'top' ? Math.max : Math.min;\n        const newPos = comparator(pos, current) + offset;\n        return isVerticalAxis ? clamp(newPos, bounds$1.y, bounds$1.bottom) : clamp(newPos, bounds$1.x, bounds$1.right);\n      }).getOr(current);\n      const adjustedLeft = applyRestriction('left', bounds$1.x);\n      const adjustedTop = applyRestriction('top', bounds$1.y);\n      const adjustedRight = applyRestriction('right', bounds$1.right);\n      const adjustedBottom = applyRestriction('bottom', bounds$1.bottom);\n      return bounds(adjustedLeft, adjustedTop, adjustedRight - adjustedLeft, adjustedBottom - adjustedTop);\n    };\n\n    const labelPrefix$2 = 'layout';\n    const eastX$1 = anchor => anchor.x;\n    const middleX$1 = (anchor, element) => anchor.x + anchor.width / 2 - element.width / 2;\n    const westX$1 = (anchor, element) => anchor.x + anchor.width - element.width;\n    const northY$2 = (anchor, element) => anchor.y - element.height;\n    const southY$2 = anchor => anchor.y + anchor.height;\n    const centreY$1 = (anchor, element) => anchor.y + anchor.height / 2 - element.height / 2;\n    const eastEdgeX$1 = anchor => anchor.x + anchor.width;\n    const westEdgeX$1 = (anchor, element) => anchor.x - element.width;\n    const southeast$2 = (anchor, element, bubbles) => nu$6(eastX$1(anchor), southY$2(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 1,\n      top: 3\n    }), labelPrefix$2);\n    const southwest$2 = (anchor, element, bubbles) => nu$6(westX$1(anchor, element), southY$2(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 0,\n      top: 3\n    }), labelPrefix$2);\n    const northeast$2 = (anchor, element, bubbles) => nu$6(eastX$1(anchor), northY$2(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 1,\n      bottom: 2\n    }), labelPrefix$2);\n    const northwest$2 = (anchor, element, bubbles) => nu$6(westX$1(anchor, element), northY$2(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 0,\n      bottom: 2\n    }), labelPrefix$2);\n    const north$2 = (anchor, element, bubbles) => nu$6(middleX$1(anchor, element), northY$2(anchor, element), bubbles.north(), north$3(), 'north', boundsRestriction(anchor, { bottom: 2 }), labelPrefix$2);\n    const south$2 = (anchor, element, bubbles) => nu$6(middleX$1(anchor, element), southY$2(anchor), bubbles.south(), south$3(), 'south', boundsRestriction(anchor, { top: 3 }), labelPrefix$2);\n    const east$2 = (anchor, element, bubbles) => nu$6(eastEdgeX$1(anchor), centreY$1(anchor, element), bubbles.east(), east$3(), 'east', boundsRestriction(anchor, { left: 0 }), labelPrefix$2);\n    const west$2 = (anchor, element, bubbles) => nu$6(westEdgeX$1(anchor, element), centreY$1(anchor, element), bubbles.west(), west$3(), 'west', boundsRestriction(anchor, { right: 1 }), labelPrefix$2);\n    const all$1 = () => [\n      southeast$2,\n      southwest$2,\n      northeast$2,\n      northwest$2,\n      south$2,\n      north$2,\n      east$2,\n      west$2\n    ];\n    const allRtl$1 = () => [\n      southwest$2,\n      southeast$2,\n      northwest$2,\n      northeast$2,\n      south$2,\n      north$2,\n      east$2,\n      west$2\n    ];\n    const aboveOrBelow = () => [\n      northeast$2,\n      northwest$2,\n      southeast$2,\n      southwest$2,\n      north$2,\n      south$2\n    ];\n    const aboveOrBelowRtl = () => [\n      northwest$2,\n      northeast$2,\n      southwest$2,\n      southeast$2,\n      north$2,\n      south$2\n    ];\n    const belowOrAbove = () => [\n      southeast$2,\n      southwest$2,\n      northeast$2,\n      northwest$2,\n      south$2,\n      north$2\n    ];\n    const belowOrAboveRtl = () => [\n      southwest$2,\n      southeast$2,\n      northwest$2,\n      northeast$2,\n      south$2,\n      north$2\n    ];\n\n    const chooseChannels = (channels, message) => message.universal ? channels : filter$2(channels, ch => contains$2(message.channels, ch));\n    const events$h = receiveConfig => derive$2([run$1(receive(), (component, message) => {\n        const channelMap = receiveConfig.channels;\n        const channels = keys(channelMap);\n        const receivingData = message;\n        const targetChannels = chooseChannels(channels, receivingData);\n        each$1(targetChannels, ch => {\n          const channelInfo = channelMap[ch];\n          const channelSchema = channelInfo.schema;\n          const data = asRawOrDie$1('channel[' + ch + '] data\\nReceiver: ' + element(component.element), channelSchema, receivingData.data);\n          channelInfo.onReceive(component, data);\n        });\n      })]);\n\n    var ActiveReceiving = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$h\n    });\n\n    var ReceivingSchema = [requiredOf('channels', setOf(Result.value, objOfOnly([\n        onStrictHandler('onReceive'),\n        defaulted('schema', anyValue())\n      ])))];\n\n    const executeEvent = (bConfig, bState, executor) => runOnExecute$1(component => {\n      executor(component, bConfig, bState);\n    });\n    const loadEvent = (bConfig, bState, f) => runOnInit((component, _simulatedEvent) => {\n      f(component, bConfig, bState);\n    });\n    const create$5 = (schema, name, active, apis, extra, state) => {\n      const configSchema = objOfOnly(schema);\n      const schemaSchema = optionObjOf(name, [optionObjOfOnly('config', schema)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    const createModes$1 = (modes, name, active, apis, extra, state) => {\n      const configSchema = modes;\n      const schemaSchema = optionObjOf(name, [optionOf('config', modes)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    const wrapApi = (bName, apiFunction, apiName) => {\n      const f = (component, ...rest) => {\n        const args = [component].concat(rest);\n        return component.config({ name: constant$1(bName) }).fold(() => {\n          throw new Error('We could not find any behaviour configuration for: ' + bName + '. Using API: ' + apiName);\n        }, info => {\n          const rest = Array.prototype.slice.call(args, 1);\n          return apiFunction.apply(undefined, [\n            component,\n            info.config,\n            info.state\n          ].concat(rest));\n        });\n      };\n      return markAsBehaviourApi(f, apiName, apiFunction);\n    };\n    const revokeBehaviour = name => ({\n      key: name,\n      value: undefined\n    });\n    const doCreate = (configSchema, schemaSchema, name, active, apis, extra, state) => {\n      const getConfig = info => hasNonNullableKey(info, name) ? info[name]() : Optional.none();\n      const wrappedApis = map$1(apis, (apiF, apiName) => wrapApi(name, apiF, apiName));\n      const wrappedExtra = map$1(extra, (extraF, extraName) => markAsExtraApi(extraF, extraName));\n      const me = {\n        ...wrappedExtra,\n        ...wrappedApis,\n        revoke: curry(revokeBehaviour, name),\n        config: spec => {\n          const prepared = asRawOrDie$1(name + '-config', configSchema, spec);\n          return {\n            key: name,\n            value: {\n              config: prepared,\n              me,\n              configAsRaw: cached(() => asRawOrDie$1(name + '-config', configSchema, spec)),\n              initialConfig: spec,\n              state\n            }\n          };\n        },\n        schema: constant$1(schemaSchema),\n        exhibit: (info, base) => {\n          return lift2(getConfig(info), get$g(active, 'exhibit'), (behaviourInfo, exhibitor) => {\n            return exhibitor(base, behaviourInfo.config, behaviourInfo.state);\n          }).getOrThunk(() => nu$7({}));\n        },\n        name: constant$1(name),\n        handlers: info => {\n          return getConfig(info).map(behaviourInfo => {\n            const getEvents = get$g(active, 'events').getOr(() => ({}));\n            return getEvents(behaviourInfo.config, behaviourInfo.state);\n          }).getOr({});\n        }\n      };\n      return me;\n    };\n\n    const derive$1 = capabilities => wrapAll(capabilities);\n    const simpleSchema = objOfOnly([\n      required$1('fields'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    const create$4 = data => {\n      const value = asRawOrDie$1('Creating behaviour: ' + data.name, simpleSchema, data);\n      return create$5(value.fields, value.name, value.active, value.apis, value.extra, value.state);\n    };\n    const modeSchema = objOfOnly([\n      required$1('branchKey'),\n      required$1('branches'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    const createModes = data => {\n      const value = asRawOrDie$1('Creating behaviour: ' + data.name, modeSchema, data);\n      return createModes$1(choose$1(value.branchKey, value.branches), value.name, value.active, value.apis, value.extra, value.state);\n    };\n    const revoke = constant$1(undefined);\n\n    const Receiving = create$4({\n      fields: ReceivingSchema,\n      name: 'receiving',\n      active: ActiveReceiving\n    });\n\n    const exhibit$6 = (base, posConfig) => nu$7({\n      classes: [],\n      styles: posConfig.useFixed() ? {} : { position: 'relative' }\n    });\n\n    var ActivePosition = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$6\n    });\n\n    const focus$3 = element => element.dom.focus();\n    const blur$1 = element => element.dom.blur();\n    const hasFocus = element => {\n      const root = getRootNode(element).dom;\n      return element.dom === root.activeElement;\n    };\n    const active$1 = (root = getDocument()) => Optional.from(root.dom.activeElement).map(SugarElement.fromDom);\n    const search = element => active$1(getRootNode(element)).filter(e => element.dom.contains(e.dom));\n\n    const preserve$1 = (f, container) => {\n      const dos = getRootNode(container);\n      const refocus = active$1(dos).bind(focused => {\n        const hasFocus = elem => eq(focused, elem);\n        return hasFocus(container) ? Optional.some(container) : descendant$1(container, hasFocus);\n      });\n      const result = f(container);\n      refocus.each(oldFocus => {\n        active$1(dos).filter(newFocus => eq(newFocus, oldFocus)).fold(() => {\n          focus$3(oldFocus);\n        }, noop);\n      });\n      return result;\n    };\n\n    const NuPositionCss = (position, left, top, right, bottom) => {\n      const toPx = num => num + 'px';\n      return {\n        position,\n        left: left.map(toPx),\n        top: top.map(toPx),\n        right: right.map(toPx),\n        bottom: bottom.map(toPx)\n      };\n    };\n    const toOptions = position => ({\n      ...position,\n      position: Optional.some(position.position)\n    });\n    const applyPositionCss = (element, position) => {\n      setOptions(element, toOptions(position));\n    };\n\n    const adt$9 = Adt.generate([\n      { none: [] },\n      {\n        relative: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      }\n    ]);\n    const positionWithDirection = (posName, decision, x, y, width, height) => {\n      const decisionRect = decision.rect;\n      const decisionX = decisionRect.x - x;\n      const decisionY = decisionRect.y - y;\n      const decisionWidth = decisionRect.width;\n      const decisionHeight = decisionRect.height;\n      const decisionRight = width - (decisionX + decisionWidth);\n      const decisionBottom = height - (decisionY + decisionHeight);\n      const left = Optional.some(decisionX);\n      const top = Optional.some(decisionY);\n      const right = Optional.some(decisionRight);\n      const bottom = Optional.some(decisionBottom);\n      const none = Optional.none();\n      return cata$2(decision.direction, () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, none, top, right, none), () => NuPositionCss(posName, left, none, none, bottom), () => NuPositionCss(posName, none, none, right, bottom), () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, left, none, none, bottom), () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, none, top, right, none));\n    };\n    const reposition = (origin, decision) => origin.fold(() => {\n      const decisionRect = decision.rect;\n      return NuPositionCss('absolute', Optional.some(decisionRect.x), Optional.some(decisionRect.y), Optional.none(), Optional.none());\n    }, (x, y, width, height) => {\n      return positionWithDirection('absolute', decision, x, y, width, height);\n    }, (x, y, width, height) => {\n      return positionWithDirection('fixed', decision, x, y, width, height);\n    });\n    const toBox = (origin, element) => {\n      const rel = curry(find$2, element);\n      const position = origin.fold(rel, rel, () => {\n        const scroll = get$b();\n        return find$2(element).translate(-scroll.left, -scroll.top);\n      });\n      const width = getOuter$1(element);\n      const height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    const viewport = (origin, optBounds) => optBounds.fold(() => origin.fold(win, win, bounds), bounds$1 => origin.fold(constant$1(bounds$1), constant$1(bounds$1), () => {\n      const pos = translate$2(origin, bounds$1.x, bounds$1.y);\n      return bounds(pos.left, pos.top, bounds$1.width, bounds$1.height);\n    }));\n    const translate$2 = (origin, x, y) => {\n      const pos = SugarPosition(x, y);\n      const removeScroll = () => {\n        const outerScroll = get$b();\n        return pos.translate(-outerScroll.left, -outerScroll.top);\n      };\n      return origin.fold(constant$1(pos), constant$1(pos), removeScroll);\n    };\n    const cata$1 = (subject, onNone, onRelative, onFixed) => subject.fold(onNone, onRelative, onFixed);\n    adt$9.none;\n    const relative$1 = adt$9.relative;\n    const fixed$1 = adt$9.fixed;\n\n    const anchor = (anchorBox, origin) => ({\n      anchorBox,\n      origin\n    });\n    const box = (anchorBox, origin) => anchor(anchorBox, origin);\n\n    const placementAttribute = 'data-alloy-placement';\n    const setPlacement$1 = (element, placement) => {\n      set$9(element, placementAttribute, placement);\n    };\n    const getPlacement = element => getOpt(element, placementAttribute);\n    const reset$2 = element => remove$7(element, placementAttribute);\n\n    const adt$8 = Adt.generate([\n      { fit: ['reposition'] },\n      {\n        nofit: [\n          'reposition',\n          'visibleW',\n          'visibleH',\n          'isVisible'\n        ]\n      }\n    ]);\n    const determinePosition = (box, bounds) => {\n      const {\n        x: boundsX,\n        y: boundsY,\n        right: boundsRight,\n        bottom: boundsBottom\n      } = bounds;\n      const {x, y, right, bottom, width, height} = box;\n      const xInBounds = x >= boundsX && x <= boundsRight;\n      const yInBounds = y >= boundsY && y <= boundsBottom;\n      const originInBounds = xInBounds && yInBounds;\n      const rightInBounds = right <= boundsRight && right >= boundsX;\n      const bottomInBounds = bottom <= boundsBottom && bottom >= boundsY;\n      const sizeInBounds = rightInBounds && bottomInBounds;\n      const visibleW = Math.min(width, x >= boundsX ? boundsRight - x : right - boundsX);\n      const visibleH = Math.min(height, y >= boundsY ? boundsBottom - y : bottom - boundsY);\n      return {\n        originInBounds,\n        sizeInBounds,\n        visibleW,\n        visibleH\n      };\n    };\n    const calcReposition = (box, bounds$1) => {\n      const {\n        x: boundsX,\n        y: boundsY,\n        right: boundsRight,\n        bottom: boundsBottom\n      } = bounds$1;\n      const {x, y, width, height} = box;\n      const maxX = Math.max(boundsX, boundsRight - width);\n      const maxY = Math.max(boundsY, boundsBottom - height);\n      const restrictedX = clamp(x, boundsX, maxX);\n      const restrictedY = clamp(y, boundsY, maxY);\n      const restrictedWidth = Math.min(restrictedX + width, boundsRight) - restrictedX;\n      const restrictedHeight = Math.min(restrictedY + height, boundsBottom) - restrictedY;\n      return bounds(restrictedX, restrictedY, restrictedWidth, restrictedHeight);\n    };\n    const calcMaxSizes = (direction, box, bounds) => {\n      const upAvailable = constant$1(box.bottom - bounds.y);\n      const downAvailable = constant$1(bounds.bottom - box.y);\n      const maxHeight = cataVertical(direction, downAvailable, downAvailable, upAvailable);\n      const westAvailable = constant$1(box.right - bounds.x);\n      const eastAvailable = constant$1(bounds.right - box.x);\n      const maxWidth = cataHorizontal(direction, eastAvailable, eastAvailable, westAvailable);\n      return {\n        maxWidth,\n        maxHeight\n      };\n    };\n    const attempt = (candidate, width, height, bounds$1) => {\n      const bubble = candidate.bubble;\n      const bubbleOffset = bubble.offset;\n      const adjustedBounds = adjustBounds(bounds$1, candidate.restriction, bubbleOffset);\n      const newX = candidate.x + bubbleOffset.left;\n      const newY = candidate.y + bubbleOffset.top;\n      const box = bounds(newX, newY, width, height);\n      const {originInBounds, sizeInBounds, visibleW, visibleH} = determinePosition(box, adjustedBounds);\n      const fits = originInBounds && sizeInBounds;\n      const fittedBox = fits ? box : calcReposition(box, adjustedBounds);\n      const isPartlyVisible = fittedBox.width > 0 && fittedBox.height > 0;\n      const {maxWidth, maxHeight} = calcMaxSizes(candidate.direction, fittedBox, bounds$1);\n      const reposition = {\n        rect: fittedBox,\n        maxHeight,\n        maxWidth,\n        direction: candidate.direction,\n        placement: candidate.placement,\n        classes: {\n          on: bubble.classesOn,\n          off: bubble.classesOff\n        },\n        layout: candidate.label,\n        testY: newY\n      };\n      return fits || candidate.alwaysFit ? adt$8.fit(reposition) : adt$8.nofit(reposition, visibleW, visibleH, isPartlyVisible);\n    };\n    const attempts = (element, candidates, anchorBox, elementBox, bubbles, bounds) => {\n      const panelWidth = elementBox.width;\n      const panelHeight = elementBox.height;\n      const attemptBestFit = (layout, reposition, visibleW, visibleH, isVisible) => {\n        const next = layout(anchorBox, elementBox, bubbles, element, bounds);\n        const attemptLayout = attempt(next, panelWidth, panelHeight, bounds);\n        return attemptLayout.fold(constant$1(attemptLayout), (newReposition, newVisibleW, newVisibleH, newIsVisible) => {\n          const improved = isVisible === newIsVisible ? newVisibleH > visibleH || newVisibleW > visibleW : !isVisible && newIsVisible;\n          return improved ? attemptLayout : adt$8.nofit(reposition, visibleW, visibleH, isVisible);\n        });\n      };\n      const abc = foldl(candidates, (b, a) => {\n        const bestNext = curry(attemptBestFit, a);\n        return b.fold(constant$1(b), bestNext);\n      }, adt$8.nofit({\n        rect: anchorBox,\n        maxHeight: elementBox.height,\n        maxWidth: elementBox.width,\n        direction: southeast$3(),\n        placement: 'southeast',\n        classes: {\n          on: [],\n          off: []\n        },\n        layout: 'none',\n        testY: anchorBox.y\n      }, -1, -1, false));\n      return abc.fold(identity, identity);\n    };\n\n    const singleton = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const destroyable = () => singleton(s => s.destroy());\n    const unbindable = () => singleton(s => s.unbind());\n    const value$2 = () => {\n      const subject = singleton(noop);\n      const on = f => subject.get().each(f);\n      return {\n        ...subject,\n        on\n      };\n    };\n\n    const filter = always;\n    const bind = (element, event, handler) => bind$2(element, event, filter, handler);\n    const capture = (element, event, handler) => capture$1(element, event, filter, handler);\n    const fromRawEvent = fromRawEvent$1;\n\n    const properties = [\n      'top',\n      'bottom',\n      'right',\n      'left'\n    ];\n    const timerAttr = 'data-alloy-transition-timer';\n    const isTransitioning$1 = (element, transition) => hasAll(element, transition.classes);\n    const shouldApplyTransitionCss = (transition, decision, lastPlacement) => {\n      return lastPlacement.exists(placer => {\n        const mode = transition.mode;\n        return mode === 'all' ? true : placer[mode] !== decision[mode];\n      });\n    };\n    const hasChanges = (position, intermediate) => {\n      const round = value => parseFloat(value).toFixed(3);\n      return find$4(intermediate, (value, key) => {\n        const newValue = position[key].map(round);\n        const val = value.map(round);\n        return !equals(newValue, val);\n      }).isSome();\n    };\n    const getTransitionDuration = element => {\n      const get = name => {\n        const style = get$e(element, name);\n        const times = style.split(/\\s*,\\s*/);\n        return filter$2(times, isNotEmpty);\n      };\n      const parse = value => {\n        if (isString(value) && /^[\\d.]+/.test(value)) {\n          const num = parseFloat(value);\n          return endsWith(value, 'ms') ? num : num * 1000;\n        } else {\n          return 0;\n        }\n      };\n      const delay = get('transition-delay');\n      const duration = get('transition-duration');\n      return foldl(duration, (acc, dur, i) => {\n        const time = parse(delay[i]) + parse(dur);\n        return Math.max(acc, time);\n      }, 0);\n    };\n    const setupTransitionListeners = (element, transition) => {\n      const transitionEnd = unbindable();\n      const transitionCancel = unbindable();\n      let timer;\n      const isSourceTransition = e => {\n        var _a;\n        const pseudoElement = (_a = e.raw.pseudoElement) !== null && _a !== void 0 ? _a : '';\n        return eq(e.target, element) && isEmpty(pseudoElement) && contains$2(properties, e.raw.propertyName);\n      };\n      const transitionDone = e => {\n        if (isNullable(e) || isSourceTransition(e)) {\n          transitionEnd.clear();\n          transitionCancel.clear();\n          const type = e === null || e === void 0 ? void 0 : e.raw.type;\n          if (isNullable(type) || type === transitionend()) {\n            clearTimeout(timer);\n            remove$7(element, timerAttr);\n            remove$1(element, transition.classes);\n          }\n        }\n      };\n      const transitionStart = bind(element, transitionstart(), e => {\n        if (isSourceTransition(e)) {\n          transitionStart.unbind();\n          transitionEnd.set(bind(element, transitionend(), transitionDone));\n          transitionCancel.set(bind(element, transitioncancel(), transitionDone));\n        }\n      });\n      const duration = getTransitionDuration(element);\n      requestAnimationFrame(() => {\n        timer = setTimeout(transitionDone, duration + 17);\n        set$9(element, timerAttr, timer);\n      });\n    };\n    const startTransitioning = (element, transition) => {\n      add$1(element, transition.classes);\n      getOpt(element, timerAttr).each(timerId => {\n        clearTimeout(parseInt(timerId, 10));\n        remove$7(element, timerAttr);\n      });\n      setupTransitionListeners(element, transition);\n    };\n    const applyTransitionCss = (element, origin, position, transition, decision, lastPlacement) => {\n      const shouldTransition = shouldApplyTransitionCss(transition, decision, lastPlacement);\n      if (shouldTransition || isTransitioning$1(element, transition)) {\n        set$8(element, 'position', position.position);\n        const rect = toBox(origin, element);\n        const intermediatePosition = reposition(origin, {\n          ...decision,\n          rect\n        });\n        const intermediateCssOptions = mapToObject(properties, prop => intermediatePosition[prop]);\n        if (hasChanges(position, intermediateCssOptions)) {\n          setOptions(element, intermediateCssOptions);\n          if (shouldTransition) {\n            startTransitioning(element, transition);\n          }\n          reflow(element);\n        }\n      } else {\n        remove$1(element, transition.classes);\n      }\n    };\n\n    const elementSize = p => ({\n      width: getOuter$1(p),\n      height: getOuter$2(p)\n    });\n    const layout = (anchorBox, element, bubbles, options) => {\n      remove$6(element, 'max-height');\n      remove$6(element, 'max-width');\n      const elementBox = elementSize(element);\n      return attempts(element, options.preference, anchorBox, elementBox, bubbles, options.bounds);\n    };\n    const setClasses = (element, decision) => {\n      const classInfo = decision.classes;\n      remove$1(element, classInfo.off);\n      add$1(element, classInfo.on);\n    };\n    const setHeight = (element, decision, options) => {\n      const maxHeightFunction = options.maxHeightFunction;\n      maxHeightFunction(element, decision.maxHeight);\n    };\n    const setWidth = (element, decision, options) => {\n      const maxWidthFunction = options.maxWidthFunction;\n      maxWidthFunction(element, decision.maxWidth);\n    };\n    const position$2 = (element, decision, options) => {\n      const positionCss = reposition(options.origin, decision);\n      options.transition.each(transition => {\n        applyTransitionCss(element, options.origin, positionCss, transition, decision, options.lastPlacement);\n      });\n      applyPositionCss(element, positionCss);\n    };\n    const setPlacement = (element, decision) => {\n      setPlacement$1(element, decision.placement);\n    };\n\n    const setMaxHeight = (element, maxHeight) => {\n      setMax$1(element, Math.floor(maxHeight));\n    };\n    const anchored = constant$1((element, available) => {\n      setMaxHeight(element, available);\n      setAll(element, {\n        'overflow-x': 'hidden',\n        'overflow-y': 'auto'\n      });\n    });\n    const expandable$1 = constant$1((element, available) => {\n      setMaxHeight(element, available);\n    });\n\n    const defaultOr = (options, key, dephault) => options[key] === undefined ? dephault : options[key];\n    const simple = (anchor, element, bubble, layouts, lastPlacement, optBounds, overrideOptions, transition) => {\n      const maxHeightFunction = defaultOr(overrideOptions, 'maxHeightFunction', anchored());\n      const maxWidthFunction = defaultOr(overrideOptions, 'maxWidthFunction', noop);\n      const anchorBox = anchor.anchorBox;\n      const origin = anchor.origin;\n      const options = {\n        bounds: viewport(origin, optBounds),\n        origin,\n        preference: layouts,\n        maxHeightFunction,\n        maxWidthFunction,\n        lastPlacement,\n        transition\n      };\n      return go(anchorBox, element, bubble, options);\n    };\n    const go = (anchorBox, element, bubble, options) => {\n      const decision = layout(anchorBox, element, bubble, options);\n      position$2(element, decision, options);\n      setPlacement(element, decision);\n      setClasses(element, decision);\n      setHeight(element, decision, options);\n      setWidth(element, decision, options);\n      return {\n        layout: decision.layout,\n        placement: decision.placement\n      };\n    };\n\n    const allAlignments = [\n      'valignCentre',\n      'alignLeft',\n      'alignRight',\n      'alignCentre',\n      'top',\n      'bottom',\n      'left',\n      'right',\n      'inset'\n    ];\n    const nu$5 = (xOffset, yOffset, classes, insetModifier = 1) => {\n      const insetXOffset = xOffset * insetModifier;\n      const insetYOffset = yOffset * insetModifier;\n      const getClasses = prop => get$g(classes, prop).getOr([]);\n      const make = (xDelta, yDelta, alignmentsOn) => {\n        const alignmentsOff = difference(allAlignments, alignmentsOn);\n        return {\n          offset: SugarPosition(xDelta, yDelta),\n          classesOn: bind$3(alignmentsOn, getClasses),\n          classesOff: bind$3(alignmentsOff, getClasses)\n        };\n      };\n      return {\n        southeast: () => make(-xOffset, yOffset, [\n          'top',\n          'alignLeft'\n        ]),\n        southwest: () => make(xOffset, yOffset, [\n          'top',\n          'alignRight'\n        ]),\n        south: () => make(-xOffset / 2, yOffset, [\n          'top',\n          'alignCentre'\n        ]),\n        northeast: () => make(-xOffset, -yOffset, [\n          'bottom',\n          'alignLeft'\n        ]),\n        northwest: () => make(xOffset, -yOffset, [\n          'bottom',\n          'alignRight'\n        ]),\n        north: () => make(-xOffset / 2, -yOffset, [\n          'bottom',\n          'alignCentre'\n        ]),\n        east: () => make(xOffset, -yOffset / 2, [\n          'valignCentre',\n          'left'\n        ]),\n        west: () => make(-xOffset, -yOffset / 2, [\n          'valignCentre',\n          'right'\n        ]),\n        insetNortheast: () => make(insetXOffset, insetYOffset, [\n          'top',\n          'alignLeft',\n          'inset'\n        ]),\n        insetNorthwest: () => make(-insetXOffset, insetYOffset, [\n          'top',\n          'alignRight',\n          'inset'\n        ]),\n        insetNorth: () => make(-insetXOffset / 2, insetYOffset, [\n          'top',\n          'alignCentre',\n          'inset'\n        ]),\n        insetSoutheast: () => make(insetXOffset, -insetYOffset, [\n          'bottom',\n          'alignLeft',\n          'inset'\n        ]),\n        insetSouthwest: () => make(-insetXOffset, -insetYOffset, [\n          'bottom',\n          'alignRight',\n          'inset'\n        ]),\n        insetSouth: () => make(-insetXOffset / 2, -insetYOffset, [\n          'bottom',\n          'alignCentre',\n          'inset'\n        ]),\n        insetEast: () => make(-insetXOffset, -insetYOffset / 2, [\n          'valignCentre',\n          'right',\n          'inset'\n        ]),\n        insetWest: () => make(insetXOffset, -insetYOffset / 2, [\n          'valignCentre',\n          'left',\n          'inset'\n        ])\n      };\n    };\n    const fallback = () => nu$5(0, 0, {});\n\n    const nu$4 = identity;\n\n    const onDirection = (isLtr, isRtl) => element => getDirection(element) === 'rtl' ? isRtl : isLtr;\n    const getDirection = element => get$e(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n\n    var AttributeValue;\n    (function (AttributeValue) {\n      AttributeValue['TopToBottom'] = 'toptobottom';\n      AttributeValue['BottomToTop'] = 'bottomtotop';\n    }(AttributeValue || (AttributeValue = {})));\n    const Attribute = 'data-alloy-vertical-dir';\n    const isBottomToTopDir = el => closest$2(el, current => isElement$1(current) && get$f(current, 'data-alloy-vertical-dir') === AttributeValue.BottomToTop);\n\n    const schema$y = () => optionObjOf('layouts', [\n      required$1('onLtr'),\n      required$1('onRtl'),\n      option$3('onBottomLtr'),\n      option$3('onBottomRtl')\n    ]);\n    const get$5 = (elem, info, defaultLtr, defaultRtl, defaultBottomLtr, defaultBottomRtl, dirElement) => {\n      const isBottomToTop = dirElement.map(isBottomToTopDir).getOr(false);\n      const customLtr = info.layouts.map(ls => ls.onLtr(elem));\n      const customRtl = info.layouts.map(ls => ls.onRtl(elem));\n      const ltr = isBottomToTop ? info.layouts.bind(ls => ls.onBottomLtr.map(f => f(elem))).or(customLtr).getOr(defaultBottomLtr) : customLtr.getOr(defaultLtr);\n      const rtl = isBottomToTop ? info.layouts.bind(ls => ls.onBottomRtl.map(f => f(elem))).or(customRtl).getOr(defaultBottomRtl) : customRtl.getOr(defaultRtl);\n      const f = onDirection(ltr, rtl);\n      return f(elem);\n    };\n\n    const placement$4 = (component, anchorInfo, origin) => {\n      const hotspot = anchorInfo.hotspot;\n      const anchorBox = toBox(origin, hotspot.element);\n      const layouts = get$5(component.element, anchorInfo, belowOrAbove(), belowOrAboveRtl(), aboveOrBelow(), aboveOrBelowRtl(), Optional.some(anchorInfo.hotspot.element));\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts\n      }));\n    };\n    var HotspotAnchor = [\n      required$1('hotspot'),\n      option$3('bubble'),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$4)\n    ];\n\n    const placement$3 = (component, anchorInfo, origin) => {\n      const pos = translate$2(origin, anchorInfo.x, anchorInfo.y);\n      const anchorBox = bounds(pos.left, pos.top, anchorInfo.width, anchorInfo.height);\n      const layouts = get$5(component.element, anchorInfo, all$1(), allRtl$1(), all$1(), allRtl$1(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble,\n        overrides: anchorInfo.overrides,\n        layouts\n      }));\n    };\n    var MakeshiftAnchor = [\n      required$1('x'),\n      required$1('y'),\n      defaulted('height', 0),\n      defaulted('width', 0),\n      defaulted('bubble', fallback()),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$3)\n    ];\n\n    const adt$7 = Adt.generate([\n      { screen: ['point'] },\n      {\n        absolute: [\n          'point',\n          'scrollLeft',\n          'scrollTop'\n        ]\n      }\n    ]);\n    const toFixed = pos => pos.fold(identity, (point, scrollLeft, scrollTop) => point.translate(-scrollLeft, -scrollTop));\n    const toAbsolute = pos => pos.fold(identity, identity);\n    const sum = points => foldl(points, (b, a) => b.translate(a.left, a.top), SugarPosition(0, 0));\n    const sumAsFixed = positions => {\n      const points = map$2(positions, toFixed);\n      return sum(points);\n    };\n    const sumAsAbsolute = positions => {\n      const points = map$2(positions, toAbsolute);\n      return sum(points);\n    };\n    const screen = adt$7.screen;\n    const absolute$1 = adt$7.absolute;\n\n    const getOffset = (component, origin, anchorInfo) => {\n      const win = defaultView(anchorInfo.root).dom;\n      const hasSameOwner = frame => {\n        const frameOwner = owner$4(frame);\n        const compOwner = owner$4(component.element);\n        return eq(frameOwner, compOwner);\n      };\n      return Optional.from(win.frameElement).map(SugarElement.fromDom).filter(hasSameOwner).map(absolute$3);\n    };\n    const getRootPoint = (component, origin, anchorInfo) => {\n      const doc = owner$4(component.element);\n      const outerScroll = get$b(doc);\n      const offset = getOffset(component, origin, anchorInfo).getOr(outerScroll);\n      return absolute$1(offset, outerScroll.left, outerScroll.top);\n    };\n\n    const getBox = (left, top, width, height) => {\n      const point = screen(SugarPosition(left, top));\n      return Optional.some(pointed(point, width, height));\n    };\n    const calcNewAnchor = (optBox, rootPoint, anchorInfo, origin, elem) => optBox.map(box => {\n      const points = [\n        rootPoint,\n        box.point\n      ];\n      const topLeft = cata$1(origin, () => sumAsAbsolute(points), () => sumAsAbsolute(points), () => sumAsFixed(points));\n      const anchorBox = rect(topLeft.left, topLeft.top, box.width, box.height);\n      const layoutsLtr = anchorInfo.showAbove ? aboveOrBelow() : belowOrAbove();\n      const layoutsRtl = anchorInfo.showAbove ? aboveOrBelowRtl() : belowOrAboveRtl();\n      const layouts = get$5(elem, anchorInfo, layoutsLtr, layoutsRtl, layoutsLtr, layoutsRtl, Optional.none());\n      return nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts\n      });\n    });\n\n    const placement$2 = (component, anchorInfo, origin) => {\n      const rootPoint = getRootPoint(component, origin, anchorInfo);\n      return anchorInfo.node.filter(inBody).bind(target => {\n        const rect = target.dom.getBoundingClientRect();\n        const nodeBox = getBox(rect.left, rect.top, rect.width, rect.height);\n        const elem = anchorInfo.node.getOr(component.element);\n        return calcNewAnchor(nodeBox, rootPoint, anchorInfo, origin, elem);\n      });\n    };\n    var NodeAnchor = [\n      required$1('node'),\n      required$1('root'),\n      option$3('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$2)\n    ];\n\n    const zeroWidth = '\\uFEFF';\n    const nbsp = '\\xA0';\n\n    const create$3 = (start, soffset, finish, foffset) => ({\n      start,\n      soffset,\n      finish,\n      foffset\n    });\n    const SimRange = { create: create$3 };\n\n    const adt$6 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    const cata = (subject, onBefore, onOn, onAfter) => subject.fold(onBefore, onOn, onAfter);\n    const getStart$1 = situ => situ.fold(identity, identity, identity);\n    const before = adt$6.before;\n    const on$1 = adt$6.on;\n    const after$1 = adt$6.after;\n    const Situ = {\n      before,\n      on: on$1,\n      after: after$1,\n      cata,\n      getStart: getStart$1\n    };\n\n    const adt$5 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const exactFromRange = simRange => adt$5.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    const getStart = selection => selection.match({\n      domRange: rng => SugarElement.fromDom(rng.startContainer),\n      relative: (startSitu, _finishSitu) => Situ.getStart(startSitu),\n      exact: (start, _soffset, _finish, _foffset) => start\n    });\n    const domRange = adt$5.domRange;\n    const relative = adt$5.relative;\n    const exact = adt$5.exact;\n    const getWin = selection => {\n      const start = getStart(selection);\n      return defaultView(start);\n    };\n    const range$1 = SimRange.create;\n    const SimSelection = {\n      domRange,\n      relative,\n      exact,\n      exactFromRange,\n      getWin,\n      range: range$1\n    };\n\n    const setStart = (rng, situ) => {\n      situ.fold(e => {\n        rng.setStartBefore(e.dom);\n      }, (e, o) => {\n        rng.setStart(e.dom, o);\n      }, e => {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    const setFinish = (rng, situ) => {\n      situ.fold(e => {\n        rng.setEndBefore(e.dom);\n      }, (e, o) => {\n        rng.setEnd(e.dom, o);\n      }, e => {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    const relativeToNative = (win, startSitu, finishSitu) => {\n      const range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    const exactToNative = (win, start, soffset, finish, foffset) => {\n      const rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const toRect = rect => ({\n      left: rect.left,\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      width: rect.width,\n      height: rect.height\n    });\n    const getFirstRect$1 = rng => {\n      const rects = rng.getClientRects();\n      const rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n    const getBounds$2 = rng => {\n      const rect = rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n\n    const adt$4 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const fromRange = (win, type, range) => type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    const getRanges = (win, selection) => selection.match({\n      domRange: rng => {\n        return {\n          ltr: constant$1(rng),\n          rtl: Optional.none\n        };\n      },\n      relative: (startSitu, finishSitu) => {\n        return {\n          ltr: cached(() => relativeToNative(win, startSitu, finishSitu)),\n          rtl: cached(() => Optional.some(relativeToNative(win, finishSitu, startSitu)))\n        };\n      },\n      exact: (start, soffset, finish, foffset) => {\n        return {\n          ltr: cached(() => exactToNative(win, start, soffset, finish, foffset)),\n          rtl: cached(() => Optional.some(exactToNative(win, finish, foffset, start, soffset)))\n        };\n      }\n    });\n    const doDiagnose = (win, ranges) => {\n      const rng = ranges.ltr();\n      if (rng.collapsed) {\n        const reversed = ranges.rtl().filter(rev => rev.collapsed === false);\n        return reversed.map(rev => adt$4.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset)).getOrThunk(() => fromRange(win, adt$4.ltr, rng));\n      } else {\n        return fromRange(win, adt$4.ltr, rng);\n      }\n    };\n    const diagnose = (win, selection) => {\n      const ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    const asLtrRange = (win, selection) => {\n      const diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(start.dom, soffset);\n          rng.setEnd(finish.dom, foffset);\n          return rng;\n        },\n        rtl: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(finish.dom, foffset);\n          rng.setEnd(start.dom, soffset);\n          return rng;\n        }\n      });\n    };\n    adt$4.ltr;\n    adt$4.rtl;\n\n    const ancestors = (scope, predicate, isRoot) => filter$2(parents(scope, isRoot), predicate);\n\n    const descendants = (scope, selector) => all$3(selector, scope);\n\n    const makeRange = (start, soffset, finish, foffset) => {\n      const doc = owner$4(start);\n      const rng = doc.dom.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const after = (start, soffset, finish, foffset) => {\n      const r = makeRange(start, soffset, finish, foffset);\n      const same = eq(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    const getNativeSelection = win => Optional.from(win.getSelection());\n    const readRange = selection => {\n      if (selection.rangeCount > 0) {\n        const firstRng = selection.getRangeAt(0);\n        const lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer), firstRng.startOffset, SugarElement.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Optional.none();\n      }\n    };\n    const doGetExact = selection => {\n      if (selection.anchorNode === null || selection.focusNode === null) {\n        return readRange(selection);\n      } else {\n        const anchor = SugarElement.fromDom(selection.anchorNode);\n        const focus = SugarElement.fromDom(selection.focusNode);\n        return after(anchor, selection.anchorOffset, focus, selection.focusOffset) ? Optional.some(SimRange.create(anchor, selection.anchorOffset, focus, selection.focusOffset)) : readRange(selection);\n      }\n    };\n    const getExact = win => getNativeSelection(win).filter(sel => sel.rangeCount > 0).bind(doGetExact);\n    const getFirstRect = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getFirstRect$1(rng);\n    };\n    const getBounds$1 = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getBounds$2(rng);\n    };\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api = NodeValue(isText, 'text');\n    const get$4 = element => api.get(element);\n\n    const point = (element, offset) => ({\n      element,\n      offset\n    });\n    const descendOnce$1 = (element, offset) => {\n      const children$1 = children(element);\n      if (children$1.length === 0) {\n        return point(element, offset);\n      } else if (offset < children$1.length) {\n        return point(children$1[offset], 0);\n      } else {\n        const last = children$1[children$1.length - 1];\n        const len = isText(last) ? get$4(last).length : children(last).length;\n        return point(last, len);\n      }\n    };\n\n    const descendOnce = (element, offset) => isText(element) ? point(element, offset) : descendOnce$1(element, offset);\n    const getAnchorSelection = (win, anchorInfo) => {\n      const getSelection = anchorInfo.getSelection.getOrThunk(() => () => getExact(win));\n      return getSelection().map(sel => {\n        const modStart = descendOnce(sel.start, sel.soffset);\n        const modFinish = descendOnce(sel.finish, sel.foffset);\n        return SimSelection.range(modStart.element, modStart.offset, modFinish.element, modFinish.offset);\n      });\n    };\n    const placement$1 = (component, anchorInfo, origin) => {\n      const win = defaultView(anchorInfo.root).dom;\n      const rootPoint = getRootPoint(component, origin, anchorInfo);\n      const selectionBox = getAnchorSelection(win, anchorInfo).bind(sel => {\n        const optRect = getBounds$1(win, SimSelection.exactFromRange(sel)).orThunk(() => {\n          const x = SugarElement.fromText(zeroWidth);\n          before$1(sel.start, x);\n          const rect = getFirstRect(win, SimSelection.exact(x, 0, x, 1));\n          remove$5(x);\n          return rect;\n        });\n        return optRect.bind(rawRect => getBox(rawRect.left, rawRect.top, rawRect.width, rawRect.height));\n      });\n      const targetElement = getAnchorSelection(win, anchorInfo).bind(sel => isElement$1(sel.start) ? Optional.some(sel.start) : parentElement(sel.start));\n      const elem = targetElement.getOr(component.element);\n      return calcNewAnchor(selectionBox, rootPoint, anchorInfo, origin, elem);\n    };\n    var SelectionAnchor = [\n      option$3('getSelection'),\n      required$1('root'),\n      option$3('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$1)\n    ];\n\n    const labelPrefix$1 = 'link-layout';\n    const eastX = anchor => anchor.x + anchor.width;\n    const westX = (anchor, element) => anchor.x - element.width;\n    const northY$1 = (anchor, element) => anchor.y - element.height + anchor.height;\n    const southY$1 = anchor => anchor.y;\n    const southeast$1 = (anchor, element, bubbles) => nu$6(eastX(anchor), southY$1(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 0,\n      top: 2\n    }), labelPrefix$1);\n    const southwest$1 = (anchor, element, bubbles) => nu$6(westX(anchor, element), southY$1(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 1,\n      top: 2\n    }), labelPrefix$1);\n    const northeast$1 = (anchor, element, bubbles) => nu$6(eastX(anchor), northY$1(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 0,\n      bottom: 3\n    }), labelPrefix$1);\n    const northwest$1 = (anchor, element, bubbles) => nu$6(westX(anchor, element), northY$1(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 1,\n      bottom: 3\n    }), labelPrefix$1);\n    const all = () => [\n      southeast$1,\n      southwest$1,\n      northeast$1,\n      northwest$1\n    ];\n    const allRtl = () => [\n      southwest$1,\n      southeast$1,\n      northwest$1,\n      northeast$1\n    ];\n\n    const placement = (component, submenuInfo, origin) => {\n      const anchorBox = toBox(origin, submenuInfo.item.element);\n      const layouts = get$5(component.element, submenuInfo, all(), allRtl(), all(), allRtl(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: fallback(),\n        overrides: submenuInfo.overrides,\n        layouts\n      }));\n    };\n    var SubmenuAnchor = [\n      required$1('item'),\n      schema$y(),\n      defaulted('overrides', {}),\n      output$1('placement', placement)\n    ];\n\n    var AnchorSchema = choose$1('type', {\n      selection: SelectionAnchor,\n      node: NodeAnchor,\n      hotspot: HotspotAnchor,\n      submenu: SubmenuAnchor,\n      makeshift: MakeshiftAnchor\n    });\n\n    const TransitionSchema = [\n      requiredArrayOf('classes', string),\n      defaultedStringEnum('mode', 'all', [\n        'all',\n        'layout',\n        'placement'\n      ])\n    ];\n    const PositionSchema = [\n      defaulted('useFixed', never),\n      option$3('getBounds')\n    ];\n    const PlacementSchema = [\n      requiredOf('anchor', AnchorSchema),\n      optionObjOf('transition', TransitionSchema)\n    ];\n\n    const getFixedOrigin = () => {\n      const html = document.documentElement;\n      return fixed$1(0, 0, html.clientWidth, html.clientHeight);\n    };\n    const getRelativeOrigin = component => {\n      const position = absolute$3(component.element);\n      const bounds = component.element.dom.getBoundingClientRect();\n      return relative$1(position.left, position.top, bounds.width, bounds.height);\n    };\n    const place = (origin, anchoring, optBounds, placee, lastPlace, transition) => {\n      const anchor = box(anchoring.anchorBox, origin);\n      return simple(anchor, placee.element, anchoring.bubble, anchoring.layouts, lastPlace, optBounds, anchoring.overrides, transition);\n    };\n    const position$1 = (component, posConfig, posState, placee, placementSpec) => {\n      const optWithinBounds = Optional.none();\n      positionWithinBounds(component, posConfig, posState, placee, placementSpec, optWithinBounds);\n    };\n    const positionWithinBounds = (component, posConfig, posState, placee, placementSpec, optWithinBounds) => {\n      const placeeDetail = asRawOrDie$1('placement.info', objOf(PlacementSchema), placementSpec);\n      const anchorage = placeeDetail.anchor;\n      const element = placee.element;\n      const placeeState = posState.get(placee.uid);\n      preserve$1(() => {\n        set$8(element, 'position', 'fixed');\n        const oldVisibility = getRaw(element, 'visibility');\n        set$8(element, 'visibility', 'hidden');\n        const origin = posConfig.useFixed() ? getFixedOrigin() : getRelativeOrigin(component);\n        anchorage.placement(component, anchorage, origin).each(anchoring => {\n          const optBounds = optWithinBounds.orThunk(() => posConfig.getBounds.map(apply$1));\n          const newState = place(origin, anchoring, optBounds, placee, placeeState, placeeDetail.transition);\n          posState.set(placee.uid, newState);\n        });\n        oldVisibility.fold(() => {\n          remove$6(element, 'visibility');\n        }, vis => {\n          set$8(element, 'visibility', vis);\n        });\n        if (getRaw(element, 'left').isNone() && getRaw(element, 'top').isNone() && getRaw(element, 'right').isNone() && getRaw(element, 'bottom').isNone() && is$1(getRaw(element, 'position'), 'fixed')) {\n          remove$6(element, 'position');\n        }\n      }, element);\n    };\n    const getMode = (component, pConfig, _pState) => pConfig.useFixed() ? 'fixed' : 'absolute';\n    const reset$1 = (component, pConfig, posState, placee) => {\n      const element = placee.element;\n      each$1([\n        'position',\n        'left',\n        'right',\n        'top',\n        'bottom'\n      ], prop => remove$6(element, prop));\n      reset$2(element);\n      posState.clear(placee.uid);\n    };\n\n    var PositionApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        position: position$1,\n        positionWithinBounds: positionWithinBounds,\n        getMode: getMode,\n        reset: reset$1\n    });\n\n    const init$g = () => {\n      let state = {};\n      const set = (id, data) => {\n        state[id] = data;\n      };\n      const get = id => get$g(state, id);\n      const clear = id => {\n        if (isNonNullable(id)) {\n          delete state[id];\n        } else {\n          state = {};\n        }\n      };\n      return nu$8({\n        readState: () => state,\n        clear,\n        set,\n        get\n      });\n    };\n\n    var PositioningState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$g\n    });\n\n    const Positioning = create$4({\n      fields: PositionSchema,\n      name: 'positioning',\n      active: ActivePosition,\n      apis: PositionApis,\n      state: PositioningState\n    });\n\n    const isConnected = comp => comp.getSystem().isConnected();\n    const fireDetaching = component => {\n      emit(component, detachedFromDom());\n      const children = component.components();\n      each$1(children, fireDetaching);\n    };\n    const fireAttaching = component => {\n      const children = component.components();\n      each$1(children, fireAttaching);\n      emit(component, attachedToDom());\n    };\n    const virtualAttach = (parent, child) => {\n      parent.getSystem().addToWorld(child);\n      if (inBody(parent.element)) {\n        fireAttaching(child);\n      }\n    };\n    const virtualDetach = comp => {\n      fireDetaching(comp);\n      comp.getSystem().removeFromWorld(comp);\n    };\n    const attach$1 = (parent, child) => {\n      append$2(parent.element, child.element);\n    };\n    const detachChildren$1 = component => {\n      each$1(component.components(), childComp => remove$5(childComp.element));\n      empty(component.element);\n      component.syncComponents();\n    };\n    const replaceChildren = (component, newSpecs, buildNewChildren) => {\n      const subs = component.components();\n      detachChildren$1(component);\n      const newChildren = buildNewChildren(newSpecs);\n      const deleted = difference(subs, newChildren);\n      each$1(deleted, comp => {\n        fireDetaching(comp);\n        component.getSystem().removeFromWorld(comp);\n      });\n      each$1(newChildren, childComp => {\n        if (!isConnected(childComp)) {\n          component.getSystem().addToWorld(childComp);\n          attach$1(component, childComp);\n          if (inBody(component.element)) {\n            fireAttaching(childComp);\n          }\n        } else {\n          attach$1(component, childComp);\n        }\n      });\n      component.syncComponents();\n    };\n    const virtualReplaceChildren = (component, newSpecs, buildNewChildren) => {\n      const subs = component.components();\n      const existingComps = bind$3(newSpecs, spec => getPremade(spec).toArray());\n      each$1(subs, childComp => {\n        if (!contains$2(existingComps, childComp)) {\n          virtualDetach(childComp);\n        }\n      });\n      const newChildren = buildNewChildren(newSpecs);\n      const deleted = difference(subs, newChildren);\n      each$1(deleted, deletedComp => {\n        if (isConnected(deletedComp)) {\n          virtualDetach(deletedComp);\n        }\n      });\n      each$1(newChildren, childComp => {\n        if (!isConnected(childComp)) {\n          virtualAttach(component, childComp);\n        }\n      });\n      component.syncComponents();\n    };\n\n    const attach = (parent, child) => {\n      attachWith(parent, child, append$2);\n    };\n    const attachWith = (parent, child, insertion) => {\n      parent.getSystem().addToWorld(child);\n      insertion(parent.element, child.element);\n      if (inBody(parent.element)) {\n        fireAttaching(child);\n      }\n      parent.syncComponents();\n    };\n    const doDetach = component => {\n      fireDetaching(component);\n      remove$5(component.element);\n      component.getSystem().removeFromWorld(component);\n    };\n    const detach = component => {\n      const parent$1 = parent(component.element).bind(p => component.getSystem().getByDom(p).toOptional());\n      doDetach(component);\n      parent$1.each(p => {\n        p.syncComponents();\n      });\n    };\n    const detachChildren = component => {\n      const subs = component.components();\n      each$1(subs, doDetach);\n      empty(component.element);\n      component.syncComponents();\n    };\n    const attachSystem = (element, guiSystem) => {\n      attachSystemWith(element, guiSystem, append$2);\n    };\n    const attachSystemAfter = (element, guiSystem) => {\n      attachSystemWith(element, guiSystem, after$2);\n    };\n    const attachSystemWith = (element, guiSystem, inserter) => {\n      inserter(element, guiSystem.element);\n      const children$1 = children(guiSystem.element);\n      each$1(children$1, child => {\n        guiSystem.getByDom(child).each(fireAttaching);\n      });\n    };\n    const detachSystem = guiSystem => {\n      const children$1 = children(guiSystem.element);\n      each$1(children$1, child => {\n        guiSystem.getByDom(child).each(fireDetaching);\n      });\n      remove$5(guiSystem.element);\n    };\n\n    const rebuild = (sandbox, sConfig, sState, data) => {\n      sState.get().each(_data => {\n        detachChildren(sandbox);\n      });\n      const point = sConfig.getAttachPoint(sandbox);\n      attach(point, sandbox);\n      const built = sandbox.getSystem().build(data);\n      attach(sandbox, built);\n      sState.set(built);\n      return built;\n    };\n    const open$1 = (sandbox, sConfig, sState, data) => {\n      const newState = rebuild(sandbox, sConfig, sState, data);\n      sConfig.onOpen(sandbox, newState);\n      return newState;\n    };\n    const setContent = (sandbox, sConfig, sState, data) => sState.get().map(() => rebuild(sandbox, sConfig, sState, data));\n    const openWhileCloaked = (sandbox, sConfig, sState, data, transaction) => {\n      cloak(sandbox, sConfig);\n      open$1(sandbox, sConfig, sState, data);\n      transaction();\n      decloak(sandbox, sConfig);\n    };\n    const close$1 = (sandbox, sConfig, sState) => {\n      sState.get().each(data => {\n        detachChildren(sandbox);\n        detach(sandbox);\n        sConfig.onClose(sandbox, data);\n        sState.clear();\n      });\n    };\n    const isOpen$1 = (_sandbox, _sConfig, sState) => sState.isOpen();\n    const isPartOf = (sandbox, sConfig, sState, queryElem) => isOpen$1(sandbox, sConfig, sState) && sState.get().exists(data => sConfig.isPartOf(sandbox, data, queryElem));\n    const getState$2 = (_sandbox, _sConfig, sState) => sState.get();\n    const store = (sandbox, cssKey, attr, newValue) => {\n      getRaw(sandbox.element, cssKey).fold(() => {\n        remove$7(sandbox.element, attr);\n      }, v => {\n        set$9(sandbox.element, attr, v);\n      });\n      set$8(sandbox.element, cssKey, newValue);\n    };\n    const restore = (sandbox, cssKey, attr) => {\n      getOpt(sandbox.element, attr).fold(() => remove$6(sandbox.element, cssKey), oldValue => set$8(sandbox.element, cssKey, oldValue));\n    };\n    const cloak = (sandbox, sConfig, _sState) => {\n      const sink = sConfig.getAttachPoint(sandbox);\n      set$8(sandbox.element, 'position', Positioning.getMode(sink));\n      store(sandbox, 'visibility', sConfig.cloakVisibilityAttr, 'hidden');\n    };\n    const hasPosition = element => exists([\n      'top',\n      'left',\n      'right',\n      'bottom'\n    ], pos => getRaw(element, pos).isSome());\n    const decloak = (sandbox, sConfig, _sState) => {\n      if (!hasPosition(sandbox.element)) {\n        remove$6(sandbox.element, 'position');\n      }\n      restore(sandbox, 'visibility', sConfig.cloakVisibilityAttr);\n    };\n\n    var SandboxApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        cloak: cloak,\n        decloak: decloak,\n        open: open$1,\n        openWhileCloaked: openWhileCloaked,\n        close: close$1,\n        isOpen: isOpen$1,\n        isPartOf: isPartOf,\n        getState: getState$2,\n        setContent: setContent\n    });\n\n    const events$g = (sandboxConfig, sandboxState) => derive$2([run$1(sandboxClose(), (sandbox, _simulatedEvent) => {\n        close$1(sandbox, sandboxConfig, sandboxState);\n      })]);\n\n    var ActiveSandbox = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$g\n    });\n\n    var SandboxSchema = [\n      onHandler('onOpen'),\n      onHandler('onClose'),\n      required$1('isPartOf'),\n      required$1('getAttachPoint'),\n      defaulted('cloakVisibilityAttr', 'data-precloak-visibility')\n    ];\n\n    const init$f = () => {\n      const contents = value$2();\n      const readState = constant$1('not-implemented');\n      return nu$8({\n        readState,\n        isOpen: contents.isSet,\n        clear: contents.clear,\n        set: contents.set,\n        get: contents.get\n      });\n    };\n\n    var SandboxState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$f\n    });\n\n    const Sandboxing = create$4({\n      fields: SandboxSchema,\n      name: 'sandboxing',\n      active: ActiveSandbox,\n      apis: SandboxApis,\n      state: SandboxState\n    });\n\n    const dismissPopups = constant$1('dismiss.popups');\n    const repositionPopups = constant$1('reposition.popups');\n    const mouseReleased = constant$1('mouse.released');\n\n    const schema$x = objOfOnly([\n      defaulted('isExtraPart', never),\n      optionObjOf('fireEventInstead', [defaulted('event', dismissRequested())])\n    ]);\n    const receivingChannel$1 = rawSpec => {\n      const detail = asRawOrDie$1('Dismissal', schema$x, rawSpec);\n      return {\n        [dismissPopups()]: {\n          schema: objOfOnly([required$1('target')]),\n          onReceive: (sandbox, data) => {\n            if (Sandboxing.isOpen(sandbox)) {\n              const isPart = Sandboxing.isPartOf(sandbox, data.target) || detail.isExtraPart(sandbox, data.target);\n              if (!isPart) {\n                detail.fireEventInstead.fold(() => Sandboxing.close(sandbox), fe => emit(sandbox, fe.event));\n              }\n            }\n          }\n        }\n      };\n    };\n\n    const schema$w = objOfOnly([\n      optionObjOf('fireEventInstead', [defaulted('event', repositionRequested())]),\n      requiredFunction('doReposition')\n    ]);\n    const receivingChannel = rawSpec => {\n      const detail = asRawOrDie$1('Reposition', schema$w, rawSpec);\n      return {\n        [repositionPopups()]: {\n          onReceive: sandbox => {\n            if (Sandboxing.isOpen(sandbox)) {\n              detail.fireEventInstead.fold(() => detail.doReposition(sandbox), fe => emit(sandbox, fe.event));\n            }\n          }\n        }\n      };\n    };\n\n    const onLoad$5 = (component, repConfig, repState) => {\n      repConfig.store.manager.onLoad(component, repConfig, repState);\n    };\n    const onUnload$2 = (component, repConfig, repState) => {\n      repConfig.store.manager.onUnload(component, repConfig, repState);\n    };\n    const setValue$3 = (component, repConfig, repState, data) => {\n      repConfig.store.manager.setValue(component, repConfig, repState, data);\n    };\n    const getValue$3 = (component, repConfig, repState) => repConfig.store.manager.getValue(component, repConfig, repState);\n    const getState$1 = (component, repConfig, repState) => repState;\n\n    var RepresentApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad$5,\n        onUnload: onUnload$2,\n        setValue: setValue$3,\n        getValue: getValue$3,\n        getState: getState$1\n    });\n\n    const events$f = (repConfig, repState) => {\n      const es = repConfig.resetOnDom ? [\n        runOnAttached((comp, _se) => {\n          onLoad$5(comp, repConfig, repState);\n        }),\n        runOnDetached((comp, _se) => {\n          onUnload$2(comp, repConfig, repState);\n        })\n      ] : [loadEvent(repConfig, repState, onLoad$5)];\n      return derive$2(es);\n    };\n\n    var ActiveRepresenting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$f\n    });\n\n    const memory$1 = () => {\n      const data = Cell(null);\n      const readState = () => ({\n        mode: 'memory',\n        value: data.get()\n      });\n      const isNotSet = () => data.get() === null;\n      const clear = () => {\n        data.set(null);\n      };\n      return nu$8({\n        set: data.set,\n        get: data.get,\n        isNotSet,\n        clear,\n        readState\n      });\n    };\n    const manual = () => {\n      const readState = noop;\n      return nu$8({ readState });\n    };\n    const dataset = () => {\n      const dataByValue = Cell({});\n      const dataByText = Cell({});\n      const readState = () => ({\n        mode: 'dataset',\n        dataByValue: dataByValue.get(),\n        dataByText: dataByText.get()\n      });\n      const clear = () => {\n        dataByValue.set({});\n        dataByText.set({});\n      };\n      const lookup = itemString => get$g(dataByValue.get(), itemString).orThunk(() => get$g(dataByText.get(), itemString));\n      const update = items => {\n        const currentDataByValue = dataByValue.get();\n        const currentDataByText = dataByText.get();\n        const newDataByValue = {};\n        const newDataByText = {};\n        each$1(items, item => {\n          newDataByValue[item.value] = item;\n          get$g(item, 'meta').each(meta => {\n            get$g(meta, 'text').each(text => {\n              newDataByText[text] = item;\n            });\n          });\n        });\n        dataByValue.set({\n          ...currentDataByValue,\n          ...newDataByValue\n        });\n        dataByText.set({\n          ...currentDataByText,\n          ...newDataByText\n        });\n      };\n      return nu$8({\n        readState,\n        lookup,\n        update,\n        clear\n      });\n    };\n    const init$e = spec => spec.store.manager.state(spec);\n\n    var RepresentState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        memory: memory$1,\n        dataset: dataset,\n        manual: manual,\n        init: init$e\n    });\n\n    const setValue$2 = (component, repConfig, repState, data) => {\n      const store = repConfig.store;\n      repState.update([data]);\n      store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    const getValue$2 = (component, repConfig, repState) => {\n      const store = repConfig.store;\n      const key = store.getDataKey(component);\n      return repState.lookup(key).getOrThunk(() => store.getFallbackEntry(key));\n    };\n    const onLoad$4 = (component, repConfig, repState) => {\n      const store = repConfig.store;\n      store.initialValue.each(data => {\n        setValue$2(component, repConfig, repState, data);\n      });\n    };\n    const onUnload$1 = (component, repConfig, repState) => {\n      repState.clear();\n    };\n    var DatasetStore = [\n      option$3('initialValue'),\n      required$1('getFallbackEntry'),\n      required$1('getDataKey'),\n      required$1('setValue'),\n      output$1('manager', {\n        setValue: setValue$2,\n        getValue: getValue$2,\n        onLoad: onLoad$4,\n        onUnload: onUnload$1,\n        state: dataset\n      })\n    ];\n\n    const getValue$1 = (component, repConfig, _repState) => repConfig.store.getValue(component);\n    const setValue$1 = (component, repConfig, _repState, data) => {\n      repConfig.store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    const onLoad$3 = (component, repConfig, _repState) => {\n      repConfig.store.initialValue.each(data => {\n        repConfig.store.setValue(component, data);\n      });\n    };\n    var ManualStore = [\n      required$1('getValue'),\n      defaulted('setValue', noop),\n      option$3('initialValue'),\n      output$1('manager', {\n        setValue: setValue$1,\n        getValue: getValue$1,\n        onLoad: onLoad$3,\n        onUnload: noop,\n        state: NoState.init\n      })\n    ];\n\n    const setValue = (component, repConfig, repState, data) => {\n      repState.set(data);\n      repConfig.onSetValue(component, data);\n    };\n    const getValue = (component, repConfig, repState) => repState.get();\n    const onLoad$2 = (component, repConfig, repState) => {\n      repConfig.store.initialValue.each(initVal => {\n        if (repState.isNotSet()) {\n          repState.set(initVal);\n        }\n      });\n    };\n    const onUnload = (component, repConfig, repState) => {\n      repState.clear();\n    };\n    var MemoryStore = [\n      option$3('initialValue'),\n      output$1('manager', {\n        setValue,\n        getValue,\n        onLoad: onLoad$2,\n        onUnload,\n        state: memory$1\n      })\n    ];\n\n    var RepresentSchema = [\n      defaultedOf('store', { mode: 'memory' }, choose$1('mode', {\n        memory: MemoryStore,\n        manual: ManualStore,\n        dataset: DatasetStore\n      })),\n      onHandler('onSetValue'),\n      defaulted('resetOnDom', false)\n    ];\n\n    const Representing = create$4({\n      fields: RepresentSchema,\n      name: 'representing',\n      active: ActiveRepresenting,\n      apis: RepresentApis,\n      extra: {\n        setValueFrom: (component, source) => {\n          const value = Representing.getValue(source);\n          Representing.setValue(component, value);\n        }\n      },\n      state: RepresentState\n    });\n\n    const field = (name, forbidden) => defaultedObjOf(name, {}, map$2(forbidden, f => forbid(f.name(), 'Cannot configure ' + f.name() + ' for ' + name)).concat([customField('dump', identity)]));\n    const get$3 = data => data.dump;\n    const augment = (data, original) => ({\n      ...derive$1(original),\n      ...data.dump\n    });\n    const SketchBehaviours = {\n      field,\n      augment,\n      get: get$3\n    };\n\n    const _placeholder = 'placeholder';\n    const adt$3 = Adt.generate([\n      {\n        single: [\n          'required',\n          'valueThunk'\n        ]\n      },\n      {\n        multiple: [\n          'required',\n          'valueThunks'\n        ]\n      }\n    ]);\n    const isSubstituted = spec => has$2(spec, 'uiType');\n    const subPlaceholder = (owner, detail, compSpec, placeholders) => {\n      if (owner.exists(o => o !== compSpec.owner)) {\n        return adt$3.single(true, constant$1(compSpec));\n      }\n      return get$g(placeholders, compSpec.name).fold(() => {\n        throw new Error('Unknown placeholder component: ' + compSpec.name + '\\nKnown: [' + keys(placeholders) + ']\\nNamespace: ' + owner.getOr('none') + '\\nSpec: ' + JSON.stringify(compSpec, null, 2));\n      }, newSpec => newSpec.replace());\n    };\n    const scan = (owner, detail, compSpec, placeholders) => {\n      if (isSubstituted(compSpec) && compSpec.uiType === _placeholder) {\n        return subPlaceholder(owner, detail, compSpec, placeholders);\n      } else {\n        return adt$3.single(false, constant$1(compSpec));\n      }\n    };\n    const substitute = (owner, detail, compSpec, placeholders) => {\n      const base = scan(owner, detail, compSpec, placeholders);\n      return base.fold((req, valueThunk) => {\n        const value = isSubstituted(compSpec) ? valueThunk(detail, compSpec.config, compSpec.validated) : valueThunk(detail);\n        const childSpecs = get$g(value, 'components').getOr([]);\n        const substituted = bind$3(childSpecs, c => substitute(owner, detail, c, placeholders));\n        return [{\n            ...value,\n            components: substituted\n          }];\n      }, (req, valuesThunk) => {\n        if (isSubstituted(compSpec)) {\n          const values = valuesThunk(detail, compSpec.config, compSpec.validated);\n          const preprocessor = compSpec.validated.preprocess.getOr(identity);\n          return preprocessor(values);\n        } else {\n          return valuesThunk(detail);\n        }\n      });\n    };\n    const substituteAll = (owner, detail, components, placeholders) => bind$3(components, c => substitute(owner, detail, c, placeholders));\n    const oneReplace = (label, replacements) => {\n      let called = false;\n      const used = () => called;\n      const replace = () => {\n        if (called) {\n          throw new Error('Trying to use the same placeholder more than once: ' + label);\n        }\n        called = true;\n        return replacements;\n      };\n      const required = () => replacements.fold((req, _) => req, (req, _) => req);\n      return {\n        name: constant$1(label),\n        required,\n        used,\n        replace\n      };\n    };\n    const substitutePlaces = (owner, detail, components, placeholders) => {\n      const ps = map$1(placeholders, (ph, name) => oneReplace(name, ph));\n      const outcome = substituteAll(owner, detail, components, ps);\n      each(ps, p => {\n        if (p.used() === false && p.required()) {\n          throw new Error('Placeholder: ' + p.name() + ' was not found in components list\\nNamespace: ' + owner.getOr('none') + '\\nComponents: ' + JSON.stringify(detail.components, null, 2));\n        }\n      });\n      return outcome;\n    };\n    const single$2 = adt$3.single;\n    const multiple = adt$3.multiple;\n    const placeholder = constant$1(_placeholder);\n\n    const adt$2 = Adt.generate([\n      { required: ['data'] },\n      { external: ['data'] },\n      { optional: ['data'] },\n      { group: ['data'] }\n    ]);\n    const fFactory = defaulted('factory', { sketch: identity });\n    const fSchema = defaulted('schema', []);\n    const fName = required$1('name');\n    const fPname = field$1('pname', 'pname', defaultedThunk(typeSpec => '<alloy.' + generate$6(typeSpec.name) + '>'), anyValue());\n    const fGroupSchema = customField('schema', () => [option$3('preprocess')]);\n    const fDefaults = defaulted('defaults', constant$1({}));\n    const fOverrides = defaulted('overrides', constant$1({}));\n    const requiredSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const externalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fDefaults,\n      fOverrides\n    ]);\n    const optionalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const groupSpec = objOf([\n      fFactory,\n      fGroupSchema,\n      fName,\n      required$1('unit'),\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const asNamedPart = part => {\n      return part.fold(Optional.some, Optional.none, Optional.some, Optional.some);\n    };\n    const name$2 = part => {\n      const get = data => data.name;\n      return part.fold(get, get, get, get);\n    };\n    const asCommon = part => {\n      return part.fold(identity, identity, identity, identity);\n    };\n    const convert = (adtConstructor, partSchema) => spec => {\n      const data = asRawOrDie$1('Converting part type', partSchema, spec);\n      return adtConstructor(data);\n    };\n    const required = convert(adt$2.required, requiredSpec);\n    const external = convert(adt$2.external, externalSpec);\n    const optional = convert(adt$2.optional, optionalSpec);\n    const group = convert(adt$2.group, groupSpec);\n    const original = constant$1('entirety');\n\n    var PartType = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        required: required,\n        external: external,\n        optional: optional,\n        group: group,\n        asNamedPart: asNamedPart,\n        name: name$2,\n        asCommon: asCommon,\n        original: original\n    });\n\n    const combine = (detail, data, partSpec, partValidated) => deepMerge(data.defaults(detail, partSpec, partValidated), partSpec, { uid: detail.partUids[data.name] }, data.overrides(detail, partSpec, partValidated));\n    const subs = (owner, detail, parts) => {\n      const internals = {};\n      const externals = {};\n      each$1(parts, part => {\n        part.fold(data => {\n          internals[data.pname] = single$2(true, (detail, partSpec, partValidated) => data.factory.sketch(combine(detail, data, partSpec, partValidated)));\n        }, data => {\n          const partSpec = detail.parts[data.name];\n          externals[data.name] = constant$1(data.factory.sketch(combine(detail, data, partSpec[original()]), partSpec));\n        }, data => {\n          internals[data.pname] = single$2(false, (detail, partSpec, partValidated) => data.factory.sketch(combine(detail, data, partSpec, partValidated)));\n        }, data => {\n          internals[data.pname] = multiple(true, (detail, _partSpec, _partValidated) => {\n            const units = detail[data.name];\n            return map$2(units, u => data.factory.sketch(deepMerge(data.defaults(detail, u, _partValidated), u, data.overrides(detail, u))));\n          });\n        });\n      });\n      return {\n        internals: constant$1(internals),\n        externals: constant$1(externals)\n      };\n    };\n\n    const generate$3 = (owner, parts) => {\n      const r = {};\n      each$1(parts, part => {\n        asNamedPart(part).each(np => {\n          const g = doGenerateOne(owner, np.pname);\n          r[np.name] = config => {\n            const validated = asRawOrDie$1('Part: ' + np.name + ' in ' + owner, objOf(np.schema), config);\n            return {\n              ...g,\n              config,\n              validated\n            };\n          };\n        });\n      });\n      return r;\n    };\n    const doGenerateOne = (owner, pname) => ({\n      uiType: placeholder(),\n      owner,\n      name: pname\n    });\n    const generateOne$1 = (owner, pname, config) => ({\n      uiType: placeholder(),\n      owner,\n      name: pname,\n      config,\n      validated: {}\n    });\n    const schemas = parts => bind$3(parts, part => part.fold(Optional.none, Optional.some, Optional.none, Optional.none).map(data => requiredObjOf(data.name, data.schema.concat([snapshot(original())]))).toArray());\n    const names = parts => map$2(parts, name$2);\n    const substitutes = (owner, detail, parts) => subs(owner, detail, parts);\n    const components$1 = (owner, detail, internals) => substitutePlaces(Optional.some(owner), detail, detail.components, internals);\n    const getPart = (component, detail, partKey) => {\n      const uid = detail.partUids[partKey];\n      return component.getSystem().getByUid(uid).toOptional();\n    };\n    const getPartOrDie = (component, detail, partKey) => getPart(component, detail, partKey).getOrDie('Could not find part: ' + partKey);\n    const getParts = (component, detail, partKeys) => {\n      const r = {};\n      const uids = detail.partUids;\n      const system = component.getSystem();\n      each$1(partKeys, pk => {\n        r[pk] = constant$1(system.getByUid(uids[pk]));\n      });\n      return r;\n    };\n    const getAllParts = (component, detail) => {\n      const system = component.getSystem();\n      return map$1(detail.partUids, (pUid, _k) => constant$1(system.getByUid(pUid)));\n    };\n    const getAllPartNames = detail => keys(detail.partUids);\n    const getPartsOrDie = (component, detail, partKeys) => {\n      const r = {};\n      const uids = detail.partUids;\n      const system = component.getSystem();\n      each$1(partKeys, pk => {\n        r[pk] = constant$1(system.getByUid(uids[pk]).getOrDie());\n      });\n      return r;\n    };\n    const defaultUids = (baseUid, partTypes) => {\n      const partNames = names(partTypes);\n      return wrapAll(map$2(partNames, pn => ({\n        key: pn,\n        value: baseUid + '-' + pn\n      })));\n    };\n    const defaultUidsSchema = partTypes => field$1('partUids', 'partUids', mergeWithThunk(spec => defaultUids(spec.uid, partTypes)), anyValue());\n\n    var AlloyParts = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        generate: generate$3,\n        generateOne: generateOne$1,\n        schemas: schemas,\n        names: names,\n        substitutes: substitutes,\n        components: components$1,\n        defaultUids: defaultUids,\n        defaultUidsSchema: defaultUidsSchema,\n        getAllParts: getAllParts,\n        getAllPartNames: getAllPartNames,\n        getPart: getPart,\n        getPartOrDie: getPartOrDie,\n        getParts: getParts,\n        getPartsOrDie: getPartsOrDie\n    });\n\n    const base = (partSchemas, partUidsSchemas) => {\n      const ps = partSchemas.length > 0 ? [requiredObjOf('parts', partSchemas)] : [];\n      return ps.concat([\n        required$1('uid'),\n        defaulted('dom', {}),\n        defaulted('components', []),\n        snapshot('originalSpec'),\n        defaulted('debug.sketcher', {})\n      ]).concat(partUidsSchemas);\n    };\n    const asRawOrDie = (label, schema, spec, partSchemas, partUidsSchemas) => {\n      const baseS = base(partSchemas, partUidsSchemas);\n      return asRawOrDie$1(label + ' [SpecSchema]', objOfOnly(baseS.concat(schema)), spec);\n    };\n\n    const single$1 = (owner, schema, factory, spec) => {\n      const specWithUid = supplyUid(spec);\n      const detail = asRawOrDie(owner, schema, specWithUid, [], []);\n      return factory(detail, specWithUid);\n    };\n    const composite$1 = (owner, schema, partTypes, factory, spec) => {\n      const specWithUid = supplyUid(spec);\n      const partSchemas = schemas(partTypes);\n      const partUidsSchema = defaultUidsSchema(partTypes);\n      const detail = asRawOrDie(owner, schema, specWithUid, partSchemas, [partUidsSchema]);\n      const subs = substitutes(owner, detail, partTypes);\n      const components = components$1(owner, detail, subs.internals());\n      return factory(detail, components, specWithUid, subs.externals());\n    };\n    const hasUid = spec => has$2(spec, 'uid');\n    const supplyUid = spec => {\n      return hasUid(spec) ? spec : {\n        ...spec,\n        uid: generate$5('uid')\n      };\n    };\n\n    const isSketchSpec = spec => {\n      return spec.uid !== undefined;\n    };\n    const singleSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    const compositeSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      required$1('partFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    const single = rawConfig => {\n      const config = asRawOrDie$1('Sketcher for ' + rawConfig.name, singleSchema, rawConfig);\n      const sketch = spec => single$1(config.name, config.configFields, config.factory, spec);\n      const apis = map$1(config.apis, makeApi);\n      const extraApis = map$1(config.extraApis, (f, k) => markAsExtraApi(f, k));\n      return {\n        name: config.name,\n        configFields: config.configFields,\n        sketch,\n        ...apis,\n        ...extraApis\n      };\n    };\n    const composite = rawConfig => {\n      const config = asRawOrDie$1('Sketcher for ' + rawConfig.name, compositeSchema, rawConfig);\n      const sketch = spec => composite$1(config.name, config.configFields, config.partFields, config.factory, spec);\n      const parts = generate$3(config.name, config.partFields);\n      const apis = map$1(config.apis, makeApi);\n      const extraApis = map$1(config.extraApis, (f, k) => markAsExtraApi(f, k));\n      return {\n        name: config.name,\n        partFields: config.partFields,\n        configFields: config.configFields,\n        sketch,\n        parts,\n        ...apis,\n        ...extraApis\n      };\n    };\n\n    const inside = target => isTag('input')(target) && get$f(target, 'type') !== 'radio' || isTag('textarea')(target);\n\n    const getCurrent = (component, composeConfig, _composeState) => composeConfig.find(component);\n\n    var ComposeApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCurrent: getCurrent\n    });\n\n    const ComposeSchema = [required$1('find')];\n\n    const Composing = create$4({\n      fields: ComposeSchema,\n      name: 'composing',\n      apis: ComposeApis\n    });\n\n    const nativeDisabled = [\n      'input',\n      'button',\n      'textarea',\n      'select'\n    ];\n    const onLoad$1 = (component, disableConfig, disableState) => {\n      const f = disableConfig.disabled() ? disable : enable;\n      f(component, disableConfig);\n    };\n    const hasNative = (component, config) => config.useNative === true && contains$2(nativeDisabled, name$3(component.element));\n    const nativeIsDisabled = component => has$1(component.element, 'disabled');\n    const nativeDisable = component => {\n      set$9(component.element, 'disabled', 'disabled');\n    };\n    const nativeEnable = component => {\n      remove$7(component.element, 'disabled');\n    };\n    const ariaIsDisabled = component => get$f(component.element, 'aria-disabled') === 'true';\n    const ariaDisable = component => {\n      set$9(component.element, 'aria-disabled', 'true');\n    };\n    const ariaEnable = component => {\n      set$9(component.element, 'aria-disabled', 'false');\n    };\n    const disable = (component, disableConfig, _disableState) => {\n      disableConfig.disableClass.each(disableClass => {\n        add$2(component.element, disableClass);\n      });\n      const f = hasNative(component, disableConfig) ? nativeDisable : ariaDisable;\n      f(component);\n      disableConfig.onDisabled(component);\n    };\n    const enable = (component, disableConfig, _disableState) => {\n      disableConfig.disableClass.each(disableClass => {\n        remove$2(component.element, disableClass);\n      });\n      const f = hasNative(component, disableConfig) ? nativeEnable : ariaEnable;\n      f(component);\n      disableConfig.onEnabled(component);\n    };\n    const isDisabled = (component, disableConfig) => hasNative(component, disableConfig) ? nativeIsDisabled(component) : ariaIsDisabled(component);\n    const set$4 = (component, disableConfig, disableState, disabled) => {\n      const f = disabled ? disable : enable;\n      f(component, disableConfig);\n    };\n\n    var DisableApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        enable: enable,\n        disable: disable,\n        isDisabled: isDisabled,\n        onLoad: onLoad$1,\n        set: set$4\n    });\n\n    const exhibit$5 = (base, disableConfig) => nu$7({ classes: disableConfig.disabled() ? disableConfig.disableClass.toArray() : [] });\n    const events$e = (disableConfig, disableState) => derive$2([\n      abort(execute$5(), (component, _simulatedEvent) => isDisabled(component, disableConfig)),\n      loadEvent(disableConfig, disableState, onLoad$1)\n    ]);\n\n    var ActiveDisable = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$5,\n        events: events$e\n    });\n\n    var DisableSchema = [\n      defaultedFunction('disabled', never),\n      defaulted('useNative', true),\n      option$3('disableClass'),\n      onHandler('onDisabled'),\n      onHandler('onEnabled')\n    ];\n\n    const Disabling = create$4({\n      fields: DisableSchema,\n      name: 'disabling',\n      active: ActiveDisable,\n      apis: DisableApis\n    });\n\n    const dehighlightAllExcept = (component, hConfig, hState, skip) => {\n      const highlighted = descendants(component.element, '.' + hConfig.highlightClass);\n      each$1(highlighted, h => {\n        const shouldSkip = exists(skip, skipComp => eq(skipComp.element, h));\n        if (!shouldSkip) {\n          remove$2(h, hConfig.highlightClass);\n          component.getSystem().getByDom(h).each(target => {\n            hConfig.onDehighlight(component, target);\n            emit(target, dehighlight$1());\n          });\n        }\n      });\n    };\n    const dehighlightAll = (component, hConfig, hState) => dehighlightAllExcept(component, hConfig, hState, []);\n    const dehighlight = (component, hConfig, hState, target) => {\n      if (isHighlighted(component, hConfig, hState, target)) {\n        remove$2(target.element, hConfig.highlightClass);\n        hConfig.onDehighlight(component, target);\n        emit(target, dehighlight$1());\n      }\n    };\n    const highlight = (component, hConfig, hState, target) => {\n      dehighlightAllExcept(component, hConfig, hState, [target]);\n      if (!isHighlighted(component, hConfig, hState, target)) {\n        add$2(target.element, hConfig.highlightClass);\n        hConfig.onHighlight(component, target);\n        emit(target, highlight$1());\n      }\n    };\n    const highlightFirst = (component, hConfig, hState) => {\n      getFirst(component, hConfig).each(firstComp => {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    const highlightLast = (component, hConfig, hState) => {\n      getLast(component, hConfig).each(lastComp => {\n        highlight(component, hConfig, hState, lastComp);\n      });\n    };\n    const highlightAt = (component, hConfig, hState, index) => {\n      getByIndex(component, hConfig, hState, index).fold(err => {\n        throw err;\n      }, firstComp => {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    const highlightBy = (component, hConfig, hState, predicate) => {\n      const candidates = getCandidates(component, hConfig);\n      const targetComp = find$5(candidates, predicate);\n      targetComp.each(c => {\n        highlight(component, hConfig, hState, c);\n      });\n    };\n    const isHighlighted = (component, hConfig, hState, queryTarget) => has(queryTarget.element, hConfig.highlightClass);\n    const getHighlighted = (component, hConfig, _hState) => descendant(component.element, '.' + hConfig.highlightClass).bind(e => component.getSystem().getByDom(e).toOptional());\n    const getByIndex = (component, hConfig, hState, index) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      return Optional.from(items[index]).fold(() => Result.error(new Error('No element found with index ' + index)), component.getSystem().getByDom);\n    };\n    const getFirst = (component, hConfig, _hState) => descendant(component.element, '.' + hConfig.itemClass).bind(e => component.getSystem().getByDom(e).toOptional());\n    const getLast = (component, hConfig, _hState) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      const last = items.length > 0 ? Optional.some(items[items.length - 1]) : Optional.none();\n      return last.bind(c => component.getSystem().getByDom(c).toOptional());\n    };\n    const getDelta$2 = (component, hConfig, hState, delta) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      const current = findIndex$1(items, item => has(item, hConfig.highlightClass));\n      return current.bind(selected => {\n        const dest = cycleBy(selected, delta, 0, items.length - 1);\n        return component.getSystem().getByDom(items[dest]).toOptional();\n      });\n    };\n    const getPrevious = (component, hConfig, hState) => getDelta$2(component, hConfig, hState, -1);\n    const getNext = (component, hConfig, hState) => getDelta$2(component, hConfig, hState, +1);\n    const getCandidates = (component, hConfig, _hState) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      return cat(map$2(items, i => component.getSystem().getByDom(i).toOptional()));\n    };\n\n    var HighlightApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        dehighlightAll: dehighlightAll,\n        dehighlight: dehighlight,\n        highlight: highlight,\n        highlightFirst: highlightFirst,\n        highlightLast: highlightLast,\n        highlightAt: highlightAt,\n        highlightBy: highlightBy,\n        isHighlighted: isHighlighted,\n        getHighlighted: getHighlighted,\n        getFirst: getFirst,\n        getLast: getLast,\n        getPrevious: getPrevious,\n        getNext: getNext,\n        getCandidates: getCandidates\n    });\n\n    var HighlightSchema = [\n      required$1('highlightClass'),\n      required$1('itemClass'),\n      onHandler('onHighlight'),\n      onHandler('onDehighlight')\n    ];\n\n    const Highlighting = create$4({\n      fields: HighlightSchema,\n      name: 'highlighting',\n      apis: HighlightApis\n    });\n\n    const BACKSPACE = [8];\n    const TAB = [9];\n    const ENTER = [13];\n    const ESCAPE = [27];\n    const SPACE = [32];\n    const LEFT = [37];\n    const UP = [38];\n    const RIGHT = [39];\n    const DOWN = [40];\n\n    const cyclePrev = (values, index, predicate) => {\n      const before = reverse(values.slice(0, index));\n      const after = reverse(values.slice(index + 1));\n      return find$5(before.concat(after), predicate);\n    };\n    const tryPrev = (values, index, predicate) => {\n      const before = reverse(values.slice(0, index));\n      return find$5(before, predicate);\n    };\n    const cycleNext = (values, index, predicate) => {\n      const before = values.slice(0, index);\n      const after = values.slice(index + 1);\n      return find$5(after.concat(before), predicate);\n    };\n    const tryNext = (values, index, predicate) => {\n      const after = values.slice(index + 1);\n      return find$5(after, predicate);\n    };\n\n    const inSet = keys => event => {\n      const raw = event.raw;\n      return contains$2(keys, raw.which);\n    };\n    const and = preds => event => forall(preds, pred => pred(event));\n    const isShift = event => {\n      const raw = event.raw;\n      return raw.shiftKey === true;\n    };\n    const isControl = event => {\n      const raw = event.raw;\n      return raw.ctrlKey === true;\n    };\n    const isNotShift = not(isShift);\n\n    const rule = (matches, action) => ({\n      matches,\n      classification: action\n    });\n    const choose = (transitions, event) => {\n      const transition = find$5(transitions, t => t.matches(event));\n      return transition.map(t => t.classification);\n    };\n\n    const reportFocusShifting = (component, prevFocus, newFocus) => {\n      const noChange = prevFocus.exists(p => newFocus.exists(n => eq(n, p)));\n      if (!noChange) {\n        emitWith(component, focusShifted(), {\n          prevFocus,\n          newFocus\n        });\n      }\n    };\n    const dom$2 = () => {\n      const get = component => search(component.element);\n      const set = (component, focusee) => {\n        const prevFocus = get(component);\n        component.getSystem().triggerFocus(focusee, component.element);\n        const newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get,\n        set\n      };\n    };\n    const highlights = () => {\n      const get = component => Highlighting.getHighlighted(component).map(item => item.element);\n      const set = (component, element) => {\n        const prevFocus = get(component);\n        component.getSystem().getByDom(element).fold(noop, item => {\n          Highlighting.highlight(component, item);\n        });\n        const newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    var FocusInsideModes;\n    (function (FocusInsideModes) {\n      FocusInsideModes['OnFocusMode'] = 'onFocus';\n      FocusInsideModes['OnEnterOrSpaceMode'] = 'onEnterOrSpace';\n      FocusInsideModes['OnApiMode'] = 'onApi';\n    }(FocusInsideModes || (FocusInsideModes = {})));\n\n    const typical = (infoSchema, stateInit, getKeydownRules, getKeyupRules, optFocusIn) => {\n      const schema = () => infoSchema.concat([\n        defaulted('focusManager', dom$2()),\n        defaultedOf('focusInside', 'onFocus', valueOf(val => contains$2([\n          'onFocus',\n          'onEnterOrSpace',\n          'onApi'\n        ], val) ? Result.value(val) : Result.error('Invalid value for focusInside'))),\n        output$1('handler', me),\n        output$1('state', stateInit),\n        output$1('sendFocusIn', optFocusIn)\n      ]);\n      const processKey = (component, simulatedEvent, getRules, keyingConfig, keyingState) => {\n        const rules = getRules(component, simulatedEvent, keyingConfig, keyingState);\n        return choose(rules, simulatedEvent.event).bind(rule => rule(component, simulatedEvent, keyingConfig, keyingState));\n      };\n      const toEvents = (keyingConfig, keyingState) => {\n        const onFocusHandler = keyingConfig.focusInside !== FocusInsideModes.OnFocusMode ? Optional.none() : optFocusIn(keyingConfig).map(focusIn => run$1(focus$4(), (component, simulatedEvent) => {\n          focusIn(component, keyingConfig, keyingState);\n          simulatedEvent.stop();\n        }));\n        const tryGoInsideComponent = (component, simulatedEvent) => {\n          const isEnterOrSpace = inSet(SPACE.concat(ENTER))(simulatedEvent.event);\n          if (keyingConfig.focusInside === FocusInsideModes.OnEnterOrSpaceMode && isEnterOrSpace && isSource(component, simulatedEvent)) {\n            optFocusIn(keyingConfig).each(focusIn => {\n              focusIn(component, keyingConfig, keyingState);\n              simulatedEvent.stop();\n            });\n          }\n        };\n        const keyboardEvents = [\n          run$1(keydown(), (component, simulatedEvent) => {\n            processKey(component, simulatedEvent, getKeydownRules, keyingConfig, keyingState).fold(() => {\n              tryGoInsideComponent(component, simulatedEvent);\n            }, _ => {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(keyup(), (component, simulatedEvent) => {\n            processKey(component, simulatedEvent, getKeyupRules, keyingConfig, keyingState).each(_ => {\n              simulatedEvent.stop();\n            });\n          })\n        ];\n        return derive$2(onFocusHandler.toArray().concat(keyboardEvents));\n      };\n      const me = {\n        schema,\n        processKey,\n        toEvents\n      };\n      return me;\n    };\n\n    const create$2 = cyclicField => {\n      const schema = [\n        option$3('onEscape'),\n        option$3('onEnter'),\n        defaulted('selector', '[data-alloy-tabstop=\"true\"]:not(:disabled)'),\n        defaulted('firstTabstop', 0),\n        defaulted('useTabstopAt', always),\n        option$3('visibilitySelector')\n      ].concat([cyclicField]);\n      const isVisible = (tabbingConfig, element) => {\n        const target = tabbingConfig.visibilitySelector.bind(sel => closest$1(element, sel)).getOr(element);\n        return get$d(target) > 0;\n      };\n      const findInitial = (component, tabbingConfig) => {\n        const tabstops = descendants(component.element, tabbingConfig.selector);\n        const visibles = filter$2(tabstops, elem => isVisible(tabbingConfig, elem));\n        return Optional.from(visibles[tabbingConfig.firstTabstop]);\n      };\n      const findCurrent = (component, tabbingConfig) => tabbingConfig.focusManager.get(component).bind(elem => closest$1(elem, tabbingConfig.selector));\n      const isTabstop = (tabbingConfig, element) => isVisible(tabbingConfig, element) && tabbingConfig.useTabstopAt(element);\n      const focusIn = (component, tabbingConfig, _tabbingState) => {\n        findInitial(component, tabbingConfig).each(target => {\n          tabbingConfig.focusManager.set(component, target);\n        });\n      };\n      const goFromTabstop = (component, tabstops, stopIndex, tabbingConfig, cycle) => cycle(tabstops, stopIndex, elem => isTabstop(tabbingConfig, elem)).fold(() => tabbingConfig.cyclic ? Optional.some(true) : Optional.none(), target => {\n        tabbingConfig.focusManager.set(component, target);\n        return Optional.some(true);\n      });\n      const go = (component, _simulatedEvent, tabbingConfig, cycle) => {\n        const tabstops = descendants(component.element, tabbingConfig.selector);\n        return findCurrent(component, tabbingConfig).bind(tabstop => {\n          const optStopIndex = findIndex$1(tabstops, curry(eq, tabstop));\n          return optStopIndex.bind(stopIndex => goFromTabstop(component, tabstops, stopIndex, tabbingConfig, cycle));\n        });\n      };\n      const goBackwards = (component, simulatedEvent, tabbingConfig) => {\n        const navigate = tabbingConfig.cyclic ? cyclePrev : tryPrev;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      const goForwards = (component, simulatedEvent, tabbingConfig) => {\n        const navigate = tabbingConfig.cyclic ? cycleNext : tryNext;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      const execute = (component, simulatedEvent, tabbingConfig) => tabbingConfig.onEnter.bind(f => f(component, simulatedEvent));\n      const exit = (component, simulatedEvent, tabbingConfig) => tabbingConfig.onEscape.bind(f => f(component, simulatedEvent));\n      const getKeydownRules = constant$1([\n        rule(and([\n          isShift,\n          inSet(TAB)\n        ]), goBackwards),\n        rule(inSet(TAB), goForwards),\n        rule(and([\n          isNotShift,\n          inSet(ENTER)\n        ]), execute)\n      ]);\n      const getKeyupRules = constant$1([rule(inSet(ESCAPE), exit)]);\n      return typical(schema, NoState.init, getKeydownRules, getKeyupRules, () => Optional.some(focusIn));\n    };\n\n    var AcyclicType = create$2(customField('cyclic', never));\n\n    var CyclicType = create$2(customField('cyclic', always));\n\n    const doDefaultExecute = (component, _simulatedEvent, focused) => {\n      dispatch(component, focused, execute$5());\n      return Optional.some(true);\n    };\n    const defaultExecute = (component, simulatedEvent, focused) => {\n      const isComplex = inside(focused) && inSet(SPACE)(simulatedEvent.event);\n      return isComplex ? Optional.none() : doDefaultExecute(component, simulatedEvent, focused);\n    };\n    const stopEventForFirefox = (_component, _simulatedEvent) => Optional.some(true);\n\n    const schema$v = [\n      defaulted('execute', defaultExecute),\n      defaulted('useSpace', false),\n      defaulted('useEnter', true),\n      defaulted('useControlEnter', false),\n      defaulted('useDown', false)\n    ];\n    const execute$4 = (component, simulatedEvent, executeConfig) => executeConfig.execute(component, simulatedEvent, component.element);\n    const getKeydownRules$5 = (component, _simulatedEvent, executeConfig, _executeState) => {\n      const spaceExec = executeConfig.useSpace && !inside(component.element) ? SPACE : [];\n      const enterExec = executeConfig.useEnter ? ENTER : [];\n      const downExec = executeConfig.useDown ? DOWN : [];\n      const execKeys = spaceExec.concat(enterExec).concat(downExec);\n      return [rule(inSet(execKeys), execute$4)].concat(executeConfig.useControlEnter ? [rule(and([\n          isControl,\n          inSet(ENTER)\n        ]), execute$4)] : []);\n    };\n    const getKeyupRules$5 = (component, _simulatedEvent, executeConfig, _executeState) => executeConfig.useSpace && !inside(component.element) ? [rule(inSet(SPACE), stopEventForFirefox)] : [];\n    var ExecutionType = typical(schema$v, NoState.init, getKeydownRules$5, getKeyupRules$5, () => Optional.none());\n\n    const flatgrid$1 = () => {\n      const dimensions = value$2();\n      const setGridSize = (numRows, numColumns) => {\n        dimensions.set({\n          numRows,\n          numColumns\n        });\n      };\n      const getNumRows = () => dimensions.get().map(d => d.numRows);\n      const getNumColumns = () => dimensions.get().map(d => d.numColumns);\n      return nu$8({\n        readState: () => dimensions.get().map(d => ({\n          numRows: String(d.numRows),\n          numColumns: String(d.numColumns)\n        })).getOr({\n          numRows: '?',\n          numColumns: '?'\n        }),\n        setGridSize,\n        getNumRows,\n        getNumColumns\n      });\n    };\n    const init$d = spec => spec.state(spec);\n\n    var KeyingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        flatgrid: flatgrid$1,\n        init: init$d\n    });\n\n    const useH = movement => (component, simulatedEvent, config, state) => {\n      const move = movement(component.element);\n      return use(move, component, simulatedEvent, config, state);\n    };\n    const west$1 = (moveLeft, moveRight) => {\n      const movement = onDirection(moveLeft, moveRight);\n      return useH(movement);\n    };\n    const east$1 = (moveLeft, moveRight) => {\n      const movement = onDirection(moveRight, moveLeft);\n      return useH(movement);\n    };\n    const useV = move => (component, simulatedEvent, config, state) => use(move, component, simulatedEvent, config, state);\n    const use = (move, component, simulatedEvent, config, state) => {\n      const outcome = config.focusManager.get(component).bind(focused => move(component.element, focused, config, state));\n      return outcome.map(newFocus => {\n        config.focusManager.set(component, newFocus);\n        return true;\n      });\n    };\n    const north$1 = useV;\n    const south$1 = useV;\n    const move$1 = useV;\n\n    const isHidden$1 = dom => dom.offsetWidth <= 0 && dom.offsetHeight <= 0;\n    const isVisible = element => !isHidden$1(element.dom);\n\n    const locate = (candidates, predicate) => findIndex$1(candidates, predicate).map(index => ({\n      index,\n      candidates\n    }));\n\n    const locateVisible = (container, current, selector) => {\n      const predicate = x => eq(x, current);\n      const candidates = descendants(container, selector);\n      const visible = filter$2(candidates, isVisible);\n      return locate(visible, predicate);\n    };\n    const findIndex = (elements, target) => findIndex$1(elements, elem => eq(target, elem));\n\n    const withGrid = (values, index, numCols, f) => {\n      const oldRow = Math.floor(index / numCols);\n      const oldColumn = index % numCols;\n      return f(oldRow, oldColumn).bind(address => {\n        const newIndex = address.row * numCols + address.column;\n        return newIndex >= 0 && newIndex < values.length ? Optional.some(values[newIndex]) : Optional.none();\n      });\n    };\n    const cycleHorizontal$1 = (values, index, numRows, numCols, delta) => withGrid(values, index, numCols, (oldRow, oldColumn) => {\n      const onLastRow = oldRow === numRows - 1;\n      const colsInRow = onLastRow ? values.length - oldRow * numCols : numCols;\n      const newColumn = cycleBy(oldColumn, delta, 0, colsInRow - 1);\n      return Optional.some({\n        row: oldRow,\n        column: newColumn\n      });\n    });\n    const cycleVertical$1 = (values, index, numRows, numCols, delta) => withGrid(values, index, numCols, (oldRow, oldColumn) => {\n      const newRow = cycleBy(oldRow, delta, 0, numRows - 1);\n      const onLastRow = newRow === numRows - 1;\n      const colsInRow = onLastRow ? values.length - newRow * numCols : numCols;\n      const newCol = clamp(oldColumn, 0, colsInRow - 1);\n      return Optional.some({\n        row: newRow,\n        column: newCol\n      });\n    });\n    const cycleRight$1 = (values, index, numRows, numCols) => cycleHorizontal$1(values, index, numRows, numCols, +1);\n    const cycleLeft$1 = (values, index, numRows, numCols) => cycleHorizontal$1(values, index, numRows, numCols, -1);\n    const cycleUp$1 = (values, index, numRows, numCols) => cycleVertical$1(values, index, numRows, numCols, -1);\n    const cycleDown$1 = (values, index, numRows, numCols) => cycleVertical$1(values, index, numRows, numCols, +1);\n\n    const schema$u = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('captureTab', false),\n      initSize()\n    ];\n    const focusIn$3 = (component, gridConfig, _gridState) => {\n      descendant(component.element, gridConfig.selector).each(first => {\n        gridConfig.focusManager.set(component, first);\n      });\n    };\n    const findCurrent$1 = (component, gridConfig) => gridConfig.focusManager.get(component).bind(elem => closest$1(elem, gridConfig.selector));\n    const execute$3 = (component, simulatedEvent, gridConfig, _gridState) => findCurrent$1(component, gridConfig).bind(focused => gridConfig.execute(component, simulatedEvent, focused));\n    const doMove$2 = cycle => (element, focused, gridConfig, gridState) => locateVisible(element, focused, gridConfig.selector).bind(identified => cycle(identified.candidates, identified.index, gridState.getNumRows().getOr(gridConfig.initSize.numRows), gridState.getNumColumns().getOr(gridConfig.initSize.numColumns)));\n    const handleTab = (_component, _simulatedEvent, gridConfig) => gridConfig.captureTab ? Optional.some(true) : Optional.none();\n    const doEscape$1 = (component, simulatedEvent, gridConfig) => gridConfig.onEscape(component, simulatedEvent);\n    const moveLeft$3 = doMove$2(cycleLeft$1);\n    const moveRight$3 = doMove$2(cycleRight$1);\n    const moveNorth$1 = doMove$2(cycleUp$1);\n    const moveSouth$1 = doMove$2(cycleDown$1);\n    const getKeydownRules$4 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft$3, moveRight$3)),\n      rule(inSet(RIGHT), east$1(moveLeft$3, moveRight$3)),\n      rule(inSet(UP), north$1(moveNorth$1)),\n      rule(inSet(DOWN), south$1(moveSouth$1)),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(inSet(SPACE.concat(ENTER)), execute$3)\n    ]);\n    const getKeyupRules$4 = constant$1([\n      rule(inSet(ESCAPE), doEscape$1),\n      rule(inSet(SPACE), stopEventForFirefox)\n    ]);\n    var FlatgridType = typical(schema$u, flatgrid$1, getKeydownRules$4, getKeyupRules$4, () => Optional.some(focusIn$3));\n\n    const f = (container, selector, current, delta, getNewIndex) => {\n      const isDisabledButton = candidate => name$3(candidate) === 'button' && get$f(candidate, 'disabled') === 'disabled';\n      const tryNewIndex = (initial, index, candidates) => getNewIndex(initial, index, delta, 0, candidates.length - 1, candidates[index], newIndex => isDisabledButton(candidates[newIndex]) ? tryNewIndex(initial, newIndex, candidates) : Optional.from(candidates[newIndex]));\n      return locateVisible(container, current, selector).bind(identified => {\n        const index = identified.index;\n        const candidates = identified.candidates;\n        return tryNewIndex(index, index, candidates);\n      });\n    };\n    const horizontalWithoutCycles = (container, selector, current, delta) => f(container, selector, current, delta, (prevIndex, v, d, min, max, oldCandidate, onNewIndex) => {\n      const newIndex = clamp(v + d, min, max);\n      return newIndex === prevIndex ? Optional.from(oldCandidate) : onNewIndex(newIndex);\n    });\n    const horizontal = (container, selector, current, delta) => f(container, selector, current, delta, (prevIndex, v, d, min, max, _oldCandidate, onNewIndex) => {\n      const newIndex = cycleBy(v, d, min, max);\n      return newIndex === prevIndex ? Optional.none() : onNewIndex(newIndex);\n    });\n\n    const schema$t = [\n      required$1('selector'),\n      defaulted('getInitial', Optional.none),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('executeOnMove', false),\n      defaulted('allowVertical', true),\n      defaulted('allowHorizontal', true),\n      defaulted('cycles', true)\n    ];\n    const findCurrent = (component, flowConfig) => flowConfig.focusManager.get(component).bind(elem => closest$1(elem, flowConfig.selector));\n    const execute$2 = (component, simulatedEvent, flowConfig) => findCurrent(component, flowConfig).bind(focused => flowConfig.execute(component, simulatedEvent, focused));\n    const focusIn$2 = (component, flowConfig, _state) => {\n      flowConfig.getInitial(component).orThunk(() => descendant(component.element, flowConfig.selector)).each(first => {\n        flowConfig.focusManager.set(component, first);\n      });\n    };\n    const moveLeft$2 = (element, focused, info) => (info.cycles ? horizontal : horizontalWithoutCycles)(element, info.selector, focused, -1);\n    const moveRight$2 = (element, focused, info) => (info.cycles ? horizontal : horizontalWithoutCycles)(element, info.selector, focused, +1);\n    const doMove$1 = movement => (component, simulatedEvent, flowConfig, flowState) => movement(component, simulatedEvent, flowConfig, flowState).bind(() => flowConfig.executeOnMove ? execute$2(component, simulatedEvent, flowConfig) : Optional.some(true));\n    const doEscape = (component, simulatedEvent, flowConfig) => flowConfig.onEscape(component, simulatedEvent);\n    const getKeydownRules$3 = (_component, _se, flowConfig, _flowState) => {\n      const westMovers = [...flowConfig.allowHorizontal ? LEFT : []].concat(flowConfig.allowVertical ? UP : []);\n      const eastMovers = [...flowConfig.allowHorizontal ? RIGHT : []].concat(flowConfig.allowVertical ? DOWN : []);\n      return [\n        rule(inSet(westMovers), doMove$1(west$1(moveLeft$2, moveRight$2))),\n        rule(inSet(eastMovers), doMove$1(east$1(moveLeft$2, moveRight$2))),\n        rule(inSet(ENTER), execute$2),\n        rule(inSet(SPACE), execute$2)\n      ];\n    };\n    const getKeyupRules$3 = constant$1([\n      rule(inSet(SPACE), stopEventForFirefox),\n      rule(inSet(ESCAPE), doEscape)\n    ]);\n    var FlowType = typical(schema$t, NoState.init, getKeydownRules$3, getKeyupRules$3, () => Optional.some(focusIn$2));\n\n    const toCell = (matrix, rowIndex, columnIndex) => Optional.from(matrix[rowIndex]).bind(row => Optional.from(row[columnIndex]).map(cell => ({\n      rowIndex,\n      columnIndex,\n      cell\n    })));\n    const cycleHorizontal = (matrix, rowIndex, startCol, deltaCol) => {\n      const row = matrix[rowIndex];\n      const colsInRow = row.length;\n      const newColIndex = cycleBy(startCol, deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    const cycleVertical = (matrix, colIndex, startRow, deltaRow) => {\n      const nextRowIndex = cycleBy(startRow, deltaRow, 0, matrix.length - 1);\n      const colsInNextRow = matrix[nextRowIndex].length;\n      const nextColIndex = clamp(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    const moveHorizontal = (matrix, rowIndex, startCol, deltaCol) => {\n      const row = matrix[rowIndex];\n      const colsInRow = row.length;\n      const newColIndex = clamp(startCol + deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    const moveVertical = (matrix, colIndex, startRow, deltaRow) => {\n      const nextRowIndex = clamp(startRow + deltaRow, 0, matrix.length - 1);\n      const colsInNextRow = matrix[nextRowIndex].length;\n      const nextColIndex = clamp(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    const cycleRight = (matrix, startRow, startCol) => cycleHorizontal(matrix, startRow, startCol, +1);\n    const cycleLeft = (matrix, startRow, startCol) => cycleHorizontal(matrix, startRow, startCol, -1);\n    const cycleUp = (matrix, startRow, startCol) => cycleVertical(matrix, startCol, startRow, -1);\n    const cycleDown = (matrix, startRow, startCol) => cycleVertical(matrix, startCol, startRow, +1);\n    const moveLeft$1 = (matrix, startRow, startCol) => moveHorizontal(matrix, startRow, startCol, -1);\n    const moveRight$1 = (matrix, startRow, startCol) => moveHorizontal(matrix, startRow, startCol, +1);\n    const moveUp$1 = (matrix, startRow, startCol) => moveVertical(matrix, startCol, startRow, -1);\n    const moveDown$1 = (matrix, startRow, startCol) => moveVertical(matrix, startCol, startRow, +1);\n\n    const schema$s = [\n      requiredObjOf('selectors', [\n        required$1('row'),\n        required$1('cell')\n      ]),\n      defaulted('cycles', true),\n      defaulted('previousSelector', Optional.none),\n      defaulted('execute', defaultExecute)\n    ];\n    const focusIn$1 = (component, matrixConfig, _state) => {\n      const focused = matrixConfig.previousSelector(component).orThunk(() => {\n        const selectors = matrixConfig.selectors;\n        return descendant(component.element, selectors.cell);\n      });\n      focused.each(cell => {\n        matrixConfig.focusManager.set(component, cell);\n      });\n    };\n    const execute$1 = (component, simulatedEvent, matrixConfig) => search(component.element).bind(focused => matrixConfig.execute(component, simulatedEvent, focused));\n    const toMatrix = (rows, matrixConfig) => map$2(rows, row => descendants(row, matrixConfig.selectors.cell));\n    const doMove = (ifCycle, ifMove) => (element, focused, matrixConfig) => {\n      const move = matrixConfig.cycles ? ifCycle : ifMove;\n      return closest$1(focused, matrixConfig.selectors.row).bind(inRow => {\n        const cellsInRow = descendants(inRow, matrixConfig.selectors.cell);\n        return findIndex(cellsInRow, focused).bind(colIndex => {\n          const allRows = descendants(element, matrixConfig.selectors.row);\n          return findIndex(allRows, inRow).bind(rowIndex => {\n            const matrix = toMatrix(allRows, matrixConfig);\n            return move(matrix, rowIndex, colIndex).map(next => next.cell);\n          });\n        });\n      });\n    };\n    const moveLeft = doMove(cycleLeft, moveLeft$1);\n    const moveRight = doMove(cycleRight, moveRight$1);\n    const moveNorth = doMove(cycleUp, moveUp$1);\n    const moveSouth = doMove(cycleDown, moveDown$1);\n    const getKeydownRules$2 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft, moveRight)),\n      rule(inSet(RIGHT), east$1(moveLeft, moveRight)),\n      rule(inSet(UP), north$1(moveNorth)),\n      rule(inSet(DOWN), south$1(moveSouth)),\n      rule(inSet(SPACE.concat(ENTER)), execute$1)\n    ]);\n    const getKeyupRules$2 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MatrixType = typical(schema$s, NoState.init, getKeydownRules$2, getKeyupRules$2, () => Optional.some(focusIn$1));\n\n    const schema$r = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      defaulted('moveOnTab', false)\n    ];\n    const execute = (component, simulatedEvent, menuConfig) => menuConfig.focusManager.get(component).bind(focused => menuConfig.execute(component, simulatedEvent, focused));\n    const focusIn = (component, menuConfig, _state) => {\n      descendant(component.element, menuConfig.selector).each(first => {\n        menuConfig.focusManager.set(component, first);\n      });\n    };\n    const moveUp = (element, focused, info) => horizontal(element, info.selector, focused, -1);\n    const moveDown = (element, focused, info) => horizontal(element, info.selector, focused, +1);\n    const fireShiftTab = (component, simulatedEvent, menuConfig, menuState) => menuConfig.moveOnTab ? move$1(moveUp)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    const fireTab = (component, simulatedEvent, menuConfig, menuState) => menuConfig.moveOnTab ? move$1(moveDown)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    const getKeydownRules$1 = constant$1([\n      rule(inSet(UP), move$1(moveUp)),\n      rule(inSet(DOWN), move$1(moveDown)),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), fireShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), fireTab),\n      rule(inSet(ENTER), execute),\n      rule(inSet(SPACE), execute)\n    ]);\n    const getKeyupRules$1 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MenuType = typical(schema$r, NoState.init, getKeydownRules$1, getKeyupRules$1, () => Optional.some(focusIn));\n\n    const schema$q = [\n      onKeyboardHandler('onSpace'),\n      onKeyboardHandler('onEnter'),\n      onKeyboardHandler('onShiftEnter'),\n      onKeyboardHandler('onLeft'),\n      onKeyboardHandler('onRight'),\n      onKeyboardHandler('onTab'),\n      onKeyboardHandler('onShiftTab'),\n      onKeyboardHandler('onUp'),\n      onKeyboardHandler('onDown'),\n      onKeyboardHandler('onEscape'),\n      defaulted('stopSpaceKeyup', false),\n      option$3('focusIn')\n    ];\n    const getKeydownRules = (component, simulatedEvent, specialInfo) => [\n      rule(inSet(SPACE), specialInfo.onSpace),\n      rule(and([\n        isNotShift,\n        inSet(ENTER)\n      ]), specialInfo.onEnter),\n      rule(and([\n        isShift,\n        inSet(ENTER)\n      ]), specialInfo.onShiftEnter),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), specialInfo.onShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), specialInfo.onTab),\n      rule(inSet(UP), specialInfo.onUp),\n      rule(inSet(DOWN), specialInfo.onDown),\n      rule(inSet(LEFT), specialInfo.onLeft),\n      rule(inSet(RIGHT), specialInfo.onRight),\n      rule(inSet(SPACE), specialInfo.onSpace)\n    ];\n    const getKeyupRules = (component, simulatedEvent, specialInfo) => [\n      ...specialInfo.stopSpaceKeyup ? [rule(inSet(SPACE), stopEventForFirefox)] : [],\n      rule(inSet(ESCAPE), specialInfo.onEscape)\n    ];\n    var SpecialType = typical(schema$q, NoState.init, getKeydownRules, getKeyupRules, specialInfo => specialInfo.focusIn);\n\n    const acyclic = AcyclicType.schema();\n    const cyclic = CyclicType.schema();\n    const flow = FlowType.schema();\n    const flatgrid = FlatgridType.schema();\n    const matrix = MatrixType.schema();\n    const execution = ExecutionType.schema();\n    const menu = MenuType.schema();\n    const special = SpecialType.schema();\n\n    var KeyboardBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        acyclic: acyclic,\n        cyclic: cyclic,\n        flow: flow,\n        flatgrid: flatgrid,\n        matrix: matrix,\n        execution: execution,\n        menu: menu,\n        special: special\n    });\n\n    const isFlatgridState = keyState => hasNonNullableKey(keyState, 'setGridSize');\n    const Keying = createModes({\n      branchKey: 'mode',\n      branches: KeyboardBranches,\n      name: 'keying',\n      active: {\n        events: (keyingConfig, keyingState) => {\n          const handler = keyingConfig.handler;\n          return handler.toEvents(keyingConfig, keyingState);\n        }\n      },\n      apis: {\n        focusIn: (component, keyConfig, keyState) => {\n          keyConfig.sendFocusIn(keyConfig).fold(() => {\n            component.getSystem().triggerFocus(component.element, component.element);\n          }, sendFocusIn => {\n            sendFocusIn(component, keyConfig, keyState);\n          });\n        },\n        setGridSize: (component, keyConfig, keyState, numRows, numColumns) => {\n          if (!isFlatgridState(keyState)) {\n            console.error('Layout does not support setGridSize');\n          } else {\n            keyState.setGridSize(numRows, numColumns);\n          }\n        }\n      },\n      state: KeyingState\n    });\n\n    const withoutReuse = (parent, data) => {\n      preserve$1(() => {\n        replaceChildren(parent, data, () => map$2(data, parent.getSystem().build));\n      }, parent.element);\n    };\n    const withReuse = (parent, data) => {\n      preserve$1(() => {\n        virtualReplaceChildren(parent, data, () => {\n          return patchSpecChildren(parent.element, data, parent.getSystem().buildOrPatch);\n        });\n      }, parent.element);\n    };\n\n    const virtualReplace = (component, replacee, replaceeIndex, childSpec) => {\n      virtualDetach(replacee);\n      const child = patchSpecChild(component.element, replaceeIndex, childSpec, component.getSystem().buildOrPatch);\n      virtualAttach(component, child);\n      component.syncComponents();\n    };\n    const insert = (component, insertion, childSpec) => {\n      const child = component.getSystem().build(childSpec);\n      attachWith(component, child, insertion);\n    };\n    const replace = (component, replacee, replaceeIndex, childSpec) => {\n      detach(replacee);\n      insert(component, (p, c) => appendAt(p, c, replaceeIndex), childSpec);\n    };\n    const set$3 = (component, replaceConfig, replaceState, data) => {\n      const replacer = replaceConfig.reuseDom ? withReuse : withoutReuse;\n      return replacer(component, data);\n    };\n    const append = (component, replaceConfig, replaceState, appendee) => {\n      insert(component, append$2, appendee);\n    };\n    const prepend = (component, replaceConfig, replaceState, prependee) => {\n      insert(component, prepend$1, prependee);\n    };\n    const remove = (component, replaceConfig, replaceState, removee) => {\n      const children = contents(component);\n      const foundChild = find$5(children, child => eq(removee.element, child.element));\n      foundChild.each(detach);\n    };\n    const contents = (component, _replaceConfig) => component.components();\n    const replaceAt = (component, replaceConfig, replaceState, replaceeIndex, replacer) => {\n      const children = contents(component);\n      return Optional.from(children[replaceeIndex]).map(replacee => {\n        replacer.fold(() => detach(replacee), r => {\n          const replacer = replaceConfig.reuseDom ? virtualReplace : replace;\n          replacer(component, replacee, replaceeIndex, r);\n        });\n        return replacee;\n      });\n    };\n    const replaceBy = (component, replaceConfig, replaceState, replaceePred, replacer) => {\n      const children = contents(component);\n      return findIndex$1(children, replaceePred).bind(replaceeIndex => replaceAt(component, replaceConfig, replaceState, replaceeIndex, replacer));\n    };\n\n    var ReplaceApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        append: append,\n        prepend: prepend,\n        remove: remove,\n        replaceAt: replaceAt,\n        replaceBy: replaceBy,\n        set: set$3,\n        contents: contents\n    });\n\n    const Replacing = create$4({\n      fields: [defaultedBoolean('reuseDom', true)],\n      name: 'replacing',\n      apis: ReplaceApis\n    });\n\n    const events$d = (name, eventHandlers) => {\n      const events = derive$2(eventHandlers);\n      return create$4({\n        fields: [required$1('enabled')],\n        name,\n        active: { events: constant$1(events) }\n      });\n    };\n    const config = (name, eventHandlers) => {\n      const me = events$d(name, eventHandlers);\n      return {\n        key: name,\n        value: {\n          config: {},\n          me,\n          configAsRaw: constant$1({}),\n          initialConfig: {},\n          state: NoState\n        }\n      };\n    };\n\n    const focus$2 = (component, focusConfig) => {\n      if (!focusConfig.ignore) {\n        focus$3(component.element);\n        focusConfig.onFocus(component);\n      }\n    };\n    const blur = (component, focusConfig) => {\n      if (!focusConfig.ignore) {\n        blur$1(component.element);\n      }\n    };\n    const isFocused = component => hasFocus(component.element);\n\n    var FocusApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        focus: focus$2,\n        blur: blur,\n        isFocused: isFocused\n    });\n\n    const exhibit$4 = (base, focusConfig) => {\n      const mod = focusConfig.ignore ? {} : { attributes: { tabindex: '-1' } };\n      return nu$7(mod);\n    };\n    const events$c = focusConfig => derive$2([run$1(focus$4(), (component, simulatedEvent) => {\n        focus$2(component, focusConfig);\n        simulatedEvent.stop();\n      })].concat(focusConfig.stopMousedown ? [run$1(mousedown(), (_, simulatedEvent) => {\n        simulatedEvent.event.prevent();\n      })] : []));\n\n    var ActiveFocus = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$4,\n        events: events$c\n    });\n\n    var FocusSchema = [\n      onHandler('onFocus'),\n      defaulted('stopMousedown', false),\n      defaulted('ignore', false)\n    ];\n\n    const Focusing = create$4({\n      fields: FocusSchema,\n      name: 'focusing',\n      active: ActiveFocus,\n      apis: FocusApis\n    });\n\n    const SetupBehaviourCellState = initialState => {\n      const init = () => {\n        const cell = Cell(initialState);\n        const get = () => cell.get();\n        const set = newState => cell.set(newState);\n        const clear = () => cell.set(initialState);\n        const readState = () => cell.get();\n        return {\n          get,\n          set,\n          clear,\n          readState\n        };\n      };\n      return { init };\n    };\n\n    const updateAriaState = (component, toggleConfig, toggleState) => {\n      const ariaInfo = toggleConfig.aria;\n      ariaInfo.update(component, ariaInfo, toggleState.get());\n    };\n    const updateClass = (component, toggleConfig, toggleState) => {\n      toggleConfig.toggleClass.each(toggleClass => {\n        if (toggleState.get()) {\n          add$2(component.element, toggleClass);\n        } else {\n          remove$2(component.element, toggleClass);\n        }\n      });\n    };\n    const set$2 = (component, toggleConfig, toggleState, state) => {\n      const initialState = toggleState.get();\n      toggleState.set(state);\n      updateClass(component, toggleConfig, toggleState);\n      updateAriaState(component, toggleConfig, toggleState);\n      if (initialState !== state) {\n        toggleConfig.onToggled(component, state);\n      }\n    };\n    const toggle$2 = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, !toggleState.get());\n    };\n    const on = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, true);\n    };\n    const off = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, false);\n    };\n    const isOn = (component, toggleConfig, toggleState) => toggleState.get();\n    const onLoad = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, toggleConfig.selected);\n    };\n\n    var ToggleApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad,\n        toggle: toggle$2,\n        isOn: isOn,\n        on: on,\n        off: off,\n        set: set$2\n    });\n\n    const exhibit$3 = () => nu$7({});\n    const events$b = (toggleConfig, toggleState) => {\n      const execute = executeEvent(toggleConfig, toggleState, toggle$2);\n      const load = loadEvent(toggleConfig, toggleState, onLoad);\n      return derive$2(flatten([\n        toggleConfig.toggleOnExecute ? [execute] : [],\n        [load]\n      ]));\n    };\n\n    var ActiveToggle = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$3,\n        events: events$b\n    });\n\n    const updatePressed = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-pressed', status);\n      if (ariaInfo.syncWithExpanded) {\n        updateExpanded(component, ariaInfo, status);\n      }\n    };\n    const updateSelected = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-selected', status);\n    };\n    const updateChecked = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-checked', status);\n    };\n    const updateExpanded = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-expanded', status);\n    };\n\n    var ToggleSchema = [\n      defaulted('selected', false),\n      option$3('toggleClass'),\n      defaulted('toggleOnExecute', true),\n      onHandler('onToggled'),\n      defaultedOf('aria', { mode: 'none' }, choose$1('mode', {\n        pressed: [\n          defaulted('syncWithExpanded', false),\n          output$1('update', updatePressed)\n        ],\n        checked: [output$1('update', updateChecked)],\n        expanded: [output$1('update', updateExpanded)],\n        selected: [output$1('update', updateSelected)],\n        none: [output$1('update', noop)]\n      }))\n    ];\n\n    const Toggling = create$4({\n      fields: ToggleSchema,\n      name: 'toggling',\n      active: ActiveToggle,\n      apis: ToggleApis,\n      state: SetupBehaviourCellState(false)\n    });\n\n    const pointerEvents = () => {\n      const onClick = (component, simulatedEvent) => {\n        simulatedEvent.stop();\n        emitExecute(component);\n      };\n      return [\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        cutter(touchstart()),\n        cutter(mousedown())\n      ];\n    };\n    const events$a = optAction => {\n      const executeHandler = action => runOnExecute$1((component, simulatedEvent) => {\n        action(component);\n        simulatedEvent.stop();\n      });\n      return derive$2(flatten([\n        optAction.map(executeHandler).toArray(),\n        pointerEvents()\n      ]));\n    };\n\n    const hoverEvent = 'alloy.item-hover';\n    const focusEvent = 'alloy.item-focus';\n    const toggledEvent = 'alloy.item-toggled';\n    const onHover = item => {\n      if (search(item.element).isNone() || Focusing.isFocused(item)) {\n        if (!Focusing.isFocused(item)) {\n          Focusing.focus(item);\n        }\n        emitWith(item, hoverEvent, { item });\n      }\n    };\n    const onFocus$1 = item => {\n      emitWith(item, focusEvent, { item });\n    };\n    const onToggled = (item, state) => {\n      emitWith(item, toggledEvent, {\n        item,\n        state\n      });\n    };\n    const hover = constant$1(hoverEvent);\n    const focus$1 = constant$1(focusEvent);\n    const toggled = constant$1(toggledEvent);\n\n    const getItemRole = detail => detail.toggling.map(toggling => toggling.exclusive ? 'menuitemradio' : 'menuitemcheckbox').getOr('menuitem');\n    const getTogglingSpec = tConfig => ({\n      aria: { mode: 'checked' },\n      ...filter$1(tConfig, (_value, name) => name !== 'exclusive'),\n      onToggled: (component, state) => {\n        if (isFunction(tConfig.onToggled)) {\n          tConfig.onToggled(component, state);\n        }\n        onToggled(component, state);\n      }\n    });\n    const builder$2 = detail => ({\n      dom: detail.dom,\n      domModification: {\n        ...detail.domModification,\n        attributes: {\n          'role': getItemRole(detail),\n          ...detail.domModification.attributes,\n          'aria-haspopup': detail.hasSubmenu,\n          ...detail.hasSubmenu ? { 'aria-expanded': false } : {}\n        }\n      },\n      behaviours: SketchBehaviours.augment(detail.itemBehaviours, [\n        detail.toggling.fold(Toggling.revoke, tConfig => Toggling.config(getTogglingSpec(tConfig))),\n        Focusing.config({\n          ignore: detail.ignoreFocus,\n          stopMousedown: detail.ignoreFocus,\n          onFocus: component => {\n            onFocus$1(component);\n          }\n        }),\n        Keying.config({ mode: 'execution' }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.data\n          }\n        }),\n        config('item-type-events', [\n          ...pointerEvents(),\n          run$1(mouseover(), onHover),\n          run$1(focusItem(), Focusing.focus)\n        ])\n      ]),\n      components: detail.components,\n      eventOrder: detail.eventOrder\n    });\n    const schema$p = [\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('hasSubmenu', false),\n      option$3('toggling'),\n      SketchBehaviours.field('itemBehaviours', [\n        Toggling,\n        Focusing,\n        Keying,\n        Representing\n      ]),\n      defaulted('ignoreFocus', false),\n      defaulted('domModification', {}),\n      output$1('builder', builder$2),\n      defaulted('eventOrder', {})\n    ];\n\n    const builder$1 = detail => ({\n      dom: detail.dom,\n      components: detail.components,\n      events: derive$2([stopper(focusItem())])\n    });\n    const schema$o = [\n      required$1('dom'),\n      required$1('components'),\n      output$1('builder', builder$1)\n    ];\n\n    const owner$2 = constant$1('item-widget');\n    const parts$h = constant$1([required({\n        name: 'widget',\n        overrides: detail => {\n          return {\n            behaviours: derive$1([Representing.config({\n                store: {\n                  mode: 'manual',\n                  getValue: _component => {\n                    return detail.data;\n                  },\n                  setValue: noop\n                }\n              })])\n          };\n        }\n      })]);\n\n    const builder = detail => {\n      const subs = substitutes(owner$2(), detail, parts$h());\n      const components = components$1(owner$2(), detail, subs.internals());\n      const focusWidget = component => getPart(component, detail, 'widget').map(widget => {\n        Keying.focusIn(widget);\n        return widget;\n      });\n      const onHorizontalArrow = (component, simulatedEvent) => inside(simulatedEvent.event.target) ? Optional.none() : (() => {\n        if (detail.autofocus) {\n          simulatedEvent.setSource(component.element);\n          return Optional.none();\n        } else {\n          return Optional.none();\n        }\n      })();\n      return {\n        dom: detail.dom,\n        components,\n        domModification: detail.domModification,\n        events: derive$2([\n          runOnExecute$1((component, simulatedEvent) => {\n            focusWidget(component).each(_widget => {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(mouseover(), onHover),\n          run$1(focusItem(), (component, _simulatedEvent) => {\n            if (detail.autofocus) {\n              focusWidget(component);\n            } else {\n              Focusing.focus(component);\n            }\n          })\n        ]),\n        behaviours: SketchBehaviours.augment(detail.widgetBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.data\n            }\n          }),\n          Focusing.config({\n            ignore: detail.ignoreFocus,\n            onFocus: component => {\n              onFocus$1(component);\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            focusIn: detail.autofocus ? component => {\n              focusWidget(component);\n            } : revoke(),\n            onLeft: onHorizontalArrow,\n            onRight: onHorizontalArrow,\n            onEscape: (component, simulatedEvent) => {\n              if (!Focusing.isFocused(component) && !detail.autofocus) {\n                Focusing.focus(component);\n                return Optional.some(true);\n              } else if (detail.autofocus) {\n                simulatedEvent.setSource(component.element);\n                return Optional.none();\n              } else {\n                return Optional.none();\n              }\n            }\n          })\n        ])\n      };\n    };\n    const schema$n = [\n      required$1('uid'),\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('autofocus', false),\n      defaulted('ignoreFocus', false),\n      SketchBehaviours.field('widgetBehaviours', [\n        Representing,\n        Focusing,\n        Keying\n      ]),\n      defaulted('domModification', {}),\n      defaultUidsSchema(parts$h()),\n      output$1('builder', builder)\n    ];\n\n    const itemSchema$2 = choose$1('type', {\n      widget: schema$n,\n      item: schema$p,\n      separator: schema$o\n    });\n    const configureGrid = (detail, movementInfo) => ({\n      mode: 'flatgrid',\n      selector: '.' + detail.markers.item,\n      initSize: {\n        numColumns: movementInfo.initSize.numColumns,\n        numRows: movementInfo.initSize.numRows\n      },\n      focusManager: detail.focusManager\n    });\n    const configureMatrix = (detail, movementInfo) => ({\n      mode: 'matrix',\n      selectors: {\n        row: movementInfo.rowSelector,\n        cell: '.' + detail.markers.item\n      },\n      previousSelector: movementInfo.previousSelector,\n      focusManager: detail.focusManager\n    });\n    const configureMenu = (detail, movementInfo) => ({\n      mode: 'menu',\n      selector: '.' + detail.markers.item,\n      moveOnTab: movementInfo.moveOnTab,\n      focusManager: detail.focusManager\n    });\n    const parts$g = constant$1([group({\n        factory: {\n          sketch: spec => {\n            const itemInfo = asRawOrDie$1('menu.spec item', itemSchema$2, spec);\n            return itemInfo.builder(itemInfo);\n          }\n        },\n        name: 'items',\n        unit: 'item',\n        defaults: (detail, u) => {\n          return has$2(u, 'uid') ? u : {\n            ...u,\n            uid: generate$5('item')\n          };\n        },\n        overrides: (detail, u) => {\n          return {\n            type: u.type,\n            ignoreFocus: detail.fakeFocus,\n            domModification: { classes: [detail.markers.item] }\n          };\n        }\n      })]);\n    const schema$m = constant$1([\n      required$1('value'),\n      required$1('items'),\n      required$1('dom'),\n      required$1('components'),\n      defaulted('eventOrder', {}),\n      field('menuBehaviours', [\n        Highlighting,\n        Representing,\n        Composing,\n        Keying\n      ]),\n      defaultedOf('movement', {\n        mode: 'menu',\n        moveOnTab: true\n      }, choose$1('mode', {\n        grid: [\n          initSize(),\n          output$1('config', configureGrid)\n        ],\n        matrix: [\n          output$1('config', configureMatrix),\n          required$1('rowSelector'),\n          defaulted('previousSelector', Optional.none)\n        ],\n        menu: [\n          defaulted('moveOnTab', true),\n          output$1('config', configureMenu)\n        ]\n      })),\n      itemMarkers(),\n      defaulted('fakeFocus', false),\n      defaulted('focusManager', dom$2()),\n      onHandler('onHighlight'),\n      onHandler('onDehighlight')\n    ]);\n\n    const focus = constant$1('alloy.menu-focus');\n\n    const deselectOtherRadioItems = (menu, item) => {\n      const checkedRadioItems = descendants(menu.element, '[role=\"menuitemradio\"][aria-checked=\"true\"]');\n      each$1(checkedRadioItems, ele => {\n        if (!eq(ele, item.element)) {\n          menu.getSystem().getByDom(ele).each(c => {\n            Toggling.off(c);\n          });\n        }\n      });\n    };\n    const make$7 = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      markers: detail.markers,\n      behaviours: augment(detail.menuBehaviours, [\n        Highlighting.config({\n          highlightClass: detail.markers.selectedItem,\n          itemClass: detail.markers.item,\n          onHighlight: detail.onHighlight,\n          onDehighlight: detail.onDehighlight\n        }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.value\n          }\n        }),\n        Composing.config({ find: Optional.some }),\n        Keying.config(detail.movement.config(detail, detail.movement))\n      ]),\n      events: derive$2([\n        run$1(focus$1(), (menu, simulatedEvent) => {\n          const event = simulatedEvent.event;\n          menu.getSystem().getByDom(event.target).each(item => {\n            Highlighting.highlight(menu, item);\n            simulatedEvent.stop();\n            emitWith(menu, focus(), {\n              menu,\n              item\n            });\n          });\n        }),\n        run$1(hover(), (menu, simulatedEvent) => {\n          const item = simulatedEvent.event.item;\n          Highlighting.highlight(menu, item);\n        }),\n        run$1(toggled(), (menu, simulatedEvent) => {\n          const {item, state} = simulatedEvent.event;\n          if (state && get$f(item.element, 'role') === 'menuitemradio') {\n            deselectOtherRadioItems(menu, item);\n          }\n        })\n      ]),\n      components,\n      eventOrder: detail.eventOrder,\n      domModification: { attributes: { role: 'menu' } }\n    });\n\n    const Menu = composite({\n      name: 'Menu',\n      configFields: schema$m(),\n      partFields: parts$g(),\n      factory: make$7\n    });\n\n    const transpose$1 = obj => tupleMap(obj, (v, k) => ({\n      k: v,\n      v: k\n    }));\n    const trace = (items, byItem, byMenu, finish) => get$g(byMenu, finish).bind(triggerItem => get$g(items, triggerItem).bind(triggerMenu => {\n      const rest = trace(items, byItem, byMenu, triggerMenu);\n      return Optional.some([triggerMenu].concat(rest));\n    })).getOr([]);\n    const generate$2 = (menus, expansions) => {\n      const items = {};\n      each(menus, (menuItems, menu) => {\n        each$1(menuItems, item => {\n          items[item] = menu;\n        });\n      });\n      const byItem = expansions;\n      const byMenu = transpose$1(expansions);\n      const menuPaths = map$1(byMenu, (_triggerItem, submenu) => [submenu].concat(trace(items, byItem, byMenu, submenu)));\n      return map$1(items, menu => get$g(menuPaths, menu).getOr([menu]));\n    };\n\n    const init$c = () => {\n      const expansions = Cell({});\n      const menus = Cell({});\n      const paths = Cell({});\n      const primary = value$2();\n      const directory = Cell({});\n      const clear = () => {\n        expansions.set({});\n        menus.set({});\n        paths.set({});\n        primary.clear();\n      };\n      const isClear = () => primary.get().isNone();\n      const setMenuBuilt = (menuName, built) => {\n        menus.set({\n          ...menus.get(),\n          [menuName]: {\n            type: 'prepared',\n            menu: built\n          }\n        });\n      };\n      const setContents = (sPrimary, sMenus, sExpansions, dir) => {\n        primary.set(sPrimary);\n        expansions.set(sExpansions);\n        menus.set(sMenus);\n        directory.set(dir);\n        const sPaths = generate$2(dir, sExpansions);\n        paths.set(sPaths);\n      };\n      const getTriggeringItem = menuValue => find$4(expansions.get(), (v, _k) => v === menuValue);\n      const getTriggerData = (menuValue, getItemByValue, path) => getPreparedMenu(menuValue).bind(menu => getTriggeringItem(menuValue).bind(triggeringItemValue => getItemByValue(triggeringItemValue).map(triggeredItem => ({\n        triggeredMenu: menu,\n        triggeringItem: triggeredItem,\n        triggeringPath: path\n      }))));\n      const getTriggeringPath = (itemValue, getItemByValue) => {\n        const extraPath = filter$2(lookupItem(itemValue).toArray(), menuValue => getPreparedMenu(menuValue).isSome());\n        return get$g(paths.get(), itemValue).bind(path => {\n          const revPath = reverse(extraPath.concat(path));\n          const triggers = bind$3(revPath, (menuValue, menuIndex) => getTriggerData(menuValue, getItemByValue, revPath.slice(0, menuIndex + 1)).fold(() => is$1(primary.get(), menuValue) ? [] : [Optional.none()], data => [Optional.some(data)]));\n          return sequence(triggers);\n        });\n      };\n      const expand = itemValue => get$g(expansions.get(), itemValue).map(menu => {\n        const current = get$g(paths.get(), itemValue).getOr([]);\n        return [menu].concat(current);\n      });\n      const collapse = itemValue => get$g(paths.get(), itemValue).bind(path => path.length > 1 ? Optional.some(path.slice(1)) : Optional.none());\n      const refresh = itemValue => get$g(paths.get(), itemValue);\n      const getPreparedMenu = menuValue => lookupMenu(menuValue).bind(extractPreparedMenu);\n      const lookupMenu = menuValue => get$g(menus.get(), menuValue);\n      const lookupItem = itemValue => get$g(expansions.get(), itemValue);\n      const otherMenus = path => {\n        const menuValues = directory.get();\n        return difference(keys(menuValues), path);\n      };\n      const getPrimary = () => primary.get().bind(getPreparedMenu);\n      const getMenus = () => menus.get();\n      return {\n        setMenuBuilt,\n        setContents,\n        expand,\n        refresh,\n        collapse,\n        lookupMenu,\n        lookupItem,\n        otherMenus,\n        getPrimary,\n        getMenus,\n        clear,\n        isClear,\n        getTriggeringPath\n      };\n    };\n    const extractPreparedMenu = prep => prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none();\n    const LayeredState = {\n      init: init$c,\n      extractPreparedMenu\n    };\n\n    const onMenuItemHighlightedEvent = generate$6('tiered-menu-item-highlight');\n    const onMenuItemDehighlightedEvent = generate$6('tiered-menu-item-dehighlight');\n\n    var HighlightOnOpen;\n    (function (HighlightOnOpen) {\n      HighlightOnOpen[HighlightOnOpen['HighlightMenuAndItem'] = 0] = 'HighlightMenuAndItem';\n      HighlightOnOpen[HighlightOnOpen['HighlightJustMenu'] = 1] = 'HighlightJustMenu';\n      HighlightOnOpen[HighlightOnOpen['HighlightNone'] = 2] = 'HighlightNone';\n    }(HighlightOnOpen || (HighlightOnOpen = {})));\n\n    const make$6 = (detail, _rawUiSpec) => {\n      const submenuParentItems = value$2();\n      const buildMenus = (container, primaryName, menus) => map$1(menus, (spec, name) => {\n        const makeSketch = () => Menu.sketch({\n          ...spec,\n          value: name,\n          markers: detail.markers,\n          fakeFocus: detail.fakeFocus,\n          onHighlight: (menuComp, itemComp) => {\n            const highlightData = {\n              menuComp,\n              itemComp\n            };\n            emitWith(menuComp, onMenuItemHighlightedEvent, highlightData);\n          },\n          onDehighlight: (menuComp, itemComp) => {\n            const dehighlightData = {\n              menuComp,\n              itemComp\n            };\n            emitWith(menuComp, onMenuItemDehighlightedEvent, dehighlightData);\n          },\n          focusManager: detail.fakeFocus ? highlights() : dom$2()\n        });\n        return name === primaryName ? {\n          type: 'prepared',\n          menu: container.getSystem().build(makeSketch())\n        } : {\n          type: 'notbuilt',\n          nbMenu: makeSketch\n        };\n      });\n      const layeredState = LayeredState.init();\n      const setup = container => {\n        const componentMap = buildMenus(container, detail.data.primary, detail.data.menus);\n        const directory = toDirectory();\n        layeredState.setContents(detail.data.primary, componentMap, detail.data.expansions, directory);\n        return layeredState.getPrimary();\n      };\n      const getItemValue = item => Representing.getValue(item).value;\n      const getItemByValue = (_container, menus, itemValue) => findMap(menus, menu => {\n        if (!menu.getSystem().isConnected()) {\n          return Optional.none();\n        }\n        const candidates = Highlighting.getCandidates(menu);\n        return find$5(candidates, c => getItemValue(c) === itemValue);\n      });\n      const toDirectory = _container => map$1(detail.data.menus, (data, _menuName) => bind$3(data.items, item => item.type === 'separator' ? [] : [item.data.value]));\n      const setActiveMenu = Highlighting.highlight;\n      const setActiveMenuAndItem = (container, menu) => {\n        setActiveMenu(container, menu);\n        Highlighting.getHighlighted(menu).orThunk(() => Highlighting.getFirst(menu)).each(item => {\n          if (detail.fakeFocus) {\n            Highlighting.highlight(menu, item);\n          } else {\n            dispatch(container, item.element, focusItem());\n          }\n        });\n      };\n      const getMenus = (state, menuValues) => cat(map$2(menuValues, mv => state.lookupMenu(mv).bind(prep => prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none())));\n      const closeOthers = (container, state, path) => {\n        const others = getMenus(state, state.otherMenus(path));\n        each$1(others, o => {\n          remove$1(o.element, [detail.markers.backgroundMenu]);\n          if (!detail.stayInDom) {\n            Replacing.remove(container, o);\n          }\n        });\n      };\n      const getSubmenuParents = container => submenuParentItems.get().getOrThunk(() => {\n        const r = {};\n        const items = descendants(container.element, `.${ detail.markers.item }`);\n        const parentItems = filter$2(items, i => get$f(i, 'aria-haspopup') === 'true');\n        each$1(parentItems, i => {\n          container.getSystem().getByDom(i).each(itemComp => {\n            const key = getItemValue(itemComp);\n            r[key] = itemComp;\n          });\n        });\n        submenuParentItems.set(r);\n        return r;\n      });\n      const updateAriaExpansions = (container, path) => {\n        const parentItems = getSubmenuParents(container);\n        each(parentItems, (v, k) => {\n          const expanded = contains$2(path, k);\n          set$9(v.element, 'aria-expanded', expanded);\n        });\n      };\n      const updateMenuPath = (container, state, path) => Optional.from(path[0]).bind(latestMenuName => state.lookupMenu(latestMenuName).bind(menuPrep => {\n        if (menuPrep.type === 'notbuilt') {\n          return Optional.none();\n        } else {\n          const activeMenu = menuPrep.menu;\n          const rest = getMenus(state, path.slice(1));\n          each$1(rest, r => {\n            add$2(r.element, detail.markers.backgroundMenu);\n          });\n          if (!inBody(activeMenu.element)) {\n            Replacing.append(container, premade(activeMenu));\n          }\n          remove$1(activeMenu.element, [detail.markers.backgroundMenu]);\n          setActiveMenuAndItem(container, activeMenu);\n          closeOthers(container, state, path);\n          return Optional.some(activeMenu);\n        }\n      }));\n      let ExpandHighlightDecision;\n      (function (ExpandHighlightDecision) {\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightSubmenu'] = 0] = 'HighlightSubmenu';\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightParent'] = 1] = 'HighlightParent';\n      }(ExpandHighlightDecision || (ExpandHighlightDecision = {})));\n      const buildIfRequired = (container, menuName, menuPrep) => {\n        if (menuPrep.type === 'notbuilt') {\n          const menu = container.getSystem().build(menuPrep.nbMenu());\n          layeredState.setMenuBuilt(menuName, menu);\n          return menu;\n        } else {\n          return menuPrep.menu;\n        }\n      };\n      const expandRight = (container, item, decision = ExpandHighlightDecision.HighlightSubmenu) => {\n        if (item.hasConfigured(Disabling) && Disabling.isDisabled(item)) {\n          return Optional.some(item);\n        } else {\n          const value = getItemValue(item);\n          return layeredState.expand(value).bind(path => {\n            updateAriaExpansions(container, path);\n            return Optional.from(path[0]).bind(menuName => layeredState.lookupMenu(menuName).bind(activeMenuPrep => {\n              const activeMenu = buildIfRequired(container, menuName, activeMenuPrep);\n              if (!inBody(activeMenu.element)) {\n                Replacing.append(container, premade(activeMenu));\n              }\n              detail.onOpenSubmenu(container, item, activeMenu, reverse(path));\n              if (decision === ExpandHighlightDecision.HighlightSubmenu) {\n                Highlighting.highlightFirst(activeMenu);\n                return updateMenuPath(container, layeredState, path);\n              } else {\n                Highlighting.dehighlightAll(activeMenu);\n                return Optional.some(item);\n              }\n            }));\n          });\n        }\n      };\n      const collapseLeft = (container, item) => {\n        const value = getItemValue(item);\n        return layeredState.collapse(value).bind(path => {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path).map(activeMenu => {\n            detail.onCollapseMenu(container, item, activeMenu);\n            return activeMenu;\n          });\n        });\n      };\n      const updateView = (container, item) => {\n        const value = getItemValue(item);\n        return layeredState.refresh(value).bind(path => {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path);\n        });\n      };\n      const onRight = (container, item) => inside(item.element) ? Optional.none() : expandRight(container, item, ExpandHighlightDecision.HighlightSubmenu);\n      const onLeft = (container, item) => inside(item.element) ? Optional.none() : collapseLeft(container, item);\n      const onEscape = (container, item) => collapseLeft(container, item).orThunk(() => detail.onEscape(container, item).map(() => container));\n      const keyOnItem = f => (container, simulatedEvent) => {\n        return closest$1(simulatedEvent.getSource(), `.${ detail.markers.item }`).bind(target => container.getSystem().getByDom(target).toOptional().bind(item => f(container, item).map(always)));\n      };\n      const events = derive$2([\n        run$1(focus(), (tmenu, simulatedEvent) => {\n          const item = simulatedEvent.event.item;\n          layeredState.lookupItem(getItemValue(item)).each(() => {\n            const menu = simulatedEvent.event.menu;\n            Highlighting.highlight(tmenu, menu);\n            const value = getItemValue(simulatedEvent.event.item);\n            layeredState.refresh(value).each(path => closeOthers(tmenu, layeredState, path));\n          });\n        }),\n        runOnExecute$1((component, simulatedEvent) => {\n          const target = simulatedEvent.event.target;\n          component.getSystem().getByDom(target).each(item => {\n            const itemValue = getItemValue(item);\n            if (itemValue.indexOf('collapse-item') === 0) {\n              collapseLeft(component, item);\n            }\n            expandRight(component, item, ExpandHighlightDecision.HighlightSubmenu).fold(() => {\n              detail.onExecute(component, item);\n            }, noop);\n          });\n        }),\n        runOnAttached((container, _simulatedEvent) => {\n          setup(container).each(primary => {\n            Replacing.append(container, premade(primary));\n            detail.onOpenMenu(container, primary);\n            if (detail.highlightOnOpen === HighlightOnOpen.HighlightMenuAndItem) {\n              setActiveMenuAndItem(container, primary);\n            } else if (detail.highlightOnOpen === HighlightOnOpen.HighlightJustMenu) {\n              setActiveMenu(container, primary);\n            }\n          });\n        }),\n        run$1(onMenuItemHighlightedEvent, (tmenuComp, se) => {\n          detail.onHighlightItem(tmenuComp, se.event.menuComp, se.event.itemComp);\n        }),\n        run$1(onMenuItemDehighlightedEvent, (tmenuComp, se) => {\n          detail.onDehighlightItem(tmenuComp, se.event.menuComp, se.event.itemComp);\n        }),\n        ...detail.navigateOnHover ? [run$1(hover(), (tmenu, simulatedEvent) => {\n            const item = simulatedEvent.event.item;\n            updateView(tmenu, item);\n            expandRight(tmenu, item, ExpandHighlightDecision.HighlightParent);\n            detail.onHover(tmenu, item);\n          })] : []\n      ]);\n      const getActiveItem = container => Highlighting.getHighlighted(container).bind(Highlighting.getHighlighted);\n      const collapseMenuApi = container => {\n        getActiveItem(container).each(currentItem => {\n          collapseLeft(container, currentItem);\n        });\n      };\n      const highlightPrimary = container => {\n        layeredState.getPrimary().each(primary => {\n          setActiveMenuAndItem(container, primary);\n        });\n      };\n      const extractMenuFromContainer = container => Optional.from(container.components()[0]).filter(comp => get$f(comp.element, 'role') === 'menu');\n      const repositionMenus = container => {\n        const maybeActivePrimary = layeredState.getPrimary().bind(primary => getActiveItem(container).bind(currentItem => {\n          const itemValue = getItemValue(currentItem);\n          const allMenus = values(layeredState.getMenus());\n          const preparedMenus = cat(map$2(allMenus, LayeredState.extractPreparedMenu));\n          return layeredState.getTriggeringPath(itemValue, v => getItemByValue(container, preparedMenus, v));\n        }).map(triggeringPath => ({\n          primary,\n          triggeringPath\n        })));\n        maybeActivePrimary.fold(() => {\n          extractMenuFromContainer(container).each(primaryMenu => {\n            detail.onRepositionMenu(container, primaryMenu, []);\n          });\n        }, ({primary, triggeringPath}) => {\n          detail.onRepositionMenu(container, primary, triggeringPath);\n        });\n      };\n      const apis = {\n        collapseMenu: collapseMenuApi,\n        highlightPrimary,\n        repositionMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        markers: detail.markers,\n        behaviours: augment(detail.tmenuBehaviours, [\n          Keying.config({\n            mode: 'special',\n            onRight: keyOnItem(onRight),\n            onLeft: keyOnItem(onLeft),\n            onEscape: keyOnItem(onEscape),\n            focusIn: (container, _keyInfo) => {\n              layeredState.getPrimary().each(primary => {\n                dispatch(container, primary.element, focusItem());\n              });\n            }\n          }),\n          Highlighting.config({\n            highlightClass: detail.markers.selectedMenu,\n            itemClass: detail.markers.menu\n          }),\n          Composing.config({\n            find: container => {\n              return Highlighting.getHighlighted(container);\n            }\n          }),\n          Replacing.config({})\n        ]),\n        eventOrder: detail.eventOrder,\n        apis,\n        events\n      };\n    };\n    const collapseItem$1 = constant$1('collapse-item');\n\n    const tieredData = (primary, menus, expansions) => ({\n      primary,\n      menus,\n      expansions\n    });\n    const singleData = (name, menu) => ({\n      primary: name,\n      menus: wrap$1(name, menu),\n      expansions: {}\n    });\n    const collapseItem = text => ({\n      value: generate$6(collapseItem$1()),\n      meta: { text }\n    });\n    const tieredMenu = single({\n      name: 'TieredMenu',\n      configFields: [\n        onStrictKeyboardHandler('onExecute'),\n        onStrictKeyboardHandler('onEscape'),\n        onStrictHandler('onOpenMenu'),\n        onStrictHandler('onOpenSubmenu'),\n        onHandler('onRepositionMenu'),\n        onHandler('onCollapseMenu'),\n        defaulted('highlightOnOpen', HighlightOnOpen.HighlightMenuAndItem),\n        requiredObjOf('data', [\n          required$1('primary'),\n          required$1('menus'),\n          required$1('expansions')\n        ]),\n        defaulted('fakeFocus', false),\n        onHandler('onHighlightItem'),\n        onHandler('onDehighlightItem'),\n        onHandler('onHover'),\n        tieredMenuMarkers(),\n        required$1('dom'),\n        defaulted('navigateOnHover', true),\n        defaulted('stayInDom', false),\n        field('tmenuBehaviours', [\n          Keying,\n          Highlighting,\n          Composing,\n          Replacing\n        ]),\n        defaulted('eventOrder', {})\n      ],\n      apis: {\n        collapseMenu: (apis, tmenu) => {\n          apis.collapseMenu(tmenu);\n        },\n        highlightPrimary: (apis, tmenu) => {\n          apis.highlightPrimary(tmenu);\n        },\n        repositionMenus: (apis, tmenu) => {\n          apis.repositionMenus(tmenu);\n        }\n      },\n      factory: make$6,\n      extraApis: {\n        tieredData,\n        singleData,\n        collapseItem\n      }\n    });\n\n    const makeMenu = (detail, menuSandbox, placementSpec, menuSpec, getBounds) => {\n      const lazySink = () => detail.lazySink(menuSandbox);\n      const layouts = menuSpec.type === 'horizontal' ? {\n        layouts: {\n          onLtr: () => belowOrAbove(),\n          onRtl: () => belowOrAboveRtl()\n        }\n      } : {};\n      const isFirstTierSubmenu = triggeringPaths => triggeringPaths.length === 2;\n      const getSubmenuLayouts = triggeringPaths => isFirstTierSubmenu(triggeringPaths) ? layouts : {};\n      return tieredMenu.sketch({\n        dom: { tag: 'div' },\n        data: menuSpec.data,\n        markers: menuSpec.menu.markers,\n        highlightOnOpen: menuSpec.menu.highlightOnOpen,\n        fakeFocus: menuSpec.menu.fakeFocus,\n        onEscape: () => {\n          Sandboxing.close(menuSandbox);\n          detail.onEscape.map(handler => handler(menuSandbox));\n          return Optional.some(true);\n        },\n        onExecute: () => {\n          return Optional.some(true);\n        },\n        onOpenMenu: (tmenu, menu) => {\n          Positioning.positionWithinBounds(lazySink().getOrDie(), menu, placementSpec, getBounds());\n        },\n        onOpenSubmenu: (tmenu, item, submenu, triggeringPaths) => {\n          const sink = lazySink().getOrDie();\n          Positioning.position(sink, submenu, {\n            anchor: {\n              type: 'submenu',\n              item,\n              ...getSubmenuLayouts(triggeringPaths)\n            }\n          });\n        },\n        onRepositionMenu: (tmenu, primaryMenu, submenuTriggers) => {\n          const sink = lazySink().getOrDie();\n          Positioning.positionWithinBounds(sink, primaryMenu, placementSpec, getBounds());\n          each$1(submenuTriggers, st => {\n            const submenuLayouts = getSubmenuLayouts(st.triggeringPath);\n            Positioning.position(sink, st.triggeredMenu, {\n              anchor: {\n                type: 'submenu',\n                item: st.triggeringItem,\n                ...submenuLayouts\n              }\n            });\n          });\n        }\n      });\n    };\n    const factory$o = (detail, spec) => {\n      const isPartOfRelated = (sandbox, queryElem) => {\n        const related = detail.getRelated(sandbox);\n        return related.exists(rel => isPartOf$1(rel, queryElem));\n      };\n      const setContent = (sandbox, thing) => {\n        Sandboxing.setContent(sandbox, thing);\n      };\n      const showAt = (sandbox, thing, placementSpec) => {\n        const getBounds = Optional.none;\n        showWithinBounds(sandbox, thing, placementSpec, getBounds);\n      };\n      const showWithinBounds = (sandbox, thing, placementSpec, getBounds) => {\n        const sink = detail.lazySink(sandbox).getOrDie();\n        Sandboxing.openWhileCloaked(sandbox, thing, () => Positioning.positionWithinBounds(sink, sandbox, placementSpec, getBounds()));\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'position',\n          config: placementSpec,\n          getBounds\n        }));\n      };\n      const showMenuAt = (sandbox, placementSpec, menuSpec) => {\n        showMenuWithinBounds(sandbox, placementSpec, menuSpec, Optional.none);\n      };\n      const showMenuWithinBounds = (sandbox, placementSpec, menuSpec, getBounds) => {\n        const menu = makeMenu(detail, sandbox, placementSpec, menuSpec, getBounds);\n        Sandboxing.open(sandbox, menu);\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'menu',\n          menu\n        }));\n      };\n      const hide = sandbox => {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.setValue(sandbox, Optional.none());\n          Sandboxing.close(sandbox);\n        }\n      };\n      const getContent = sandbox => Sandboxing.getState(sandbox);\n      const reposition = sandbox => {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.getValue(sandbox).each(state => {\n            switch (state.mode) {\n            case 'menu':\n              Sandboxing.getState(sandbox).each(tieredMenu.repositionMenus);\n              break;\n            case 'position':\n              const sink = detail.lazySink(sandbox).getOrDie();\n              Positioning.positionWithinBounds(sink, sandbox, state.config, state.getBounds());\n              break;\n            }\n          });\n        }\n      };\n      const apis = {\n        setContent,\n        showAt,\n        showWithinBounds,\n        showMenuAt,\n        showMenuWithinBounds,\n        hide,\n        getContent,\n        reposition,\n        isOpen: Sandboxing.isOpen\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        behaviours: augment(detail.inlineBehaviours, [\n          Sandboxing.config({\n            isPartOf: (sandbox, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOfRelated(sandbox, queryElem);\n            },\n            getAttachPoint: sandbox => {\n              return detail.lazySink(sandbox).getOrDie();\n            },\n            onOpen: sandbox => {\n              detail.onShow(sandbox);\n            },\n            onClose: sandbox => {\n              detail.onHide(sandbox);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: Optional.none()\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({\n                isExtraPart: spec.isExtraPart,\n                ...detail.fireDismissalEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({})\n              }),\n              ...receivingChannel({\n                ...detail.fireRepositionEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({}),\n                doReposition: reposition\n              })\n            }\n          })\n        ]),\n        eventOrder: detail.eventOrder,\n        apis\n      };\n    };\n    const InlineView = single({\n      name: 'InlineView',\n      configFields: [\n        required$1('lazySink'),\n        onHandler('onShow'),\n        onHandler('onHide'),\n        optionFunction('onEscape'),\n        field('inlineBehaviours', [\n          Sandboxing,\n          Representing,\n          Receiving\n        ]),\n        optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n        optionObjOf('fireRepositionEventInstead', [defaulted('event', repositionRequested())]),\n        defaulted('getRelated', Optional.none),\n        defaulted('isExtraPart', never),\n        defaulted('eventOrder', Optional.none)\n      ],\n      factory: factory$o,\n      apis: {\n        showAt: (apis, component, anchor, thing) => {\n          apis.showAt(component, anchor, thing);\n        },\n        showWithinBounds: (apis, component, anchor, thing, bounds) => {\n          apis.showWithinBounds(component, anchor, thing, bounds);\n        },\n        showMenuAt: (apis, component, anchor, menuSpec) => {\n          apis.showMenuAt(component, anchor, menuSpec);\n        },\n        showMenuWithinBounds: (apis, component, anchor, menuSpec, bounds) => {\n          apis.showMenuWithinBounds(component, anchor, menuSpec, bounds);\n        },\n        hide: (apis, component) => {\n          apis.hide(component);\n        },\n        isOpen: (apis, component) => apis.isOpen(component),\n        getContent: (apis, component) => apis.getContent(component),\n        setContent: (apis, component, thing) => {\n          apis.setContent(component, thing);\n        },\n        reposition: (apis, component) => {\n          apis.reposition(component);\n        }\n      }\n    });\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    const factory$n = detail => {\n      const events = events$a(detail.action);\n      const tag = detail.dom.tag;\n      const lookupAttr = attr => get$g(detail.dom, 'attributes').bind(attrs => get$g(attrs, attr));\n      const getModAttributes = () => {\n        if (tag === 'button') {\n          const type = lookupAttr('type').getOr('button');\n          const roleAttrs = lookupAttr('role').map(role => ({ role })).getOr({});\n          return {\n            type,\n            ...roleAttrs\n          };\n        } else {\n          const role = detail.role.getOr(lookupAttr('role').getOr('button'));\n          return { role };\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: detail.components,\n        events,\n        behaviours: SketchBehaviours.augment(detail.buttonBehaviours, [\n          Focusing.config({}),\n          Keying.config({\n            mode: 'execution',\n            useSpace: true,\n            useEnter: true\n          })\n        ]),\n        domModification: { attributes: getModAttributes() },\n        eventOrder: detail.eventOrder\n      };\n    };\n    const Button = single({\n      name: 'Button',\n      factory: factory$n,\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('dom'),\n        defaulted('components', []),\n        SketchBehaviours.field('buttonBehaviours', [\n          Focusing,\n          Keying\n        ]),\n        option$3('action'),\n        option$3('role'),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    const record = spec => {\n      const uid = isSketchSpec(spec) && hasNonNullableKey(spec, 'uid') ? spec.uid : generate$5('memento');\n      const get = anyInSystem => anyInSystem.getSystem().getByUid(uid).getOrDie();\n      const getOpt = anyInSystem => anyInSystem.getSystem().getByUid(uid).toOptional();\n      const asSpec = () => ({\n        ...spec,\n        uid\n      });\n      return {\n        get,\n        getOpt,\n        asSpec\n      };\n    };\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n    const rtlTransform = {\n      'indent': true,\n      'outdent': true,\n      'table-insert-column-after': true,\n      'table-insert-column-before': true,\n      'paste-column-after': true,\n      'paste-column-before': true,\n      'unordered-list': true,\n      'list-bull-circle': true,\n      'list-bull-default': true,\n      'list-bull-square': true\n    };\n    const defaultIconName = 'temporary-placeholder';\n    const defaultIcon = icons => () => get$g(icons, defaultIconName).getOr('!not found!');\n    const getIconName = (name, icons) => {\n      const lcName = name.toLowerCase();\n      if (global$8.isRtl()) {\n        const rtlName = ensureTrailing(lcName, '-rtl');\n        return has$2(icons, rtlName) ? rtlName : lcName;\n      } else {\n        return lcName;\n      }\n    };\n    const lookupIcon = (name, icons) => get$g(icons, getIconName(name, icons));\n    const get$2 = (name, iconProvider) => {\n      const icons = iconProvider();\n      return lookupIcon(name, icons).getOrThunk(defaultIcon(icons));\n    };\n    const getOr = (name, iconProvider, fallbackIcon) => {\n      const icons = iconProvider();\n      return lookupIcon(name, icons).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n    };\n    const needsRtlTransform = iconName => global$8.isRtl() ? has$2(rtlTransform, iconName) : false;\n    const addFocusableBehaviour = () => config('add-focusable', [runOnAttached(comp => {\n        child(comp.element, 'svg').each(svg => set$9(svg, 'focusable', 'false'));\n      })]);\n    const renderIcon$3 = (spec, iconName, icons, fallbackIcon) => {\n      var _a, _b;\n      const rtlIconClasses = needsRtlTransform(iconName) ? ['tox-icon--flip'] : [];\n      const iconHtml = get$g(icons, getIconName(iconName, icons)).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n      return {\n        dom: {\n          tag: spec.tag,\n          attributes: (_a = spec.attributes) !== null && _a !== void 0 ? _a : {},\n          classes: spec.classes.concat(rtlIconClasses),\n          innerHtml: iconHtml\n        },\n        behaviours: derive$1([\n          ...(_b = spec.behaviours) !== null && _b !== void 0 ? _b : [],\n          addFocusableBehaviour()\n        ])\n      };\n    };\n    const render$3 = (iconName, spec, iconProvider, fallbackIcon = Optional.none()) => renderIcon$3(spec, iconName, iconProvider(), fallbackIcon);\n    const renderFirst = (iconNames, spec, iconProvider) => {\n      const icons = iconProvider();\n      const iconName = find$5(iconNames, name => has$2(icons, getIconName(name, icons)));\n      return renderIcon$3(spec, iconName.getOr(defaultIconName), icons, Optional.none());\n    };\n\n    const notificationIconMap = {\n      success: 'checkmark',\n      error: 'warning',\n      err: 'error',\n      warning: 'warning',\n      warn: 'warning',\n      info: 'info'\n    };\n    const factory$m = detail => {\n      const memBannerText = record({\n        dom: {\n          tag: 'p',\n          innerHtml: detail.translationProvider(detail.text)\n        },\n        behaviours: derive$1([Replacing.config({})])\n      });\n      const renderPercentBar = percent => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-bar'],\n          styles: { width: `${ percent }%` }\n        }\n      });\n      const renderPercentText = percent => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-text'],\n          innerHtml: `${ percent }%`\n        }\n      });\n      const memBannerProgress = record({\n        dom: {\n          tag: 'div',\n          classes: detail.progress ? [\n            'tox-progress-bar',\n            'tox-progress-indicator'\n          ] : ['tox-progress-bar']\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-bar-container']\n            },\n            components: [renderPercentBar(0)]\n          },\n          renderPercentText(0)\n        ],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      const updateProgress = (comp, percent) => {\n        if (comp.getSystem().isConnected()) {\n          memBannerProgress.getOpt(comp).each(progress => {\n            Replacing.set(progress, [\n              {\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-bar-container']\n                },\n                components: [renderPercentBar(percent)]\n              },\n              renderPercentText(percent)\n            ]);\n          });\n        }\n      };\n      const updateText = (comp, text) => {\n        if (comp.getSystem().isConnected()) {\n          const banner = memBannerText.get(comp);\n          Replacing.set(banner, [text$2(text)]);\n        }\n      };\n      const apis = {\n        updateProgress,\n        updateText\n      };\n      const iconChoices = flatten([\n        detail.icon.toArray(),\n        detail.level.toArray(),\n        detail.level.bind(level => Optional.from(notificationIconMap[level])).toArray()\n      ]);\n      const memButton = record(Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-notification__dismiss',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ]\n        },\n        components: [render$3('close', {\n            tag: 'div',\n            classes: ['tox-icon'],\n            attributes: { 'aria-label': detail.translationProvider('Close') }\n          }, detail.iconProvider)],\n        action: comp => {\n          detail.onAction(comp);\n        }\n      }));\n      const notificationIconSpec = renderFirst(iconChoices, {\n        tag: 'div',\n        classes: ['tox-notification__icon']\n      }, detail.iconProvider);\n      const notificationBodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-notification__body']\n        },\n        components: [memBannerText.asSpec()],\n        behaviours: derive$1([Replacing.config({})])\n      };\n      const components = [\n        notificationIconSpec,\n        notificationBodySpec\n      ];\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: { role: 'alert' },\n          classes: detail.level.map(level => [\n            'tox-notification',\n            'tox-notification--in',\n            `tox-notification--${ level }`\n          ]).getOr([\n            'tox-notification',\n            'tox-notification--in'\n          ])\n        },\n        behaviours: derive$1([\n          Focusing.config({}),\n          config('notification-events', [run$1(focusin(), comp => {\n              memButton.getOpt(comp).each(Focusing.focus);\n            })])\n        ]),\n        components: components.concat(detail.progress ? [memBannerProgress.asSpec()] : []).concat(!detail.closeButton ? [] : [memButton.asSpec()]),\n        apis\n      };\n    };\n    const Notification = single({\n      name: 'Notification',\n      factory: factory$m,\n      configFields: [\n        option$3('level'),\n        required$1('progress'),\n        option$3('icon'),\n        required$1('onAction'),\n        required$1('text'),\n        required$1('iconProvider'),\n        required$1('translationProvider'),\n        defaultedBoolean('closeButton', true)\n      ],\n      apis: {\n        updateProgress: (apis, comp, percent) => {\n          apis.updateProgress(comp, percent);\n        },\n        updateText: (apis, comp, text) => {\n          apis.updateText(comp, text);\n        }\n      }\n    });\n\n    var NotificationManagerImpl = (editor, extras, uiMothership) => {\n      const sharedBackstage = extras.backstage.shared;\n      const getBounds = () => {\n        const contentArea = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n        const win$1 = win();\n        const x = clamp(win$1.x, contentArea.x, contentArea.right);\n        const y = clamp(win$1.y, contentArea.y, contentArea.bottom);\n        const right = Math.max(contentArea.right, win$1.right);\n        const bottom = Math.max(contentArea.bottom, win$1.bottom);\n        return Optional.some(bounds(x, y, right - x, bottom - y));\n      };\n      const open = (settings, closeCallback) => {\n        const close = () => {\n          closeCallback();\n          InlineView.hide(notificationWrapper);\n        };\n        const notification = build$1(Notification.sketch({\n          text: settings.text,\n          level: contains$2([\n            'success',\n            'error',\n            'warning',\n            'warn',\n            'info'\n          ], settings.type) ? settings.type : undefined,\n          progress: settings.progressBar === true,\n          icon: settings.icon,\n          closeButton: settings.closeButton,\n          onAction: close,\n          iconProvider: sharedBackstage.providers.icons,\n          translationProvider: sharedBackstage.providers.translate\n        }));\n        const notificationWrapper = build$1(InlineView.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-notifications-container']\n          },\n          lazySink: sharedBackstage.getSink,\n          fireDismissalEventInstead: {},\n          ...sharedBackstage.header.isPositionedAtTop() ? {} : { fireRepositionEventInstead: {} }\n        }));\n        uiMothership.add(notificationWrapper);\n        if (isNumber(settings.timeout) && settings.timeout > 0) {\n          global$9.setEditorTimeout(editor, () => {\n            close();\n          }, settings.timeout);\n        }\n        const reposition = () => {\n          const notificationSpec = premade(notification);\n          const anchorOverrides = { maxHeightFunction: expandable$1() };\n          const allNotifications = editor.notificationManager.getNotifications();\n          if (allNotifications[0] === thisNotification) {\n            const anchor = {\n              ...sharedBackstage.anchors.banner(),\n              overrides: anchorOverrides\n            };\n            InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor }, getBounds);\n          } else {\n            indexOf(allNotifications, thisNotification).each(idx => {\n              const previousNotification = allNotifications[idx - 1].getEl();\n              const nodeAnchor = {\n                type: 'node',\n                root: body(),\n                node: Optional.some(SugarElement.fromDom(previousNotification)),\n                overrides: anchorOverrides,\n                layouts: {\n                  onRtl: () => [south$2],\n                  onLtr: () => [south$2]\n                }\n              };\n              InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor: nodeAnchor }, getBounds);\n            });\n          }\n        };\n        const thisNotification = {\n          close,\n          reposition,\n          text: nuText => {\n            Notification.updateText(notification, nuText);\n          },\n          settings,\n          getEl: () => notification.element.dom,\n          progressBar: {\n            value: percent => {\n              Notification.updateProgress(notification, percent);\n            }\n          }\n        };\n        return thisNotification;\n      };\n      const close = notification => {\n        notification.close();\n      };\n      const getArgs = notification => {\n        return notification.settings;\n      };\n      return {\n        open,\n        close,\n        getArgs\n      };\n    };\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var ToolbarMode$1;\n    (function (ToolbarMode) {\n      ToolbarMode['default'] = 'wrap';\n      ToolbarMode['floating'] = 'floating';\n      ToolbarMode['sliding'] = 'sliding';\n      ToolbarMode['scrolling'] = 'scrolling';\n    }(ToolbarMode$1 || (ToolbarMode$1 = {})));\n    var ToolbarLocation$1;\n    (function (ToolbarLocation) {\n      ToolbarLocation['auto'] = 'auto';\n      ToolbarLocation['top'] = 'top';\n      ToolbarLocation['bottom'] = 'bottom';\n    }(ToolbarLocation$1 || (ToolbarLocation$1 = {})));\n    const option$2 = name => editor => editor.options.get(name);\n    const wrapOptional = fn => editor => Optional.from(fn(editor));\n    const register$e = editor => {\n      const isPhone = global$5.deviceType.isPhone();\n      const isMobile = global$5.deviceType.isTablet() || isPhone;\n      const registerOption = editor.options.register;\n      const stringOrFalseProcessor = value => isString(value) || value === false;\n      const stringOrNumberProcessor = value => isString(value) || isNumber(value);\n      registerOption('skin', {\n        processor: value => isString(value) || value === false,\n        default: 'oxide'\n      });\n      registerOption('skin_url', { processor: 'string' });\n      registerOption('height', {\n        processor: stringOrNumberProcessor,\n        default: Math.max(editor.getElement().offsetHeight, 400)\n      });\n      registerOption('width', {\n        processor: stringOrNumberProcessor,\n        default: global$7.DOM.getStyle(editor.getElement(), 'width')\n      });\n      registerOption('min_height', {\n        processor: 'number',\n        default: 100\n      });\n      registerOption('min_width', { processor: 'number' });\n      registerOption('max_height', { processor: 'number' });\n      registerOption('max_width', { processor: 'number' });\n      registerOption('style_formats', { processor: 'object[]' });\n      registerOption('style_formats_merge', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('style_formats_autohide', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('line_height_formats', {\n        processor: 'string',\n        default: '1 1.1 1.2 1.3 1.4 1.5 2'\n      });\n      registerOption('font_family_formats', {\n        processor: 'string',\n        default: 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats'\n      });\n      registerOption('font_size_formats', {\n        processor: 'string',\n        default: '8pt 10pt 12pt 14pt 18pt 24pt 36pt'\n      });\n      registerOption('font_size_input_default_unit', {\n        processor: 'string',\n        default: 'pt'\n      });\n      registerOption('block_formats', {\n        processor: 'string',\n        default: 'Paragraph=p;' + 'Heading 1=h1;' + 'Heading 2=h2;' + 'Heading 3=h3;' + 'Heading 4=h4;' + 'Heading 5=h5;' + 'Heading 6=h6;' + 'Preformatted=pre'\n      });\n      registerOption('content_langs', { processor: 'object[]' });\n      registerOption('removed_menuitems', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('menubar', {\n        processor: value => isString(value) || isBoolean(value),\n        default: !isPhone\n      });\n      registerOption('menu', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('toolbar', {\n        processor: value => {\n          if (isBoolean(value) || isString(value) || isArray(value)) {\n            return {\n              value,\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a boolean, string or array.'\n            };\n          }\n        },\n        default: true\n      });\n      range$2(9, num => {\n        registerOption('toolbar' + (num + 1), { processor: 'string' });\n      });\n      registerOption('toolbar_mode', {\n        processor: 'string',\n        default: isMobile ? 'scrolling' : 'floating'\n      });\n      registerOption('toolbar_groups', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('toolbar_location', {\n        processor: 'string',\n        default: ToolbarLocation$1.auto\n      });\n      registerOption('toolbar_persist', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('toolbar_sticky', {\n        processor: 'boolean',\n        default: editor.inline\n      });\n      registerOption('toolbar_sticky_offset', {\n        processor: 'number',\n        default: 0\n      });\n      registerOption('fixed_toolbar_container', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('fixed_toolbar_container_target', { processor: 'object' });\n      registerOption('ui_mode', {\n        processor: 'string',\n        default: 'combined'\n      });\n      registerOption('file_picker_callback', { processor: 'function' });\n      registerOption('file_picker_validator_handler', { processor: 'function' });\n      registerOption('file_picker_types', { processor: 'string' });\n      registerOption('typeahead_urls', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('anchor_top', {\n        processor: stringOrFalseProcessor,\n        default: '#top'\n      });\n      registerOption('anchor_bottom', {\n        processor: stringOrFalseProcessor,\n        default: '#bottom'\n      });\n      registerOption('draggable_modal', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('statusbar', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('elementpath', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('branding', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('promotion', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('resize', {\n        processor: value => value === 'both' || isBoolean(value),\n        default: !global$5.deviceType.isTouch()\n      });\n      registerOption('sidebar_show', { processor: 'string' });\n    };\n    const isReadOnly = option$2('readonly');\n    const getHeightOption = option$2('height');\n    const getWidthOption = option$2('width');\n    const getMinWidthOption = wrapOptional(option$2('min_width'));\n    const getMinHeightOption = wrapOptional(option$2('min_height'));\n    const getMaxWidthOption = wrapOptional(option$2('max_width'));\n    const getMaxHeightOption = wrapOptional(option$2('max_height'));\n    const getUserStyleFormats = wrapOptional(option$2('style_formats'));\n    const shouldMergeStyleFormats = option$2('style_formats_merge');\n    const shouldAutoHideStyleFormats = option$2('style_formats_autohide');\n    const getContentLanguages = option$2('content_langs');\n    const getRemovedMenuItems = option$2('removed_menuitems');\n    const getToolbarMode = option$2('toolbar_mode');\n    const getToolbarGroups = option$2('toolbar_groups');\n    const getToolbarLocation = option$2('toolbar_location');\n    const fixedContainerSelector = option$2('fixed_toolbar_container');\n    const fixedToolbarContainerTarget = option$2('fixed_toolbar_container_target');\n    const isToolbarPersist = option$2('toolbar_persist');\n    const getStickyToolbarOffset = option$2('toolbar_sticky_offset');\n    const getMenubar = option$2('menubar');\n    const getToolbar = option$2('toolbar');\n    const getFilePickerCallback = option$2('file_picker_callback');\n    const getFilePickerValidatorHandler = option$2('file_picker_validator_handler');\n    const getFontSizeInputDefaultUnit = option$2('font_size_input_default_unit');\n    const getFilePickerTypes = option$2('file_picker_types');\n    const useTypeaheadUrls = option$2('typeahead_urls');\n    const getAnchorTop = option$2('anchor_top');\n    const getAnchorBottom = option$2('anchor_bottom');\n    const isDraggableModal$1 = option$2('draggable_modal');\n    const useStatusBar = option$2('statusbar');\n    const useElementPath = option$2('elementpath');\n    const useBranding = option$2('branding');\n    const getResize = option$2('resize');\n    const getPasteAsText = option$2('paste_as_text');\n    const getSidebarShow = option$2('sidebar_show');\n    const promotionEnabled = option$2('promotion');\n    const isSkinDisabled = editor => editor.options.get('skin') === false;\n    const isMenubarEnabled = editor => editor.options.get('menubar') !== false;\n    const getSkinUrl = editor => {\n      const skinUrl = editor.options.get('skin_url');\n      if (isSkinDisabled(editor)) {\n        return skinUrl;\n      } else {\n        if (skinUrl) {\n          return editor.documentBaseURI.toAbsolute(skinUrl);\n        } else {\n          const skin = editor.options.get('skin');\n          return global$6.baseURL + '/skins/ui/' + skin;\n        }\n      }\n    };\n    const getLineHeightFormats = editor => editor.options.get('line_height_formats').split(' ');\n    const isToolbarEnabled = editor => {\n      const toolbar = getToolbar(editor);\n      const isToolbarString = isString(toolbar);\n      const isToolbarObjectArray = isArray(toolbar) && toolbar.length > 0;\n      return !isMultipleToolbars(editor) && (isToolbarObjectArray || isToolbarString || toolbar === true);\n    };\n    const getMultipleToolbarsOption = editor => {\n      const toolbars = range$2(9, num => editor.options.get('toolbar' + (num + 1)));\n      const toolbarArray = filter$2(toolbars, isString);\n      return someIf(toolbarArray.length > 0, toolbarArray);\n    };\n    const isMultipleToolbars = editor => getMultipleToolbarsOption(editor).fold(() => {\n      const toolbar = getToolbar(editor);\n      return isArrayOf(toolbar, isString) && toolbar.length > 0;\n    }, always);\n    const isToolbarLocationBottom = editor => getToolbarLocation(editor) === ToolbarLocation$1.bottom;\n    const fixedContainerTarget = editor => {\n      var _a;\n      if (!editor.inline) {\n        return Optional.none();\n      }\n      const selector = (_a = fixedContainerSelector(editor)) !== null && _a !== void 0 ? _a : '';\n      if (selector.length > 0) {\n        return descendant(body(), selector);\n      }\n      const element = fixedToolbarContainerTarget(editor);\n      if (isNonNullable(element)) {\n        return Optional.some(SugarElement.fromDom(element));\n      }\n      return Optional.none();\n    };\n    const useFixedContainer = editor => editor.inline && fixedContainerTarget(editor).isSome();\n    const getUiContainer = editor => {\n      const fixedContainer = fixedContainerTarget(editor);\n      return fixedContainer.getOrThunk(() => getContentContainer(getRootNode(SugarElement.fromDom(editor.getElement()))));\n    };\n    const isDistractionFree = editor => editor.inline && !isMenubarEnabled(editor) && !isToolbarEnabled(editor) && !isMultipleToolbars(editor);\n    const isStickyToolbar = editor => {\n      const isStickyToolbar = editor.options.get('toolbar_sticky');\n      return (isStickyToolbar || editor.inline) && !useFixedContainer(editor) && !isDistractionFree(editor);\n    };\n    const isSplitUiMode = editor => !useFixedContainer(editor) && editor.options.get('ui_mode') === 'split';\n    const getMenus = editor => {\n      const menu = editor.options.get('menu');\n      return map$1(menu, menu => ({\n        ...menu,\n        items: menu.items\n      }));\n    };\n\n    var Options = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        get ToolbarMode () { return ToolbarMode$1; },\n        get ToolbarLocation () { return ToolbarLocation$1; },\n        register: register$e,\n        getSkinUrl: getSkinUrl,\n        isReadOnly: isReadOnly,\n        isSkinDisabled: isSkinDisabled,\n        getHeightOption: getHeightOption,\n        getWidthOption: getWidthOption,\n        getMinWidthOption: getMinWidthOption,\n        getMinHeightOption: getMinHeightOption,\n        getMaxWidthOption: getMaxWidthOption,\n        getMaxHeightOption: getMaxHeightOption,\n        getUserStyleFormats: getUserStyleFormats,\n        shouldMergeStyleFormats: shouldMergeStyleFormats,\n        shouldAutoHideStyleFormats: shouldAutoHideStyleFormats,\n        getLineHeightFormats: getLineHeightFormats,\n        getContentLanguages: getContentLanguages,\n        getRemovedMenuItems: getRemovedMenuItems,\n        isMenubarEnabled: isMenubarEnabled,\n        isMultipleToolbars: isMultipleToolbars,\n        isToolbarEnabled: isToolbarEnabled,\n        isToolbarPersist: isToolbarPersist,\n        getMultipleToolbarsOption: getMultipleToolbarsOption,\n        getUiContainer: getUiContainer,\n        useFixedContainer: useFixedContainer,\n        isSplitUiMode: isSplitUiMode,\n        getToolbarMode: getToolbarMode,\n        isDraggableModal: isDraggableModal$1,\n        isDistractionFree: isDistractionFree,\n        isStickyToolbar: isStickyToolbar,\n        getStickyToolbarOffset: getStickyToolbarOffset,\n        getToolbarLocation: getToolbarLocation,\n        isToolbarLocationBottom: isToolbarLocationBottom,\n        getToolbarGroups: getToolbarGroups,\n        getMenus: getMenus,\n        getMenubar: getMenubar,\n        getToolbar: getToolbar,\n        getFilePickerCallback: getFilePickerCallback,\n        getFilePickerTypes: getFilePickerTypes,\n        useTypeaheadUrls: useTypeaheadUrls,\n        getAnchorTop: getAnchorTop,\n        getAnchorBottom: getAnchorBottom,\n        getFilePickerValidatorHandler: getFilePickerValidatorHandler,\n        getFontSizeInputDefaultUnit: getFontSizeInputDefaultUnit,\n        useStatusBar: useStatusBar,\n        useElementPath: useElementPath,\n        promotionEnabled: promotionEnabled,\n        useBranding: useBranding,\n        getResize: getResize,\n        getPasteAsText: getPasteAsText,\n        getSidebarShow: getSidebarShow\n    });\n\n    const autocompleteSelector = '[data-mce-autocompleter]';\n    const detect$1 = elm => closest$1(elm, autocompleteSelector);\n    const findIn = elm => descendant(elm, autocompleteSelector);\n\n    const setup$e = (api, editor) => {\n      const redirectKeyToItem = (item, e) => {\n        emitWith(item, keydown(), { raw: e });\n      };\n      const getItem = () => api.getMenu().bind(Highlighting.getHighlighted);\n      editor.on('keydown', e => {\n        const keyCode = e.which;\n        if (!api.isActive()) {\n          return;\n        }\n        if (api.isMenuOpen()) {\n          if (keyCode === 13) {\n            getItem().each(emitExecute);\n            e.preventDefault();\n          } else if (keyCode === 40) {\n            getItem().fold(() => {\n              api.getMenu().each(Highlighting.highlightFirst);\n            }, item => {\n              redirectKeyToItem(item, e);\n            });\n            e.preventDefault();\n            e.stopImmediatePropagation();\n          } else if (keyCode === 37 || keyCode === 38 || keyCode === 39) {\n            getItem().each(item => {\n              redirectKeyToItem(item, e);\n              e.preventDefault();\n              e.stopImmediatePropagation();\n            });\n          }\n        } else {\n          if (keyCode === 13 || keyCode === 38 || keyCode === 40) {\n            api.cancelIfNecessary();\n          }\n        }\n      });\n      editor.on('NodeChange', e => {\n        if (api.isActive() && !api.isProcessingAction() && detect$1(SugarElement.fromDom(e.element)).isNone()) {\n          api.cancelIfNecessary();\n        }\n      });\n    };\n    const AutocompleterEditorEvents = { setup: setup$e };\n\n    var ItemResponse;\n    (function (ItemResponse) {\n      ItemResponse[ItemResponse['CLOSE_ON_EXECUTE'] = 0] = 'CLOSE_ON_EXECUTE';\n      ItemResponse[ItemResponse['BUBBLE_TO_SANDBOX'] = 1] = 'BUBBLE_TO_SANDBOX';\n    }(ItemResponse || (ItemResponse = {})));\n    var ItemResponse$1 = ItemResponse;\n\n    const navClass = 'tox-menu-nav__js';\n    const selectableClass = 'tox-collection__item';\n    const colorClass = 'tox-swatch';\n    const presetClasses = {\n      normal: navClass,\n      color: colorClass\n    };\n    const tickedClass = 'tox-collection__item--enabled';\n    const groupHeadingClass = 'tox-collection__group-heading';\n    const iconClass = 'tox-collection__item-icon';\n    const textClass = 'tox-collection__item-label';\n    const accessoryClass = 'tox-collection__item-accessory';\n    const caretClass = 'tox-collection__item-caret';\n    const checkmarkClass = 'tox-collection__item-checkmark';\n    const activeClass = 'tox-collection__item--active';\n    const containerClass = 'tox-collection__item-container';\n    const containerColumnClass = 'tox-collection__item-container--column';\n    const containerRowClass = 'tox-collection__item-container--row';\n    const containerAlignRightClass = 'tox-collection__item-container--align-right';\n    const containerAlignLeftClass = 'tox-collection__item-container--align-left';\n    const containerValignTopClass = 'tox-collection__item-container--valign-top';\n    const containerValignMiddleClass = 'tox-collection__item-container--valign-middle';\n    const containerValignBottomClass = 'tox-collection__item-container--valign-bottom';\n    const classForPreset = presets => get$g(presetClasses, presets).getOr(navClass);\n\n    const forMenu = presets => {\n      if (presets === 'color') {\n        return 'tox-swatches';\n      } else {\n        return 'tox-menu';\n      }\n    };\n    const classes = presets => ({\n      backgroundMenu: 'tox-background-menu',\n      selectedMenu: 'tox-selected-menu',\n      selectedItem: 'tox-collection__item--active',\n      hasIcons: 'tox-menu--has-icons',\n      menu: forMenu(presets),\n      tieredMenu: 'tox-tiered-menu'\n    });\n\n    const markers = presets => {\n      const menuClasses = classes(presets);\n      return {\n        backgroundMenu: menuClasses.backgroundMenu,\n        selectedMenu: menuClasses.selectedMenu,\n        menu: menuClasses.menu,\n        selectedItem: menuClasses.selectedItem,\n        item: classForPreset(presets)\n      };\n    };\n    const dom$1 = (hasIcons, columns, presets) => {\n      const menuClasses = classes(presets);\n      return {\n        tag: 'div',\n        classes: flatten([\n          [\n            menuClasses.menu,\n            `tox-menu-${ columns }-column`\n          ],\n          hasIcons ? [menuClasses.hasIcons] : []\n        ])\n      };\n    };\n    const components = [Menu.parts.items({})];\n    const part = (hasIcons, columns, presets) => {\n      const menuClasses = classes(presets);\n      const d = {\n        tag: 'div',\n        classes: flatten([[menuClasses.tieredMenu]])\n      };\n      return {\n        dom: d,\n        markers: markers(presets)\n      };\n    };\n\n    const schema$l = constant$1([\n      option$3('data'),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('tag', 'input'),\n      defaulted('inputClasses', []),\n      onHandler('onSetValue'),\n      defaulted('styles', {}),\n      defaulted('eventOrder', {}),\n      field('inputBehaviours', [\n        Representing,\n        Focusing\n      ]),\n      defaulted('selectOnFocus', true)\n    ]);\n    const focusBehaviours = detail => derive$1([Focusing.config({\n        onFocus: !detail.selectOnFocus ? noop : component => {\n          const input = component.element;\n          const value = get$6(input);\n          input.dom.setSelectionRange(0, value.length);\n        }\n      })]);\n    const behaviours = detail => ({\n      ...focusBehaviours(detail),\n      ...augment(detail.inputBehaviours, [Representing.config({\n          store: {\n            mode: 'manual',\n            ...detail.data.map(data => ({ initialValue: data })).getOr({}),\n            getValue: input => {\n              return get$6(input.element);\n            },\n            setValue: (input, data) => {\n              const current = get$6(input.element);\n              if (current !== data) {\n                set$5(input.element, data);\n              }\n            }\n          },\n          onSetValue: detail.onSetValue\n        })])\n    });\n    const dom = detail => ({\n      tag: detail.tag,\n      attributes: {\n        type: 'text',\n        ...detail.inputAttributes\n      },\n      styles: detail.inputStyles,\n      classes: detail.inputClasses\n    });\n\n    const factory$l = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: dom(detail),\n      components: [],\n      behaviours: behaviours(detail),\n      eventOrder: detail.eventOrder\n    });\n    const Input = single({\n      name: 'Input',\n      configFields: schema$l(),\n      factory: factory$l\n    });\n\n    const refetchTriggerEvent = generate$6('refetch-trigger-event');\n    const redirectMenuItemInteractionEvent = generate$6('redirect-menu-item-interaction');\n\n    const menuSearcherClass = 'tox-menu__searcher';\n    const findWithinSandbox = sandboxComp => {\n      return descendant(sandboxComp.element, `.${ menuSearcherClass }`).bind(inputElem => sandboxComp.getSystem().getByDom(inputElem).toOptional());\n    };\n    const findWithinMenu = findWithinSandbox;\n    const restoreState = (inputComp, searcherState) => {\n      Representing.setValue(inputComp, searcherState.fetchPattern);\n      inputComp.element.dom.selectionStart = searcherState.selectionStart;\n      inputComp.element.dom.selectionEnd = searcherState.selectionEnd;\n    };\n    const saveState = inputComp => {\n      const fetchPattern = Representing.getValue(inputComp);\n      const selectionStart = inputComp.element.dom.selectionStart;\n      const selectionEnd = inputComp.element.dom.selectionEnd;\n      return {\n        fetchPattern,\n        selectionStart,\n        selectionEnd\n      };\n    };\n    const setActiveDescendant = (inputComp, active) => {\n      getOpt(active.element, 'id').each(id => set$9(inputComp.element, 'aria-activedescendant', id));\n    };\n    const renderMenuSearcher = spec => {\n      const handleByBrowser = (comp, se) => {\n        se.cut();\n        return Optional.none();\n      };\n      const handleByHighlightedItem = (comp, se) => {\n        const eventData = {\n          interactionEvent: se.event,\n          eventType: se.event.raw.type\n        };\n        emitWith(comp, redirectMenuItemInteractionEvent, eventData);\n        return Optional.some(true);\n      };\n      const customSearcherEventsName = 'searcher-events';\n      return {\n        dom: {\n          tag: 'div',\n          classes: [selectableClass]\n        },\n        components: [Input.sketch({\n            inputClasses: [\n              menuSearcherClass,\n              'tox-textfield'\n            ],\n            inputAttributes: {\n              ...spec.placeholder.map(placeholder => ({ placeholder: spec.i18n(placeholder) })).getOr({}),\n              'type': 'search',\n              'aria-autocomplete': 'list'\n            },\n            inputBehaviours: derive$1([\n              config(customSearcherEventsName, [\n                run$1(input(), inputComp => {\n                  emit(inputComp, refetchTriggerEvent);\n                }),\n                run$1(keydown(), (inputComp, se) => {\n                  if (se.event.raw.key === 'Escape') {\n                    se.stop();\n                  }\n                })\n              ]),\n              Keying.config({\n                mode: 'special',\n                onLeft: handleByBrowser,\n                onRight: handleByBrowser,\n                onSpace: handleByBrowser,\n                onEnter: handleByHighlightedItem,\n                onEscape: handleByHighlightedItem,\n                onUp: handleByHighlightedItem,\n                onDown: handleByHighlightedItem\n              })\n            ]),\n            eventOrder: {\n              keydown: [\n                customSearcherEventsName,\n                Keying.name()\n              ]\n            }\n          })]\n      };\n    };\n\n    const searchResultsClass = 'tox-collection--results__js';\n    const augmentWithAria = item => {\n      var _a;\n      if (item.dom) {\n        return {\n          ...item,\n          dom: {\n            ...item.dom,\n            attributes: {\n              ...(_a = item.dom.attributes) !== null && _a !== void 0 ? _a : {},\n              'id': generate$6('aria-item-search-result-id'),\n              'aria-selected': 'false'\n            }\n          }\n        };\n      } else {\n        return item;\n      }\n    };\n\n    const chunk = (rowDom, numColumns) => items => {\n      const chunks = chunk$1(items, numColumns);\n      return map$2(chunks, c => ({\n        dom: rowDom,\n        components: c\n      }));\n    };\n    const forSwatch = columns => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-swatches-menu'\n        ]\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-swatches']\n          },\n          components: [Menu.parts.items({\n              preprocess: columns !== 'auto' ? chunk({\n                tag: 'div',\n                classes: ['tox-swatches__row']\n              }, columns) : identity\n            })]\n        }]\n    });\n    const forToolbar = columns => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-collection',\n          'tox-collection--toolbar',\n          'tox-collection--toolbar-lg'\n        ]\n      },\n      components: [Menu.parts.items({\n          preprocess: chunk({\n            tag: 'div',\n            classes: ['tox-collection__group']\n          }, columns)\n        })]\n    });\n    const preprocessCollection = (items, isSeparator) => {\n      const allSplits = [];\n      let currentSplit = [];\n      each$1(items, (item, i) => {\n        if (isSeparator(item, i)) {\n          if (currentSplit.length > 0) {\n            allSplits.push(currentSplit);\n          }\n          currentSplit = [];\n          if (has$2(item.dom, 'innerHtml') || item.components && item.components.length > 0) {\n            currentSplit.push(item);\n          }\n        } else {\n          currentSplit.push(item);\n        }\n      });\n      if (currentSplit.length > 0) {\n        allSplits.push(currentSplit);\n      }\n      return map$2(allSplits, s => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection__group']\n        },\n        components: s\n      }));\n    };\n    const insertItemsPlaceholder = (columns, initItems, onItem) => {\n      return Menu.parts.items({\n        preprocess: rawItems => {\n          const enrichedItems = map$2(rawItems, onItem);\n          if (columns !== 'auto' && columns > 1) {\n            return chunk({\n              tag: 'div',\n              classes: ['tox-collection__group']\n            }, columns)(enrichedItems);\n          } else {\n            return preprocessCollection(enrichedItems, (_item, i) => initItems[i].type === 'separator');\n          }\n        }\n      });\n    };\n    const forCollection = (columns, initItems, _hasIcons = true) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-collection'\n        ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'])\n      },\n      components: [insertItemsPlaceholder(columns, initItems, identity)]\n    });\n    const forCollectionWithSearchResults = (columns, initItems, _hasIcons = true) => {\n      const ariaControlsSearchResults = generate$6('aria-controls-search-results');\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection',\n            searchResultsClass\n          ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid']),\n          attributes: { id: ariaControlsSearchResults }\n        },\n        components: [insertItemsPlaceholder(columns, initItems, augmentWithAria)]\n      };\n    };\n    const forCollectionWithSearchField = (columns, initItems, searchField) => {\n      const ariaControlsSearchResults = generate$6('aria-controls-search-results');\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection'\n          ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'])\n        },\n        components: [\n          renderMenuSearcher({\n            i18n: global$8.translate,\n            placeholder: searchField.placeholder\n          }),\n          {\n            dom: {\n              tag: 'div',\n              classes: [\n                ...columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'],\n                searchResultsClass\n              ],\n              attributes: { id: ariaControlsSearchResults }\n            },\n            components: [insertItemsPlaceholder(columns, initItems, augmentWithAria)]\n          }\n        ]\n      };\n    };\n    const forHorizontalCollection = (initItems, _hasIcons = true) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-collection',\n          'tox-collection--horizontal'\n        ]\n      },\n      components: [Menu.parts.items({ preprocess: items => preprocessCollection(items, (_item, i) => initItems[i].type === 'separator') })]\n    });\n\n    const menuHasIcons = xs => exists(xs, item => 'icon' in item && item.icon !== undefined);\n    const handleError = error => {\n      console.error(formatError(error));\n      console.log(error);\n      return Optional.none();\n    };\n    const createHorizontalPartialMenuWithAlloyItems = (value, _hasIcons, items, _columns, _menuLayout) => {\n      const structure = forHorizontalCollection(items);\n      return {\n        value,\n        dom: structure.dom,\n        components: structure.components,\n        items\n      };\n    };\n    const createPartialMenuWithAlloyItems = (value, hasIcons, items, columns, menuLayout) => {\n      const getNormalStructure = () => {\n        if (menuLayout.menuType !== 'searchable') {\n          return forCollection(columns, items);\n        } else {\n          return menuLayout.searchMode.searchMode === 'search-with-field' ? forCollectionWithSearchField(columns, items, menuLayout.searchMode) : forCollectionWithSearchResults(columns, items);\n        }\n      };\n      if (menuLayout.menuType === 'color') {\n        const structure = forSwatch(columns);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else if (menuLayout.menuType === 'normal' && columns === 'auto') {\n        const structure = forCollection(columns, items);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else if (menuLayout.menuType === 'normal' || menuLayout.menuType === 'searchable') {\n        const structure = getNormalStructure();\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else if (menuLayout.menuType === 'listpreview' && columns !== 'auto') {\n        const structure = forToolbar(columns);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else {\n        return {\n          value,\n          dom: dom$1(hasIcons, columns, menuLayout.menuType),\n          components: components,\n          items\n        };\n      }\n    };\n\n    const type = requiredString('type');\n    const name$1 = requiredString('name');\n    const label = requiredString('label');\n    const text$1 = requiredString('text');\n    const title = requiredString('title');\n    const icon = requiredString('icon');\n    const value$1 = requiredString('value');\n    const fetch$1 = requiredFunction('fetch');\n    const getSubmenuItems = requiredFunction('getSubmenuItems');\n    const onAction = requiredFunction('onAction');\n    const onItemAction = requiredFunction('onItemAction');\n    const onSetup = defaultedFunction('onSetup', () => noop);\n    const optionalName = optionString('name');\n    const optionalText = optionString('text');\n    const optionalIcon = optionString('icon');\n    const optionalTooltip = optionString('tooltip');\n    const optionalLabel = optionString('label');\n    const optionalShortcut = optionString('shortcut');\n    const optionalSelect = optionFunction('select');\n    const active = defaultedBoolean('active', false);\n    const borderless = defaultedBoolean('borderless', false);\n    const enabled = defaultedBoolean('enabled', true);\n    const primary = defaultedBoolean('primary', false);\n    const defaultedColumns = num => defaulted('columns', num);\n    const defaultedMeta = defaulted('meta', {});\n    const defaultedOnAction = defaultedFunction('onAction', noop);\n    const defaultedType = type => defaultedString('type', type);\n    const generatedName = namePrefix => field$1('name', 'name', defaultedThunk(() => generate$6(`${ namePrefix }-name`)), string);\n    const generatedValue = valuePrefix => field$1('value', 'value', defaultedThunk(() => generate$6(`${ valuePrefix }-value`)), anyValue());\n\n    const separatorMenuItemSchema = objOf([\n      type,\n      optionalText\n    ]);\n    const createSeparatorMenuItem = spec => asRaw('separatormenuitem', separatorMenuItemSchema, spec);\n\n    const autocompleterItemSchema = objOf([\n      defaultedType('autocompleteitem'),\n      active,\n      enabled,\n      defaultedMeta,\n      value$1,\n      optionalText,\n      optionalIcon\n    ]);\n    const createSeparatorItem = spec => asRaw('Autocompleter.Separator', separatorMenuItemSchema, spec);\n    const createAutocompleterItem = spec => asRaw('Autocompleter.Item', autocompleterItemSchema, spec);\n\n    const baseToolbarButtonFields = [\n      enabled,\n      optionalTooltip,\n      optionalIcon,\n      optionalText,\n      onSetup\n    ];\n    const toolbarButtonSchema = objOf([\n      type,\n      onAction\n    ].concat(baseToolbarButtonFields));\n    const createToolbarButton = spec => asRaw('toolbarbutton', toolbarButtonSchema, spec);\n\n    const baseToolbarToggleButtonFields = [active].concat(baseToolbarButtonFields);\n    const toggleButtonSchema = objOf(baseToolbarToggleButtonFields.concat([\n      type,\n      onAction\n    ]));\n    const createToggleButton = spec => asRaw('ToggleButton', toggleButtonSchema, spec);\n\n    const contextBarFields = [\n      defaultedFunction('predicate', never),\n      defaultedStringEnum('scope', 'node', [\n        'node',\n        'editor'\n      ]),\n      defaultedStringEnum('position', 'selection', [\n        'node',\n        'selection',\n        'line'\n      ])\n    ];\n\n    const contextButtonFields = baseToolbarButtonFields.concat([\n      defaultedType('contextformbutton'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const contextToggleButtonFields = baseToolbarToggleButtonFields.concat([\n      defaultedType('contextformbutton'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const launchButtonFields = baseToolbarButtonFields.concat([defaultedType('contextformbutton')]);\n    const launchToggleButtonFields = baseToolbarToggleButtonFields.concat([defaultedType('contextformtogglebutton')]);\n    const toggleOrNormal = choose$1('type', {\n      contextformbutton: contextButtonFields,\n      contextformtogglebutton: contextToggleButtonFields\n    });\n    const contextFormSchema = objOf([\n      defaultedType('contextform'),\n      defaultedFunction('initValue', constant$1('')),\n      optionalLabel,\n      requiredArrayOf('commands', toggleOrNormal),\n      optionOf('launch', choose$1('type', {\n        contextformbutton: launchButtonFields,\n        contextformtogglebutton: launchToggleButtonFields\n      }))\n    ].concat(contextBarFields));\n    const createContextForm = spec => asRaw('ContextForm', contextFormSchema, spec);\n\n    const contextToolbarSchema = objOf([\n      defaultedType('contexttoolbar'),\n      requiredString('items')\n    ].concat(contextBarFields));\n    const createContextToolbar = spec => asRaw('ContextToolbar', contextToolbarSchema, spec);\n\n    const cardImageFields = [\n      type,\n      requiredString('src'),\n      optionString('alt'),\n      defaultedArrayOf('classes', [], string)\n    ];\n    const cardImageSchema = objOf(cardImageFields);\n\n    const cardTextFields = [\n      type,\n      text$1,\n      optionalName,\n      defaultedArrayOf('classes', ['tox-collection__item-label'], string)\n    ];\n    const cardTextSchema = objOf(cardTextFields);\n\n    const itemSchema$1 = valueThunk(() => choose$2('type', {\n      cardimage: cardImageSchema,\n      cardtext: cardTextSchema,\n      cardcontainer: cardContainerSchema\n    }));\n    const cardContainerSchema = objOf([\n      type,\n      defaultedString('direction', 'horizontal'),\n      defaultedString('align', 'left'),\n      defaultedString('valign', 'middle'),\n      requiredArrayOf('items', itemSchema$1)\n    ]);\n\n    const commonMenuItemFields = [\n      enabled,\n      optionalText,\n      optionalShortcut,\n      generatedValue('menuitem'),\n      defaultedMeta\n    ];\n\n    const cardMenuItemSchema = objOf([\n      type,\n      optionalLabel,\n      requiredArrayOf('items', itemSchema$1),\n      onSetup,\n      defaultedOnAction\n    ].concat(commonMenuItemFields));\n    const createCardMenuItem = spec => asRaw('cardmenuitem', cardMenuItemSchema, spec);\n\n    const choiceMenuItemSchema = objOf([\n      type,\n      active,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createChoiceMenuItem = spec => asRaw('choicemenuitem', choiceMenuItemSchema, spec);\n\n    const baseFields = [\n      type,\n      requiredString('fancytype'),\n      defaultedOnAction\n    ];\n    const insertTableFields = [defaulted('initData', {})].concat(baseFields);\n    const colorSwatchFields = [\n      optionFunction('select'),\n      defaultedObjOf('initData', {}, [\n        defaultedBoolean('allowCustomColors', true),\n        defaultedString('storageKey', 'default'),\n        optionArrayOf('colors', anyValue())\n      ])\n    ].concat(baseFields);\n    const fancyMenuItemSchema = choose$1('fancytype', {\n      inserttable: insertTableFields,\n      colorswatch: colorSwatchFields\n    });\n    const createFancyMenuItem = spec => asRaw('fancymenuitem', fancyMenuItemSchema, spec);\n\n    const menuItemSchema = objOf([\n      type,\n      onSetup,\n      defaultedOnAction,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createMenuItem = spec => asRaw('menuitem', menuItemSchema, spec);\n\n    const nestedMenuItemSchema = objOf([\n      type,\n      getSubmenuItems,\n      onSetup,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createNestedMenuItem = spec => asRaw('nestedmenuitem', nestedMenuItemSchema, spec);\n\n    const toggleMenuItemSchema = objOf([\n      type,\n      optionalIcon,\n      active,\n      onSetup,\n      onAction\n    ].concat(commonMenuItemFields));\n    const createToggleMenuItem = spec => asRaw('togglemenuitem', toggleMenuItemSchema, spec);\n\n    const detectSize = (comp, margin, selectorClass) => {\n      const descendants$1 = descendants(comp.element, '.' + selectorClass);\n      if (descendants$1.length > 0) {\n        const columnLength = findIndex$1(descendants$1, c => {\n          const thisTop = c.dom.getBoundingClientRect().top;\n          const cTop = descendants$1[0].dom.getBoundingClientRect().top;\n          return Math.abs(thisTop - cTop) > margin;\n        }).getOr(descendants$1.length);\n        return Optional.some({\n          numColumns: columnLength,\n          numRows: Math.ceil(descendants$1.length / columnLength)\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n\n    const namedEvents = (name, handlers) => derive$1([config(name, handlers)]);\n    const unnamedEvents = handlers => namedEvents(generate$6('unnamed-events'), handlers);\n    const SimpleBehaviours = {\n      namedEvents,\n      unnamedEvents\n    };\n\n    const ExclusivityChannel = generate$6('tooltip.exclusive');\n    const ShowTooltipEvent = generate$6('tooltip.show');\n    const HideTooltipEvent = generate$6('tooltip.hide');\n\n    const hideAllExclusive = (component, _tConfig, _tState) => {\n      component.getSystem().broadcastOn([ExclusivityChannel], {});\n    };\n    const setComponents = (component, tConfig, tState, specs) => {\n      tState.getTooltip().each(tooltip => {\n        if (tooltip.getSystem().isConnected()) {\n          Replacing.set(tooltip, specs);\n        }\n      });\n    };\n\n    var TooltippingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        hideAllExclusive: hideAllExclusive,\n        setComponents: setComponents\n    });\n\n    const events$9 = (tooltipConfig, state) => {\n      const hide = comp => {\n        state.getTooltip().each(p => {\n          detach(p);\n          tooltipConfig.onHide(comp, p);\n          state.clearTooltip();\n        });\n        state.clearTimer();\n      };\n      const show = comp => {\n        if (!state.isShowing()) {\n          hideAllExclusive(comp);\n          const sink = tooltipConfig.lazySink(comp).getOrDie();\n          const popup = comp.getSystem().build({\n            dom: tooltipConfig.tooltipDom,\n            components: tooltipConfig.tooltipComponents,\n            events: derive$2(tooltipConfig.mode === 'normal' ? [\n              run$1(mouseover(), _ => {\n                emit(comp, ShowTooltipEvent);\n              }),\n              run$1(mouseout(), _ => {\n                emit(comp, HideTooltipEvent);\n              })\n            ] : []),\n            behaviours: derive$1([Replacing.config({})])\n          });\n          state.setTooltip(popup);\n          attach(sink, popup);\n          tooltipConfig.onShow(comp, popup);\n          Positioning.position(sink, popup, { anchor: tooltipConfig.anchor(comp) });\n        }\n      };\n      return derive$2(flatten([\n        [\n          run$1(ShowTooltipEvent, comp => {\n            state.resetTimer(() => {\n              show(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(HideTooltipEvent, comp => {\n            state.resetTimer(() => {\n              hide(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(receive(), (comp, message) => {\n            const receivingData = message;\n            if (!receivingData.universal) {\n              if (contains$2(receivingData.channels, ExclusivityChannel)) {\n                hide(comp);\n              }\n            }\n          }),\n          runOnDetached(comp => {\n            hide(comp);\n          })\n        ],\n        tooltipConfig.mode === 'normal' ? [\n          run$1(focusin(), comp => {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(postBlur(), comp => {\n            emit(comp, HideTooltipEvent);\n          }),\n          run$1(mouseover(), comp => {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(mouseout(), comp => {\n            emit(comp, HideTooltipEvent);\n          })\n        ] : [\n          run$1(highlight$1(), (comp, _se) => {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(dehighlight$1(), comp => {\n            emit(comp, HideTooltipEvent);\n          })\n        ]\n      ]));\n    };\n\n    var ActiveTooltipping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$9\n    });\n\n    var TooltippingSchema = [\n      required$1('lazySink'),\n      required$1('tooltipDom'),\n      defaulted('exclusive', true),\n      defaulted('tooltipComponents', []),\n      defaulted('delay', 300),\n      defaultedStringEnum('mode', 'normal', [\n        'normal',\n        'follow-highlight'\n      ]),\n      defaulted('anchor', comp => ({\n        type: 'hotspot',\n        hotspot: comp,\n        layouts: {\n          onLtr: constant$1([\n            south$2,\n            north$2,\n            southeast$2,\n            northeast$2,\n            southwest$2,\n            northwest$2\n          ]),\n          onRtl: constant$1([\n            south$2,\n            north$2,\n            southeast$2,\n            northeast$2,\n            southwest$2,\n            northwest$2\n          ])\n        }\n      })),\n      onHandler('onHide'),\n      onHandler('onShow')\n    ];\n\n    const init$b = () => {\n      const timer = value$2();\n      const popup = value$2();\n      const clearTimer = () => {\n        timer.on(clearTimeout);\n      };\n      const resetTimer = (f, delay) => {\n        clearTimer();\n        timer.set(setTimeout(f, delay));\n      };\n      const readState = constant$1('not-implemented');\n      return nu$8({\n        getTooltip: popup.get,\n        isShowing: popup.isSet,\n        setTooltip: popup.set,\n        clearTooltip: popup.clear,\n        clearTimer,\n        resetTimer,\n        readState\n      });\n    };\n\n    var TooltippingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$b\n    });\n\n    const Tooltipping = create$4({\n      fields: TooltippingSchema,\n      name: 'tooltipping',\n      active: ActiveTooltipping,\n      state: TooltippingState,\n      apis: TooltippingApis\n    });\n\n    const escape = text => text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n\n    const ReadOnlyChannel = 'silver.readonly';\n    const ReadOnlyDataSchema = objOf([requiredBoolean('readonly')]);\n    const broadcastReadonly = (uiRefs, readonly) => {\n      const outerContainer = uiRefs.mainUi.outerContainer;\n      const target = outerContainer.element;\n      const motherships = [\n        uiRefs.mainUi.mothership,\n        ...uiRefs.uiMotherships\n      ];\n      if (readonly) {\n        each$1(motherships, m => {\n          m.broadcastOn([dismissPopups()], { target });\n        });\n      }\n      each$1(motherships, m => {\n        m.broadcastOn([ReadOnlyChannel], { readonly });\n      });\n    };\n    const setupReadonlyModeSwitch = (editor, uiRefs) => {\n      editor.on('init', () => {\n        if (editor.mode.isReadOnly()) {\n          broadcastReadonly(uiRefs, true);\n        }\n      });\n      editor.on('SwitchMode', () => broadcastReadonly(uiRefs, editor.mode.isReadOnly()));\n      if (isReadOnly(editor)) {\n        editor.mode.set('readonly');\n      }\n    };\n    const receivingConfig = () => Receiving.config({\n      channels: {\n        [ReadOnlyChannel]: {\n          schema: ReadOnlyDataSchema,\n          onReceive: (comp, data) => {\n            Disabling.set(comp, data.readonly);\n          }\n        }\n      }\n    });\n\n    const item = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-collection__item--state-disabled'\n    });\n    const button = disabled => Disabling.config({ disabled });\n    const splitButton = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-tbtn--disabled'\n    });\n    const toolbarButton = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-tbtn--disabled',\n      useNative: false\n    });\n    const DisablingConfigs = {\n      item,\n      button,\n      splitButton,\n      toolbarButton\n    };\n\n    const runWithApi = (info, comp) => {\n      const api = info.getApi(comp);\n      return f => {\n        f(api);\n      };\n    };\n    const onControlAttached = (info, editorOffCell) => runOnAttached(comp => {\n      const run = runWithApi(info, comp);\n      run(api => {\n        const onDestroy = info.onSetup(api);\n        if (isFunction(onDestroy)) {\n          editorOffCell.set(onDestroy);\n        }\n      });\n    });\n    const onControlDetached = (getApi, editorOffCell) => runOnDetached(comp => runWithApi(getApi, comp)(editorOffCell.get()));\n\n    const onMenuItemExecute = (info, itemResponse) => runOnExecute$1((comp, simulatedEvent) => {\n      runWithApi(info, comp)(info.onAction);\n      if (!info.triggersSubmenu && itemResponse === ItemResponse$1.CLOSE_ON_EXECUTE) {\n        if (comp.getSystem().isConnected()) {\n          emit(comp, sandboxClose());\n        }\n        simulatedEvent.stop();\n      }\n    });\n    const menuItemEventOrder = {\n      [execute$5()]: [\n        'disabling',\n        'alloy.base.behaviour',\n        'toggling',\n        'item-events'\n      ]\n    };\n\n    const componentRenderPipeline = cat;\n    const renderCommonItem = (spec, structure, itemResponse, providersBackstage) => {\n      const editorOffCell = Cell(noop);\n      return {\n        type: 'item',\n        dom: structure.dom,\n        components: componentRenderPipeline(structure.optComponents),\n        data: spec.data,\n        eventOrder: menuItemEventOrder,\n        hasSubmenu: spec.triggersSubmenu,\n        itemBehaviours: derive$1([\n          config('item-events', [\n            onMenuItemExecute(spec, itemResponse),\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          DisablingConfigs.item(() => !spec.enabled || providersBackstage.isDisabled()),\n          receivingConfig(),\n          Replacing.config({})\n        ].concat(spec.itemBehaviours))\n      };\n    };\n    const buildData = source => ({\n      value: source.value,\n      meta: {\n        text: source.text.getOr(''),\n        ...source.meta\n      }\n    });\n\n    const convertText = source => {\n      const isMac = global$5.os.isMacOS() || global$5.os.isiOS();\n      const mac = {\n        alt: '\\u2325',\n        ctrl: '\\u2303',\n        shift: '\\u21E7',\n        meta: '\\u2318',\n        access: '\\u2303\\u2325'\n      };\n      const other = {\n        meta: 'Ctrl',\n        access: 'Shift+Alt'\n      };\n      const replace = isMac ? mac : other;\n      const shortcut = source.split('+');\n      const updated = map$2(shortcut, segment => {\n        const search = segment.toLowerCase().trim();\n        return has$2(replace, search) ? replace[search] : segment;\n      });\n      return isMac ? updated.join('') : updated.join('+');\n    };\n\n    const renderIcon$2 = (name, icons, classes = [iconClass]) => render$3(name, {\n      tag: 'div',\n      classes\n    }, icons);\n    const renderText = text => ({\n      dom: {\n        tag: 'div',\n        classes: [textClass]\n      },\n      components: [text$2(global$8.translate(text))]\n    });\n    const renderHtml = (html, classes) => ({\n      dom: {\n        tag: 'div',\n        classes,\n        innerHtml: html\n      }\n    });\n    const renderStyledText = (style, text) => ({\n      dom: {\n        tag: 'div',\n        classes: [textClass]\n      },\n      components: [{\n          dom: {\n            tag: style.tag,\n            styles: style.styles\n          },\n          components: [text$2(global$8.translate(text))]\n        }]\n    });\n    const renderShortcut = shortcut => ({\n      dom: {\n        tag: 'div',\n        classes: [accessoryClass]\n      },\n      components: [text$2(convertText(shortcut))]\n    });\n    const renderCheckmark = icons => renderIcon$2('checkmark', icons, [checkmarkClass]);\n    const renderSubmenuCaret = icons => renderIcon$2('chevron-right', icons, [caretClass]);\n    const renderDownwardsCaret = icons => renderIcon$2('chevron-down', icons, [caretClass]);\n    const renderContainer = (container, components) => {\n      const directionClass = container.direction === 'vertical' ? containerColumnClass : containerRowClass;\n      const alignClass = container.align === 'left' ? containerAlignLeftClass : containerAlignRightClass;\n      const getValignClass = () => {\n        switch (container.valign) {\n        case 'top':\n          return containerValignTopClass;\n        case 'middle':\n          return containerValignMiddleClass;\n        case 'bottom':\n          return containerValignBottomClass;\n        }\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            containerClass,\n            directionClass,\n            alignClass,\n            getValignClass()\n          ]\n        },\n        components\n      };\n    };\n    const renderImage = (src, classes, alt) => ({\n      dom: {\n        tag: 'img',\n        classes,\n        attributes: {\n          src,\n          alt: alt.getOr('')\n        }\n      }\n    });\n\n    const renderColorStructure = (item, providerBackstage, fallbackIcon) => {\n      const colorPickerCommand = 'custom';\n      const removeColorCommand = 'remove';\n      const itemText = item.ariaLabel;\n      const itemValue = item.value;\n      const iconSvg = item.iconContent.map(name => getOr(name, providerBackstage.icons, fallbackIcon));\n      const getDom = () => {\n        const common = colorClass;\n        const icon = iconSvg.getOr('');\n        const attributes = itemText.map(text => ({ title: providerBackstage.translate(text) })).getOr({});\n        const baseDom = {\n          tag: 'div',\n          attributes,\n          classes: [common]\n        };\n        if (itemValue === colorPickerCommand) {\n          return {\n            ...baseDom,\n            tag: 'button',\n            classes: [\n              ...baseDom.classes,\n              'tox-swatches__picker-btn'\n            ],\n            innerHtml: icon\n          };\n        } else if (itemValue === removeColorCommand) {\n          return {\n            ...baseDom,\n            classes: [\n              ...baseDom.classes,\n              'tox-swatch--remove'\n            ],\n            innerHtml: icon\n          };\n        } else if (isNonNullable(itemValue)) {\n          return {\n            ...baseDom,\n            attributes: {\n              ...baseDom.attributes,\n              'data-mce-color': itemValue\n            },\n            styles: { 'background-color': itemValue },\n            innerHtml: icon\n          };\n        } else {\n          return baseDom;\n        }\n      };\n      return {\n        dom: getDom(),\n        optComponents: []\n      };\n    };\n    const renderItemDomStructure = ariaLabel => {\n      const domTitle = ariaLabel.map(label => ({ attributes: { title: global$8.translate(label) } })).getOr({});\n      return {\n        tag: 'div',\n        classes: [\n          navClass,\n          selectableClass\n        ],\n        ...domTitle\n      };\n    };\n    const renderNormalItemStructure = (info, providersBackstage, renderIcons, fallbackIcon) => {\n      const iconSpec = {\n        tag: 'div',\n        classes: [iconClass]\n      };\n      const renderIcon = iconName => render$3(iconName, iconSpec, providersBackstage.icons, fallbackIcon);\n      const renderEmptyIcon = () => Optional.some({ dom: iconSpec });\n      const leftIcon = renderIcons ? info.iconContent.map(renderIcon).orThunk(renderEmptyIcon) : Optional.none();\n      const checkmark = info.checkMark;\n      const textRender = Optional.from(info.meta).fold(() => renderText, meta => has$2(meta, 'style') ? curry(renderStyledText, meta.style) : renderText);\n      const content = info.htmlContent.fold(() => info.textContent.map(textRender), html => Optional.some(renderHtml(html, [textClass])));\n      const menuItem = {\n        dom: renderItemDomStructure(info.ariaLabel),\n        optComponents: [\n          leftIcon,\n          content,\n          info.shortcutContent.map(renderShortcut),\n          checkmark,\n          info.caret\n        ]\n      };\n      return menuItem;\n    };\n    const renderItemStructure = (info, providersBackstage, renderIcons, fallbackIcon = Optional.none()) => {\n      if (info.presets === 'color') {\n        return renderColorStructure(info, providersBackstage, fallbackIcon);\n      } else {\n        return renderNormalItemStructure(info, providersBackstage, renderIcons, fallbackIcon);\n      }\n    };\n\n    const tooltipBehaviour = (meta, sharedBackstage) => get$g(meta, 'tooltipWorker').map(tooltipWorker => [Tooltipping.config({\n        lazySink: sharedBackstage.getSink,\n        tooltipDom: {\n          tag: 'div',\n          classes: ['tox-tooltip-worker-container']\n        },\n        tooltipComponents: [],\n        anchor: comp => ({\n          type: 'submenu',\n          item: comp,\n          overrides: { maxHeightFunction: expandable$1 }\n        }),\n        mode: 'follow-highlight',\n        onShow: (component, _tooltip) => {\n          tooltipWorker(elm => {\n            Tooltipping.setComponents(component, [external$1({ element: SugarElement.fromDom(elm) })]);\n          });\n        }\n      })]).getOr([]);\n    const encodeText = text => global$7.DOM.encode(text);\n    const replaceText = (text, matchText) => {\n      const translated = global$8.translate(text);\n      const encoded = encodeText(translated);\n      if (matchText.length > 0) {\n        const escapedMatchRegex = new RegExp(escape(matchText), 'gi');\n        return encoded.replace(escapedMatchRegex, match => `<span class=\"tox-autocompleter-highlight\">${ match }</span>`);\n      } else {\n        return encoded;\n      }\n    };\n    const renderAutocompleteItem = (spec, matchText, useText, presets, onItemValueHandler, itemResponse, sharedBackstage, renderIcons = true) => {\n      const structure = renderItemStructure({\n        presets,\n        textContent: Optional.none(),\n        htmlContent: useText ? spec.text.map(text => replaceText(text, matchText)) : Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: Optional.none(),\n        checkMark: Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, sharedBackstage.providers, renderIcons, spec.icon);\n      return renderCommonItem({\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi: constant$1({}),\n        onAction: _api => onItemValueHandler(spec.value, spec.meta),\n        onSetup: constant$1(noop),\n        triggersSubmenu: false,\n        itemBehaviours: tooltipBehaviour(spec.meta, sharedBackstage)\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    const render$2 = (items, extras) => map$2(items, item => {\n      switch (item.type) {\n      case 'cardcontainer':\n        return renderContainer(item, render$2(item.items, extras));\n      case 'cardimage':\n        return renderImage(item.src, item.classes, item.alt);\n      case 'cardtext':\n        const shouldHighlight = item.name.exists(name => contains$2(extras.cardText.highlightOn, name));\n        const matchText = shouldHighlight ? Optional.from(extras.cardText.matchText).getOr('') : '';\n        return renderHtml(replaceText(item.text, matchText), item.classes);\n      }\n    });\n    const renderCardMenuItem = (spec, itemResponse, sharedBackstage, extras) => {\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => {\n          Disabling.set(component, !state);\n          each$1(descendants(component.element, '*'), elm => {\n            component.getSystem().getByDom(elm).each(comp => {\n              if (comp.hasConfigured(Disabling)) {\n                Disabling.set(comp, !state);\n              }\n            });\n          });\n        }\n      });\n      const structure = {\n        dom: renderItemDomStructure(spec.label),\n        optComponents: [Optional.some({\n            dom: {\n              tag: 'div',\n              classes: [\n                containerClass,\n                containerRowClass\n              ]\n            },\n            components: render$2(spec.items, extras)\n          })]\n      };\n      return renderCommonItem({\n        data: buildData({\n          text: Optional.none(),\n          ...spec\n        }),\n        enabled: spec.enabled,\n        getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: Optional.from(extras.itemBehaviours).getOr([])\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    const renderChoiceItem = (spec, useText, presets, onItemValueHandler, isSelected, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        setActive: state => {\n          Toggling.set(component, state);\n        },\n        isActive: () => Toggling.isOn(component),\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        presets,\n        textContent: useText ? spec.text : Optional.none(),\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: useText ? spec.shortcut : Optional.none(),\n        checkMark: useText ? Optional.some(renderCheckmark(providersBackstage.icons)) : Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi,\n        onAction: _api => onItemValueHandler(spec.value),\n        onSetup: api => {\n          api.setActive(isSelected);\n          return noop;\n        },\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active,\n          exclusive: true\n        }\n      });\n    };\n\n    const parts$f = generate$3(owner$2(), parts$h());\n\n    const hexColour = value => ({ value: normalizeHex(value) });\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    const longformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n    const isHexString = hex => shorthandRegex.test(hex) || longformRegex.test(hex);\n    const normalizeHex = hex => removeLeading(hex, '#').toUpperCase();\n    const fromString$1 = hex => isHexString(hex) ? Optional.some({ value: normalizeHex(hex) }) : Optional.none();\n    const getLongForm = hex => {\n      const hexString = hex.value.replace(shorthandRegex, (m, r, g, b) => r + r + g + g + b + b);\n      return { value: hexString };\n    };\n    const extractValues = hex => {\n      const longForm = getLongForm(hex);\n      const splitForm = longformRegex.exec(longForm.value);\n      return splitForm === null ? [\n        'FFFFFF',\n        'FF',\n        'FF',\n        'FF'\n      ] : splitForm;\n    };\n    const toHex = component => {\n      const hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    const fromRgba = rgbaColour => {\n      const value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    const min = Math.min;\n    const max = Math.max;\n    const round$1 = Math.round;\n    const rgbRegex = /^\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\\s*$/i;\n    const rgbaRegex = /^\\s*rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d?(?:\\.\\d+)?)\\s*\\)\\s*$/i;\n    const rgbaColour = (red, green, blue, alpha) => ({\n      red,\n      green,\n      blue,\n      alpha\n    });\n    const isRgbaComponent = value => {\n      const num = parseInt(value, 10);\n      return num.toString() === value && num >= 0 && num <= 255;\n    };\n    const fromHsv = hsv => {\n      let r;\n      let g;\n      let b;\n      const hue = (hsv.hue || 0) % 360;\n      let saturation = hsv.saturation / 100;\n      let brightness = hsv.value / 100;\n      saturation = max(0, min(saturation, 1));\n      brightness = max(0, min(brightness, 1));\n      if (saturation === 0) {\n        r = g = b = round$1(255 * brightness);\n        return rgbaColour(r, g, b, 1);\n      }\n      const side = hue / 60;\n      const chroma = brightness * saturation;\n      const x = chroma * (1 - Math.abs(side % 2 - 1));\n      const match = brightness - chroma;\n      switch (Math.floor(side)) {\n      case 0:\n        r = chroma;\n        g = x;\n        b = 0;\n        break;\n      case 1:\n        r = x;\n        g = chroma;\n        b = 0;\n        break;\n      case 2:\n        r = 0;\n        g = chroma;\n        b = x;\n        break;\n      case 3:\n        r = 0;\n        g = x;\n        b = chroma;\n        break;\n      case 4:\n        r = x;\n        g = 0;\n        b = chroma;\n        break;\n      case 5:\n        r = chroma;\n        g = 0;\n        b = x;\n        break;\n      default:\n        r = g = b = 0;\n      }\n      r = round$1(255 * (r + match));\n      g = round$1(255 * (g + match));\n      b = round$1(255 * (b + match));\n      return rgbaColour(r, g, b, 1);\n    };\n    const fromHex = hexColour => {\n      const result = extractValues(hexColour);\n      const red = parseInt(result[1], 16);\n      const green = parseInt(result[2], 16);\n      const blue = parseInt(result[3], 16);\n      return rgbaColour(red, green, blue, 1);\n    };\n    const fromStringValues = (red, green, blue, alpha) => {\n      const r = parseInt(red, 10);\n      const g = parseInt(green, 10);\n      const b = parseInt(blue, 10);\n      const a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    const fromString = rgbaString => {\n      if (rgbaString === 'transparent') {\n        return Optional.some(rgbaColour(0, 0, 0, 0));\n      }\n      const rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      const rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n    const toString = rgba => `rgba(${ rgba.red },${ rgba.green },${ rgba.blue },${ rgba.alpha })`;\n    const red = rgbaColour(255, 0, 0, 1);\n\n    const fireSkinLoaded$1 = editor => {\n      editor.dispatch('SkinLoaded');\n    };\n    const fireSkinLoadError$1 = (editor, error) => {\n      editor.dispatch('SkinLoadError', error);\n    };\n    const fireResizeEditor = editor => {\n      editor.dispatch('ResizeEditor');\n    };\n    const fireResizeContent = (editor, e) => {\n      editor.dispatch('ResizeContent', e);\n    };\n    const fireScrollContent = (editor, e) => {\n      editor.dispatch('ScrollContent', e);\n    };\n    const fireTextColorChange = (editor, data) => {\n      editor.dispatch('TextColorChange', data);\n    };\n    const fireAfterProgressState = (editor, state) => {\n      editor.dispatch('AfterProgressState', { state });\n    };\n    const fireResolveName = (editor, node) => editor.dispatch('ResolveName', {\n      name: node.nodeName.toLowerCase(),\n      target: node\n    });\n    const fireToggleToolbarDrawer = (editor, state) => {\n      editor.dispatch('ToggleToolbarDrawer', { state });\n    };\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.LocalStorage');\n\n    const cacheStorage = {};\n    const ColorCache = (storageId, max = 10) => {\n      const storageString = global$4.getItem(storageId);\n      const localstorage = isString(storageString) ? JSON.parse(storageString) : [];\n      const prune = list => {\n        const diff = max - list.length;\n        return diff < 0 ? list.slice(0, max) : list;\n      };\n      const cache = prune(localstorage);\n      const add = key => {\n        indexOf(cache, key).each(remove);\n        cache.unshift(key);\n        if (cache.length > max) {\n          cache.pop();\n        }\n        global$4.setItem(storageId, JSON.stringify(cache));\n      };\n      const remove = idx => {\n        cache.splice(idx, 1);\n      };\n      const state = () => cache.slice(0);\n      return {\n        add,\n        state\n      };\n    };\n    const getCacheForId = id => get$g(cacheStorage, id).getOrThunk(() => {\n      const storageId = `tinymce-custom-colors-${ id }`;\n      const currentData = global$4.getItem(storageId);\n      if (isNullable(currentData)) {\n        const legacyDefault = global$4.getItem('tinymce-custom-colors');\n        global$4.setItem(storageId, isNonNullable(legacyDefault) ? legacyDefault : '[]');\n      }\n      const storage = ColorCache(storageId, 10);\n      cacheStorage[id] = storage;\n      return storage;\n    });\n    const getCurrentColors = id => map$2(getCacheForId(id).state(), color => ({\n      type: 'choiceitem',\n      text: color,\n      icon: 'checkmark',\n      value: color\n    }));\n    const addColor = (id, color) => {\n      getCacheForId(id).add(color);\n    };\n\n    const hsvColour = (hue, saturation, value) => ({\n      hue,\n      saturation,\n      value\n    });\n    const fromRgb = rgbaColour => {\n      let h = 0;\n      let s = 0;\n      let v = 0;\n      const r = rgbaColour.red / 255;\n      const g = rgbaColour.green / 255;\n      const b = rgbaColour.blue / 255;\n      const minRGB = Math.min(r, Math.min(g, b));\n      const maxRGB = Math.max(r, Math.max(g, b));\n      if (minRGB === maxRGB) {\n        v = minRGB;\n        return hsvColour(0, 0, v * 100);\n      }\n      const d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n      h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n      h = 60 * (h - d / (maxRGB - minRGB));\n      s = (maxRGB - minRGB) / maxRGB;\n      v = maxRGB;\n      return hsvColour(Math.round(h), Math.round(s * 100), Math.round(v * 100));\n    };\n\n    const hexToHsv = hex => fromRgb(fromHex(hex));\n    const hsvToHex = hsv => fromRgba(fromHsv(hsv));\n    const anyToHex = color => fromString$1(color).orThunk(() => fromString(color).map(fromRgba)).getOrThunk(() => {\n      const canvas = document.createElement('canvas');\n      canvas.height = 1;\n      canvas.width = 1;\n      const canvasContext = canvas.getContext('2d');\n      canvasContext.clearRect(0, 0, canvas.width, canvas.height);\n      canvasContext.fillStyle = '#FFFFFF';\n      canvasContext.fillStyle = color;\n      canvasContext.fillRect(0, 0, 1, 1);\n      const rgba = canvasContext.getImageData(0, 0, 1, 1).data;\n      const r = rgba[0];\n      const g = rgba[1];\n      const b = rgba[2];\n      const a = rgba[3];\n      return fromRgba(rgbaColour(r, g, b, a));\n    });\n\n    const foregroundId = 'forecolor';\n    const backgroundId = 'hilitecolor';\n    const defaultCols = 5;\n    const calcCols = colors => Math.max(defaultCols, Math.ceil(Math.sqrt(colors)));\n    const calcColsOption = (editor, numColors) => {\n      const calculatedCols = calcCols(numColors);\n      const fallbackCols = option$1('color_cols')(editor);\n      return defaultCols === calculatedCols ? fallbackCols : calculatedCols;\n    };\n    const mapColors = colorMap => {\n      const colors = [];\n      for (let i = 0; i < colorMap.length; i += 2) {\n        colors.push({\n          text: colorMap[i + 1],\n          value: '#' + anyToHex(colorMap[i]).value,\n          icon: 'checkmark',\n          type: 'choiceitem'\n        });\n      }\n      return colors;\n    };\n    const option$1 = name => editor => editor.options.get(name);\n    const fallbackColor = '#000000';\n    const register$d = editor => {\n      const registerOption = editor.options.register;\n      const colorProcessor = value => {\n        if (isArrayOf(value, isString)) {\n          return {\n            value: mapColors(value),\n            valid: true\n          };\n        } else {\n          return {\n            valid: false,\n            message: 'Must be an array of strings.'\n          };\n        }\n      };\n      registerOption('color_map', {\n        processor: colorProcessor,\n        default: [\n          '#BFEDD2',\n          'Light Green',\n          '#FBEEB8',\n          'Light Yellow',\n          '#F8CAC6',\n          'Light Red',\n          '#ECCAFA',\n          'Light Purple',\n          '#C2E0F4',\n          'Light Blue',\n          '#2DC26B',\n          'Green',\n          '#F1C40F',\n          'Yellow',\n          '#E03E2D',\n          'Red',\n          '#B96AD9',\n          'Purple',\n          '#3598DB',\n          'Blue',\n          '#169179',\n          'Dark Turquoise',\n          '#E67E23',\n          'Orange',\n          '#BA372A',\n          'Dark Red',\n          '#843FA1',\n          'Dark Purple',\n          '#236FA1',\n          'Dark Blue',\n          '#ECF0F1',\n          'Light Gray',\n          '#CED4D9',\n          'Medium Gray',\n          '#95A5A6',\n          'Gray',\n          '#7E8C8D',\n          'Dark Gray',\n          '#34495E',\n          'Navy Blue',\n          '#000000',\n          'Black',\n          '#ffffff',\n          'White'\n        ]\n      });\n      registerOption('color_map_background', { processor: colorProcessor });\n      registerOption('color_map_foreground', { processor: colorProcessor });\n      registerOption('color_cols', {\n        processor: 'number',\n        default: calcCols(getColors$2(editor, 'default').length)\n      });\n      registerOption('color_cols_foreground', {\n        processor: 'number',\n        default: calcColsOption(editor, getColors$2(editor, foregroundId).length)\n      });\n      registerOption('color_cols_background', {\n        processor: 'number',\n        default: calcColsOption(editor, getColors$2(editor, backgroundId).length)\n      });\n      registerOption('custom_colors', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('color_default_foreground', {\n        processor: 'string',\n        default: fallbackColor\n      });\n      registerOption('color_default_background', {\n        processor: 'string',\n        default: fallbackColor\n      });\n    };\n    const colorColsOption = (editor, id) => {\n      if (id === foregroundId) {\n        return option$1('color_cols_foreground')(editor);\n      } else if (id === backgroundId) {\n        return option$1('color_cols_background')(editor);\n      } else {\n        return option$1('color_cols')(editor);\n      }\n    };\n    const getColorCols$1 = (editor, id) => {\n      const colorCols = colorColsOption(editor, id);\n      return colorCols > 0 ? colorCols : defaultCols;\n    };\n    const hasCustomColors$1 = option$1('custom_colors');\n    const getColors$2 = (editor, id) => {\n      if (id === foregroundId && editor.options.isSet('color_map_foreground')) {\n        return option$1('color_map_foreground')(editor);\n      } else if (id === backgroundId && editor.options.isSet('color_map_background')) {\n        return option$1('color_map_background')(editor);\n      } else {\n        return option$1('color_map')(editor);\n      }\n    };\n    const getDefaultForegroundColor = option$1('color_default_foreground');\n    const getDefaultBackgroundColor = option$1('color_default_background');\n\n    const defaultBackgroundColor = 'rgba(0, 0, 0, 0)';\n    const isValidBackgroundColor = value => fromString(value).exists(c => c.alpha !== 0);\n    const getClosestCssBackgroundColorValue = scope => {\n      return closest$4(scope, node => {\n        if (isElement$1(node)) {\n          const color = get$e(node, 'background-color');\n          return someIf(isValidBackgroundColor(color), color);\n        } else {\n          return Optional.none();\n        }\n      }).getOr(defaultBackgroundColor);\n    };\n    const getCurrentColor = (editor, format) => {\n      const node = SugarElement.fromDom(editor.selection.getStart());\n      const cssRgbValue = format === 'hilitecolor' ? getClosestCssBackgroundColorValue(node) : get$e(node, 'color');\n      return fromString(cssRgbValue).map(rgba => '#' + fromRgba(rgba).value);\n    };\n    const applyFormat = (editor, format, value) => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.formatter.apply(format, { value });\n        editor.nodeChanged();\n      });\n    };\n    const removeFormat = (editor, format) => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.formatter.remove(format, { value: null }, undefined, true);\n        editor.nodeChanged();\n      });\n    };\n    const registerCommands = editor => {\n      editor.addCommand('mceApplyTextcolor', (format, value) => {\n        applyFormat(editor, format, value);\n      });\n      editor.addCommand('mceRemoveTextcolor', format => {\n        removeFormat(editor, format);\n      });\n    };\n    const getAdditionalColors = hasCustom => {\n      const type = 'choiceitem';\n      const remove = {\n        type,\n        text: 'Remove color',\n        icon: 'color-swatch-remove-color',\n        value: 'remove'\n      };\n      const custom = {\n        type,\n        text: 'Custom color',\n        icon: 'color-picker',\n        value: 'custom'\n      };\n      return hasCustom ? [\n        remove,\n        custom\n      ] : [remove];\n    };\n    const applyColor = (editor, format, value, onChoice) => {\n      if (value === 'custom') {\n        const dialog = colorPickerDialog(editor);\n        dialog(colorOpt => {\n          colorOpt.each(color => {\n            addColor(format, color);\n            editor.execCommand('mceApplyTextcolor', format, color);\n            onChoice(color);\n          });\n        }, getCurrentColor(editor, format).getOr(fallbackColor));\n      } else if (value === 'remove') {\n        onChoice('');\n        editor.execCommand('mceRemoveTextcolor', format);\n      } else {\n        onChoice(value);\n        editor.execCommand('mceApplyTextcolor', format, value);\n      }\n    };\n    const getColors$1 = (colors, id, hasCustom) => colors.concat(getCurrentColors(id).concat(getAdditionalColors(hasCustom)));\n    const getFetch$1 = (colors, id, hasCustom) => callback => {\n      callback(getColors$1(colors, id, hasCustom));\n    };\n    const setIconColor = (splitButtonApi, name, newColor) => {\n      const id = name === 'forecolor' ? 'tox-icon-text-color__color' : 'tox-icon-highlight-bg-color__color';\n      splitButtonApi.setIconFill(id, newColor);\n    };\n    const select$1 = (editor, format) => value => {\n      const optCurrentHex = getCurrentColor(editor, format);\n      return is$1(optCurrentHex, value.toUpperCase());\n    };\n    const registerTextColorButton = (editor, name, format, tooltip, lastColor) => {\n      editor.ui.registry.addSplitButton(name, {\n        tooltip,\n        presets: 'color',\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        select: select$1(editor, format),\n        columns: getColorCols$1(editor, format),\n        fetch: getFetch$1(getColors$2(editor, format), format, hasCustomColors$1(editor)),\n        onAction: _splitButtonApi => {\n          applyColor(editor, format, lastColor.get(), noop);\n        },\n        onItemAction: (_splitButtonApi, value) => {\n          applyColor(editor, format, value, newColor => {\n            lastColor.set(newColor);\n            fireTextColorChange(editor, {\n              name,\n              color: newColor\n            });\n          });\n        },\n        onSetup: splitButtonApi => {\n          setIconColor(splitButtonApi, name, lastColor.get());\n          const handler = e => {\n            if (e.name === name) {\n              setIconColor(splitButtonApi, e.name, e.color);\n            }\n          };\n          editor.on('TextColorChange', handler);\n          return () => {\n            editor.off('TextColorChange', handler);\n          };\n        }\n      });\n    };\n    const registerTextColorMenuItem = (editor, name, format, text, lastColor) => {\n      editor.ui.registry.addNestedMenuItem(name, {\n        text,\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        onSetup: api => {\n          setIconColor(api, name, lastColor.get());\n          return noop;\n        },\n        getSubmenuItems: () => [{\n            type: 'fancymenuitem',\n            fancytype: 'colorswatch',\n            select: select$1(editor, format),\n            initData: { storageKey: format },\n            onAction: data => {\n              applyColor(editor, format, data.value, newColor => {\n                lastColor.set(newColor);\n                fireTextColorChange(editor, {\n                  name,\n                  color: newColor\n                });\n              });\n            }\n          }]\n      });\n    };\n    const colorPickerDialog = editor => (callback, value) => {\n      let isValid = false;\n      const onSubmit = api => {\n        const data = api.getData();\n        const hex = data.colorpicker;\n        if (isValid) {\n          callback(Optional.from(hex));\n          api.close();\n        } else {\n          editor.windowManager.alert(editor.translate([\n            'Invalid hex color code: {0}',\n            hex\n          ]));\n        }\n      };\n      const onAction = (_api, details) => {\n        if (details.name === 'hex-valid') {\n          isValid = details.value;\n        }\n      };\n      const initialData = { colorpicker: value };\n      editor.windowManager.open({\n        title: 'Color Picker',\n        size: 'normal',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'colorpicker',\n              name: 'colorpicker',\n              label: 'Color'\n            }]\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData,\n        onAction,\n        onSubmit,\n        onClose: noop,\n        onCancel: () => {\n          callback(Optional.none());\n        }\n      });\n    };\n    const register$c = editor => {\n      registerCommands(editor);\n      const fallbackColorForeground = getDefaultForegroundColor(editor);\n      const fallbackColorBackground = getDefaultBackgroundColor(editor);\n      const lastForeColor = Cell(fallbackColorForeground);\n      const lastBackColor = Cell(fallbackColorBackground);\n      registerTextColorButton(editor, 'forecolor', 'forecolor', 'Text color', lastForeColor);\n      registerTextColorButton(editor, 'backcolor', 'hilitecolor', 'Background color', lastBackColor);\n      registerTextColorMenuItem(editor, 'forecolor', 'forecolor', 'Text color', lastForeColor);\n      registerTextColorMenuItem(editor, 'backcolor', 'hilitecolor', 'Background color', lastBackColor);\n    };\n\n    const createPartialChoiceMenu = (value, items, onItemValueHandler, columns, presets, itemResponse, select, providersBackstage) => {\n      const hasIcons = menuHasIcons(items);\n      const presetItemTypes = presets !== 'color' ? 'normal' : 'color';\n      const alloyItems = createChoiceItems(items, onItemValueHandler, columns, presetItemTypes, itemResponse, select, providersBackstage);\n      const menuLayout = { menuType: presets };\n      return createPartialMenuWithAlloyItems(value, hasIcons, alloyItems, columns, menuLayout);\n    };\n    const createChoiceItems = (items, onItemValueHandler, columns, itemPresets, itemResponse, select, providersBackstage) => cat(map$2(items, item => {\n      if (item.type === 'choiceitem') {\n        return createChoiceMenuItem(item).fold(handleError, d => Optional.some(renderChoiceItem(d, columns === 1, itemPresets, onItemValueHandler, select(d.value), itemResponse, providersBackstage, menuHasIcons(items))));\n      } else {\n        return Optional.none();\n      }\n    }));\n\n    const deriveMenuMovement = (columns, presets) => {\n      const menuMarkers = markers(presets);\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: true\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'grid',\n          selector: '.' + menuMarkers.item,\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        const rowClass = presets === 'color' ? 'tox-swatches__row' : 'tox-collection__group';\n        return {\n          mode: 'matrix',\n          rowSelector: '.' + rowClass,\n          previousSelector: menu => {\n            return presets === 'color' ? descendant(menu.element, '[aria-checked=true]') : Optional.none();\n          }\n        };\n      }\n    };\n    const deriveCollectionMovement = (columns, presets) => {\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: false,\n          selector: '.tox-collection__item'\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'flatgrid',\n          selector: '.' + 'tox-collection__item',\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        return {\n          mode: 'matrix',\n          selectors: {\n            row: presets === 'color' ? '.tox-swatches__row' : '.tox-collection__group',\n            cell: presets === 'color' ? `.${ colorClass }` : `.${ selectableClass }`\n          }\n        };\n      }\n    };\n\n    const renderColorSwatchItem = (spec, backstage) => {\n      const items = getColorItems(spec, backstage);\n      const columns = backstage.colorinput.getColorCols(spec.initData.storageKey);\n      const presets = 'color';\n      const menuSpec = createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n        spec.onAction({ value });\n      }, columns, presets, ItemResponse$1.CLOSE_ON_EXECUTE, spec.select.getOr(never), backstage.shared.providers);\n      const widgetSpec = {\n        ...menuSpec,\n        markers: markers(presets),\n        movement: deriveMenuMovement(columns, presets)\n      };\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget(Menu.sketch(widgetSpec))]\n      };\n    };\n    const getColorItems = (spec, backstage) => {\n      const useCustomColors = spec.initData.allowCustomColors && backstage.colorinput.hasCustomColors();\n      return spec.initData.colors.fold(() => getColors$1(backstage.colorinput.getColors(spec.initData.storageKey), spec.initData.storageKey, useCustomColors), colors => colors.concat(getAdditionalColors(useCustomColors)));\n    };\n\n    const cellOverEvent = generate$6('cell-over');\n    const cellExecuteEvent = generate$6('cell-execute');\n    const makeCell = (row, col, labelId) => {\n      const emitCellOver = c => emitWith(c, cellOverEvent, {\n        row,\n        col\n      });\n      const emitExecute = c => emitWith(c, cellExecuteEvent, {\n        row,\n        col\n      });\n      const onClick = (c, se) => {\n        se.stop();\n        emitExecute(c);\n      };\n      return build$1({\n        dom: {\n          tag: 'div',\n          attributes: {\n            role: 'button',\n            ['aria-labelledby']: labelId\n          }\n        },\n        behaviours: derive$1([\n          config('insert-table-picker-cell', [\n            run$1(mouseover(), Focusing.focus),\n            run$1(execute$5(), emitExecute),\n            run$1(click(), onClick),\n            run$1(tap(), onClick)\n          ]),\n          Toggling.config({\n            toggleClass: 'tox-insert-table-picker__selected',\n            toggleOnExecute: false\n          }),\n          Focusing.config({ onFocus: emitCellOver })\n        ])\n      });\n    };\n    const makeCells = (labelId, numRows, numCols) => {\n      const cells = [];\n      for (let i = 0; i < numRows; i++) {\n        const row = [];\n        for (let j = 0; j < numCols; j++) {\n          row.push(makeCell(i, j, labelId));\n        }\n        cells.push(row);\n      }\n      return cells;\n    };\n    const selectCells = (cells, selectedRow, selectedColumn, numRows, numColumns) => {\n      for (let i = 0; i < numRows; i++) {\n        for (let j = 0; j < numColumns; j++) {\n          Toggling.set(cells[i][j], i <= selectedRow && j <= selectedColumn);\n        }\n      }\n    };\n    const makeComponents = cells => bind$3(cells, cellRow => map$2(cellRow, premade));\n    const makeLabelText = (row, col) => text$2(`${ col }x${ row }`);\n    const renderInsertTableMenuItem = spec => {\n      const numRows = 10;\n      const numColumns = 10;\n      const sizeLabelId = generate$6('size-label');\n      const cells = makeCells(sizeLabelId, numRows, numColumns);\n      const emptyLabelText = makeLabelText(0, 0);\n      const memLabel = record({\n        dom: {\n          tag: 'span',\n          classes: ['tox-insert-table-picker__label'],\n          attributes: { id: sizeLabelId }\n        },\n        components: [emptyLabelText],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget({\n            dom: {\n              tag: 'div',\n              classes: ['tox-insert-table-picker']\n            },\n            components: makeComponents(cells).concat(memLabel.asSpec()),\n            behaviours: derive$1([\n              config('insert-table-picker', [\n                runOnAttached(c => {\n                  Replacing.set(memLabel.get(c), [emptyLabelText]);\n                }),\n                runWithTarget(cellOverEvent, (c, t, e) => {\n                  const {row, col} = e.event;\n                  selectCells(cells, row, col, numRows, numColumns);\n                  Replacing.set(memLabel.get(c), [makeLabelText(row + 1, col + 1)]);\n                }),\n                runWithTarget(cellExecuteEvent, (c, _, e) => {\n                  const {row, col} = e.event;\n                  spec.onAction({\n                    numRows: row + 1,\n                    numColumns: col + 1\n                  });\n                  emit(c, sandboxClose());\n                })\n              ]),\n              Keying.config({\n                initSize: {\n                  numRows,\n                  numColumns\n                },\n                mode: 'flatgrid',\n                selector: '[role=\"button\"]'\n              })\n            ])\n          })]\n      };\n    };\n\n    const fancyMenuItems = {\n      inserttable: renderInsertTableMenuItem,\n      colorswatch: renderColorSwatchItem\n    };\n    const renderFancyMenuItem = (spec, backstage) => get$g(fancyMenuItems, spec.fancytype).map(render => render(spec, backstage));\n\n    const renderNestedItem = (spec, itemResponse, providersBackstage, renderIcons = true, downwardsCaret = false) => {\n      const caret = downwardsCaret ? renderDownwardsCaret(providersBackstage.icons) : renderSubmenuCaret(providersBackstage.icons);\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state),\n        setIconFill: (id, value) => {\n          descendant(component.element, `svg path[id=\"${ id }\"], rect[id=\"${ id }\"]`).each(underlinePath => {\n            set$9(underlinePath, 'fill', value);\n          });\n        }\n      });\n      const structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.some(caret),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi,\n        enabled: spec.enabled,\n        onAction: noop,\n        onSetup: spec.onSetup,\n        triggersSubmenu: true,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    const renderNormalItem = (spec, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.none(),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi,\n        enabled: spec.enabled,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    const renderSeparatorItem = spec => ({\n      type: 'separator',\n      dom: {\n        tag: 'div',\n        classes: [\n          selectableClass,\n          groupHeadingClass\n        ]\n      },\n      components: spec.text.map(text$2).toArray()\n    });\n\n    const renderToggleMenuItem = (spec, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        setActive: state => {\n          Toggling.set(component, state);\n        },\n        isActive: () => Toggling.isOn(component),\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        checkMark: Optional.some(renderCheckmark(providersBackstage.icons)),\n        caret: Optional.none(),\n        shortcutContent: spec.shortcut,\n        presets: 'normal',\n        meta: spec.meta\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active\n        }\n      });\n    };\n\n    const autocomplete = renderAutocompleteItem;\n    const separator$3 = renderSeparatorItem;\n    const normal = renderNormalItem;\n    const nested = renderNestedItem;\n    const toggle$1 = renderToggleMenuItem;\n    const fancy = renderFancyMenuItem;\n    const card = renderCardMenuItem;\n\n    const getCoupled = (component, coupleConfig, coupleState, name) => coupleState.getOrCreate(component, coupleConfig, name);\n    const getExistingCoupled = (component, coupleConfig, coupleState, name) => coupleState.getExisting(component, coupleConfig, name);\n\n    var CouplingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCoupled: getCoupled,\n        getExistingCoupled: getExistingCoupled\n    });\n\n    var CouplingSchema = [requiredOf('others', setOf(Result.value, anyValue()))];\n\n    const init$a = () => {\n      const coupled = {};\n      const lookupCoupled = (coupleConfig, coupledName) => {\n        const available = keys(coupleConfig.others);\n        if (available.length === 0) {\n          throw new Error('Cannot find any known coupled components');\n        } else {\n          return get$g(coupled, coupledName);\n        }\n      };\n      const getOrCreate = (component, coupleConfig, name) => {\n        return lookupCoupled(coupleConfig, name).getOrThunk(() => {\n          const builder = get$g(coupleConfig.others, name).getOrDie('No information found for coupled component: ' + name);\n          const spec = builder(component);\n          const built = component.getSystem().build(spec);\n          coupled[name] = built;\n          return built;\n        });\n      };\n      const getExisting = (component, coupleConfig, name) => {\n        return lookupCoupled(coupleConfig, name).orThunk(() => {\n          get$g(coupleConfig.others, name).getOrDie('No information found for coupled component: ' + name);\n          return Optional.none();\n        });\n      };\n      const readState = constant$1({});\n      return nu$8({\n        readState,\n        getExisting,\n        getOrCreate\n      });\n    };\n\n    var CouplingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$a\n    });\n\n    const Coupling = create$4({\n      fields: CouplingSchema,\n      name: 'coupling',\n      apis: CouplingApis,\n      state: CouplingState\n    });\n\n    const nu$3 = baseFn => {\n      let data = Optional.none();\n      let callbacks = [];\n      const map = f => nu$3(nCallback => {\n        get(data => {\n          nCallback(f(data));\n        });\n      });\n      const get = nCallback => {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      const set = x => {\n        if (!isReady()) {\n          data = Optional.some(x);\n          run(callbacks);\n          callbacks = [];\n        }\n      };\n      const isReady = () => data.isSome();\n      const run = cbs => {\n        each$1(cbs, call);\n      };\n      const call = cb => {\n        data.each(x => {\n          setTimeout(() => {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get,\n        map,\n        isReady\n      };\n    };\n    const pure$1 = a => nu$3(callback => {\n      callback(a);\n    });\n    const LazyValue = {\n      nu: nu$3,\n      pure: pure$1\n    };\n\n    const errorReporter = err => {\n      setTimeout(() => {\n        throw err;\n      }, 0);\n    };\n    const make$5 = run => {\n      const get = callback => {\n        run().then(callback, errorReporter);\n      };\n      const map = fab => {\n        return make$5(() => run().then(fab));\n      };\n      const bind = aFutureB => {\n        return make$5(() => run().then(v => aFutureB(v).toPromise()));\n      };\n      const anonBind = futureB => {\n        return make$5(() => run().then(() => futureB.toPromise()));\n      };\n      const toLazy = () => {\n        return LazyValue.nu(get);\n      };\n      const toCached = () => {\n        let cache = null;\n        return make$5(() => {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      const toPromise = run;\n      return {\n        map,\n        bind,\n        anonBind,\n        toLazy,\n        toCached,\n        toPromise,\n        get\n      };\n    };\n    const nu$2 = baseFn => {\n      return make$5(() => new Promise(baseFn));\n    };\n    const pure = a => {\n      return make$5(() => Promise.resolve(a));\n    };\n    const Future = {\n      nu: nu$2,\n      pure\n    };\n\n    const suffix = constant$1('sink');\n    const partType$1 = constant$1(optional({\n      name: suffix(),\n      overrides: constant$1({\n        dom: { tag: 'div' },\n        behaviours: derive$1([Positioning.config({ useFixed: always })]),\n        events: derive$2([\n          cutter(keydown()),\n          cutter(mousedown()),\n          cutter(click())\n        ])\n      })\n    }));\n\n    const getAnchor = (detail, component) => {\n      const hotspot = detail.getHotspot(component).getOr(component);\n      const type = 'hotspot';\n      const overrides = detail.getAnchorOverrides();\n      return detail.layouts.fold(() => ({\n        type,\n        hotspot,\n        overrides\n      }), layouts => ({\n        type,\n        hotspot,\n        overrides,\n        layouts\n      }));\n    };\n    const fetch = (detail, mapFetch, component) => {\n      const fetcher = detail.fetch;\n      return fetcher(component).map(mapFetch);\n    };\n    const openF = (detail, mapFetch, anchor, component, sandbox, externals, highlightOnOpen) => {\n      const futureData = fetch(detail, mapFetch, component);\n      const getLazySink = getSink(component, detail);\n      return futureData.map(tdata => tdata.bind(data => Optional.from(tieredMenu.sketch({\n        ...externals.menu(),\n        uid: generate$5(''),\n        data,\n        highlightOnOpen,\n        onOpenMenu: (tmenu, menu) => {\n          const sink = getLazySink().getOrDie();\n          Positioning.position(sink, menu, { anchor });\n          Sandboxing.decloak(sandbox);\n        },\n        onOpenSubmenu: (tmenu, item, submenu) => {\n          const sink = getLazySink().getOrDie();\n          Positioning.position(sink, submenu, {\n            anchor: {\n              type: 'submenu',\n              item\n            }\n          });\n          Sandboxing.decloak(sandbox);\n        },\n        onRepositionMenu: (tmenu, primaryMenu, submenuTriggers) => {\n          const sink = getLazySink().getOrDie();\n          Positioning.position(sink, primaryMenu, { anchor });\n          each$1(submenuTriggers, st => {\n            Positioning.position(sink, st.triggeredMenu, {\n              anchor: {\n                type: 'submenu',\n                item: st.triggeringItem\n              }\n            });\n          });\n        },\n        onEscape: () => {\n          Focusing.focus(component);\n          Sandboxing.close(sandbox);\n          return Optional.some(true);\n        }\n      }))));\n    };\n    const open = (detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen) => {\n      const anchor = getAnchor(detail, hotspot);\n      const processed = openF(detail, mapFetch, anchor, hotspot, sandbox, externals, highlightOnOpen);\n      return processed.map(tdata => {\n        tdata.fold(() => {\n          if (Sandboxing.isOpen(sandbox)) {\n            Sandboxing.close(sandbox);\n          }\n        }, data => {\n          Sandboxing.cloak(sandbox);\n          Sandboxing.open(sandbox, data);\n          onOpenSync(sandbox);\n        });\n        return sandbox;\n      });\n    };\n    const close = (detail, mapFetch, component, sandbox, _externals, _onOpenSync, _highlightOnOpen) => {\n      Sandboxing.close(sandbox);\n      return Future.pure(sandbox);\n    };\n    const togglePopup = (detail, mapFetch, hotspot, externals, onOpenSync, highlightOnOpen) => {\n      const sandbox = Coupling.getCoupled(hotspot, 'sandbox');\n      const showing = Sandboxing.isOpen(sandbox);\n      const action = showing ? close : open;\n      return action(detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen);\n    };\n    const matchWidth = (hotspot, container, useMinWidth) => {\n      const menu = Composing.getCurrent(container).getOr(container);\n      const buttonWidth = get$c(hotspot.element);\n      if (useMinWidth) {\n        set$8(menu.element, 'min-width', buttonWidth + 'px');\n      } else {\n        set$7(menu.element, buttonWidth);\n      }\n    };\n    const getSink = (anyInSystem, sinkDetail) => anyInSystem.getSystem().getByUid(sinkDetail.uid + '-' + suffix()).map(internalSink => () => Result.value(internalSink)).getOrThunk(() => sinkDetail.lazySink.fold(() => () => Result.error(new Error('No internal sink is specified, nor could an external sink be found')), lazySinkFn => () => lazySinkFn(anyInSystem)));\n    const doRepositionMenus = sandbox => {\n      Sandboxing.getState(sandbox).each(tmenu => {\n        tieredMenu.repositionMenus(tmenu);\n      });\n    };\n    const makeSandbox$1 = (detail, hotspot, extras) => {\n      const ariaControls = manager();\n      const onOpen = (component, menu) => {\n        const anchor = getAnchor(detail, hotspot);\n        ariaControls.link(hotspot.element);\n        if (detail.matchWidth) {\n          matchWidth(anchor.hotspot, menu, detail.useMinWidth);\n        }\n        detail.onOpen(anchor, component, menu);\n        if (extras !== undefined && extras.onOpen !== undefined) {\n          extras.onOpen(component, menu);\n        }\n      };\n      const onClose = (component, menu) => {\n        ariaControls.unlink(hotspot.element);\n        if (extras !== undefined && extras.onClose !== undefined) {\n          extras.onClose(component, menu);\n        }\n      };\n      const lazySink = getSink(hotspot, detail);\n      return {\n        dom: {\n          tag: 'div',\n          classes: detail.sandboxClasses,\n          attributes: {\n            id: ariaControls.id,\n            role: 'listbox'\n          }\n        },\n        behaviours: SketchBehaviours.augment(detail.sandboxBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: hotspot\n            }\n          }),\n          Sandboxing.config({\n            onOpen,\n            onClose,\n            isPartOf: (container, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOf$1(hotspot, queryElem);\n            },\n            getAttachPoint: () => {\n              return lazySink().getOrDie();\n            }\n          }),\n          Composing.config({\n            find: sandbox => {\n              return Sandboxing.getState(sandbox).bind(menu => Composing.getCurrent(menu));\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({ isExtraPart: never }),\n              ...receivingChannel({ doReposition: doRepositionMenus })\n            }\n          })\n        ])\n      };\n    };\n    const repositionMenus = comp => {\n      const sandbox = Coupling.getCoupled(comp, 'sandbox');\n      doRepositionMenus(sandbox);\n    };\n\n    const sandboxFields = () => [\n      defaulted('sandboxClasses', []),\n      SketchBehaviours.field('sandboxBehaviours', [\n        Composing,\n        Receiving,\n        Sandboxing,\n        Representing\n      ])\n    ];\n\n    const schema$k = constant$1([\n      required$1('dom'),\n      required$1('fetch'),\n      onHandler('onOpen'),\n      onKeyboardHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      field('dropdownBehaviours', [\n        Toggling,\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      required$1('toggleClass'),\n      defaulted('eventOrder', {}),\n      option$3('lazySink'),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      option$3('role')\n    ].concat(sandboxFields()));\n    const parts$e = constant$1([\n      external({\n        schema: [\n          tieredMenuMarkers(),\n          defaulted('fakeFocus', false)\n        ],\n        name: 'menu',\n        defaults: detail => {\n          return { onExecute: detail.onExecute };\n        }\n      }),\n      partType$1()\n    ]);\n\n    const factory$k = (detail, components, _spec, externals) => {\n      const lookupAttr = attr => get$g(detail.dom, 'attributes').bind(attrs => get$g(attrs, attr));\n      const switchToMenu = sandbox => {\n        Sandboxing.getState(sandbox).each(tmenu => {\n          tieredMenu.highlightPrimary(tmenu);\n        });\n      };\n      const togglePopup$1 = (dropdownComp, onOpenSync, highlightOnOpen) => {\n        return togglePopup(detail, identity, dropdownComp, externals, onOpenSync, highlightOnOpen);\n      };\n      const action = component => {\n        const onOpenSync = switchToMenu;\n        togglePopup$1(component, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n      };\n      const apis = {\n        expand: comp => {\n          if (!Toggling.isOn(comp)) {\n            togglePopup$1(comp, noop, HighlightOnOpen.HighlightNone).get(noop);\n          }\n        },\n        open: comp => {\n          if (!Toggling.isOn(comp)) {\n            togglePopup$1(comp, noop, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n          }\n        },\n        refetch: comp => {\n          const optSandbox = Coupling.getExistingCoupled(comp, 'sandbox');\n          return optSandbox.fold(() => {\n            return togglePopup$1(comp, noop, HighlightOnOpen.HighlightMenuAndItem).map(noop);\n          }, sandboxComp => {\n            return open(detail, identity, comp, sandboxComp, externals, noop, HighlightOnOpen.HighlightMenuAndItem).map(noop);\n          });\n        },\n        isOpen: Toggling.isOn,\n        close: comp => {\n          if (Toggling.isOn(comp)) {\n            togglePopup$1(comp, noop, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n          }\n        },\n        repositionMenus: comp => {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      const triggerExecute = (comp, _se) => {\n        emitExecute(comp);\n        return Optional.some(true);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.dropdownBehaviours, [\n          Toggling.config({\n            toggleClass: detail.toggleClass,\n            aria: { mode: 'expanded' }\n          }),\n          Coupling.config({\n            others: {\n              sandbox: hotspot => {\n                return makeSandbox$1(detail, hotspot, {\n                  onOpen: () => Toggling.on(hotspot),\n                  onClose: () => Toggling.off(hotspot)\n                });\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: triggerExecute,\n            onEnter: triggerExecute,\n            onDown: (comp, _se) => {\n              if (Dropdown.isOpen(comp)) {\n                const sandbox = Coupling.getCoupled(comp, 'sandbox');\n                switchToMenu(sandbox);\n              } else {\n                Dropdown.open(comp);\n              }\n              return Optional.some(true);\n            },\n            onEscape: (comp, _se) => {\n              if (Dropdown.isOpen(comp)) {\n                Dropdown.close(comp);\n                return Optional.some(true);\n              } else {\n                return Optional.none();\n              }\n            }\n          }),\n          Focusing.config({})\n        ]),\n        events: events$a(Optional.some(action)),\n        eventOrder: {\n          ...detail.eventOrder,\n          [execute$5()]: [\n            'disabling',\n            'toggling',\n            'alloy.base.behaviour'\n          ]\n        },\n        apis,\n        domModification: {\n          attributes: {\n            'aria-haspopup': 'true',\n            ...detail.role.fold(() => ({}), role => ({ role })),\n            ...detail.dom.tag === 'button' ? { type: lookupAttr('type').getOr('button') } : {}\n          }\n        }\n      };\n    };\n    const Dropdown = composite({\n      name: 'Dropdown',\n      configFields: schema$k(),\n      partFields: parts$e(),\n      factory: factory$k,\n      apis: {\n        open: (apis, comp) => apis.open(comp),\n        refetch: (apis, comp) => apis.refetch(comp),\n        expand: (apis, comp) => apis.expand(comp),\n        close: (apis, comp) => apis.close(comp),\n        isOpen: (apis, comp) => apis.isOpen(comp),\n        repositionMenus: (apis, comp) => apis.repositionMenus(comp)\n      }\n    });\n\n    const identifyMenuLayout = searchMode => {\n      switch (searchMode.searchMode) {\n      case 'no-search': {\n          return { menuType: 'normal' };\n        }\n      default: {\n          return {\n            menuType: 'searchable',\n            searchMode\n          };\n        }\n      }\n    };\n    const handleRefetchTrigger = originalSandboxComp => {\n      const dropdown = Representing.getValue(originalSandboxComp);\n      const optSearcherState = findWithinSandbox(originalSandboxComp).map(saveState);\n      Dropdown.refetch(dropdown).get(() => {\n        const newSandboxComp = Coupling.getCoupled(dropdown, 'sandbox');\n        optSearcherState.each(searcherState => findWithinSandbox(newSandboxComp).each(inputComp => restoreState(inputComp, searcherState)));\n      });\n    };\n    const handleRedirectToMenuItem = (sandboxComp, se) => {\n      getActiveMenuItemFrom(sandboxComp).each(activeItem => {\n        retargetAndDispatchWith(sandboxComp, activeItem.element, se.event.eventType, se.event.interactionEvent);\n      });\n    };\n    const getActiveMenuItemFrom = sandboxComp => {\n      return Sandboxing.getState(sandboxComp).bind(Highlighting.getHighlighted).bind(Highlighting.getHighlighted);\n    };\n    const getSearchResults = activeMenuComp => {\n      return has(activeMenuComp.element, searchResultsClass) ? Optional.some(activeMenuComp.element) : descendant(activeMenuComp.element, '.' + searchResultsClass);\n    };\n    const updateAriaOnHighlight = (tmenuComp, menuComp, itemComp) => {\n      findWithinMenu(tmenuComp).each(inputComp => {\n        setActiveDescendant(inputComp, itemComp);\n        const optActiveResults = getSearchResults(menuComp);\n        optActiveResults.each(resultsElem => {\n          getOpt(resultsElem, 'id').each(controlledId => set$9(inputComp.element, 'aria-controls', controlledId));\n        });\n      });\n      set$9(itemComp.element, 'aria-selected', 'true');\n    };\n    const updateAriaOnDehighlight = (tmenuComp, menuComp, itemComp) => {\n      set$9(itemComp.element, 'aria-selected', 'false');\n    };\n    const focusSearchField = tmenuComp => {\n      findWithinMenu(tmenuComp).each(searcherComp => Focusing.focus(searcherComp));\n    };\n    const getSearchPattern = dropdownComp => {\n      const optSandboxComp = Coupling.getExistingCoupled(dropdownComp, 'sandbox');\n      return optSandboxComp.bind(findWithinSandbox).map(saveState).map(state => state.fetchPattern).getOr('');\n    };\n\n    var FocusMode;\n    (function (FocusMode) {\n      FocusMode[FocusMode['ContentFocus'] = 0] = 'ContentFocus';\n      FocusMode[FocusMode['UiFocus'] = 1] = 'UiFocus';\n    }(FocusMode || (FocusMode = {})));\n    const createMenuItemFromBridge = (item, itemResponse, backstage, menuHasIcons, isHorizontalMenu) => {\n      const providersBackstage = backstage.shared.providers;\n      const parseForHorizontalMenu = menuitem => !isHorizontalMenu ? menuitem : {\n        ...menuitem,\n        shortcut: Optional.none(),\n        icon: menuitem.text.isSome() ? Optional.none() : menuitem.icon\n      };\n      switch (item.type) {\n      case 'menuitem':\n        return createMenuItem(item).fold(handleError, d => Optional.some(normal(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons)));\n      case 'nestedmenuitem':\n        return createNestedMenuItem(item).fold(handleError, d => Optional.some(nested(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons, isHorizontalMenu)));\n      case 'togglemenuitem':\n        return createToggleMenuItem(item).fold(handleError, d => Optional.some(toggle$1(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons)));\n      case 'separator':\n        return createSeparatorMenuItem(item).fold(handleError, d => Optional.some(separator$3(d)));\n      case 'fancymenuitem':\n        return createFancyMenuItem(item).fold(handleError, d => fancy(d, backstage));\n      default: {\n          console.error('Unknown item in general menu', item);\n          return Optional.none();\n        }\n      }\n    };\n    const createAutocompleteItems = (items, matchText, onItemValueHandler, columns, itemResponse, sharedBackstage, highlightOn) => {\n      const renderText = columns === 1;\n      const renderIcons = !renderText || menuHasIcons(items);\n      return cat(map$2(items, item => {\n        switch (item.type) {\n        case 'separator':\n          return createSeparatorItem(item).fold(handleError, d => Optional.some(separator$3(d)));\n        case 'cardmenuitem':\n          return createCardMenuItem(item).fold(handleError, d => Optional.some(card({\n            ...d,\n            onAction: api => {\n              d.onAction(api);\n              onItemValueHandler(d.value, d.meta);\n            }\n          }, itemResponse, sharedBackstage, {\n            itemBehaviours: tooltipBehaviour(d.meta, sharedBackstage),\n            cardText: {\n              matchText,\n              highlightOn\n            }\n          })));\n        case 'autocompleteitem':\n        default:\n          return createAutocompleterItem(item).fold(handleError, d => Optional.some(autocomplete(d, matchText, renderText, 'normal', onItemValueHandler, itemResponse, sharedBackstage, renderIcons)));\n        }\n      }));\n    };\n    const createPartialMenu = (value, items, itemResponse, backstage, isHorizontalMenu, searchMode) => {\n      const hasIcons = menuHasIcons(items);\n      const alloyItems = cat(map$2(items, item => {\n        const itemHasIcon = i => isHorizontalMenu ? !has$2(i, 'text') : hasIcons;\n        const createItem = i => createMenuItemFromBridge(i, itemResponse, backstage, itemHasIcon(i), isHorizontalMenu);\n        if (item.type === 'nestedmenuitem' && item.getSubmenuItems().length <= 0) {\n          return createItem({\n            ...item,\n            enabled: false\n          });\n        } else {\n          return createItem(item);\n        }\n      }));\n      const menuLayout = identifyMenuLayout(searchMode);\n      const createPartial = isHorizontalMenu ? createHorizontalPartialMenuWithAlloyItems : createPartialMenuWithAlloyItems;\n      return createPartial(value, hasIcons, alloyItems, 1, menuLayout);\n    };\n    const createTieredDataFrom = partialMenu => tieredMenu.singleData(partialMenu.value, partialMenu);\n    const createInlineMenuFrom = (partialMenu, columns, focusMode, presets) => {\n      const movement = deriveMenuMovement(columns, presets);\n      const menuMarkers = markers(presets);\n      return {\n        data: createTieredDataFrom({\n          ...partialMenu,\n          movement,\n          menuBehaviours: SimpleBehaviours.unnamedEvents(columns !== 'auto' ? [] : [runOnAttached((comp, _se) => {\n              detectSize(comp, 4, menuMarkers.item).each(({numColumns, numRows}) => {\n                Keying.setGridSize(comp, numRows, numColumns);\n              });\n            })])\n        }),\n        menu: {\n          markers: markers(presets),\n          fakeFocus: focusMode === FocusMode.ContentFocus\n        }\n      };\n    };\n\n    const getAutocompleterRange = (dom, initRange) => {\n      return detect$1(SugarElement.fromDom(initRange.startContainer)).map(elm => {\n        const range = dom.createRng();\n        range.selectNode(elm.dom);\n        return range;\n      });\n    };\n    const register$b = (editor, sharedBackstage) => {\n      const processingAction = Cell(false);\n      const activeState = Cell(false);\n      const autocompleter = build$1(InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-autocompleter']\n        },\n        components: [],\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissAutocompleter', [run$1(dismissRequested(), () => cancelIfNecessary())])]),\n        lazySink: sharedBackstage.getSink\n      }));\n      const isMenuOpen = () => InlineView.isOpen(autocompleter);\n      const isActive = activeState.get;\n      const hideIfNecessary = () => {\n        if (isMenuOpen()) {\n          InlineView.hide(autocompleter);\n        }\n      };\n      const getMenu = () => InlineView.getContent(autocompleter).bind(tmenu => {\n        return get$h(tmenu.components(), 0);\n      });\n      const cancelIfNecessary = () => editor.execCommand('mceAutocompleterClose');\n      const getCombinedItems = matches => {\n        const columns = findMap(matches, m => Optional.from(m.columns)).getOr(1);\n        return bind$3(matches, match => {\n          const choices = match.items;\n          return createAutocompleteItems(choices, match.matchText, (itemValue, itemMeta) => {\n            const nr = editor.selection.getRng();\n            getAutocompleterRange(editor.dom, nr).each(range => {\n              const autocompleterApi = {\n                hide: () => cancelIfNecessary(),\n                reload: fetchOptions => {\n                  hideIfNecessary();\n                  editor.execCommand('mceAutocompleterReload', false, { fetchOptions });\n                }\n              };\n              processingAction.set(true);\n              match.onAction(autocompleterApi, range, itemValue, itemMeta);\n              processingAction.set(false);\n            });\n          }, columns, ItemResponse$1.BUBBLE_TO_SANDBOX, sharedBackstage, match.highlightOn);\n        });\n      };\n      const display = (lookupData, items) => {\n        findIn(SugarElement.fromDom(editor.getBody())).each(element => {\n          const columns = findMap(lookupData, ld => Optional.from(ld.columns)).getOr(1);\n          InlineView.showMenuAt(autocompleter, {\n            anchor: {\n              type: 'node',\n              root: SugarElement.fromDom(editor.getBody()),\n              node: Optional.from(element)\n            }\n          }, createInlineMenuFrom(createPartialMenuWithAlloyItems('autocompleter-value', true, items, columns, { menuType: 'normal' }), columns, FocusMode.ContentFocus, 'normal'));\n        });\n        getMenu().each(Highlighting.highlightFirst);\n      };\n      const updateDisplay = lookupData => {\n        const combinedItems = getCombinedItems(lookupData);\n        if (combinedItems.length > 0) {\n          display(lookupData, combinedItems);\n        } else {\n          hideIfNecessary();\n        }\n      };\n      editor.on('AutocompleterStart', ({lookupData}) => {\n        activeState.set(true);\n        processingAction.set(false);\n        updateDisplay(lookupData);\n      });\n      editor.on('AutocompleterUpdate', ({lookupData}) => updateDisplay(lookupData));\n      editor.on('AutocompleterEnd', () => {\n        hideIfNecessary();\n        activeState.set(false);\n        processingAction.set(false);\n      });\n      const autocompleterUiApi = {\n        cancelIfNecessary,\n        isMenuOpen,\n        isActive,\n        isProcessingAction: processingAction.get,\n        getMenu\n      };\n      AutocompleterEditorEvents.setup(autocompleterUiApi, editor);\n    };\n    const Autocompleter = { register: register$b };\n\n    const nonScrollingOverflows = [\n      'visible',\n      'hidden'\n    ];\n    const isScroller = elem => {\n      if (isHTMLElement(elem)) {\n        const overflow = get$e(elem, 'overflow');\n        return trim$1(overflow).length > 0 && !contains$2(nonScrollingOverflows, overflow);\n      } else {\n        return false;\n      }\n    };\n    const detect = poupSinkElem => {\n      const scrollers = ancestors(poupSinkElem, isScroller);\n      return head(scrollers).map(element => ({\n        element,\n        others: scrollers.slice(1)\n      }));\n    };\n    const detectWhenSplitUiMode = (editor, popupSinkElem) => isSplitUiMode(editor) ? detect(popupSinkElem) : Optional.none();\n    const getBoundsFrom = sc => {\n      const scrollableBoxes = [\n        ...map$2(sc.others, box$1),\n        win()\n      ];\n      return constrainByMany(box$1(sc.element), scrollableBoxes);\n    };\n\n    const closest = (scope, selector, isRoot) => closest$1(scope, selector, isRoot).isSome();\n\n    const DelayedFunction = (fun, delay) => {\n      let ref = null;\n      const schedule = (...args) => {\n        ref = setTimeout(() => {\n          fun.apply(null, args);\n          ref = null;\n        }, delay);\n      };\n      const cancel = () => {\n        if (ref !== null) {\n          clearTimeout(ref);\n          ref = null;\n        }\n      };\n      return {\n        cancel,\n        schedule\n      };\n    };\n\n    const SIGNIFICANT_MOVE = 5;\n    const LONGPRESS_DELAY = 400;\n    const getTouch = event => {\n      const raw = event.raw;\n      if (raw.touches === undefined || raw.touches.length !== 1) {\n        return Optional.none();\n      }\n      return Optional.some(raw.touches[0]);\n    };\n    const isFarEnough = (touch, data) => {\n      const distX = Math.abs(touch.clientX - data.x);\n      const distY = Math.abs(touch.clientY - data.y);\n      return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n    };\n    const monitor = settings => {\n      const startData = value$2();\n      const longpressFired = Cell(false);\n      const longpress$1 = DelayedFunction(event => {\n        settings.triggerEvent(longpress(), event);\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY);\n      const handleTouchstart = event => {\n        getTouch(event).each(touch => {\n          longpress$1.cancel();\n          const data = {\n            x: touch.clientX,\n            y: touch.clientY,\n            target: event.target\n          };\n          longpress$1.schedule(event);\n          longpressFired.set(false);\n          startData.set(data);\n        });\n        return Optional.none();\n      };\n      const handleTouchmove = event => {\n        longpress$1.cancel();\n        getTouch(event).each(touch => {\n          startData.on(data => {\n            if (isFarEnough(touch, data)) {\n              startData.clear();\n            }\n          });\n        });\n        return Optional.none();\n      };\n      const handleTouchend = event => {\n        longpress$1.cancel();\n        const isSame = data => eq(data.target, event.target);\n        return startData.get().filter(isSame).map(_data => {\n          if (longpressFired.get()) {\n            event.prevent();\n            return false;\n          } else {\n            return settings.triggerEvent(tap(), event);\n          }\n        });\n      };\n      const handlers = wrapAll([\n        {\n          key: touchstart(),\n          value: handleTouchstart\n        },\n        {\n          key: touchmove(),\n          value: handleTouchmove\n        },\n        {\n          key: touchend(),\n          value: handleTouchend\n        }\n      ]);\n      const fireIfReady = (event, type) => get$g(handlers, type).bind(handler => handler(event));\n      return { fireIfReady };\n    };\n\n    const isDangerous = event => {\n      const keyEv = event.raw;\n      return keyEv.which === BACKSPACE[0] && !contains$2([\n        'input',\n        'textarea'\n      ], name$3(event.target)) && !closest(event.target, '[contenteditable=\"true\"]');\n    };\n    const setup$d = (container, rawSettings) => {\n      const settings = {\n        stopBackspace: true,\n        ...rawSettings\n      };\n      const pointerEvents = [\n        'touchstart',\n        'touchmove',\n        'touchend',\n        'touchcancel',\n        'gesturestart',\n        'mousedown',\n        'mouseup',\n        'mouseover',\n        'mousemove',\n        'mouseout',\n        'click'\n      ];\n      const tapEvent = monitor(settings);\n      const simpleEvents = map$2(pointerEvents.concat([\n        'selectstart',\n        'input',\n        'contextmenu',\n        'change',\n        'transitionend',\n        'transitioncancel',\n        'drag',\n        'dragstart',\n        'dragend',\n        'dragenter',\n        'dragleave',\n        'dragover',\n        'drop',\n        'keyup'\n      ]), type => bind(container, type, event => {\n        tapEvent.fireIfReady(event, type).each(tapStopped => {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        const stopped = settings.triggerEvent(type, event);\n        if (stopped) {\n          event.kill();\n        }\n      }));\n      const pasteTimeout = value$2();\n      const onPaste = bind(container, 'paste', event => {\n        tapEvent.fireIfReady(event, 'paste').each(tapStopped => {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        const stopped = settings.triggerEvent('paste', event);\n        if (stopped) {\n          event.kill();\n        }\n        pasteTimeout.set(setTimeout(() => {\n          settings.triggerEvent(postPaste(), event);\n        }, 0));\n      });\n      const onKeydown = bind(container, 'keydown', event => {\n        const stopped = settings.triggerEvent('keydown', event);\n        if (stopped) {\n          event.kill();\n        } else if (settings.stopBackspace && isDangerous(event)) {\n          event.prevent();\n        }\n      });\n      const onFocusIn = bind(container, 'focusin', event => {\n        const stopped = settings.triggerEvent('focusin', event);\n        if (stopped) {\n          event.kill();\n        }\n      });\n      const focusoutTimeout = value$2();\n      const onFocusOut = bind(container, 'focusout', event => {\n        const stopped = settings.triggerEvent('focusout', event);\n        if (stopped) {\n          event.kill();\n        }\n        focusoutTimeout.set(setTimeout(() => {\n          settings.triggerEvent(postBlur(), event);\n        }, 0));\n      });\n      const unbind = () => {\n        each$1(simpleEvents, e => {\n          e.unbind();\n        });\n        onKeydown.unbind();\n        onFocusIn.unbind();\n        onFocusOut.unbind();\n        onPaste.unbind();\n        pasteTimeout.on(clearTimeout);\n        focusoutTimeout.on(clearTimeout);\n      };\n      return { unbind };\n    };\n\n    const derive = (rawEvent, rawTarget) => {\n      const source = get$g(rawEvent, 'target').getOr(rawTarget);\n      return Cell(source);\n    };\n\n    const fromSource = (event, source) => {\n      const stopper = Cell(false);\n      const cutter = Cell(false);\n      const stop = () => {\n        stopper.set(true);\n      };\n      const cut = () => {\n        cutter.set(true);\n      };\n      return {\n        stop,\n        cut,\n        isStopped: stopper.get,\n        isCut: cutter.get,\n        event,\n        setSource: source.set,\n        getSource: source.get\n      };\n    };\n    const fromExternal = event => {\n      const stopper = Cell(false);\n      const stop = () => {\n        stopper.set(true);\n      };\n      return {\n        stop,\n        cut: noop,\n        isStopped: stopper.get,\n        isCut: never,\n        event,\n        setSource: die('Cannot set source of a broadcasted event'),\n        getSource: die('Cannot get source of a broadcasted event')\n      };\n    };\n\n    const adt$1 = Adt.generate([\n      { stopped: [] },\n      { resume: ['element'] },\n      { complete: [] }\n    ]);\n    const doTriggerHandler = (lookup, eventType, rawEvent, target, source, logger) => {\n      const handler = lookup(eventType, target);\n      const simulatedEvent = fromSource(rawEvent, source);\n      return handler.fold(() => {\n        logger.logEventNoHandlers(eventType, target);\n        return adt$1.complete();\n      }, handlerInfo => {\n        const descHandler = handlerInfo.descHandler;\n        const eventHandler = getCurried(descHandler);\n        eventHandler(simulatedEvent);\n        if (simulatedEvent.isStopped()) {\n          logger.logEventStopped(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.stopped();\n        } else if (simulatedEvent.isCut()) {\n          logger.logEventCut(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.complete();\n        } else {\n          return parent(handlerInfo.element).fold(() => {\n            logger.logNoParent(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.complete();\n          }, parent => {\n            logger.logEventResponse(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.resume(parent);\n          });\n        }\n      });\n    };\n    const doTriggerOnUntilStopped = (lookup, eventType, rawEvent, rawTarget, source, logger) => doTriggerHandler(lookup, eventType, rawEvent, rawTarget, source, logger).fold(always, parent => doTriggerOnUntilStopped(lookup, eventType, rawEvent, parent, source, logger), never);\n    const triggerHandler = (lookup, eventType, rawEvent, target, logger) => {\n      const source = derive(rawEvent, target);\n      return doTriggerHandler(lookup, eventType, rawEvent, target, source, logger);\n    };\n    const broadcast = (listeners, rawEvent, _logger) => {\n      const simulatedEvent = fromExternal(rawEvent);\n      each$1(listeners, listener => {\n        const descHandler = listener.descHandler;\n        const handler = getCurried(descHandler);\n        handler(simulatedEvent);\n      });\n      return simulatedEvent.isStopped();\n    };\n    const triggerUntilStopped = (lookup, eventType, rawEvent, logger) => triggerOnUntilStopped(lookup, eventType, rawEvent, rawEvent.target, logger);\n    const triggerOnUntilStopped = (lookup, eventType, rawEvent, rawTarget, logger) => {\n      const source = derive(rawEvent, rawTarget);\n      return doTriggerOnUntilStopped(lookup, eventType, rawEvent, rawTarget, source, logger);\n    };\n\n    const eventHandler = (element, descHandler) => ({\n      element,\n      descHandler\n    });\n    const broadcastHandler = (id, handler) => ({\n      id,\n      descHandler: handler\n    });\n    const EventRegistry = () => {\n      const registry = {};\n      const registerId = (extraArgs, id, events) => {\n        each(events, (v, k) => {\n          const handlers = registry[k] !== undefined ? registry[k] : {};\n          handlers[id] = curryArgs(v, extraArgs);\n          registry[k] = handlers;\n        });\n      };\n      const findHandler = (handlers, elem) => read$1(elem).bind(id => get$g(handlers, id)).map(descHandler => eventHandler(elem, descHandler));\n      const filterByType = type => get$g(registry, type).map(handlers => mapToArray(handlers, (f, id) => broadcastHandler(id, f))).getOr([]);\n      const find = (isAboveRoot, type, target) => get$g(registry, type).bind(handlers => closest$4(target, elem => findHandler(handlers, elem), isAboveRoot));\n      const unregisterId = id => {\n        each(registry, (handlersById, _eventName) => {\n          if (has$2(handlersById, id)) {\n            delete handlersById[id];\n          }\n        });\n      };\n      return {\n        registerId,\n        unregisterId,\n        filterByType,\n        find\n      };\n    };\n\n    const Registry = () => {\n      const events = EventRegistry();\n      const components = {};\n      const readOrTag = component => {\n        const elem = component.element;\n        return read$1(elem).getOrThunk(() => write('uid-', component.element));\n      };\n      const failOnDuplicate = (component, tagId) => {\n        const conflict = components[tagId];\n        if (conflict === component) {\n          unregister(component);\n        } else {\n          throw new Error('The tagId \"' + tagId + '\" is already used by: ' + element(conflict.element) + '\\nCannot use it for: ' + element(component.element) + '\\n' + 'The conflicting element is' + (inBody(conflict.element) ? ' ' : ' not ') + 'already in the DOM');\n        }\n      };\n      const register = component => {\n        const tagId = readOrTag(component);\n        if (hasNonNullableKey(components, tagId)) {\n          failOnDuplicate(component, tagId);\n        }\n        const extraArgs = [component];\n        events.registerId(extraArgs, tagId, component.events);\n        components[tagId] = component;\n      };\n      const unregister = component => {\n        read$1(component.element).each(tagId => {\n          delete components[tagId];\n          events.unregisterId(tagId);\n        });\n      };\n      const filter = type => events.filterByType(type);\n      const find = (isAboveRoot, type, target) => events.find(isAboveRoot, type, target);\n      const getById = id => get$g(components, id);\n      return {\n        find,\n        filter,\n        register,\n        unregister,\n        getById\n      };\n    };\n\n    const factory$j = detail => {\n      const {attributes, ...domWithoutAttributes} = detail.dom;\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: {\n            role: 'presentation',\n            ...attributes\n          },\n          ...domWithoutAttributes\n        },\n        components: detail.components,\n        behaviours: get$3(detail.containerBehaviours),\n        events: detail.events,\n        domModification: detail.domModification,\n        eventOrder: detail.eventOrder\n      };\n    };\n    const Container = single({\n      name: 'Container',\n      factory: factory$j,\n      configFields: [\n        defaulted('components', []),\n        field('containerBehaviours', []),\n        defaulted('events', {}),\n        defaulted('domModification', {}),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    const takeover = root => {\n      const isAboveRoot = el => parent(root.element).fold(always, parent => eq(el, parent));\n      const registry = Registry();\n      const lookup = (eventName, target) => registry.find(isAboveRoot, eventName, target);\n      const domEvents = setup$d(root.element, {\n        triggerEvent: (eventName, event) => {\n          return monitorEvent(eventName, event.target, logger => triggerUntilStopped(lookup, eventName, event, logger));\n        }\n      });\n      const systemApi = {\n        debugInfo: constant$1('real'),\n        triggerEvent: (eventName, target, data) => {\n          monitorEvent(eventName, target, logger => triggerOnUntilStopped(lookup, eventName, data, target, logger));\n        },\n        triggerFocus: (target, originator) => {\n          read$1(target).fold(() => {\n            focus$3(target);\n          }, _alloyId => {\n            monitorEvent(focus$4(), target, logger => {\n              triggerHandler(lookup, focus$4(), {\n                originator,\n                kill: noop,\n                prevent: noop,\n                target\n              }, target, logger);\n              return false;\n            });\n          });\n        },\n        triggerEscape: (comp, simulatedEvent) => {\n          systemApi.triggerEvent('keydown', comp.element, simulatedEvent.event);\n        },\n        getByUid: uid => {\n          return getByUid(uid);\n        },\n        getByDom: elem => {\n          return getByDom(elem);\n        },\n        build: build$1,\n        buildOrPatch: buildOrPatch,\n        addToGui: c => {\n          add(c);\n        },\n        removeFromGui: c => {\n          remove(c);\n        },\n        addToWorld: c => {\n          addToWorld(c);\n        },\n        removeFromWorld: c => {\n          removeFromWorld(c);\n        },\n        broadcast: message => {\n          broadcast$1(message);\n        },\n        broadcastOn: (channels, message) => {\n          broadcastOn(channels, message);\n        },\n        broadcastEvent: (eventName, event) => {\n          broadcastEvent(eventName, event);\n        },\n        isConnected: always\n      };\n      const addToWorld = component => {\n        component.connect(systemApi);\n        if (!isText(component.element)) {\n          registry.register(component);\n          each$1(component.components(), addToWorld);\n          systemApi.triggerEvent(systemInit(), component.element, { target: component.element });\n        }\n      };\n      const removeFromWorld = component => {\n        if (!isText(component.element)) {\n          each$1(component.components(), removeFromWorld);\n          registry.unregister(component);\n        }\n        component.disconnect();\n      };\n      const add = component => {\n        attach(root, component);\n      };\n      const remove = component => {\n        detach(component);\n      };\n      const destroy = () => {\n        domEvents.unbind();\n        remove$5(root.element);\n      };\n      const broadcastData = data => {\n        const receivers = registry.filter(receive());\n        each$1(receivers, receiver => {\n          const descHandler = receiver.descHandler;\n          const handler = getCurried(descHandler);\n          handler(data);\n        });\n      };\n      const broadcast$1 = message => {\n        broadcastData({\n          universal: true,\n          data: message\n        });\n      };\n      const broadcastOn = (channels, message) => {\n        broadcastData({\n          universal: false,\n          channels,\n          data: message\n        });\n      };\n      const broadcastEvent = (eventName, event) => {\n        const listeners = registry.filter(eventName);\n        return broadcast(listeners, event);\n      };\n      const getByUid = uid => registry.getById(uid).fold(() => Result.error(new Error('Could not find component with uid: \"' + uid + '\" in system.')), Result.value);\n      const getByDom = elem => {\n        const uid = read$1(elem).getOr('not found');\n        return getByUid(uid);\n      };\n      addToWorld(root);\n      return {\n        root,\n        element: root.element,\n        destroy,\n        add,\n        remove,\n        getByUid,\n        getByDom,\n        addToWorld,\n        removeFromWorld,\n        broadcast: broadcast$1,\n        broadcastOn,\n        broadcastEvent\n      };\n    };\n\n    const renderBar = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-bar',\n          'tox-form__controls-h-stack'\n        ]\n      },\n      components: map$2(spec.items, backstage.interpreter)\n    });\n\n    const schema$j = constant$1([\n      defaulted('prefix', 'form-field'),\n      field('fieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    const parts$d = constant$1([\n      optional({\n        schema: [required$1('dom')],\n        name: 'label'\n      }),\n      optional({\n        factory: {\n          sketch: spec => {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      required({\n        factory: {\n          sketch: spec => {\n            const excludeFactory = exclude(spec, ['factory']);\n            return spec.factory.sketch(excludeFactory);\n          }\n        },\n        schema: [required$1('factory')],\n        name: 'field'\n      })\n    ]);\n\n    const factory$i = (detail, components, _spec, _externals) => {\n      const behaviours = augment(detail.fieldBehaviours, [\n        Composing.config({\n          find: container => {\n            return getPart(container, detail, 'field');\n          }\n        }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: field => {\n              return Composing.getCurrent(field).bind(Representing.getValue);\n            },\n            setValue: (field, value) => {\n              Composing.getCurrent(field).each(current => {\n                Representing.setValue(current, value);\n              });\n            }\n          }\n        })\n      ]);\n      const events = derive$2([runOnAttached((component, _simulatedEvent) => {\n          const ps = getParts(component, detail, [\n            'label',\n            'field',\n            'aria-descriptor'\n          ]);\n          ps.field().each(field => {\n            const id = generate$6(detail.prefix);\n            ps.label().each(label => {\n              set$9(label.element, 'for', id);\n              set$9(field.element, 'id', id);\n            });\n            ps['aria-descriptor']().each(descriptor => {\n              const descriptorId = generate$6(detail.prefix);\n              set$9(descriptor.element, 'id', descriptorId);\n              set$9(field.element, 'aria-describedby', descriptorId);\n            });\n          });\n        })]);\n      const apis = {\n        getField: container => getPart(container, detail, 'field'),\n        getLabel: container => getPart(container, detail, 'label')\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours,\n        events,\n        apis\n      };\n    };\n    const FormField = composite({\n      name: 'FormField',\n      configFields: schema$j(),\n      partFields: parts$d(),\n      factory: factory$i,\n      apis: {\n        getField: (apis, comp) => apis.getField(comp),\n        getLabel: (apis, comp) => apis.getLabel(comp)\n      }\n    });\n\n    const exhibit$2 = (base, tabConfig) => nu$7({\n      attributes: wrapAll([{\n          key: tabConfig.tabAttr,\n          value: 'true'\n        }])\n    });\n\n    var ActiveTabstopping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$2\n    });\n\n    var TabstopSchema = [defaulted('tabAttr', 'data-alloy-tabstop')];\n\n    const Tabstopping = create$4({\n      fields: TabstopSchema,\n      name: 'tabstopping',\n      active: ActiveTabstopping\n    });\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n    const renderFormFieldWith = (pLabel, pField, extraClasses, extraBehaviours) => {\n      const spec = renderFormFieldSpecWith(pLabel, pField, extraClasses, extraBehaviours);\n      return FormField.sketch(spec);\n    };\n    const renderFormField = (pLabel, pField) => renderFormFieldWith(pLabel, pField, [], []);\n    const renderFormFieldSpecWith = (pLabel, pField, extraClasses, extraBehaviours) => ({\n      dom: renderFormFieldDomWith(extraClasses),\n      components: pLabel.toArray().concat([pField]),\n      fieldBehaviours: derive$1(extraBehaviours)\n    });\n    const renderFormFieldDom = () => renderFormFieldDomWith([]);\n    const renderFormFieldDomWith = extraClasses => ({\n      tag: 'div',\n      classes: ['tox-form__group'].concat(extraClasses)\n    });\n    const renderLabel$3 = (label, providersBackstage) => FormField.parts.label({\n      dom: {\n        tag: 'label',\n        classes: ['tox-label']\n      },\n      components: [text$2(providersBackstage.translate(label))]\n    });\n\n    const formChangeEvent = generate$6('form-component-change');\n    const formCloseEvent = generate$6('form-close');\n    const formCancelEvent = generate$6('form-cancel');\n    const formActionEvent = generate$6('form-action');\n    const formSubmitEvent = generate$6('form-submit');\n    const formBlockEvent = generate$6('form-block');\n    const formUnblockEvent = generate$6('form-unblock');\n    const formTabChangeEvent = generate$6('form-tabchange');\n    const formResizeEvent = generate$6('form-resize');\n\n    const renderCollection = (spec, providersBackstage, initialData) => {\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const runOnItem = f => (comp, se) => {\n        closest$1(se.event.target, '[data-collection-item-value]').each(target => {\n          f(comp, se, target, get$f(target, 'data-collection-item-value'));\n        });\n      };\n      const setContents = (comp, items) => {\n        const htmlLines = map$2(items, item => {\n          const itemText = global$8.translate(item.text);\n          const textContent = spec.columns === 1 ? `<div class=\"tox-collection__item-label\">${ itemText }</div>` : '';\n          const iconContent = `<div class=\"tox-collection__item-icon\">${ item.icon }</div>`;\n          const mapItemName = {\n            '_': ' ',\n            ' - ': ' ',\n            '-': ' '\n          };\n          const ariaLabel = itemText.replace(/\\_| \\- |\\-/g, match => mapItemName[match]);\n          const disabledClass = providersBackstage.isDisabled() ? ' tox-collection__item--state-disabled' : '';\n          return `<div class=\"tox-collection__item${ disabledClass }\" tabindex=\"-1\" data-collection-item-value=\"${ global$3.encodeAllRaw(item.value) }\" title=\"${ ariaLabel }\" aria-label=\"${ ariaLabel }\">${ iconContent }${ textContent }</div>`;\n        });\n        const chunks = spec.columns !== 'auto' && spec.columns > 1 ? chunk$1(htmlLines, spec.columns) : [htmlLines];\n        const html = map$2(chunks, ch => `<div class=\"tox-collection__group\">${ ch.join('') }</div>`);\n        set$6(comp.element, html.join(''));\n      };\n      const onClick = runOnItem((comp, se, tgt, itemValue) => {\n        se.stop();\n        if (!providersBackstage.isDisabled()) {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }\n      });\n      const collectionEvents = [\n        run$1(mouseover(), runOnItem((comp, se, tgt) => {\n          focus$3(tgt);\n        })),\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        run$1(focusin(), runOnItem((comp, se, tgt) => {\n          descendant(comp.element, '.' + activeClass).each(currentActive => {\n            remove$2(currentActive, activeClass);\n          });\n          add$2(tgt, activeClass);\n        })),\n        run$1(focusout(), runOnItem(comp => {\n          descendant(comp.element, '.' + activeClass).each(currentActive => {\n            remove$2(currentActive, activeClass);\n          });\n        })),\n        runOnExecute$1(runOnItem((comp, se, tgt, itemValue) => {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }))\n      ];\n      const iterCollectionItems = (comp, applyAttributes) => map$2(descendants(comp.element, '.tox-collection__item'), applyAttributes);\n      const pField = FormField.parts.field({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection'].concat(spec.columns !== 1 ? ['tox-collection--grid'] : ['tox-collection--list'])\n        },\n        components: [],\n        factory: { sketch: identity },\n        behaviours: derive$1([\n          Disabling.config({\n            disabled: providersBackstage.isDisabled,\n            onDisabled: comp => {\n              iterCollectionItems(comp, childElm => {\n                add$2(childElm, 'tox-collection__item--state-disabled');\n                set$9(childElm, 'aria-disabled', true);\n              });\n            },\n            onEnabled: comp => {\n              iterCollectionItems(comp, childElm => {\n                remove$2(childElm, 'tox-collection__item--state-disabled');\n                remove$7(childElm, 'aria-disabled');\n              });\n            }\n          }),\n          receivingConfig(),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: initialData.getOr([])\n            },\n            onSetValue: (comp, items) => {\n              setContents(comp, items);\n              if (spec.columns === 'auto') {\n                detectSize(comp, 5, 'tox-collection__item').each(({numRows, numColumns}) => {\n                  Keying.setGridSize(comp, numRows, numColumns);\n                });\n              }\n              emit(comp, formResizeEvent);\n            }\n          }),\n          Tabstopping.config({}),\n          Keying.config(deriveCollectionMovement(spec.columns, 'normal')),\n          config('collection-events', collectionEvents)\n        ]),\n        eventOrder: {\n          [execute$5()]: [\n            'disabling',\n            'alloy.base.behaviour',\n            'collection-events'\n          ]\n        }\n      });\n      const extraClasses = ['tox-form__group--collection'];\n      return renderFormFieldWith(pLabel, pField, extraClasses, []);\n    };\n\n    const ariaElements = [\n      'input',\n      'textarea'\n    ];\n    const isAriaElement = elem => {\n      const name = name$3(elem);\n      return contains$2(ariaElements, name);\n    };\n    const markValid = (component, invalidConfig) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      remove$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(notifyInfo => {\n        if (isAriaElement(component.element)) {\n          set$9(component.element, 'aria-invalid', false);\n        }\n        notifyInfo.getContainer(component).each(container => {\n          set$6(container, notifyInfo.validHtml);\n        });\n        notifyInfo.onValid(component);\n      });\n    };\n    const markInvalid = (component, invalidConfig, invalidState, text) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      add$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(notifyInfo => {\n        if (isAriaElement(component.element)) {\n          set$9(component.element, 'aria-invalid', true);\n        }\n        notifyInfo.getContainer(component).each(container => {\n          set$6(container, text);\n        });\n        notifyInfo.onInvalid(component, text);\n      });\n    };\n    const query = (component, invalidConfig, _invalidState) => invalidConfig.validator.fold(() => Future.pure(Result.value(true)), validatorInfo => validatorInfo.validate(component));\n    const run = (component, invalidConfig, invalidState) => {\n      invalidConfig.notify.each(notifyInfo => {\n        notifyInfo.onValidate(component);\n      });\n      return query(component, invalidConfig).map(valid => {\n        if (component.getSystem().isConnected()) {\n          return valid.fold(err => {\n            markInvalid(component, invalidConfig, invalidState, err);\n            return Result.error(err);\n          }, v => {\n            markValid(component, invalidConfig);\n            return Result.value(v);\n          });\n        } else {\n          return Result.error('No longer in system');\n        }\n      });\n    };\n    const isInvalid = (component, invalidConfig) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      return has(elem, invalidConfig.invalidClass);\n    };\n\n    var InvalidateApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        markValid: markValid,\n        markInvalid: markInvalid,\n        query: query,\n        run: run,\n        isInvalid: isInvalid\n    });\n\n    const events$8 = (invalidConfig, invalidState) => invalidConfig.validator.map(validatorInfo => derive$2([run$1(validatorInfo.onEvent, component => {\n        run(component, invalidConfig, invalidState).get(identity);\n      })].concat(validatorInfo.validateOnLoad ? [runOnAttached(component => {\n        run(component, invalidConfig, invalidState).get(noop);\n      })] : []))).getOr({});\n\n    var ActiveInvalidate = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$8\n    });\n\n    var InvalidateSchema = [\n      required$1('invalidClass'),\n      defaulted('getRoot', Optional.none),\n      optionObjOf('notify', [\n        defaulted('aria', 'alert'),\n        defaulted('getContainer', Optional.none),\n        defaulted('validHtml', ''),\n        onHandler('onValid'),\n        onHandler('onInvalid'),\n        onHandler('onValidate')\n      ]),\n      optionObjOf('validator', [\n        required$1('validate'),\n        defaulted('onEvent', 'input'),\n        defaulted('validateOnLoad', true)\n      ])\n    ];\n\n    const Invalidating = create$4({\n      fields: InvalidateSchema,\n      name: 'invalidating',\n      active: ActiveInvalidate,\n      apis: InvalidateApis,\n      extra: {\n        validation: validator => {\n          return component => {\n            const v = Representing.getValue(component);\n            return Future.pure(validator(v));\n          };\n        }\n      }\n    });\n\n    const exhibit$1 = () => nu$7({\n      styles: {\n        '-webkit-user-select': 'none',\n        'user-select': 'none',\n        '-ms-user-select': 'none',\n        '-moz-user-select': '-moz-none'\n      },\n      attributes: { unselectable: 'on' }\n    });\n    const events$7 = () => derive$2([abort(selectstart(), always)]);\n\n    var ActiveUnselecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$7,\n        exhibit: exhibit$1\n    });\n\n    const Unselecting = create$4({\n      fields: [],\n      name: 'unselecting',\n      active: ActiveUnselecting\n    });\n\n    const renderPanelButton = (spec, sharedBackstage) => Dropdown.sketch({\n      dom: spec.dom,\n      components: spec.components,\n      toggleClass: 'mce-active',\n      dropdownBehaviours: derive$1([\n        DisablingConfigs.button(sharedBackstage.providers.isDisabled),\n        receivingConfig(),\n        Unselecting.config({}),\n        Tabstopping.config({})\n      ]),\n      layouts: spec.layouts,\n      sandboxClasses: ['tox-dialog__popups'],\n      lazySink: sharedBackstage.getSink,\n      fetch: comp => Future.nu(callback => spec.fetch(callback)).map(items => Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n        spec.onItemAction(comp, value);\n      }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, never, sharedBackstage.providers), { movement: deriveMenuMovement(spec.columns, spec.presets) })))),\n      parts: { menu: part(false, 1, spec.presets) }\n    });\n\n    const colorInputChangeEvent = generate$6('color-input-change');\n    const colorSwatchChangeEvent = generate$6('color-swatch-change');\n    const colorPickerCancelEvent = generate$6('color-picker-cancel');\n    const renderColorInput = (spec, sharedBackstage, colorInputBackstage, initialData) => {\n      const pField = FormField.parts.field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        data: initialData,\n        onSetValue: c => Invalidating.run(c).get(noop),\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: sharedBackstage.providers.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Invalidating.config({\n            invalidClass: 'tox-textbox-field-invalid',\n            getRoot: comp => parentElement(comp.element),\n            notify: {\n              onValid: comp => {\n                const val = Representing.getValue(comp);\n                emitWith(comp, colorInputChangeEvent, { color: val });\n              }\n            },\n            validator: {\n              validateOnLoad: false,\n              validate: input => {\n                const inputValue = Representing.getValue(input);\n                if (inputValue.length === 0) {\n                  return Future.pure(Result.value(true));\n                } else {\n                  const span = SugarElement.fromTag('span');\n                  set$8(span, 'background-color', inputValue);\n                  const res = getRaw(span, 'background-color').fold(() => Result.error('blah'), _ => Result.value(inputValue));\n                  return Future.pure(res);\n                }\n              }\n            }\n          })\n        ]),\n        selectOnFocus: false\n      });\n      const pLabel = spec.label.map(label => renderLabel$3(label, sharedBackstage.providers));\n      const emitSwatchChange = (colorBit, value) => {\n        emitWith(colorBit, colorSwatchChangeEvent, { value });\n      };\n      const onItemAction = (comp, value) => {\n        memColorButton.getOpt(comp).each(colorBit => {\n          if (value === 'custom') {\n            colorInputBackstage.colorPicker(valueOpt => {\n              valueOpt.fold(() => emit(colorBit, colorPickerCancelEvent), value => {\n                emitSwatchChange(colorBit, value);\n                addColor(spec.storageKey, value);\n              });\n            }, '#ffffff');\n          } else if (value === 'remove') {\n            emitSwatchChange(colorBit, '');\n          } else {\n            emitSwatchChange(colorBit, value);\n          }\n        });\n      };\n      const memColorButton = record(renderPanelButton({\n        dom: {\n          tag: 'span',\n          attributes: { 'aria-label': sharedBackstage.providers.translate('Color swatch') }\n        },\n        layouts: {\n          onRtl: () => [\n            southwest$2,\n            southeast$2,\n            south$2\n          ],\n          onLtr: () => [\n            southeast$2,\n            southwest$2,\n            south$2\n          ]\n        },\n        components: [],\n        fetch: getFetch$1(colorInputBackstage.getColors(spec.storageKey), spec.storageKey, colorInputBackstage.hasCustomColors()),\n        columns: colorInputBackstage.getColorCols(spec.storageKey),\n        presets: 'color',\n        onItemAction\n      }, sharedBackstage));\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: pLabel.toArray().concat([{\n            dom: {\n              tag: 'div',\n              classes: ['tox-color-input']\n            },\n            components: [\n              pField,\n              memColorButton.asSpec()\n            ]\n          }]),\n        fieldBehaviours: derive$1([config('form-field-events', [\n            run$1(colorInputChangeEvent, (comp, se) => {\n              memColorButton.getOpt(comp).each(colorButton => {\n                set$8(colorButton.element, 'background-color', se.event.color);\n              });\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            }),\n            run$1(colorSwatchChangeEvent, (comp, se) => {\n              FormField.getField(comp).each(field => {\n                Representing.setValue(field, se.event.value);\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            }),\n            run$1(colorPickerCancelEvent, (comp, _se) => {\n              FormField.getField(comp).each(_field => {\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            })\n          ])])\n      });\n    };\n\n    const labelPart = optional({\n      schema: [required$1('dom')],\n      name: 'label'\n    });\n    const edgePart = name => optional({\n      name: '' + name + '-edge',\n      overrides: detail => {\n        const action = detail.model.manager.edgeActions[name];\n        return action.fold(() => ({}), a => ({\n          events: derive$2([\n            runActionExtra(touchstart(), (comp, se, d) => a(comp, d), [detail]),\n            runActionExtra(mousedown(), (comp, se, d) => a(comp, d), [detail]),\n            runActionExtra(mousemove(), (comp, se, det) => {\n              if (det.mouseIsDown.get()) {\n                a(comp, det);\n              }\n            }, [detail])\n          ])\n        }));\n      }\n    });\n    const tlEdgePart = edgePart('top-left');\n    const tedgePart = edgePart('top');\n    const trEdgePart = edgePart('top-right');\n    const redgePart = edgePart('right');\n    const brEdgePart = edgePart('bottom-right');\n    const bedgePart = edgePart('bottom');\n    const blEdgePart = edgePart('bottom-left');\n    const ledgePart = edgePart('left');\n    const thumbPart = required({\n      name: 'thumb',\n      defaults: constant$1({ dom: { styles: { position: 'absolute' } } }),\n      overrides: detail => {\n        return {\n          events: derive$2([\n            redirectToPart(touchstart(), detail, 'spectrum'),\n            redirectToPart(touchmove(), detail, 'spectrum'),\n            redirectToPart(touchend(), detail, 'spectrum'),\n            redirectToPart(mousedown(), detail, 'spectrum'),\n            redirectToPart(mousemove(), detail, 'spectrum'),\n            redirectToPart(mouseup(), detail, 'spectrum')\n          ])\n        };\n      }\n    });\n    const spectrumPart = required({\n      schema: [customField('mouseIsDown', () => Cell(false))],\n      name: 'spectrum',\n      overrides: detail => {\n        const modelDetail = detail.model;\n        const model = modelDetail.manager;\n        const setValueFrom = (component, simulatedEvent) => model.getValueFromEvent(simulatedEvent).map(value => model.setValueFrom(component, detail, value));\n        return {\n          behaviours: derive$1([\n            Keying.config({\n              mode: 'special',\n              onLeft: spectrum => model.onLeft(spectrum, detail),\n              onRight: spectrum => model.onRight(spectrum, detail),\n              onUp: spectrum => model.onUp(spectrum, detail),\n              onDown: spectrum => model.onDown(spectrum, detail)\n            }),\n            Focusing.config({})\n          ]),\n          events: derive$2([\n            run$1(touchstart(), setValueFrom),\n            run$1(touchmove(), setValueFrom),\n            run$1(mousedown(), setValueFrom),\n            run$1(mousemove(), (spectrum, se) => {\n              if (detail.mouseIsDown.get()) {\n                setValueFrom(spectrum, se);\n              }\n            })\n          ])\n        };\n      }\n    });\n    var SliderParts = [\n      labelPart,\n      ledgePart,\n      redgePart,\n      tedgePart,\n      bedgePart,\n      tlEdgePart,\n      trEdgePart,\n      blEdgePart,\n      brEdgePart,\n      thumbPart,\n      spectrumPart\n    ];\n\n    const _sliderChangeEvent = 'slider.change.value';\n    const sliderChangeEvent = constant$1(_sliderChangeEvent);\n    const isTouchEvent$2 = evt => evt.type.indexOf('touch') !== -1;\n    const getEventSource = simulatedEvent => {\n      const evt = simulatedEvent.event.raw;\n      if (isTouchEvent$2(evt)) {\n        const touchEvent = evt;\n        return touchEvent.touches !== undefined && touchEvent.touches.length === 1 ? Optional.some(touchEvent.touches[0]).map(t => SugarPosition(t.clientX, t.clientY)) : Optional.none();\n      } else {\n        const mouseEvent = evt;\n        return mouseEvent.clientX !== undefined ? Optional.some(mouseEvent).map(me => SugarPosition(me.clientX, me.clientY)) : Optional.none();\n      }\n    };\n\n    const t = 'top', r = 'right', b = 'bottom', l = 'left';\n    const minX = detail => detail.model.minX;\n    const minY = detail => detail.model.minY;\n    const min1X = detail => detail.model.minX - 1;\n    const min1Y = detail => detail.model.minY - 1;\n    const maxX = detail => detail.model.maxX;\n    const maxY = detail => detail.model.maxY;\n    const max1X = detail => detail.model.maxX + 1;\n    const max1Y = detail => detail.model.maxY + 1;\n    const range = (detail, max, min) => max(detail) - min(detail);\n    const xRange = detail => range(detail, maxX, minX);\n    const yRange = detail => range(detail, maxY, minY);\n    const halfX = detail => xRange(detail) / 2;\n    const halfY = detail => yRange(detail) / 2;\n    const step = detail => detail.stepSize;\n    const snap = detail => detail.snapToGrid;\n    const snapStart = detail => detail.snapStart;\n    const rounded = detail => detail.rounded;\n    const hasEdge = (detail, edgeName) => detail[edgeName + '-edge'] !== undefined;\n    const hasLEdge = detail => hasEdge(detail, l);\n    const hasREdge = detail => hasEdge(detail, r);\n    const hasTEdge = detail => hasEdge(detail, t);\n    const hasBEdge = detail => hasEdge(detail, b);\n    const currentValue = detail => detail.model.value.get();\n\n    const xyValue = (x, y) => ({\n      x,\n      y\n    });\n    const fireSliderChange$3 = (component, value) => {\n      emitWith(component, sliderChangeEvent(), { value });\n    };\n    const setToTLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), min1Y(detail)));\n    };\n    const setToTEdge = (edge, detail) => {\n      fireSliderChange$3(edge, min1Y(detail));\n    };\n    const setToTEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(halfX(detail), min1Y(detail)));\n    };\n    const setToTREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), min1Y(detail)));\n    };\n    const setToREdge = (edge, detail) => {\n      fireSliderChange$3(edge, max1X(detail));\n    };\n    const setToREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), halfY(detail)));\n    };\n    const setToBREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), max1Y(detail)));\n    };\n    const setToBEdge = (edge, detail) => {\n      fireSliderChange$3(edge, max1Y(detail));\n    };\n    const setToBEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(halfX(detail), max1Y(detail)));\n    };\n    const setToBLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), max1Y(detail)));\n    };\n    const setToLEdge = (edge, detail) => {\n      fireSliderChange$3(edge, min1X(detail));\n    };\n    const setToLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), halfY(detail)));\n    };\n\n    const reduceBy = (value, min, max, step) => {\n      if (value < min) {\n        return value;\n      } else if (value > max) {\n        return max;\n      } else if (value === min) {\n        return min - 1;\n      } else {\n        return Math.max(min, value - step);\n      }\n    };\n    const increaseBy = (value, min, max, step) => {\n      if (value > max) {\n        return value;\n      } else if (value < min) {\n        return min;\n      } else if (value === max) {\n        return max + 1;\n      } else {\n        return Math.min(max, value + step);\n      }\n    };\n    const capValue = (value, min, max) => Math.max(min, Math.min(max, value));\n    const snapValueOf = (value, min, max, step, snapStart) => snapStart.fold(() => {\n      const initValue = value - min;\n      const extraValue = Math.round(initValue / step) * step;\n      return capValue(min + extraValue, min - 1, max + 1);\n    }, start => {\n      const remainder = (value - start) % step;\n      const adjustment = Math.round(remainder / step);\n      const rawSteps = Math.floor((value - start) / step);\n      const maxSteps = Math.floor((max - start) / step);\n      const numSteps = Math.min(maxSteps, rawSteps + adjustment);\n      const r = start + numSteps * step;\n      return Math.max(start, r);\n    });\n    const findOffsetOf = (value, min, max) => Math.min(max, Math.max(value, min)) - min;\n    const findValueOf = args => {\n      const {min, max, range, value, step, snap, snapStart, rounded, hasMinEdge, hasMaxEdge, minBound, maxBound, screenRange} = args;\n      const capMin = hasMinEdge ? min - 1 : min;\n      const capMax = hasMaxEdge ? max + 1 : max;\n      if (value < minBound) {\n        return capMin;\n      } else if (value > maxBound) {\n        return capMax;\n      } else {\n        const offset = findOffsetOf(value, minBound, maxBound);\n        const newValue = capValue(offset / screenRange * range + min, capMin, capMax);\n        if (snap && newValue >= min && newValue <= max) {\n          return snapValueOf(newValue, min, max, step, snapStart);\n        } else if (rounded) {\n          return Math.round(newValue);\n        } else {\n          return newValue;\n        }\n      }\n    };\n    const findOffsetOfValue$2 = args => {\n      const {min, max, range, value, hasMinEdge, hasMaxEdge, maxBound, maxOffset, centerMinEdge, centerMaxEdge} = args;\n      if (value < min) {\n        return hasMinEdge ? 0 : centerMinEdge;\n      } else if (value > max) {\n        return hasMaxEdge ? maxBound : centerMaxEdge;\n      } else {\n        return (value - min) / range * maxOffset;\n      }\n    };\n\n    const top = 'top', right = 'right', bottom = 'bottom', left = 'left', width = 'width', height = 'height';\n    const getBounds = component => component.element.dom.getBoundingClientRect();\n    const getBoundsProperty = (bounds, property) => bounds[property];\n    const getMinXBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, left);\n    };\n    const getMaxXBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, right);\n    };\n    const getMinYBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, top);\n    };\n    const getMaxYBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, bottom);\n    };\n    const getXScreenRange = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, width);\n    };\n    const getYScreenRange = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, height);\n    };\n    const getCenterOffsetOf = (componentMinEdge, componentMaxEdge, spectrumMinEdge) => (componentMinEdge + componentMaxEdge) / 2 - spectrumMinEdge;\n    const getXCenterOffSetOf = (component, spectrum) => {\n      const componentBounds = getBounds(component);\n      const spectrumBounds = getBounds(spectrum);\n      const componentMinEdge = getBoundsProperty(componentBounds, left);\n      const componentMaxEdge = getBoundsProperty(componentBounds, right);\n      const spectrumMinEdge = getBoundsProperty(spectrumBounds, left);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n    const getYCenterOffSetOf = (component, spectrum) => {\n      const componentBounds = getBounds(component);\n      const spectrumBounds = getBounds(spectrum);\n      const componentMinEdge = getBoundsProperty(componentBounds, top);\n      const componentMaxEdge = getBoundsProperty(componentBounds, bottom);\n      const spectrumMinEdge = getBoundsProperty(spectrumBounds, top);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n\n    const fireSliderChange$2 = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const findValueOfOffset$1 = (spectrum, detail, left) => {\n      const args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value: left,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        maxBound: getMaxXBounds(spectrum),\n        screenRange: getXScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    const setValueFrom$2 = (spectrum, detail, value) => {\n      const xValue = findValueOfOffset$1(spectrum, detail, value);\n      const sliderVal = xValue;\n      fireSliderChange$2(spectrum, sliderVal);\n      return xValue;\n    };\n    const setToMin$2 = (spectrum, detail) => {\n      const min = minX(detail);\n      fireSliderChange$2(spectrum, min);\n    };\n    const setToMax$2 = (spectrum, detail) => {\n      const max = maxX(detail);\n      fireSliderChange$2(spectrum, max);\n    };\n    const moveBy$2 = (direction, spectrum, detail) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const xValue = f(currentValue(detail), minX(detail), maxX(detail), step(detail));\n      fireSliderChange$2(spectrum, xValue);\n      return Optional.some(xValue);\n    };\n    const handleMovement$2 = direction => (spectrum, detail) => moveBy$2(direction, spectrum, detail).map(always);\n    const getValueFromEvent$2 = simulatedEvent => {\n      const pos = getEventSource(simulatedEvent);\n      return pos.map(p => p.left);\n    };\n    const findOffsetOfValue$1 = (spectrum, detail, value, minEdge, maxEdge) => {\n      const minOffset = 0;\n      const maxOffset = getXScreenRange(spectrum);\n      const centerMinEdge = minEdge.bind(edge => Optional.some(getXCenterOffSetOf(edge, spectrum))).getOr(minOffset);\n      const centerMaxEdge = maxEdge.bind(edge => Optional.some(getXCenterOffSetOf(edge, spectrum))).getOr(maxOffset);\n      const args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value,\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        minOffset,\n        maxBound: getMaxXBounds(spectrum),\n        maxOffset,\n        centerMinEdge,\n        centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    const findPositionOfValue$1 = (slider, spectrum, value, minEdge, maxEdge, detail) => {\n      const offset = findOffsetOfValue$1(spectrum, detail, value, minEdge, maxEdge);\n      return getMinXBounds(spectrum) - getMinXBounds(slider) + offset;\n    };\n    const setPositionFromValue$2 = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const pos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      const thumbRadius = get$c(thumb.element) / 2;\n      set$8(thumb.element, 'left', pos - thumbRadius + 'px');\n    };\n    const onLeft$2 = handleMovement$2(-1);\n    const onRight$2 = handleMovement$2(1);\n    const onUp$2 = Optional.none;\n    const onDown$2 = Optional.none;\n    const edgeActions$2 = {\n      'top-left': Optional.none(),\n      'top': Optional.none(),\n      'top-right': Optional.none(),\n      'right': Optional.some(setToREdge),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.none(),\n      'bottom-left': Optional.none(),\n      'left': Optional.some(setToLEdge)\n    };\n\n    var HorizontalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$2,\n        setToMin: setToMin$2,\n        setToMax: setToMax$2,\n        findValueOfOffset: findValueOfOffset$1,\n        getValueFromEvent: getValueFromEvent$2,\n        findPositionOfValue: findPositionOfValue$1,\n        setPositionFromValue: setPositionFromValue$2,\n        onLeft: onLeft$2,\n        onRight: onRight$2,\n        onUp: onUp$2,\n        onDown: onDown$2,\n        edgeActions: edgeActions$2\n    });\n\n    const fireSliderChange$1 = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const findValueOfOffset = (spectrum, detail, top) => {\n      const args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value: top,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        maxBound: getMaxYBounds(spectrum),\n        screenRange: getYScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    const setValueFrom$1 = (spectrum, detail, value) => {\n      const yValue = findValueOfOffset(spectrum, detail, value);\n      const sliderVal = yValue;\n      fireSliderChange$1(spectrum, sliderVal);\n      return yValue;\n    };\n    const setToMin$1 = (spectrum, detail) => {\n      const min = minY(detail);\n      fireSliderChange$1(spectrum, min);\n    };\n    const setToMax$1 = (spectrum, detail) => {\n      const max = maxY(detail);\n      fireSliderChange$1(spectrum, max);\n    };\n    const moveBy$1 = (direction, spectrum, detail) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const yValue = f(currentValue(detail), minY(detail), maxY(detail), step(detail));\n      fireSliderChange$1(spectrum, yValue);\n      return Optional.some(yValue);\n    };\n    const handleMovement$1 = direction => (spectrum, detail) => moveBy$1(direction, spectrum, detail).map(always);\n    const getValueFromEvent$1 = simulatedEvent => {\n      const pos = getEventSource(simulatedEvent);\n      return pos.map(p => {\n        return p.top;\n      });\n    };\n    const findOffsetOfValue = (spectrum, detail, value, minEdge, maxEdge) => {\n      const minOffset = 0;\n      const maxOffset = getYScreenRange(spectrum);\n      const centerMinEdge = minEdge.bind(edge => Optional.some(getYCenterOffSetOf(edge, spectrum))).getOr(minOffset);\n      const centerMaxEdge = maxEdge.bind(edge => Optional.some(getYCenterOffSetOf(edge, spectrum))).getOr(maxOffset);\n      const args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value,\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        minOffset,\n        maxBound: getMaxYBounds(spectrum),\n        maxOffset,\n        centerMinEdge,\n        centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    const findPositionOfValue = (slider, spectrum, value, minEdge, maxEdge, detail) => {\n      const offset = findOffsetOfValue(spectrum, detail, value, minEdge, maxEdge);\n      return getMinYBounds(spectrum) - getMinYBounds(slider) + offset;\n    };\n    const setPositionFromValue$1 = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const pos = findPositionOfValue(slider, edges.getSpectrum(slider), value, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      const thumbRadius = get$d(thumb.element) / 2;\n      set$8(thumb.element, 'top', pos - thumbRadius + 'px');\n    };\n    const onLeft$1 = Optional.none;\n    const onRight$1 = Optional.none;\n    const onUp$1 = handleMovement$1(-1);\n    const onDown$1 = handleMovement$1(1);\n    const edgeActions$1 = {\n      'top-left': Optional.none(),\n      'top': Optional.some(setToTEdge),\n      'top-right': Optional.none(),\n      'right': Optional.none(),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.some(setToBEdge),\n      'bottom-left': Optional.none(),\n      'left': Optional.none()\n    };\n\n    var VerticalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$1,\n        setToMin: setToMin$1,\n        setToMax: setToMax$1,\n        findValueOfOffset: findValueOfOffset,\n        getValueFromEvent: getValueFromEvent$1,\n        findPositionOfValue: findPositionOfValue,\n        setPositionFromValue: setPositionFromValue$1,\n        onLeft: onLeft$1,\n        onRight: onRight$1,\n        onUp: onUp$1,\n        onDown: onDown$1,\n        edgeActions: edgeActions$1\n    });\n\n    const fireSliderChange = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const sliderValue = (x, y) => ({\n      x,\n      y\n    });\n    const setValueFrom = (spectrum, detail, value) => {\n      const xValue = findValueOfOffset$1(spectrum, detail, value.left);\n      const yValue = findValueOfOffset(spectrum, detail, value.top);\n      const val = sliderValue(xValue, yValue);\n      fireSliderChange(spectrum, val);\n      return val;\n    };\n    const moveBy = (direction, isVerticalMovement, spectrum, detail) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const xValue = isVerticalMovement ? currentValue(detail).x : f(currentValue(detail).x, minX(detail), maxX(detail), step(detail));\n      const yValue = !isVerticalMovement ? currentValue(detail).y : f(currentValue(detail).y, minY(detail), maxY(detail), step(detail));\n      fireSliderChange(spectrum, sliderValue(xValue, yValue));\n      return Optional.some(xValue);\n    };\n    const handleMovement = (direction, isVerticalMovement) => (spectrum, detail) => moveBy(direction, isVerticalMovement, spectrum, detail).map(always);\n    const setToMin = (spectrum, detail) => {\n      const mX = minX(detail);\n      const mY = minY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    const setToMax = (spectrum, detail) => {\n      const mX = maxX(detail);\n      const mY = maxY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    const getValueFromEvent = simulatedEvent => getEventSource(simulatedEvent);\n    const setPositionFromValue = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const xPos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.x, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      const yPos = findPositionOfValue(slider, edges.getSpectrum(slider), value.y, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      const thumbXRadius = get$c(thumb.element) / 2;\n      const thumbYRadius = get$d(thumb.element) / 2;\n      set$8(thumb.element, 'left', xPos - thumbXRadius + 'px');\n      set$8(thumb.element, 'top', yPos - thumbYRadius + 'px');\n    };\n    const onLeft = handleMovement(-1, false);\n    const onRight = handleMovement(1, false);\n    const onUp = handleMovement(-1, true);\n    const onDown = handleMovement(1, true);\n    const edgeActions = {\n      'top-left': Optional.some(setToTLEdgeXY),\n      'top': Optional.some(setToTEdgeXY),\n      'top-right': Optional.some(setToTREdgeXY),\n      'right': Optional.some(setToREdgeXY),\n      'bottom-right': Optional.some(setToBREdgeXY),\n      'bottom': Optional.some(setToBEdgeXY),\n      'bottom-left': Optional.some(setToBLEdgeXY),\n      'left': Optional.some(setToLEdgeXY)\n    };\n\n    var TwoDModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom,\n        setToMin: setToMin,\n        setToMax: setToMax,\n        getValueFromEvent: getValueFromEvent,\n        setPositionFromValue: setPositionFromValue,\n        onLeft: onLeft,\n        onRight: onRight,\n        onUp: onUp,\n        onDown: onDown,\n        edgeActions: edgeActions\n    });\n\n    const SliderSchema = [\n      defaulted('stepSize', 1),\n      defaulted('onChange', noop),\n      defaulted('onChoose', noop),\n      defaulted('onInit', noop),\n      defaulted('onDragStart', noop),\n      defaulted('onDragEnd', noop),\n      defaulted('snapToGrid', false),\n      defaulted('rounded', true),\n      option$3('snapStart'),\n      requiredOf('model', choose$1('mode', {\n        x: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          customField('value', spec => Cell(spec.mode.minX)),\n          required$1('getInitialValue'),\n          output$1('manager', HorizontalModel)\n        ],\n        y: [\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', spec => Cell(spec.mode.minY)),\n          required$1('getInitialValue'),\n          output$1('manager', VerticalModel)\n        ],\n        xy: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', spec => Cell({\n            x: spec.mode.minX,\n            y: spec.mode.minY\n          })),\n          required$1('getInitialValue'),\n          output$1('manager', TwoDModel)\n        ]\n      })),\n      field('sliderBehaviours', [\n        Keying,\n        Representing\n      ]),\n      customField('mouseIsDown', () => Cell(false))\n    ];\n\n    const sketch$2 = (detail, components, _spec, _externals) => {\n      const getThumb = component => getPartOrDie(component, detail, 'thumb');\n      const getSpectrum = component => getPartOrDie(component, detail, 'spectrum');\n      const getLeftEdge = component => getPart(component, detail, 'left-edge');\n      const getRightEdge = component => getPart(component, detail, 'right-edge');\n      const getTopEdge = component => getPart(component, detail, 'top-edge');\n      const getBottomEdge = component => getPart(component, detail, 'bottom-edge');\n      const modelDetail = detail.model;\n      const model = modelDetail.manager;\n      const refresh = (slider, thumb) => {\n        model.setPositionFromValue(slider, thumb, detail, {\n          getLeftEdge,\n          getRightEdge,\n          getTopEdge,\n          getBottomEdge,\n          getSpectrum\n        });\n      };\n      const setValue = (slider, newValue) => {\n        modelDetail.value.set(newValue);\n        const thumb = getThumb(slider);\n        refresh(slider, thumb);\n      };\n      const changeValue = (slider, newValue) => {\n        setValue(slider, newValue);\n        const thumb = getThumb(slider);\n        detail.onChange(slider, thumb, newValue);\n        return Optional.some(true);\n      };\n      const resetToMin = slider => {\n        model.setToMin(slider, detail);\n      };\n      const resetToMax = slider => {\n        model.setToMax(slider, detail);\n      };\n      const choose = slider => {\n        const fireOnChoose = () => {\n          getPart(slider, detail, 'thumb').each(thumb => {\n            const value = modelDetail.value.get();\n            detail.onChoose(slider, thumb, value);\n          });\n        };\n        const wasDown = detail.mouseIsDown.get();\n        detail.mouseIsDown.set(false);\n        if (wasDown) {\n          fireOnChoose();\n        }\n      };\n      const onDragStart = (slider, simulatedEvent) => {\n        simulatedEvent.stop();\n        detail.mouseIsDown.set(true);\n        detail.onDragStart(slider, getThumb(slider));\n      };\n      const onDragEnd = (slider, simulatedEvent) => {\n        simulatedEvent.stop();\n        detail.onDragEnd(slider, getThumb(slider));\n        choose(slider);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.sliderBehaviours, [\n          Keying.config({\n            mode: 'special',\n            focusIn: slider => {\n              return getPart(slider, detail, 'spectrum').map(Keying.focusIn).map(always);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: _ => {\n                return modelDetail.value.get();\n              },\n              setValue\n            }\n          }),\n          Receiving.config({ channels: { [mouseReleased()]: { onReceive: choose } } })\n        ]),\n        events: derive$2([\n          run$1(sliderChangeEvent(), (slider, simulatedEvent) => {\n            changeValue(slider, simulatedEvent.event.value);\n          }),\n          runOnAttached((slider, _simulatedEvent) => {\n            const getInitial = modelDetail.getInitialValue();\n            modelDetail.value.set(getInitial);\n            const thumb = getThumb(slider);\n            refresh(slider, thumb);\n            const spectrum = getSpectrum(slider);\n            detail.onInit(slider, thumb, spectrum, modelDetail.value.get());\n          }),\n          run$1(touchstart(), onDragStart),\n          run$1(touchend(), onDragEnd),\n          run$1(mousedown(), onDragStart),\n          run$1(mouseup(), onDragEnd)\n        ]),\n        apis: {\n          resetToMin,\n          resetToMax,\n          setValue,\n          refresh\n        },\n        domModification: { styles: { position: 'relative' } }\n      };\n    };\n\n    const Slider = composite({\n      name: 'Slider',\n      configFields: SliderSchema,\n      partFields: SliderParts,\n      factory: sketch$2,\n      apis: {\n        setValue: (apis, slider, value) => {\n          apis.setValue(slider, value);\n        },\n        resetToMin: (apis, slider) => {\n          apis.resetToMin(slider);\n        },\n        resetToMax: (apis, slider) => {\n          apis.resetToMax(slider);\n        },\n        refresh: (apis, slider) => {\n          apis.refresh(slider);\n        }\n      }\n    });\n\n    const fieldsUpdate = generate$6('rgb-hex-update');\n    const sliderUpdate = generate$6('slider-update');\n    const paletteUpdate = generate$6('palette-update');\n\n    const sliderFactory = (translate, getClass) => {\n      const spectrum = Slider.parts.spectrum({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-spectrum')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      const thumb = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-thumb')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider')],\n          attributes: { role: 'presentation' }\n        },\n        rounded: false,\n        model: {\n          mode: 'y',\n          getInitialValue: constant$1(0)\n        },\n        components: [\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([Focusing.config({})]),\n        onChange: (slider, _thumb, value) => {\n          emitWith(slider, sliderUpdate, { value });\n        }\n      });\n    };\n\n    const owner$1 = 'form';\n    const schema$i = [field('formBehaviours', [Representing])];\n    const getPartName$1 = name => '<alloy.field.' + name + '>';\n    const sketch$1 = fSpec => {\n      const parts = (() => {\n        const record = [];\n        const field = (name, config) => {\n          record.push(name);\n          return generateOne$1(owner$1, getPartName$1(name), config);\n        };\n        return {\n          field,\n          record: constant$1(record)\n        };\n      })();\n      const spec = fSpec(parts);\n      const partNames = parts.record();\n      const fieldParts = map$2(partNames, n => required({\n        name: n,\n        pname: getPartName$1(n)\n      }));\n      return composite$1(owner$1, schema$i, fieldParts, make$4, spec);\n    };\n    const toResult = (o, e) => o.fold(() => Result.error(e), Result.value);\n    const make$4 = (detail, components) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: augment(detail.formBehaviours, [Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: form => {\n              const resPs = getAllParts(form, detail);\n              return map$1(resPs, (resPThunk, pName) => resPThunk().bind(v => {\n                const opt = Composing.getCurrent(v);\n                return toResult(opt, new Error(`Cannot find a current component to extract the value from for form part '${ pName }': ` + element(v.element)));\n              }).map(Representing.getValue));\n            },\n            setValue: (form, values) => {\n              each(values, (newValue, key) => {\n                getPart(form, detail, key).each(wrapper => {\n                  Composing.getCurrent(wrapper).each(field => {\n                    Representing.setValue(field, newValue);\n                  });\n                });\n              });\n            }\n          }\n        })]),\n      apis: {\n        getField: (form, key) => {\n          return getPart(form, detail, key).bind(Composing.getCurrent);\n        }\n      }\n    });\n    const Form = {\n      getField: makeApi((apis, component, key) => apis.getField(component, key)),\n      sketch: sketch$1\n    };\n\n    const validInput = generate$6('valid-input');\n    const invalidInput = generate$6('invalid-input');\n    const validatingInput = generate$6('validating-input');\n    const translatePrefix = 'colorcustom.rgb.';\n    const rgbFormFactory = (translate, getClass, onValidHexx, onInvalidHexx) => {\n      const invalidation = (label, isValid) => Invalidating.config({\n        invalidClass: getClass('invalid'),\n        notify: {\n          onValidate: comp => {\n            emitWith(comp, validatingInput, { type: label });\n          },\n          onValid: comp => {\n            emitWith(comp, validInput, {\n              type: label,\n              value: Representing.getValue(comp)\n            });\n          },\n          onInvalid: comp => {\n            emitWith(comp, invalidInput, {\n              type: label,\n              value: Representing.getValue(comp)\n            });\n          }\n        },\n        validator: {\n          validate: comp => {\n            const value = Representing.getValue(comp);\n            const res = isValid(value) ? Result.value(true) : Result.error(translate('aria.input.invalid'));\n            return Future.pure(res);\n          },\n          validateOnLoad: false\n        }\n      });\n      const renderTextField = (isValid, name, label, description, data) => {\n        const helptext = translate(translatePrefix + 'range');\n        const pLabel = FormField.parts.label({\n          dom: {\n            tag: 'label',\n            attributes: { 'aria-label': description }\n          },\n          components: [text$2(label)]\n        });\n        const pField = FormField.parts.field({\n          data,\n          factory: Input,\n          inputAttributes: {\n            type: 'text',\n            ...name === 'hex' ? { 'aria-live': 'polite' } : {}\n          },\n          inputClasses: [getClass('textfield')],\n          inputBehaviours: derive$1([\n            invalidation(name, isValid),\n            Tabstopping.config({})\n          ]),\n          onSetValue: input => {\n            if (Invalidating.isInvalid(input)) {\n              const run = Invalidating.run(input);\n              run.get(noop);\n            }\n          }\n        });\n        const comps = [\n          pLabel,\n          pField\n        ];\n        const concats = name !== 'hex' ? [FormField.parts['aria-descriptor']({ text: helptext })] : [];\n        const components = comps.concat(concats);\n        return {\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' }\n          },\n          components\n        };\n      };\n      const copyRgbToHex = (form, rgba) => {\n        const hex = fromRgba(rgba);\n        Form.getField(form, 'hex').each(hexField => {\n          if (!Focusing.isFocused(hexField)) {\n            Representing.setValue(form, { hex: hex.value });\n          }\n        });\n        return hex;\n      };\n      const copyRgbToForm = (form, rgb) => {\n        const red = rgb.red;\n        const green = rgb.green;\n        const blue = rgb.blue;\n        Representing.setValue(form, {\n          red,\n          green,\n          blue\n        });\n      };\n      const memPreview = record({\n        dom: {\n          tag: 'div',\n          classes: [getClass('rgba-preview')],\n          styles: { 'background-color': 'white' },\n          attributes: { role: 'presentation' }\n        }\n      });\n      const updatePreview = (anyInSystem, hex) => {\n        memPreview.getOpt(anyInSystem).each(preview => {\n          set$8(preview.element, 'background-color', '#' + hex.value);\n        });\n      };\n      const factory = () => {\n        const state = {\n          red: Cell(Optional.some(255)),\n          green: Cell(Optional.some(255)),\n          blue: Cell(Optional.some(255)),\n          hex: Cell(Optional.some('ffffff'))\n        };\n        const copyHexToRgb = (form, hex) => {\n          const rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n        };\n        const get = prop => state[prop].get();\n        const set = (prop, value) => {\n          state[prop].set(value);\n        };\n        const getValueRgb = () => get('red').bind(red => get('green').bind(green => get('blue').map(blue => rgbaColour(red, green, blue, 1))));\n        const setValueRgb = rgb => {\n          const red = rgb.red;\n          const green = rgb.green;\n          const blue = rgb.blue;\n          set('red', Optional.some(red));\n          set('green', Optional.some(green));\n          set('blue', Optional.some(blue));\n        };\n        const onInvalidInput = (form, simulatedEvent) => {\n          const data = simulatedEvent.event;\n          if (data.type !== 'hex') {\n            set(data.type, Optional.none());\n          } else {\n            onInvalidHexx(form);\n          }\n        };\n        const onValidHex = (form, value) => {\n          onValidHexx(form);\n          const hex = hexColour(value);\n          set('hex', Optional.some(hex.value));\n          const rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n          emitWith(form, fieldsUpdate, { hex });\n          updatePreview(form, hex);\n        };\n        const onValidRgb = (form, prop, value) => {\n          const val = parseInt(value, 10);\n          set(prop, Optional.some(val));\n          getValueRgb().each(rgb => {\n            const hex = copyRgbToHex(form, rgb);\n            emitWith(form, fieldsUpdate, { hex });\n            updatePreview(form, hex);\n          });\n        };\n        const isHexInputEvent = data => data.type === 'hex';\n        const onValidInput = (form, simulatedEvent) => {\n          const data = simulatedEvent.event;\n          if (isHexInputEvent(data)) {\n            onValidHex(form, data.value);\n          } else {\n            onValidRgb(form, data.type, data.value);\n          }\n        };\n        const formPartStrings = key => ({\n          label: translate(translatePrefix + key + '.label'),\n          description: translate(translatePrefix + key + '.description')\n        });\n        const redStrings = formPartStrings('red');\n        const greenStrings = formPartStrings('green');\n        const blueStrings = formPartStrings('blue');\n        const hexStrings = formPartStrings('hex');\n        return deepMerge(Form.sketch(parts => ({\n          dom: {\n            tag: 'form',\n            classes: [getClass('rgb-form')],\n            attributes: { 'aria-label': translate('aria.color.picker') }\n          },\n          components: [\n            parts.field('red', FormField.sketch(renderTextField(isRgbaComponent, 'red', redStrings.label, redStrings.description, 255))),\n            parts.field('green', FormField.sketch(renderTextField(isRgbaComponent, 'green', greenStrings.label, greenStrings.description, 255))),\n            parts.field('blue', FormField.sketch(renderTextField(isRgbaComponent, 'blue', blueStrings.label, blueStrings.description, 255))),\n            parts.field('hex', FormField.sketch(renderTextField(isHexString, 'hex', hexStrings.label, hexStrings.description, 'ffffff'))),\n            memPreview.asSpec()\n          ],\n          formBehaviours: derive$1([\n            Invalidating.config({ invalidClass: getClass('form-invalid') }),\n            config('rgb-form-events', [\n              run$1(validInput, onValidInput),\n              run$1(invalidInput, onInvalidInput),\n              run$1(validatingInput, onInvalidInput)\n            ])\n          ])\n        })), {\n          apis: {\n            updateHex: (form, hex) => {\n              Representing.setValue(form, { hex: hex.value });\n              copyHexToRgb(form, hex);\n              updatePreview(form, hex);\n            }\n          }\n        });\n      };\n      const rgbFormSketcher = single({\n        factory,\n        name: 'RgbForm',\n        configFields: [],\n        apis: {\n          updateHex: (apis, form, hex) => {\n            apis.updateHex(form, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return rgbFormSketcher;\n    };\n\n    const paletteFactory = (_translate, getClass) => {\n      const spectrumPart = Slider.parts.spectrum({\n        dom: {\n          tag: 'canvas',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-spectrum')]\n        }\n      });\n      const thumbPart = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-thumb')],\n          innerHtml: `<div class=${ getClass('sv-palette-inner-thumb') } role=\"presentation\"></div>`\n        }\n      });\n      const setColour = (canvas, rgba) => {\n        const {width, height} = canvas;\n        const ctx = canvas.getContext('2d');\n        if (ctx === null) {\n          return;\n        }\n        ctx.fillStyle = rgba;\n        ctx.fillRect(0, 0, width, height);\n        const grdWhite = ctx.createLinearGradient(0, 0, width, 0);\n        grdWhite.addColorStop(0, 'rgba(255,255,255,1)');\n        grdWhite.addColorStop(1, 'rgba(255,255,255,0)');\n        ctx.fillStyle = grdWhite;\n        ctx.fillRect(0, 0, width, height);\n        const grdBlack = ctx.createLinearGradient(0, 0, 0, height);\n        grdBlack.addColorStop(0, 'rgba(0,0,0,0)');\n        grdBlack.addColorStop(1, 'rgba(0,0,0,1)');\n        ctx.fillStyle = grdBlack;\n        ctx.fillRect(0, 0, width, height);\n      };\n      const setPaletteHue = (slider, hue) => {\n        const canvas = slider.components()[0].element.dom;\n        const hsv = hsvColour(hue, 100, 100);\n        const rgba = fromHsv(hsv);\n        setColour(canvas, toString(rgba));\n      };\n      const setPaletteThumb = (slider, hex) => {\n        const hsv = fromRgb(fromHex(hex));\n        Slider.setValue(slider, {\n          x: hsv.saturation,\n          y: 100 - hsv.value\n        });\n      };\n      const factory = _detail => {\n        const getInitialValue = constant$1({\n          x: 0,\n          y: 0\n        });\n        const onChange = (slider, _thumb, value) => {\n          emitWith(slider, paletteUpdate, { value });\n        };\n        const onInit = (_slider, _thumb, spectrum, _value) => {\n          setColour(spectrum.element.dom, toString(red));\n        };\n        const sliderBehaviours = derive$1([\n          Composing.config({ find: Optional.some }),\n          Focusing.config({})\n        ]);\n        return Slider.sketch({\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' },\n            classes: [getClass('sv-palette')]\n          },\n          model: {\n            mode: 'xy',\n            getInitialValue\n          },\n          rounded: false,\n          components: [\n            spectrumPart,\n            thumbPart\n          ],\n          onChange,\n          onInit,\n          sliderBehaviours\n        });\n      };\n      const saturationBrightnessPaletteSketcher = single({\n        factory,\n        name: 'SaturationBrightnessPalette',\n        configFields: [],\n        apis: {\n          setHue: (_apis, slider, hue) => {\n            setPaletteHue(slider, hue);\n          },\n          setThumb: (_apis, slider, hex) => {\n            setPaletteThumb(slider, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return saturationBrightnessPaletteSketcher;\n    };\n\n    const makeFactory = (translate, getClass) => {\n      const factory = detail => {\n        const rgbForm = rgbFormFactory(translate, getClass, detail.onValidHex, detail.onInvalidHex);\n        const sbPalette = paletteFactory(translate, getClass);\n        const hueSliderToDegrees = hue => (100 - hue) / 100 * 360;\n        const hueDegreesToSlider = hue => 100 - hue / 360 * 100;\n        const state = {\n          paletteRgba: Cell(red),\n          paletteHue: Cell(0)\n        };\n        const memSlider = record(sliderFactory(translate, getClass));\n        const memPalette = record(sbPalette.sketch({}));\n        const memRgb = record(rgbForm.sketch({}));\n        const updatePalette = (anyInSystem, _hex, hue) => {\n          memPalette.getOpt(anyInSystem).each(palette => {\n            sbPalette.setHue(palette, hue);\n          });\n        };\n        const updateFields = (anyInSystem, hex) => {\n          memRgb.getOpt(anyInSystem).each(form => {\n            rgbForm.updateHex(form, hex);\n          });\n        };\n        const updateSlider = (anyInSystem, _hex, hue) => {\n          memSlider.getOpt(anyInSystem).each(slider => {\n            Slider.setValue(slider, hueDegreesToSlider(hue));\n          });\n        };\n        const updatePaletteThumb = (anyInSystem, hex) => {\n          memPalette.getOpt(anyInSystem).each(palette => {\n            sbPalette.setThumb(palette, hex);\n          });\n        };\n        const updateState = (hex, hue) => {\n          const rgba = fromHex(hex);\n          state.paletteRgba.set(rgba);\n          state.paletteHue.set(hue);\n        };\n        const runUpdates = (anyInSystem, hex, hue, updates) => {\n          updateState(hex, hue);\n          each$1(updates, update => {\n            update(anyInSystem, hex, hue);\n          });\n        };\n        const onPaletteUpdate = () => {\n          const updates = [updateFields];\n          return (form, simulatedEvent) => {\n            const value = simulatedEvent.event.value;\n            const oldHue = state.paletteHue.get();\n            const newHsv = hsvColour(oldHue, value.x, 100 - value.y);\n            const newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, oldHue, updates);\n          };\n        };\n        const onSliderUpdate = () => {\n          const updates = [\n            updatePalette,\n            updateFields\n          ];\n          return (form, simulatedEvent) => {\n            const hue = hueSliderToDegrees(simulatedEvent.event.value);\n            const oldRgb = state.paletteRgba.get();\n            const oldHsv = fromRgb(oldRgb);\n            const newHsv = hsvColour(hue, oldHsv.saturation, oldHsv.value);\n            const newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, hue, updates);\n          };\n        };\n        const onFieldsUpdate = () => {\n          const updates = [\n            updatePalette,\n            updateSlider,\n            updatePaletteThumb\n          ];\n          return (form, simulatedEvent) => {\n            const hex = simulatedEvent.event.hex;\n            const hsv = hexToHsv(hex);\n            runUpdates(form, hex, hsv.hue, updates);\n          };\n        };\n        return {\n          uid: detail.uid,\n          dom: detail.dom,\n          components: [\n            memPalette.asSpec(),\n            memSlider.asSpec(),\n            memRgb.asSpec()\n          ],\n          behaviours: derive$1([\n            config('colour-picker-events', [\n              run$1(fieldsUpdate, onFieldsUpdate()),\n              run$1(paletteUpdate, onPaletteUpdate()),\n              run$1(sliderUpdate, onSliderUpdate())\n            ]),\n            Composing.config({ find: comp => memRgb.getOpt(comp) }),\n            Keying.config({ mode: 'acyclic' })\n          ])\n        };\n      };\n      const colourPickerSketcher = single({\n        name: 'ColourPicker',\n        configFields: [\n          required$1('dom'),\n          defaulted('onValidHex', noop),\n          defaulted('onInvalidHex', noop)\n        ],\n        factory\n      });\n      return colourPickerSketcher;\n    };\n\n    const self = () => Composing.config({ find: Optional.some });\n    const memento$1 = mem => Composing.config({ find: mem.getOpt });\n    const childAt = index => Composing.config({ find: comp => child$2(comp.element, index).bind(element => comp.getSystem().getByDom(element).toOptional()) });\n    const ComposingConfigs = {\n      self,\n      memento: memento$1,\n      childAt\n    };\n\n    const processors = objOf([\n      defaulted('preprocess', identity),\n      defaulted('postprocess', identity)\n    ]);\n    const memento = (mem, rawProcessors) => {\n      const ps = asRawOrDie$1('RepresentingConfigs.memento processors', processors, rawProcessors);\n      return Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: comp => {\n            const other = mem.get(comp);\n            const rawValue = Representing.getValue(other);\n            return ps.postprocess(rawValue);\n          },\n          setValue: (comp, rawValue) => {\n            const newValue = ps.preprocess(rawValue);\n            const other = mem.get(comp);\n            Representing.setValue(other, newValue);\n          }\n        }\n      });\n    };\n    const withComp = (optInitialValue, getter, setter) => Representing.config({\n      store: {\n        mode: 'manual',\n        ...optInitialValue.map(initialValue => ({ initialValue })).getOr({}),\n        getValue: getter,\n        setValue: setter\n      }\n    });\n    const withElement = (initialValue, getter, setter) => withComp(initialValue, c => getter(c.element), (c, v) => setter(c.element, v));\n    const domValue = optInitialValue => withElement(optInitialValue, get$6, set$5);\n    const domHtml = optInitialValue => withElement(optInitialValue, get$9, set$6);\n    const memory = initialValue => Representing.config({\n      store: {\n        mode: 'memory',\n        initialValue\n      }\n    });\n    const RepresentingConfigs = {\n      memento,\n      withElement,\n      withComp,\n      domValue,\n      domHtml,\n      memory\n    };\n\n    const english = {\n      'colorcustom.rgb.red.label': 'R',\n      'colorcustom.rgb.red.description': 'Red component',\n      'colorcustom.rgb.green.label': 'G',\n      'colorcustom.rgb.green.description': 'Green component',\n      'colorcustom.rgb.blue.label': 'B',\n      'colorcustom.rgb.blue.description': 'Blue component',\n      'colorcustom.rgb.hex.label': '#',\n      'colorcustom.rgb.hex.description': 'Hex color code',\n      'colorcustom.rgb.range': 'Range 0 to 255',\n      'aria.color.picker': 'Color Picker',\n      'aria.input.invalid': 'Invalid input'\n    };\n    const translate$1 = providerBackstage => key => {\n      return providerBackstage.translate(english[key]);\n    };\n    const renderColorPicker = (_spec, providerBackstage, initialData) => {\n      const getClass = key => 'tox-' + key;\n      const colourPickerFactory = makeFactory(translate$1(providerBackstage), getClass);\n      const onValidHex = form => {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: true\n        });\n      };\n      const onInvalidHex = form => {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: false\n        });\n      };\n      const memPicker = record(colourPickerFactory.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('color-picker-container')],\n          attributes: { role: 'presentation' }\n        },\n        onValidHex,\n        onInvalidHex\n      }));\n      return {\n        dom: { tag: 'div' },\n        components: [memPicker.asSpec()],\n        behaviours: derive$1([\n          RepresentingConfigs.withComp(initialData, comp => {\n            const picker = memPicker.get(comp);\n            const optRgbForm = Composing.getCurrent(picker);\n            const optHex = optRgbForm.bind(rgbForm => {\n              const formValues = Representing.getValue(rgbForm);\n              return formValues.hex;\n            });\n            return optHex.map(hex => '#' + removeLeading(hex, '#')).getOr('');\n          }, (comp, newValue) => {\n            const pattern = /^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/;\n            const valOpt = Optional.from(pattern.exec(newValue)).bind(matches => get$h(matches, 1));\n            const picker = memPicker.get(comp);\n            const optRgbForm = Composing.getCurrent(picker);\n            optRgbForm.fold(() => {\n              console.log('Can not find form');\n            }, rgbForm => {\n              Representing.setValue(rgbForm, { hex: valOpt.getOr('') });\n              Form.getField(rgbForm, 'hex').each(hexField => {\n                emit(hexField, input());\n              });\n            });\n          }),\n          ComposingConfigs.self()\n        ])\n      };\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.Resource');\n\n    const isOldCustomEditor = spec => has$2(spec, 'init');\n    const renderCustomEditor = spec => {\n      const editorApi = value$2();\n      const memReplaced = record({ dom: { tag: spec.tag } });\n      const initialValue = value$2();\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-custom-editor']\n        },\n        behaviours: derive$1([\n          config('custom-editor-events', [runOnAttached(component => {\n              memReplaced.getOpt(component).each(ta => {\n                (isOldCustomEditor(spec) ? spec.init(ta.element.dom) : global$2.load(spec.scriptId, spec.scriptUrl).then(init => init(ta.element.dom, spec.settings))).then(ea => {\n                  initialValue.on(cvalue => {\n                    ea.setValue(cvalue);\n                  });\n                  initialValue.clear();\n                  editorApi.set(ea);\n                });\n              });\n            })]),\n          RepresentingConfigs.withComp(Optional.none(), () => editorApi.get().fold(() => initialValue.get().getOr(''), ed => ed.getValue()), (component, value) => {\n            editorApi.get().fold(() => initialValue.set(value), ed => ed.setValue(value));\n          }),\n          ComposingConfigs.self()\n        ]),\n        components: [memReplaced.asSpec()]\n      };\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const filterByExtension = (files, providersBackstage) => {\n      const allowedImageFileTypes = global$1.explode(providersBackstage.getOption('images_file_types'));\n      const isFileInAllowedTypes = file => exists(allowedImageFileTypes, type => endsWith(file.name.toLowerCase(), `.${ type.toLowerCase() }`));\n      return filter$2(from(files), isFileInAllowedTypes);\n    };\n    const renderDropZone = (spec, providersBackstage, initialData) => {\n      const stopper = (_, se) => {\n        se.stop();\n      };\n      const sequence = actions => (comp, se) => {\n        each$1(actions, a => {\n          a(comp, se);\n        });\n      };\n      const onDrop = (comp, se) => {\n        var _a;\n        if (!Disabling.isDisabled(comp)) {\n          const transferEvent = se.event.raw;\n          handleFiles(comp, (_a = transferEvent.dataTransfer) === null || _a === void 0 ? void 0 : _a.files);\n        }\n      };\n      const onSelect = (component, simulatedEvent) => {\n        const input = simulatedEvent.event.raw.target;\n        handleFiles(component, input.files);\n      };\n      const handleFiles = (component, files) => {\n        if (files) {\n          Representing.setValue(component, filterByExtension(files, providersBackstage));\n          emitWith(component, formChangeEvent, { name: spec.name });\n        }\n      };\n      const memInput = record({\n        dom: {\n          tag: 'input',\n          attributes: {\n            type: 'file',\n            accept: 'image/*'\n          },\n          styles: { display: 'none' }\n        },\n        behaviours: derive$1([config('input-file-events', [\n            cutter(click()),\n            cutter(tap())\n          ])])\n      });\n      const renderField = s => ({\n        uid: s.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-dropzone-container']\n        },\n        behaviours: derive$1([\n          RepresentingConfigs.memory(initialData.getOr([])),\n          ComposingConfigs.self(),\n          Disabling.config({}),\n          Toggling.config({\n            toggleClass: 'dragenter',\n            toggleOnExecute: false\n          }),\n          config('dropzone-events', [\n            run$1('dragenter', sequence([\n              stopper,\n              Toggling.toggle\n            ])),\n            run$1('dragleave', sequence([\n              stopper,\n              Toggling.toggle\n            ])),\n            run$1('dragover', stopper),\n            run$1('drop', sequence([\n              stopper,\n              onDrop\n            ])),\n            run$1(change(), onSelect)\n          ])\n        ]),\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dropzone'],\n              styles: {}\n            },\n            components: [\n              {\n                dom: { tag: 'p' },\n                components: [text$2(providersBackstage.translate('Drop an image here'))]\n              },\n              Button.sketch({\n                dom: {\n                  tag: 'button',\n                  styles: { position: 'relative' },\n                  classes: [\n                    'tox-button',\n                    'tox-button--secondary'\n                  ]\n                },\n                components: [\n                  text$2(providersBackstage.translate('Browse for an image')),\n                  memInput.asSpec()\n                ],\n                action: comp => {\n                  const inputComp = memInput.get(comp);\n                  inputComp.element.dom.click();\n                },\n                buttonBehaviours: derive$1([\n                  Tabstopping.config({}),\n                  DisablingConfigs.button(providersBackstage.isDisabled),\n                  receivingConfig()\n                ])\n              })\n            ]\n          }]\n      });\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const pField = FormField.parts.field({ factory: { sketch: renderField } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    const renderGrid = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-form__grid',\n          `tox-form__grid--${ spec.columns }col`\n        ]\n      },\n      components: map$2(spec.items, backstage.interpreter)\n    });\n\n    const beforeObject = generate$6('alloy-fake-before-tabstop');\n    const afterObject = generate$6('alloy-fake-after-tabstop');\n    const craftWithClasses = classes => {\n      return {\n        dom: {\n          tag: 'div',\n          styles: {\n            width: '1px',\n            height: '1px',\n            outline: 'none'\n          },\n          attributes: { tabindex: '0' },\n          classes\n        },\n        behaviours: derive$1([\n          Focusing.config({ ignore: true }),\n          Tabstopping.config({})\n        ])\n      };\n    };\n    const craft = spec => {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-navobj']\n        },\n        components: [\n          craftWithClasses([beforeObject]),\n          spec,\n          craftWithClasses([afterObject])\n        ],\n        behaviours: derive$1([ComposingConfigs.childAt(1)])\n      };\n    };\n    const triggerTab = (placeholder, shiftKey) => {\n      emitWith(placeholder, keydown(), {\n        raw: {\n          which: 9,\n          shiftKey\n        }\n      });\n    };\n    const onFocus = (container, targetComp) => {\n      const target = targetComp.element;\n      if (has(target, beforeObject)) {\n        triggerTab(container, true);\n      } else if (has(target, afterObject)) {\n        triggerTab(container, false);\n      }\n    };\n    const isPseudoStop = element => {\n      return closest(element, [\n        '.' + beforeObject,\n        '.' + afterObject\n      ].join(','), never);\n    };\n\n    const getDynamicSource = initialData => {\n      const cachedValue = Cell(initialData.getOr(''));\n      return {\n        getValue: _frameComponent => cachedValue.get(),\n        setValue: (frameComponent, html) => {\n          if (cachedValue.get() !== html) {\n            set$9(frameComponent.element, 'srcdoc', html);\n          }\n          cachedValue.set(html);\n        }\n      };\n    };\n    const renderIFrame = (spec, providersBackstage, initialData) => {\n      const isSandbox = spec.sandboxed;\n      const isTransparent = spec.transparent;\n      const baseClass = 'tox-dialog__iframe';\n      const attributes = {\n        ...spec.label.map(title => ({ title })).getOr({}),\n        ...initialData.map(html => ({ srcdoc: html })).getOr({}),\n        ...isSandbox ? { sandbox: 'allow-scripts allow-same-origin' } : {}\n      };\n      const sourcing = getDynamicSource(initialData);\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const factory = newSpec => craft({\n        uid: newSpec.uid,\n        dom: {\n          tag: 'iframe',\n          attributes,\n          classes: isTransparent ? [baseClass] : [\n            baseClass,\n            `${ baseClass }--opaque`\n          ]\n        },\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({}),\n          RepresentingConfigs.withComp(initialData, sourcing.getValue, sourcing.setValue)\n        ])\n      });\n      const pField = FormField.parts.field({ factory: { sketch: factory } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    const image = image => new Promise((resolve, reject) => {\n      const loaded = () => {\n        destroy();\n        resolve(image);\n      };\n      const listeners = [\n        bind(image, 'load', loaded),\n        bind(image, 'error', () => {\n          destroy();\n          reject('Unable to load data from image: ' + image.dom.src);\n        })\n      ];\n      const destroy = () => each$1(listeners, l => l.unbind());\n      if (image.dom.complete) {\n        loaded();\n      }\n    });\n\n    const calculateImagePosition = (panelWidth, panelHeight, imageWidth, imageHeight, zoom) => {\n      const width = imageWidth * zoom;\n      const height = imageHeight * zoom;\n      const left = Math.max(0, panelWidth / 2 - width / 2);\n      const top = Math.max(0, panelHeight / 2 - height / 2);\n      return {\n        left: left.toString() + 'px',\n        top: top.toString() + 'px',\n        width: width.toString() + 'px',\n        height: height.toString() + 'px'\n      };\n    };\n    const zoomToFit = (panel, width, height) => {\n      const panelW = get$c(panel);\n      const panelH = get$d(panel);\n      return Math.min(panelW / width, panelH / height, 1);\n    };\n    const renderImagePreview = (spec, initialData) => {\n      const cachedData = Cell(initialData.getOr({ url: '' }));\n      const memImage = record({\n        dom: {\n          tag: 'img',\n          classes: ['tox-imagepreview__image'],\n          attributes: initialData.map(data => ({ src: data.url })).getOr({})\n        }\n      });\n      const memContainer = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-imagepreview__container'],\n          attributes: { role: 'presentation' }\n        },\n        components: [memImage.asSpec()]\n      });\n      const setValue = (frameComponent, data) => {\n        const translatedData = { url: data.url };\n        data.zoom.each(z => translatedData.zoom = z);\n        data.cachedWidth.each(z => translatedData.cachedWidth = z);\n        data.cachedHeight.each(z => translatedData.cachedHeight = z);\n        cachedData.set(translatedData);\n        const applyFramePositioning = () => {\n          const {cachedWidth, cachedHeight, zoom} = translatedData;\n          if (!isUndefined(cachedWidth) && !isUndefined(cachedHeight)) {\n            if (isUndefined(zoom)) {\n              const z = zoomToFit(frameComponent.element, cachedWidth, cachedHeight);\n              translatedData.zoom = z;\n            }\n            const position = calculateImagePosition(get$c(frameComponent.element), get$d(frameComponent.element), cachedWidth, cachedHeight, translatedData.zoom);\n            memContainer.getOpt(frameComponent).each(container => {\n              setAll(container.element, position);\n            });\n          }\n        };\n        memImage.getOpt(frameComponent).each(imageComponent => {\n          const img = imageComponent.element;\n          if (data.url !== get$f(img, 'src')) {\n            set$9(img, 'src', data.url);\n            remove$2(frameComponent.element, 'tox-imagepreview__loaded');\n          }\n          applyFramePositioning();\n          image(img).then(img => {\n            if (frameComponent.getSystem().isConnected()) {\n              add$2(frameComponent.element, 'tox-imagepreview__loaded');\n              translatedData.cachedWidth = img.dom.naturalWidth;\n              translatedData.cachedHeight = img.dom.naturalHeight;\n              applyFramePositioning();\n            }\n          });\n        });\n      };\n      const styles = {};\n      spec.height.each(h => styles.height = h);\n      const fakeValidatedData = initialData.map(d => ({\n        url: d.url,\n        zoom: Optional.from(d.zoom),\n        cachedWidth: Optional.from(d.cachedWidth),\n        cachedHeight: Optional.from(d.cachedHeight)\n      }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-imagepreview'],\n          styles,\n          attributes: { role: 'presentation' }\n        },\n        components: [memContainer.asSpec()],\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          RepresentingConfigs.withComp(fakeValidatedData, () => cachedData.get(), setValue)\n        ])\n      };\n    };\n\n    const renderLabel$2 = (spec, backstageShared) => {\n      const label = {\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$2(backstageShared.providers.translate(spec.label))]\n      };\n      const comps = map$2(spec.items, backstageShared.interpreter);\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [\n          label,\n          ...comps\n        ],\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Replacing.config({}),\n          RepresentingConfigs.domHtml(Optional.none()),\n          Keying.config({ mode: 'acyclic' })\n        ])\n      };\n    };\n\n    const internalToolbarButtonExecute = generate$6('toolbar.button.execute');\n    const onToolbarButtonExecute = info => runOnExecute$1((comp, _simulatedEvent) => {\n      runWithApi(info, comp)(itemApi => {\n        emitWith(comp, internalToolbarButtonExecute, { buttonApi: itemApi });\n        info.onAction(itemApi);\n      });\n    });\n    const commonButtonDisplayEvent = generate$6('common-button-display-events');\n    const toolbarButtonEventOrder = {\n      [execute$5()]: [\n        'disabling',\n        'alloy.base.behaviour',\n        'toggling',\n        'toolbar-button-events'\n      ],\n      [attachedToDom()]: [\n        'toolbar-button-events',\n        commonButtonDisplayEvent\n      ],\n      [mousedown()]: [\n        'focusing',\n        'alloy.base.behaviour',\n        commonButtonDisplayEvent\n      ]\n    };\n\n    const forceInitialSize = comp => set$8(comp.element, 'width', get$e(comp.element, 'width'));\n\n    const renderIcon$1 = (iconName, iconsProvider, behaviours) => render$3(iconName, {\n      tag: 'span',\n      classes: [\n        'tox-icon',\n        'tox-tbtn__icon-wrap'\n      ],\n      behaviours\n    }, iconsProvider);\n    const renderIconFromPack$1 = (iconName, iconsProvider) => renderIcon$1(iconName, iconsProvider, []);\n    const renderReplaceableIconFromPack = (iconName, iconsProvider) => renderIcon$1(iconName, iconsProvider, [Replacing.config({})]);\n    const renderLabel$1 = (text, prefix, providersBackstage) => ({\n      dom: {\n        tag: 'span',\n        classes: [`${ prefix }__select-label`]\n      },\n      components: [text$2(providersBackstage.translate(text))],\n      behaviours: derive$1([Replacing.config({})])\n    });\n\n    const updateMenuText = generate$6('update-menu-text');\n    const updateMenuIcon = generate$6('update-menu-icon');\n    const renderCommonDropdown = (spec, prefix, sharedBackstage) => {\n      const editorOffCell = Cell(noop);\n      const optMemDisplayText = spec.text.map(text => record(renderLabel$1(text, prefix, sharedBackstage.providers)));\n      const optMemDisplayIcon = spec.icon.map(iconName => record(renderReplaceableIconFromPack(iconName, sharedBackstage.providers.icons)));\n      const onLeftOrRightInMenu = (comp, se) => {\n        const dropdown = Representing.getValue(comp);\n        Focusing.focus(dropdown);\n        emitWith(dropdown, 'keydown', { raw: se.event.raw });\n        Dropdown.close(dropdown);\n        return Optional.some(true);\n      };\n      const role = spec.role.fold(() => ({}), role => ({ role }));\n      const tooltipAttributes = spec.tooltip.fold(() => ({}), tooltip => {\n        const translatedTooltip = sharedBackstage.providers.translate(tooltip);\n        return {\n          'title': translatedTooltip,\n          'aria-label': translatedTooltip\n        };\n      });\n      const iconSpec = render$3('chevron-down', {\n        tag: 'div',\n        classes: [`${ prefix }__select-chevron`]\n      }, sharedBackstage.providers.icons);\n      const fixWidthBehaviourName = generate$6('common-button-display-events');\n      const memDropdown = record(Dropdown.sketch({\n        ...spec.uid ? { uid: spec.uid } : {},\n        ...role,\n        dom: {\n          tag: 'button',\n          classes: [\n            prefix,\n            `${ prefix }--select`\n          ].concat(map$2(spec.classes, c => `${ prefix }--${ c }`)),\n          attributes: { ...tooltipAttributes }\n        },\n        components: componentRenderPipeline([\n          optMemDisplayIcon.map(mem => mem.asSpec()),\n          optMemDisplayText.map(mem => mem.asSpec()),\n          Optional.some(iconSpec)\n        ]),\n        matchWidth: true,\n        useMinWidth: true,\n        onOpen: (anchor, dropdownComp, tmenuComp) => {\n          if (spec.searchable) {\n            focusSearchField(tmenuComp);\n          }\n        },\n        dropdownBehaviours: derive$1([\n          ...spec.dropdownBehaviours,\n          DisablingConfigs.button(() => spec.disabled || sharedBackstage.providers.isDisabled()),\n          receivingConfig(),\n          Unselecting.config({}),\n          Replacing.config({}),\n          config('dropdown-events', [\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          config(fixWidthBehaviourName, [runOnAttached((comp, _se) => forceInitialSize(comp))]),\n          config('menubutton-update-display-text', [\n            run$1(updateMenuText, (comp, se) => {\n              optMemDisplayText.bind(mem => mem.getOpt(comp)).each(displayText => {\n                Replacing.set(displayText, [text$2(sharedBackstage.providers.translate(se.event.text))]);\n              });\n            }),\n            run$1(updateMenuIcon, (comp, se) => {\n              optMemDisplayIcon.bind(mem => mem.getOpt(comp)).each(displayIcon => {\n                Replacing.set(displayIcon, [renderReplaceableIconFromPack(se.event.icon, sharedBackstage.providers.icons)]);\n              });\n            })\n          ])\n        ]),\n        eventOrder: deepMerge(toolbarButtonEventOrder, {\n          mousedown: [\n            'focusing',\n            'alloy.base.behaviour',\n            'item-type-events',\n            'normal-dropdown-events'\n          ],\n          [attachedToDom()]: [\n            'toolbar-button-events',\n            'dropdown-events',\n            fixWidthBehaviourName\n          ]\n        }),\n        sandboxBehaviours: derive$1([\n          Keying.config({\n            mode: 'special',\n            onLeft: onLeftOrRightInMenu,\n            onRight: onLeftOrRightInMenu\n          }),\n          config('dropdown-sandbox-events', [\n            run$1(refetchTriggerEvent, (originalSandboxComp, se) => {\n              handleRefetchTrigger(originalSandboxComp);\n              se.stop();\n            }),\n            run$1(redirectMenuItemInteractionEvent, (sandboxComp, se) => {\n              handleRedirectToMenuItem(sandboxComp, se);\n              se.stop();\n            })\n          ])\n        ]),\n        lazySink: sharedBackstage.getSink,\n        toggleClass: `${ prefix }--active`,\n        parts: {\n          menu: {\n            ...part(false, spec.columns, spec.presets),\n            fakeFocus: spec.searchable,\n            onHighlightItem: updateAriaOnHighlight,\n            onCollapseMenu: (tmenuComp, itemCompCausingCollapse, nowActiveMenuComp) => {\n              Highlighting.getHighlighted(nowActiveMenuComp).each(itemComp => {\n                updateAriaOnHighlight(tmenuComp, nowActiveMenuComp, itemComp);\n              });\n            },\n            onDehighlightItem: updateAriaOnDehighlight\n          }\n        },\n        fetch: comp => Future.nu(curry(spec.fetch, comp))\n      }));\n      return memDropdown.asSpec();\n    };\n\n    const isMenuItemReference = item => isString(item);\n    const isSeparator$2 = item => item.type === 'separator';\n    const isExpandingMenuItem = item => has$2(item, 'getSubmenuItems');\n    const separator$2 = { type: 'separator' };\n    const unwrapReferences = (items, menuItems) => {\n      const realItems = foldl(items, (acc, item) => {\n        if (isMenuItemReference(item)) {\n          if (item === '') {\n            return acc;\n          } else if (item === '|') {\n            return acc.length > 0 && !isSeparator$2(acc[acc.length - 1]) ? acc.concat([separator$2]) : acc;\n          } else if (has$2(menuItems, item.toLowerCase())) {\n            return acc.concat([menuItems[item.toLowerCase()]]);\n          } else {\n            return acc;\n          }\n        } else {\n          return acc.concat([item]);\n        }\n      }, []);\n      if (realItems.length > 0 && isSeparator$2(realItems[realItems.length - 1])) {\n        realItems.pop();\n      }\n      return realItems;\n    };\n    const getFromExpandingItem = (item, menuItems) => {\n      const submenuItems = item.getSubmenuItems();\n      const rest = expand(submenuItems, menuItems);\n      const newMenus = deepMerge(rest.menus, { [item.value]: rest.items });\n      const newExpansions = deepMerge(rest.expansions, { [item.value]: item.value });\n      return {\n        item,\n        menus: newMenus,\n        expansions: newExpansions\n      };\n    };\n    const generateValueIfRequired = item => {\n      const itemValue = get$g(item, 'value').getOrThunk(() => generate$6('generated-menu-item'));\n      return deepMerge({ value: itemValue }, item);\n    };\n    const expand = (items, menuItems) => {\n      const realItems = unwrapReferences(isString(items) ? items.split(' ') : items, menuItems);\n      return foldr(realItems, (acc, item) => {\n        if (isExpandingMenuItem(item)) {\n          const itemWithValue = generateValueIfRequired(item);\n          const newData = getFromExpandingItem(itemWithValue, menuItems);\n          return {\n            menus: deepMerge(acc.menus, newData.menus),\n            items: [\n              newData.item,\n              ...acc.items\n            ],\n            expansions: deepMerge(acc.expansions, newData.expansions)\n          };\n        } else {\n          return {\n            ...acc,\n            items: [\n              item,\n              ...acc.items\n            ]\n          };\n        }\n      }, {\n        menus: {},\n        expansions: {},\n        items: []\n      });\n    };\n\n    const getSearchModeForField = settings => {\n      return settings.search.fold(() => ({ searchMode: 'no-search' }), searchSettings => ({\n        searchMode: 'search-with-field',\n        placeholder: searchSettings.placeholder\n      }));\n    };\n    const getSearchModeForResults = settings => {\n      return settings.search.fold(() => ({ searchMode: 'no-search' }), _ => ({ searchMode: 'search-with-results' }));\n    };\n    const build = (items, itemResponse, backstage, settings) => {\n      const primary = generate$6('primary-menu');\n      const data = expand(items, backstage.shared.providers.menuItems());\n      if (data.items.length === 0) {\n        return Optional.none();\n      }\n      const mainMenuSearchMode = getSearchModeForField(settings);\n      const mainMenu = createPartialMenu(primary, data.items, itemResponse, backstage, settings.isHorizontalMenu, mainMenuSearchMode);\n      const submenuSearchMode = getSearchModeForResults(settings);\n      const submenus = map$1(data.menus, (menuItems, menuName) => createPartialMenu(menuName, menuItems, itemResponse, backstage, false, submenuSearchMode));\n      const menus = deepMerge(submenus, wrap$1(primary, mainMenu));\n      return Optional.from(tieredMenu.tieredData(primary, menus, data.expansions));\n    };\n\n    const isSingleListItem = item => !has$2(item, 'items');\n    const dataAttribute = 'data-value';\n    const fetchItems = (dropdownComp, name, items, selectedValue) => map$2(items, item => {\n      if (!isSingleListItem(item)) {\n        return {\n          type: 'nestedmenuitem',\n          text: item.text,\n          getSubmenuItems: () => fetchItems(dropdownComp, name, item.items, selectedValue)\n        };\n      } else {\n        return {\n          type: 'togglemenuitem',\n          text: item.text,\n          value: item.value,\n          active: item.value === selectedValue,\n          onAction: () => {\n            Representing.setValue(dropdownComp, item.value);\n            emitWith(dropdownComp, formChangeEvent, { name });\n            Focusing.focus(dropdownComp);\n          }\n        };\n      }\n    });\n    const findItemByValue = (items, value) => findMap(items, item => {\n      if (!isSingleListItem(item)) {\n        return findItemByValue(item.items, value);\n      } else {\n        return someIf(item.value === value, item);\n      }\n    });\n    const renderListBox = (spec, backstage, initialData) => {\n      const providersBackstage = backstage.shared.providers;\n      const initialItem = initialData.bind(value => findItemByValue(spec.items, value)).orThunk(() => head(spec.items).filter(isSingleListItem));\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const pField = FormField.parts.field({\n        dom: {},\n        factory: {\n          sketch: sketchSpec => renderCommonDropdown({\n            uid: sketchSpec.uid,\n            text: initialItem.map(item => item.text),\n            icon: Optional.none(),\n            tooltip: spec.label,\n            role: Optional.none(),\n            fetch: (comp, callback) => {\n              const items = fetchItems(comp, spec.name, spec.items, Representing.getValue(comp));\n              callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n                isHorizontalMenu: false,\n                search: Optional.none()\n              }));\n            },\n            onSetup: constant$1(noop),\n            getApi: constant$1({}),\n            columns: 1,\n            presets: 'normal',\n            classes: [],\n            dropdownBehaviours: [\n              Tabstopping.config({}),\n              RepresentingConfigs.withComp(initialItem.map(item => item.value), comp => get$f(comp.element, dataAttribute), (comp, data) => {\n                findItemByValue(spec.items, data).each(item => {\n                  set$9(comp.element, dataAttribute, item.value);\n                  emitWith(comp, updateMenuText, { text: item.text });\n                });\n              })\n            ]\n          }, 'tox-listbox', backstage.shared)\n        }\n      });\n      const listBoxWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-listboxfield']\n        },\n        components: [pField]\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [listBoxWrap]\n        ]),\n        fieldBehaviours: derive$1([Disabling.config({\n            disabled: constant$1(!spec.enabled),\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          })])\n      });\n    };\n\n    const renderPanel = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: spec.classes\n      },\n      components: map$2(spec.items, backstage.shared.interpreter)\n    });\n\n    const factory$h = (detail, _spec) => {\n      const options = map$2(detail.options, option => ({\n        dom: {\n          tag: 'option',\n          value: option.value,\n          innerHtml: option.text\n        }\n      }));\n      const initialValues = detail.data.map(v => wrap$1('initialValue', v)).getOr({});\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'select',\n          classes: detail.selectClasses,\n          attributes: detail.selectAttributes\n        },\n        components: options,\n        behaviours: augment(detail.selectBehaviours, [\n          Focusing.config({}),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: select => {\n                return get$6(select.element);\n              },\n              setValue: (select, newValue) => {\n                const found = find$5(detail.options, opt => opt.value === newValue);\n                if (found.isSome()) {\n                  set$5(select.element, newValue);\n                }\n              },\n              ...initialValues\n            }\n          })\n        ])\n      };\n    };\n    const HtmlSelect = single({\n      name: 'HtmlSelect',\n      configFields: [\n        required$1('options'),\n        field('selectBehaviours', [\n          Focusing,\n          Representing\n        ]),\n        defaulted('selectClasses', []),\n        defaulted('selectAttributes', {}),\n        option$3('data')\n      ],\n      factory: factory$h\n    });\n\n    const renderSelectBox = (spec, providersBackstage, initialData) => {\n      const translatedOptions = map$2(spec.items, item => ({\n        text: providersBackstage.translate(item.text),\n        value: item.value\n      }));\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const pField = FormField.parts.field({\n        dom: {},\n        ...initialData.map(data => ({ data })).getOr({}),\n        selectAttributes: { size: spec.size },\n        options: translatedOptions,\n        factory: HtmlSelect,\n        selectBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          Tabstopping.config({}),\n          config('selectbox-change', [run$1(change(), (component, _) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      const chevron = spec.size > 1 ? Optional.none() : Optional.some(render$3('chevron-down', {\n        tag: 'div',\n        classes: ['tox-selectfield__icon-js']\n      }, providersBackstage.icons));\n      const selectWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-selectfield']\n        },\n        components: flatten([\n          [pField],\n          chevron.toArray()\n        ])\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [selectWrap]\n        ]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.isDisabled(),\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    const schema$h = constant$1([\n      defaulted('field1Name', 'field1'),\n      defaulted('field2Name', 'field2'),\n      onStrictHandler('onLockedChange'),\n      markers$1(['lockClass']),\n      defaulted('locked', false),\n      SketchBehaviours.field('coupledFieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    const getField = (comp, detail, partName) => getPart(comp, detail, partName).bind(Composing.getCurrent);\n    const coupledPart = (selfName, otherName) => required({\n      factory: FormField,\n      name: selfName,\n      overrides: detail => {\n        return {\n          fieldBehaviours: derive$1([config('coupled-input-behaviour', [run$1(input(), me => {\n                getField(me, detail, otherName).each(other => {\n                  getPart(me, detail, 'lock').each(lock => {\n                    if (Toggling.isOn(lock)) {\n                      detail.onLockedChange(me, other, lock);\n                    }\n                  });\n                });\n              })])])\n        };\n      }\n    });\n    const parts$c = constant$1([\n      coupledPart('field1', 'field2'),\n      coupledPart('field2', 'field1'),\n      required({\n        factory: Button,\n        schema: [required$1('dom')],\n        name: 'lock',\n        overrides: detail => {\n          return {\n            buttonBehaviours: derive$1([Toggling.config({\n                selected: detail.locked,\n                toggleClass: detail.markers.lockClass,\n                aria: { mode: 'pressed' }\n              })])\n          };\n        }\n      })\n    ]);\n\n    const factory$g = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: SketchBehaviours.augment(detail.coupledFieldBehaviours, [\n        Composing.config({ find: Optional.some }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: comp => {\n              const parts = getPartsOrDie(comp, detail, [\n                'field1',\n                'field2'\n              ]);\n              return {\n                [detail.field1Name]: Representing.getValue(parts.field1()),\n                [detail.field2Name]: Representing.getValue(parts.field2())\n              };\n            },\n            setValue: (comp, value) => {\n              const parts = getPartsOrDie(comp, detail, [\n                'field1',\n                'field2'\n              ]);\n              if (hasNonNullableKey(value, detail.field1Name)) {\n                Representing.setValue(parts.field1(), value[detail.field1Name]);\n              }\n              if (hasNonNullableKey(value, detail.field2Name)) {\n                Representing.setValue(parts.field2(), value[detail.field2Name]);\n              }\n            }\n          }\n        })\n      ]),\n      apis: {\n        getField1: component => getPart(component, detail, 'field1'),\n        getField2: component => getPart(component, detail, 'field2'),\n        getLock: component => getPart(component, detail, 'lock')\n      }\n    });\n    const FormCoupledInputs = composite({\n      name: 'FormCoupledInputs',\n      configFields: schema$h(),\n      partFields: parts$c(),\n      factory: factory$g,\n      apis: {\n        getField1: (apis, component) => apis.getField1(component),\n        getField2: (apis, component) => apis.getField2(component),\n        getLock: (apis, component) => apis.getLock(component)\n      }\n    });\n\n    const formatSize = size => {\n      const unitDec = {\n        '': 0,\n        'px': 0,\n        'pt': 1,\n        'mm': 1,\n        'pc': 2,\n        'ex': 2,\n        'em': 2,\n        'ch': 2,\n        'rem': 2,\n        'cm': 3,\n        'in': 4,\n        '%': 4\n      };\n      const maxDecimal = unit => unit in unitDec ? unitDec[unit] : 1;\n      let numText = size.value.toFixed(maxDecimal(size.unit));\n      if (numText.indexOf('.') !== -1) {\n        numText = numText.replace(/\\.?0*$/, '');\n      }\n      return numText + size.unit;\n    };\n    const parseSize = sizeText => {\n      const numPattern = /^\\s*(\\d+(?:\\.\\d+)?)\\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\\s*$/;\n      const match = numPattern.exec(sizeText);\n      if (match !== null) {\n        const value = parseFloat(match[1]);\n        const unit = match[2];\n        return Result.value({\n          value,\n          unit\n        });\n      } else {\n        return Result.error(sizeText);\n      }\n    };\n    const convertUnit = (size, unit) => {\n      const inInch = {\n        '': 96,\n        'px': 96,\n        'pt': 72,\n        'cm': 2.54,\n        'pc': 12,\n        'mm': 25.4,\n        'in': 1\n      };\n      const supported = u => has$2(inInch, u);\n      if (size.unit === unit) {\n        return Optional.some(size.value);\n      } else if (supported(size.unit) && supported(unit)) {\n        if (inInch[size.unit] === inInch[unit]) {\n          return Optional.some(size.value);\n        } else {\n          return Optional.some(size.value / inInch[size.unit] * inInch[unit]);\n        }\n      } else {\n        return Optional.none();\n      }\n    };\n    const noSizeConversion = _input => Optional.none();\n    const ratioSizeConversion = (scale, unit) => size => convertUnit(size, unit).map(value => ({\n      value: value * scale,\n      unit\n    }));\n    const makeRatioConverter = (currentFieldText, otherFieldText) => {\n      const cValue = parseSize(currentFieldText).toOptional();\n      const oValue = parseSize(otherFieldText).toOptional();\n      return lift2(cValue, oValue, (cSize, oSize) => convertUnit(cSize, oSize.unit).map(val => oSize.value / val).map(r => ratioSizeConversion(r, oSize.unit)).getOr(noSizeConversion)).getOr(noSizeConversion);\n    };\n\n    const renderSizeInput = (spec, providersBackstage) => {\n      let converter = noSizeConversion;\n      const ratioEvent = generate$6('ratio-event');\n      const makeIcon = iconName => render$3(iconName, {\n        tag: 'span',\n        classes: [\n          'tox-icon',\n          'tox-lock-icon__' + iconName\n        ]\n      }, providersBackstage.icons);\n      const pLock = FormCoupledInputs.parts.lock({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-lock',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ],\n          attributes: { title: providersBackstage.translate(spec.label.getOr('Constrain proportions')) }\n        },\n        components: [\n          makeIcon('lock'),\n          makeIcon('unlock')\n        ],\n        buttonBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          receivingConfig(),\n          Tabstopping.config({})\n        ])\n      });\n      const formGroup = components => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components\n      });\n      const getFieldPart = isField1 => FormField.parts.field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          config('size-input-events', [\n            run$1(focusin(), (component, _simulatedEvent) => {\n              emitWith(component, ratioEvent, { isField1 });\n            }),\n            run$1(change(), (component, _simulatedEvent) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })\n          ])\n        ]),\n        selectOnFocus: false\n      });\n      const getLabel = label => ({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$2(providersBackstage.translate(label))]\n      });\n      const widthField = FormCoupledInputs.parts.field1(formGroup([\n        FormField.parts.label(getLabel('Width')),\n        getFieldPart(true)\n      ]));\n      const heightField = FormCoupledInputs.parts.field2(formGroup([\n        FormField.parts.label(getLabel('Height')),\n        getFieldPart(false)\n      ]));\n      return FormCoupledInputs.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-form__controls-h-stack']\n            },\n            components: [\n              widthField,\n              heightField,\n              formGroup([\n                getLabel(nbsp),\n                pLock\n              ])\n            ]\n          }],\n        field1Name: 'width',\n        field2Name: 'height',\n        locked: true,\n        markers: { lockClass: 'tox-locked' },\n        onLockedChange: (current, other, _lock) => {\n          parseSize(Representing.getValue(current)).each(size => {\n            converter(size).each(newSize => {\n              Representing.setValue(other, formatSize(newSize));\n            });\n          });\n        },\n        coupledFieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.isDisabled(),\n            onDisabled: comp => {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getLock(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getLock(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('size-input-events2', [run$1(ratioEvent, (component, simulatedEvent) => {\n              const isField1 = simulatedEvent.event.isField1;\n              const optCurrent = isField1 ? FormCoupledInputs.getField1(component) : FormCoupledInputs.getField2(component);\n              const optOther = isField1 ? FormCoupledInputs.getField2(component) : FormCoupledInputs.getField1(component);\n              const value1 = optCurrent.map(Representing.getValue).getOr('');\n              const value2 = optOther.map(Representing.getValue).getOr('');\n              converter = makeRatioConverter(value1, value2);\n            })])\n        ])\n      });\n    };\n\n    const renderSlider = (spec, providerBackstage, initialData) => {\n      const labelPart = Slider.parts.label({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$2(providerBackstage.translate(spec.label))]\n      });\n      const spectrum = Slider.parts.spectrum({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider__rail'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      const thumb = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider__handle'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider'],\n          attributes: { role: 'presentation' }\n        },\n        model: {\n          mode: 'x',\n          minX: spec.min,\n          maxX: spec.max,\n          getInitialValue: constant$1(initialData.getOrThunk(() => (Math.abs(spec.max) - Math.abs(spec.min)) / 2))\n        },\n        components: [\n          labelPart,\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([\n          ComposingConfigs.self(),\n          Focusing.config({})\n        ]),\n        onChoose: (component, thumb, value) => {\n          emitWith(component, formChangeEvent, {\n            name: spec.name,\n            value\n          });\n        }\n      });\n    };\n\n    const renderTable = (spec, providersBackstage) => {\n      const renderTh = text => ({\n        dom: {\n          tag: 'th',\n          innerHtml: providersBackstage.translate(text)\n        }\n      });\n      const renderHeader = header => ({\n        dom: { tag: 'thead' },\n        components: [{\n            dom: { tag: 'tr' },\n            components: map$2(header, renderTh)\n          }]\n      });\n      const renderTd = text => ({\n        dom: {\n          tag: 'td',\n          innerHtml: providersBackstage.translate(text)\n        }\n      });\n      const renderTr = row => ({\n        dom: { tag: 'tr' },\n        components: map$2(row, renderTd)\n      });\n      const renderRows = rows => ({\n        dom: { tag: 'tbody' },\n        components: map$2(rows, renderTr)\n      });\n      return {\n        dom: {\n          tag: 'table',\n          classes: ['tox-dialog__table']\n        },\n        components: [\n          renderHeader(spec.header),\n          renderRows(spec.cells)\n        ],\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n\n    const renderTextField = (spec, providersBackstage) => {\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const baseInputBehaviours = [\n        Disabling.config({ disabled: () => spec.disabled || providersBackstage.isDisabled() }),\n        receivingConfig(),\n        Keying.config({\n          mode: 'execution',\n          useEnter: spec.multiline !== true,\n          useControlEnter: spec.multiline === true,\n          execute: comp => {\n            emit(comp, formSubmitEvent);\n            return Optional.some(true);\n          }\n        }),\n        config('textfield-change', [\n          run$1(input(), (component, _) => {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          }),\n          run$1(postPaste(), (component, _) => {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          })\n        ]),\n        Tabstopping.config({})\n      ];\n      const validatingBehaviours = spec.validation.map(vl => Invalidating.config({\n        getRoot: input => {\n          return parentElement(input.element);\n        },\n        invalidClass: 'tox-invalid',\n        validator: {\n          validate: input => {\n            const v = Representing.getValue(input);\n            const result = vl.validator(v);\n            return Future.pure(result === true ? Result.value(v) : Result.error(result));\n          },\n          validateOnLoad: vl.validateOnLoad\n        }\n      })).toArray();\n      const placeholder = spec.placeholder.fold(constant$1({}), p => ({ placeholder: providersBackstage.translate(p) }));\n      const inputMode = spec.inputMode.fold(constant$1({}), mode => ({ inputmode: mode }));\n      const inputAttributes = {\n        ...placeholder,\n        ...inputMode\n      };\n      const pField = FormField.parts.field({\n        tag: spec.multiline === true ? 'textarea' : 'input',\n        ...spec.data.map(data => ({ data })).getOr({}),\n        inputAttributes,\n        inputClasses: [spec.classname],\n        inputBehaviours: derive$1(flatten([\n          baseInputBehaviours,\n          validatingBehaviours\n        ])),\n        selectOnFocus: false,\n        factory: Input\n      });\n      const pTextField = spec.multiline ? {\n        dom: {\n          tag: 'div',\n          classes: ['tox-textarea-wrap']\n        },\n        components: [pField]\n      } : pField;\n      const extraClasses = spec.flex ? ['tox-form__group--stretched'] : [];\n      const extraClasses2 = extraClasses.concat(spec.maximized ? ['tox-form-group--maximize'] : []);\n      const extraBehaviours = [\n        Disabling.config({\n          disabled: () => spec.disabled || providersBackstage.isDisabled(),\n          onDisabled: comp => {\n            FormField.getField(comp).each(Disabling.disable);\n          },\n          onEnabled: comp => {\n            FormField.getField(comp).each(Disabling.enable);\n          }\n        }),\n        receivingConfig()\n      ];\n      return renderFormFieldWith(pLabel, pTextField, extraClasses2, extraBehaviours);\n    };\n    const renderInput = (spec, providersBackstage, initialData) => renderTextField({\n      name: spec.name,\n      multiline: false,\n      label: spec.label,\n      inputMode: spec.inputMode,\n      placeholder: spec.placeholder,\n      flex: false,\n      disabled: !spec.enabled,\n      classname: 'tox-textfield',\n      validation: Optional.none(),\n      maximized: spec.maximized,\n      data: initialData\n    }, providersBackstage);\n    const renderTextarea = (spec, providersBackstage, initialData) => renderTextField({\n      name: spec.name,\n      multiline: true,\n      label: spec.label,\n      inputMode: Optional.none(),\n      placeholder: spec.placeholder,\n      flex: true,\n      disabled: !spec.enabled,\n      classname: 'tox-textarea',\n      validation: Optional.none(),\n      maximized: spec.maximized,\n      data: initialData\n    }, providersBackstage);\n\n    const getAnimationRoot = (component, slideConfig) => slideConfig.getAnimationRoot.fold(() => component.element, get => get(component));\n\n    const getDimensionProperty = slideConfig => slideConfig.dimension.property;\n    const getDimension = (slideConfig, elem) => slideConfig.dimension.getDimension(elem);\n    const disableTransitions = (component, slideConfig) => {\n      const root = getAnimationRoot(component, slideConfig);\n      remove$1(root, [\n        slideConfig.shrinkingClass,\n        slideConfig.growingClass\n      ]);\n    };\n    const setShrunk = (component, slideConfig) => {\n      remove$2(component.element, slideConfig.openClass);\n      add$2(component.element, slideConfig.closedClass);\n      set$8(component.element, getDimensionProperty(slideConfig), '0px');\n      reflow(component.element);\n    };\n    const setGrown = (component, slideConfig) => {\n      remove$2(component.element, slideConfig.closedClass);\n      add$2(component.element, slideConfig.openClass);\n      remove$6(component.element, getDimensionProperty(slideConfig));\n    };\n    const doImmediateShrink = (component, slideConfig, slideState, _calculatedSize) => {\n      slideState.setCollapsed();\n      set$8(component.element, getDimensionProperty(slideConfig), getDimension(slideConfig, component.element));\n      disableTransitions(component, slideConfig);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n      slideConfig.onShrunk(component);\n    };\n    const doStartShrink = (component, slideConfig, slideState, calculatedSize) => {\n      const size = calculatedSize.getOrThunk(() => getDimension(slideConfig, component.element));\n      slideState.setCollapsed();\n      set$8(component.element, getDimensionProperty(slideConfig), size);\n      reflow(component.element);\n      const root = getAnimationRoot(component, slideConfig);\n      remove$2(root, slideConfig.growingClass);\n      add$2(root, slideConfig.shrinkingClass);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n    };\n    const doStartSmartShrink = (component, slideConfig, slideState) => {\n      const size = getDimension(slideConfig, component.element);\n      const shrinker = size === '0px' ? doImmediateShrink : doStartShrink;\n      shrinker(component, slideConfig, slideState, Optional.some(size));\n    };\n    const doStartGrow = (component, slideConfig, slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      const wasShrinking = has(root, slideConfig.shrinkingClass);\n      const beforeSize = getDimension(slideConfig, component.element);\n      setGrown(component, slideConfig);\n      const fullSize = getDimension(slideConfig, component.element);\n      const startPartialGrow = () => {\n        set$8(component.element, getDimensionProperty(slideConfig), beforeSize);\n        reflow(component.element);\n      };\n      const startCompleteGrow = () => {\n        setShrunk(component, slideConfig);\n      };\n      const setStartSize = wasShrinking ? startPartialGrow : startCompleteGrow;\n      setStartSize();\n      remove$2(root, slideConfig.shrinkingClass);\n      add$2(root, slideConfig.growingClass);\n      setGrown(component, slideConfig);\n      set$8(component.element, getDimensionProperty(slideConfig), fullSize);\n      slideState.setExpanded();\n      slideConfig.onStartGrow(component);\n    };\n    const refresh$4 = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        remove$6(component.element, getDimensionProperty(slideConfig));\n        const fullSize = getDimension(slideConfig, component.element);\n        set$8(component.element, getDimensionProperty(slideConfig), fullSize);\n      }\n    };\n    const grow = (component, slideConfig, slideState) => {\n      if (!slideState.isExpanded()) {\n        doStartGrow(component, slideConfig, slideState);\n      }\n    };\n    const shrink = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        doStartSmartShrink(component, slideConfig, slideState);\n      }\n    };\n    const immediateShrink = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        doImmediateShrink(component, slideConfig, slideState);\n      }\n    };\n    const hasGrown = (component, slideConfig, slideState) => slideState.isExpanded();\n    const hasShrunk = (component, slideConfig, slideState) => slideState.isCollapsed();\n    const isGrowing = (component, slideConfig, _slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.growingClass) === true;\n    };\n    const isShrinking = (component, slideConfig, _slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.shrinkingClass) === true;\n    };\n    const isTransitioning = (component, slideConfig, slideState) => isGrowing(component, slideConfig) || isShrinking(component, slideConfig);\n    const toggleGrow = (component, slideConfig, slideState) => {\n      const f = slideState.isExpanded() ? doStartSmartShrink : doStartGrow;\n      f(component, slideConfig, slideState);\n    };\n    const immediateGrow = (component, slideConfig, slideState) => {\n      if (!slideState.isExpanded()) {\n        setGrown(component, slideConfig);\n        set$8(component.element, getDimensionProperty(slideConfig), getDimension(slideConfig, component.element));\n        disableTransitions(component, slideConfig);\n        slideState.setExpanded();\n        slideConfig.onStartGrow(component);\n        slideConfig.onGrown(component);\n      }\n    };\n\n    var SlidingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$4,\n        grow: grow,\n        shrink: shrink,\n        immediateShrink: immediateShrink,\n        hasGrown: hasGrown,\n        hasShrunk: hasShrunk,\n        isGrowing: isGrowing,\n        isShrinking: isShrinking,\n        isTransitioning: isTransitioning,\n        toggleGrow: toggleGrow,\n        disableTransitions: disableTransitions,\n        immediateGrow: immediateGrow\n    });\n\n    const exhibit = (base, slideConfig, _slideState) => {\n      const expanded = slideConfig.expanded;\n      return expanded ? nu$7({\n        classes: [slideConfig.openClass],\n        styles: {}\n      }) : nu$7({\n        classes: [slideConfig.closedClass],\n        styles: wrap$1(slideConfig.dimension.property, '0px')\n      });\n    };\n    const events$6 = (slideConfig, slideState) => derive$2([runOnSource(transitionend(), (component, simulatedEvent) => {\n        const raw = simulatedEvent.event.raw;\n        if (raw.propertyName === slideConfig.dimension.property) {\n          disableTransitions(component, slideConfig);\n          if (slideState.isExpanded()) {\n            remove$6(component.element, slideConfig.dimension.property);\n          }\n          const notify = slideState.isExpanded() ? slideConfig.onGrown : slideConfig.onShrunk;\n          notify(component);\n        }\n      })]);\n\n    var ActiveSliding = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit,\n        events: events$6\n    });\n\n    var SlidingSchema = [\n      required$1('closedClass'),\n      required$1('openClass'),\n      required$1('shrinkingClass'),\n      required$1('growingClass'),\n      option$3('getAnimationRoot'),\n      onHandler('onShrunk'),\n      onHandler('onStartShrink'),\n      onHandler('onGrown'),\n      onHandler('onStartGrow'),\n      defaulted('expanded', false),\n      requiredOf('dimension', choose$1('property', {\n        width: [\n          output$1('property', 'width'),\n          output$1('getDimension', elem => get$c(elem) + 'px')\n        ],\n        height: [\n          output$1('property', 'height'),\n          output$1('getDimension', elem => get$d(elem) + 'px')\n        ]\n      }))\n    ];\n\n    const init$9 = spec => {\n      const state = Cell(spec.expanded);\n      const readState = () => 'expanded: ' + state.get();\n      return nu$8({\n        isExpanded: () => state.get() === true,\n        isCollapsed: () => state.get() === false,\n        setCollapsed: curry(state.set, false),\n        setExpanded: curry(state.set, true),\n        readState\n      });\n    };\n\n    var SlidingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$9\n    });\n\n    const Sliding = create$4({\n      fields: SlidingSchema,\n      name: 'sliding',\n      active: ActiveSliding,\n      apis: SlidingApis,\n      state: SlidingState\n    });\n\n    const getMenuButtonApi = component => ({\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state),\n      setActive: state => {\n        const elm = component.element;\n        if (state) {\n          add$2(elm, 'tox-tbtn--enabled');\n          set$9(elm, 'aria-pressed', true);\n        } else {\n          remove$2(elm, 'tox-tbtn--enabled');\n          remove$7(elm, 'aria-pressed');\n        }\n      },\n      isActive: () => has(component.element, 'tox-tbtn--enabled'),\n      setText: text => {\n        emitWith(component, updateMenuText, { text });\n      },\n      setIcon: icon => emitWith(component, updateMenuIcon, { icon })\n    });\n    const renderMenuButton = (spec, prefix, backstage, role, tabstopping = true) => {\n      return renderCommonDropdown({\n        text: spec.text,\n        icon: spec.icon,\n        tooltip: spec.tooltip,\n        searchable: spec.search.isSome(),\n        role,\n        fetch: (dropdownComp, callback) => {\n          const fetchContext = { pattern: spec.search.isSome() ? getSearchPattern(dropdownComp) : '' };\n          spec.fetch(items => {\n            callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n              isHorizontalMenu: false,\n              search: spec.search\n            }));\n          }, fetchContext, getMenuButtonApi(dropdownComp));\n        },\n        onSetup: spec.onSetup,\n        getApi: getMenuButtonApi,\n        columns: 1,\n        presets: 'normal',\n        classes: [],\n        dropdownBehaviours: [...tabstopping ? [Tabstopping.config({})] : []]\n      }, prefix, backstage.shared);\n    };\n    const getFetch = (items, getButton, backstage) => {\n      const getMenuItemAction = item => api => {\n        const newValue = !api.isActive();\n        api.setActive(newValue);\n        item.storage.set(newValue);\n        backstage.shared.getSink().each(sink => {\n          getButton().getOpt(sink).each(orig => {\n            focus$3(orig.element);\n            emitWith(orig, formActionEvent, {\n              name: item.name,\n              value: item.storage.get()\n            });\n          });\n        });\n      };\n      const getMenuItemSetup = item => api => {\n        api.setActive(item.storage.get());\n      };\n      return success => {\n        success(map$2(items, item => {\n          const text = item.text.fold(() => ({}), text => ({ text }));\n          return {\n            type: item.type,\n            active: false,\n            ...text,\n            onAction: getMenuItemAction(item),\n            onSetup: getMenuItemSetup(item)\n          };\n        }));\n      };\n    };\n\n    const renderLabel = text => ({\n      dom: {\n        tag: 'span',\n        classes: ['tox-tree__label'],\n        attributes: {\n          'title': text,\n          'aria-label': text\n        }\n      },\n      components: [text$2(text)]\n    });\n    const leafLabelEventsId = generate$6('leaf-label-event-id');\n    const renderLeafLabel = ({leaf, onLeafAction, visible, treeId, backstage}) => {\n      const internalMenuButton = leaf.menu.map(btn => renderMenuButton(btn, 'tox-mbtn', backstage, Optional.none(), visible));\n      const components = [renderLabel(leaf.title)];\n      internalMenuButton.each(btn => components.push(btn));\n      return Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-tree--leaf__label',\n            'tox-trbtn'\n          ].concat(visible ? ['tox-tree--leaf__label--visible'] : [])\n        },\n        components,\n        role: 'treeitem',\n        action: button => {\n          onLeafAction(leaf.id);\n          button.getSystem().broadcastOn([`update-active-item-${ treeId }`], { value: leaf.id });\n        },\n        eventOrder: {\n          [keydown()]: [\n            leafLabelEventsId,\n            'keying'\n          ]\n        },\n        buttonBehaviours: derive$1([\n          ...visible ? [Tabstopping.config({})] : [],\n          Toggling.config({\n            toggleClass: 'tox-trbtn--enabled',\n            toggleOnExecute: false,\n            aria: { mode: 'selected' }\n          }),\n          Receiving.config({\n            channels: {\n              [`update-active-item-${ treeId }`]: {\n                onReceive: (comp, message) => {\n                  (message.value === leaf.id ? Toggling.on : Toggling.off)(comp);\n                }\n              }\n            }\n          }),\n          config(leafLabelEventsId, [run$1(keydown(), (comp, se) => {\n              const isLeftArrowKey = se.event.raw.code === 'ArrowLeft';\n              const isRightArrowKey = se.event.raw.code === 'ArrowRight';\n              if (isLeftArrowKey) {\n                ancestor(comp.element, '.tox-tree--directory').each(dirElement => {\n                  comp.getSystem().getByDom(dirElement).each(dirComp => {\n                    child(dirElement, '.tox-tree--directory__label').each(dirLabelElement => {\n                      dirComp.getSystem().getByDom(dirLabelElement).each(Focusing.focus);\n                    });\n                  });\n                });\n                se.stop();\n              } else if (isRightArrowKey) {\n                se.stop();\n              }\n            })])\n        ])\n      });\n    };\n    const renderIcon = (iconName, iconsProvider, behaviours) => render$3(iconName, {\n      tag: 'span',\n      classes: [\n        'tox-tree__icon-wrap',\n        'tox-icon'\n      ],\n      behaviours\n    }, iconsProvider);\n    const renderIconFromPack = (iconName, iconsProvider) => renderIcon(iconName, iconsProvider, []);\n    const directoryLabelEventsId = generate$6('directory-label-event-id');\n    const renderDirectoryLabel = ({directory, visible, noChildren, backstage}) => {\n      const internalMenuButton = directory.menu.map(btn => renderMenuButton(btn, 'tox-mbtn', backstage, Optional.none()));\n      const components = [\n        {\n          dom: {\n            tag: 'div',\n            classes: ['tox-chevron']\n          },\n          components: [renderIconFromPack('chevron-right', backstage.shared.providers.icons)]\n        },\n        renderLabel(directory.title)\n      ];\n      internalMenuButton.each(btn => {\n        components.push(btn);\n      });\n      const expandChildren = button => {\n        ancestor(button.element, '.tox-tree--directory').each(directoryEle => {\n          button.getSystem().getByDom(directoryEle).each(directoryComp => Toggling.toggle(directoryComp));\n        });\n      };\n      return Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-tree--directory__label',\n            'tox-trbtn'\n          ].concat(visible ? ['tox-tree--directory__label--visible'] : [])\n        },\n        components,\n        action: expandChildren,\n        eventOrder: {\n          [keydown()]: [\n            directoryLabelEventsId,\n            'keying'\n          ]\n        },\n        buttonBehaviours: derive$1([\n          ...visible ? [Tabstopping.config({})] : [],\n          config(directoryLabelEventsId, [run$1(keydown(), (comp, se) => {\n              const isRightArrowKey = se.event.raw.code === 'ArrowRight';\n              const isLeftArrowKey = se.event.raw.code === 'ArrowLeft';\n              if (isRightArrowKey && noChildren) {\n                se.stop();\n              }\n              if (isRightArrowKey || isLeftArrowKey) {\n                ancestor(comp.element, '.tox-tree--directory').each(directoryEle => {\n                  comp.getSystem().getByDom(directoryEle).each(directoryComp => {\n                    if (!Toggling.isOn(directoryComp) && isRightArrowKey || Toggling.isOn(directoryComp) && isLeftArrowKey) {\n                      expandChildren(comp);\n                      se.stop();\n                    } else if (isLeftArrowKey && !Toggling.isOn(directoryComp)) {\n                      ancestor(directoryComp.element, '.tox-tree--directory').each(parentDirElement => {\n                        child(parentDirElement, '.tox-tree--directory__label').each(parentDirLabelElement => {\n                          directoryComp.getSystem().getByDom(parentDirLabelElement).each(Focusing.focus);\n                        });\n                      });\n                      se.stop();\n                    }\n                  });\n                });\n              }\n            })])\n        ])\n      });\n    };\n    const renderDirectoryChildren = ({children, onLeafAction, visible, treeId, backstage}) => {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-tree--directory__children']\n        },\n        components: children.map(item => {\n          return item.type === 'leaf' ? renderLeafLabel({\n            leaf: item,\n            onLeafAction,\n            visible,\n            treeId,\n            backstage\n          }) : renderDirectory({\n            directory: item,\n            onLeafAction,\n            labelTabstopping: visible,\n            treeId,\n            backstage\n          });\n        }),\n        behaviours: derive$1([\n          Sliding.config({\n            dimension: { property: 'height' },\n            closedClass: 'tox-tree--directory__children--closed',\n            openClass: 'tox-tree--directory__children--open',\n            growingClass: 'tox-tree--directory__children--growing',\n            shrinkingClass: 'tox-tree--directory__children--shrinking'\n          }),\n          Replacing.config({})\n        ])\n      };\n    };\n    const renderDirectory = ({directory, onLeafAction, labelTabstopping, treeId, backstage}) => {\n      const {children} = directory;\n      const computedChildrenComponents = visible => children.map(item => {\n        return item.type === 'leaf' ? renderLeafLabel({\n          leaf: item,\n          onLeafAction,\n          visible,\n          treeId,\n          backstage\n        }) : renderDirectory({\n          directory: item,\n          onLeafAction,\n          labelTabstopping: visible,\n          treeId,\n          backstage\n        });\n      });\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-tree--directory'],\n          attributes: { role: 'treeitem' }\n        },\n        components: [\n          renderDirectoryLabel({\n            directory,\n            visible: labelTabstopping,\n            noChildren: directory.children.length === 0,\n            backstage\n          }),\n          renderDirectoryChildren({\n            children,\n            onLeafAction,\n            visible: false,\n            treeId,\n            backstage\n          })\n        ],\n        behaviours: derive$1([Toggling.config({\n            ...directory.children.length > 0 ? { aria: { mode: 'expanded' } } : {},\n            toggleClass: 'tox-tree--directory--expanded',\n            onToggled: (comp, childrenVisible) => {\n              const childrenComp = comp.components()[1];\n              const newChildren = computedChildrenComponents(childrenVisible);\n              if (childrenVisible) {\n                Sliding.grow(childrenComp);\n              } else {\n                Sliding.shrink(childrenComp);\n              }\n              Replacing.set(childrenComp, newChildren);\n            }\n          })])\n      };\n    };\n    const renderTree = (spec, backstage) => {\n      const onLeafAction = spec.onLeafAction.getOr(noop);\n      const treeId = generate$6('tree-id');\n      const children = spec.items.map(item => {\n        return item.type === 'leaf' ? renderLeafLabel({\n          leaf: item,\n          onLeafAction,\n          visible: true,\n          treeId,\n          backstage\n        }) : renderDirectory({\n          directory: item,\n          onLeafAction,\n          labelTabstopping: true,\n          treeId,\n          backstage\n        });\n      });\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-tree'],\n          attributes: { role: 'tree' }\n        },\n        components: children,\n        behaviours: derive$1([Keying.config({\n            mode: 'flow',\n            selector: '.tox-tree--leaf__label--visible, .tox-tree--directory__label--visible',\n            cycles: false\n          })])\n      };\n    };\n\n    const events$5 = (streamConfig, streamState) => {\n      const streams = streamConfig.stream.streams;\n      const processor = streams.setup(streamConfig, streamState);\n      return derive$2([\n        run$1(streamConfig.event, processor),\n        runOnDetached(() => streamState.cancel())\n      ].concat(streamConfig.cancelEvent.map(e => [run$1(e, () => streamState.cancel())]).getOr([])));\n    };\n\n    var ActiveStreaming = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$5\n    });\n\n    const first = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        if (isNull(timer)) {\n          timer = setTimeout(() => {\n            timer = null;\n            fn.apply(null, args);\n          }, rate);\n        }\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n    const last = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        cancel();\n        timer = setTimeout(() => {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n\n    const throttle = _config => {\n      const state = Cell(null);\n      const readState = () => ({ timer: state.get() !== null ? 'set' : 'unset' });\n      const setTimer = t => {\n        state.set(t);\n      };\n      const cancel = () => {\n        const t = state.get();\n        if (t !== null) {\n          t.cancel();\n        }\n      };\n      return nu$8({\n        readState,\n        setTimer,\n        cancel\n      });\n    };\n    const init$8 = spec => spec.stream.streams.state(spec);\n\n    var StreamingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        throttle: throttle,\n        init: init$8\n    });\n\n    const setup$c = (streamInfo, streamState) => {\n      const sInfo = streamInfo.stream;\n      const throttler = last(streamInfo.onStream, sInfo.delay);\n      streamState.setTimer(throttler);\n      return (component, simulatedEvent) => {\n        throttler.throttle(component, simulatedEvent);\n        if (sInfo.stopEvent) {\n          simulatedEvent.stop();\n        }\n      };\n    };\n    var StreamingSchema = [\n      requiredOf('stream', choose$1('mode', {\n        throttle: [\n          required$1('delay'),\n          defaulted('stopEvent', true),\n          output$1('streams', {\n            setup: setup$c,\n            state: throttle\n          })\n        ]\n      })),\n      defaulted('event', 'input'),\n      option$3('cancelEvent'),\n      onStrictHandler('onStream')\n    ];\n\n    const Streaming = create$4({\n      fields: StreamingSchema,\n      name: 'streaming',\n      active: ActiveStreaming,\n      state: StreamingState\n    });\n\n    const setValueFromItem = (model, input, item) => {\n      const itemData = Representing.getValue(item);\n      Representing.setValue(input, itemData);\n      setCursorAtEnd(input);\n    };\n    const setSelectionOn = (input, f) => {\n      const el = input.element;\n      const value = get$6(el);\n      const node = el.dom;\n      if (get$f(el, 'type') !== 'number') {\n        f(node, value);\n      }\n    };\n    const setCursorAtEnd = input => {\n      setSelectionOn(input, (node, value) => node.setSelectionRange(value.length, value.length));\n    };\n    const setSelectionToEnd = (input, startOffset) => {\n      setSelectionOn(input, (node, value) => node.setSelectionRange(startOffset, value.length));\n    };\n    const attemptSelectOver = (model, input, item) => {\n      if (!model.selectsOver) {\n        return Optional.none();\n      } else {\n        const currentValue = Representing.getValue(input);\n        const inputDisplay = model.getDisplayText(currentValue);\n        const itemValue = Representing.getValue(item);\n        const itemDisplay = model.getDisplayText(itemValue);\n        return itemDisplay.indexOf(inputDisplay) === 0 ? Optional.some(() => {\n          setValueFromItem(model, input, item);\n          setSelectionToEnd(input, inputDisplay.length);\n        }) : Optional.none();\n      }\n    };\n\n    const itemExecute = constant$1('alloy.typeahead.itemexecute');\n\n    const make$3 = (detail, components, spec, externals) => {\n      const navigateList = (comp, simulatedEvent, highlighter) => {\n        detail.previewing.set(false);\n        const sandbox = Coupling.getCoupled(comp, 'sandbox');\n        if (Sandboxing.isOpen(sandbox)) {\n          Composing.getCurrent(sandbox).each(menu => {\n            Highlighting.getHighlighted(menu).fold(() => {\n              highlighter(menu);\n            }, () => {\n              dispatchEvent(sandbox, menu.element, 'keydown', simulatedEvent);\n            });\n          });\n        } else {\n          const onOpenSync = sandbox => {\n            Composing.getCurrent(sandbox).each(highlighter);\n          };\n          open(detail, mapFetch(comp), comp, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n        }\n      };\n      const focusBehaviours$1 = focusBehaviours(detail);\n      const mapFetch = comp => tdata => tdata.map(data => {\n        const menus = values(data.menus);\n        const items = bind$3(menus, menu => filter$2(menu.items, item => item.type === 'item'));\n        const repState = Representing.getState(comp);\n        repState.update(map$2(items, item => item.data));\n        return data;\n      });\n      const getActiveMenu = sandboxComp => Composing.getCurrent(sandboxComp);\n      const typeaheadCustomEvents = 'typeaheadevents';\n      const behaviours = [\n        Focusing.config({}),\n        Representing.config({\n          onSetValue: detail.onSetValue,\n          store: {\n            mode: 'dataset',\n            getDataKey: comp => get$6(comp.element),\n            getFallbackEntry: itemString => ({\n              value: itemString,\n              meta: {}\n            }),\n            setValue: (comp, data) => {\n              set$5(comp.element, detail.model.getDisplayText(data));\n            },\n            ...detail.initialData.map(d => wrap$1('initialValue', d)).getOr({})\n          }\n        }),\n        Streaming.config({\n          stream: {\n            mode: 'throttle',\n            delay: detail.responseTime,\n            stopEvent: false\n          },\n          onStream: (component, _simulatedEvent) => {\n            const sandbox = Coupling.getCoupled(component, 'sandbox');\n            const focusInInput = Focusing.isFocused(component);\n            if (focusInInput) {\n              if (get$6(component.element).length >= detail.minChars) {\n                const previousValue = getActiveMenu(sandbox).bind(activeMenu => Highlighting.getHighlighted(activeMenu).map(Representing.getValue));\n                detail.previewing.set(true);\n                const onOpenSync = _sandbox => {\n                  getActiveMenu(sandbox).each(activeMenu => {\n                    previousValue.fold(() => {\n                      if (detail.model.selectsOver) {\n                        Highlighting.highlightFirst(activeMenu);\n                      }\n                    }, pv => {\n                      Highlighting.highlightBy(activeMenu, item => {\n                        const itemData = Representing.getValue(item);\n                        return itemData.value === pv.value;\n                      });\n                      Highlighting.getHighlighted(activeMenu).orThunk(() => {\n                        Highlighting.highlightFirst(activeMenu);\n                        return Optional.none();\n                      });\n                    });\n                  });\n                };\n                open(detail, mapFetch(component), component, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightJustMenu).get(noop);\n              }\n            }\n          },\n          cancelEvent: typeaheadCancel()\n        }),\n        Keying.config({\n          mode: 'special',\n          onDown: (comp, simulatedEvent) => {\n            navigateList(comp, simulatedEvent, Highlighting.highlightFirst);\n            return Optional.some(true);\n          },\n          onEscape: comp => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            if (Sandboxing.isOpen(sandbox)) {\n              Sandboxing.close(sandbox);\n              return Optional.some(true);\n            }\n            return Optional.none();\n          },\n          onUp: (comp, simulatedEvent) => {\n            navigateList(comp, simulatedEvent, Highlighting.highlightLast);\n            return Optional.some(true);\n          },\n          onEnter: comp => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            const sandboxIsOpen = Sandboxing.isOpen(sandbox);\n            if (sandboxIsOpen && !detail.previewing.get()) {\n              return getActiveMenu(sandbox).bind(activeMenu => Highlighting.getHighlighted(activeMenu)).map(item => {\n                emitWith(comp, itemExecute(), { item });\n                return true;\n              });\n            } else {\n              const currentValue = Representing.getValue(comp);\n              emit(comp, typeaheadCancel());\n              detail.onExecute(sandbox, comp, currentValue);\n              if (sandboxIsOpen) {\n                Sandboxing.close(sandbox);\n              }\n              return Optional.some(true);\n            }\n          }\n        }),\n        Toggling.config({\n          toggleClass: detail.markers.openClass,\n          aria: { mode: 'expanded' }\n        }),\n        Coupling.config({\n          others: {\n            sandbox: hotspot => {\n              return makeSandbox$1(detail, hotspot, {\n                onOpen: () => Toggling.on(hotspot),\n                onClose: () => Toggling.off(hotspot)\n              });\n            }\n          }\n        }),\n        config(typeaheadCustomEvents, [\n          runOnAttached(typeaheadComp => {\n            detail.lazyTypeaheadComp.set(Optional.some(typeaheadComp));\n          }),\n          runOnDetached(_typeaheadComp => {\n            detail.lazyTypeaheadComp.set(Optional.none());\n          }),\n          runOnExecute$1(comp => {\n            const onOpenSync = noop;\n            togglePopup(detail, mapFetch(comp), comp, externals, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n          }),\n          run$1(itemExecute(), (comp, se) => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            setValueFromItem(detail.model, comp, se.event.item);\n            emit(comp, typeaheadCancel());\n            detail.onItemExecute(comp, sandbox, se.event.item, Representing.getValue(comp));\n            Sandboxing.close(sandbox);\n            setCursorAtEnd(comp);\n          })\n        ].concat(detail.dismissOnBlur ? [run$1(postBlur(), typeahead => {\n            const sandbox = Coupling.getCoupled(typeahead, 'sandbox');\n            if (search(sandbox.element).isNone()) {\n              Sandboxing.close(sandbox);\n            }\n          })] : []))\n      ];\n      const eventOrder = {\n        [detachedFromDom()]: [\n          Representing.name(),\n          Streaming.name(),\n          typeaheadCustomEvents\n        ],\n        ...detail.eventOrder\n      };\n      return {\n        uid: detail.uid,\n        dom: dom(deepMerge(detail, {\n          inputAttributes: {\n            'role': 'combobox',\n            'aria-autocomplete': 'list',\n            'aria-haspopup': 'true'\n          }\n        })),\n        behaviours: {\n          ...focusBehaviours$1,\n          ...augment(detail.typeaheadBehaviours, behaviours)\n        },\n        eventOrder\n      };\n    };\n\n    const schema$g = constant$1([\n      option$3('lazySink'),\n      required$1('fetch'),\n      defaulted('minChars', 5),\n      defaulted('responseTime', 1000),\n      onHandler('onOpen'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      defaulted('layouts', Optional.none()),\n      defaulted('eventOrder', {}),\n      defaultedObjOf('model', {}, [\n        defaulted('getDisplayText', itemData => itemData.meta !== undefined && itemData.meta.text !== undefined ? itemData.meta.text : itemData.value),\n        defaulted('selectsOver', true),\n        defaulted('populateFromBrowse', true)\n      ]),\n      onHandler('onSetValue'),\n      onKeyboardHandler('onExecute'),\n      onHandler('onItemExecute'),\n      defaulted('inputClasses', []),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('matchWidth', true),\n      defaulted('useMinWidth', false),\n      defaulted('dismissOnBlur', true),\n      markers$1(['openClass']),\n      option$3('initialData'),\n      field('typeaheadBehaviours', [\n        Focusing,\n        Representing,\n        Streaming,\n        Keying,\n        Toggling,\n        Coupling\n      ]),\n      customField('lazyTypeaheadComp', () => Cell(Optional.none)),\n      customField('previewing', () => Cell(true))\n    ].concat(schema$l()).concat(sandboxFields()));\n    const parts$b = constant$1([external({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        overrides: detail => {\n          return {\n            fakeFocus: true,\n            onHighlightItem: (_tmenu, menu, item) => {\n              if (!detail.previewing.get()) {\n                detail.lazyTypeaheadComp.get().each(input => {\n                  if (detail.model.populateFromBrowse) {\n                    setValueFromItem(detail.model, input, item);\n                  }\n                });\n              } else {\n                detail.lazyTypeaheadComp.get().each(input => {\n                  attemptSelectOver(detail.model, input, item).fold(() => {\n                    if (detail.model.selectsOver) {\n                      Highlighting.dehighlight(menu, item);\n                      detail.previewing.set(true);\n                    } else {\n                      detail.previewing.set(false);\n                    }\n                  }, selectOverTextInInput => {\n                    selectOverTextInInput();\n                    detail.previewing.set(false);\n                  });\n                });\n              }\n            },\n            onExecute: (_menu, item) => {\n              return detail.lazyTypeaheadComp.get().map(typeahead => {\n                emitWith(typeahead, itemExecute(), { item });\n                return true;\n              });\n            },\n            onHover: (menu, item) => {\n              detail.previewing.set(false);\n              detail.lazyTypeaheadComp.get().each(input => {\n                if (detail.model.populateFromBrowse) {\n                  setValueFromItem(detail.model, input, item);\n                }\n              });\n            }\n          };\n        }\n      })]);\n\n    const Typeahead = composite({\n      name: 'Typeahead',\n      configFields: schema$g(),\n      partFields: parts$b(),\n      factory: make$3\n    });\n\n    const wrap = delegate => {\n      const toCached = () => {\n        return wrap(delegate.toCached());\n      };\n      const bindFuture = f => {\n        return wrap(delegate.bind(resA => resA.fold(err => Future.pure(Result.error(err)), a => f(a))));\n      };\n      const bindResult = f => {\n        return wrap(delegate.map(resA => resA.bind(f)));\n      };\n      const mapResult = f => {\n        return wrap(delegate.map(resA => resA.map(f)));\n      };\n      const mapError = f => {\n        return wrap(delegate.map(resA => resA.mapError(f)));\n      };\n      const foldResult = (whenError, whenValue) => {\n        return delegate.map(res => res.fold(whenError, whenValue));\n      };\n      const withTimeout = (timeout, errorThunk) => {\n        return wrap(Future.nu(callback => {\n          let timedOut = false;\n          const timer = setTimeout(() => {\n            timedOut = true;\n            callback(Result.error(errorThunk()));\n          }, timeout);\n          delegate.get(result => {\n            if (!timedOut) {\n              clearTimeout(timer);\n              callback(result);\n            }\n          });\n        }));\n      };\n      return {\n        ...delegate,\n        toCached,\n        bindFuture,\n        bindResult,\n        mapResult,\n        mapError,\n        foldResult,\n        withTimeout\n      };\n    };\n    const nu$1 = worker => {\n      return wrap(Future.nu(worker));\n    };\n    const value = value => {\n      return wrap(Future.pure(Result.value(value)));\n    };\n    const error = error => {\n      return wrap(Future.pure(Result.error(error)));\n    };\n    const fromResult = result => {\n      return wrap(Future.pure(result));\n    };\n    const fromFuture = future => {\n      return wrap(future.map(Result.value));\n    };\n    const fromPromise = promise => {\n      return nu$1(completer => {\n        promise.then(value => {\n          completer(Result.value(value));\n        }, error => {\n          completer(Result.error(error));\n        });\n      });\n    };\n    const FutureResult = {\n      nu: nu$1,\n      wrap,\n      pure: value,\n      value,\n      error,\n      fromResult,\n      fromFuture,\n      fromPromise\n    };\n\n    const renderCommonSpec = (spec, actionOpt, extraBehaviours = [], dom, components, providersBackstage) => {\n      const action = actionOpt.fold(() => ({}), action => ({ action }));\n      const common = {\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(() => !spec.enabled || providersBackstage.isDisabled()),\n          receivingConfig(),\n          Tabstopping.config({}),\n          config('button press', [\n            preventDefault('click'),\n            preventDefault('mousedown')\n          ])\n        ].concat(extraBehaviours)),\n        eventOrder: {\n          click: [\n            'button press',\n            'alloy.base.behaviour'\n          ],\n          mousedown: [\n            'button press',\n            'alloy.base.behaviour'\n          ]\n        },\n        ...action\n      };\n      const domFinal = deepMerge(common, { dom });\n      return deepMerge(domFinal, { components });\n    };\n    const renderIconButtonSpec = (spec, action, providersBackstage, extraBehaviours = []) => {\n      const tooltipAttributes = spec.tooltip.map(tooltip => ({\n        'aria-label': providersBackstage.translate(tooltip),\n        'title': providersBackstage.translate(tooltip)\n      })).getOr({});\n      const dom = {\n        tag: 'button',\n        classes: ['tox-tbtn'],\n        attributes: tooltipAttributes\n      };\n      const icon = spec.icon.map(iconName => renderIconFromPack$1(iconName, providersBackstage.icons));\n      const components = componentRenderPipeline([icon]);\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    const calculateClassesFromButtonType = buttonType => {\n      switch (buttonType) {\n      case 'primary':\n        return ['tox-button'];\n      case 'toolbar':\n        return ['tox-tbtn'];\n      case 'secondary':\n      default:\n        return [\n          'tox-button',\n          'tox-button--secondary'\n        ];\n      }\n    };\n    const renderButtonSpec = (spec, action, providersBackstage, extraBehaviours = [], extraClasses = []) => {\n      const translatedText = providersBackstage.translate(spec.text);\n      const icon = spec.icon.map(iconName => renderIconFromPack$1(iconName, providersBackstage.icons));\n      const components = [icon.getOrThunk(() => text$2(translatedText))];\n      const buttonType = spec.buttonType.getOr(!spec.primary && !spec.borderless ? 'secondary' : 'primary');\n      const baseClasses = calculateClassesFromButtonType(buttonType);\n      const classes = [\n        ...baseClasses,\n        ...icon.isSome() ? ['tox-button--icon'] : [],\n        ...spec.borderless ? ['tox-button--naked'] : [],\n        ...extraClasses\n      ];\n      const dom = {\n        tag: 'button',\n        classes,\n        attributes: { title: translatedText }\n      };\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    const renderButton$1 = (spec, action, providersBackstage, extraBehaviours = [], extraClasses = []) => {\n      const buttonSpec = renderButtonSpec(spec, Optional.some(action), providersBackstage, extraBehaviours, extraClasses);\n      return Button.sketch(buttonSpec);\n    };\n    const getAction = (name, buttonType) => comp => {\n      if (buttonType === 'custom') {\n        emitWith(comp, formActionEvent, {\n          name,\n          value: {}\n        });\n      } else if (buttonType === 'submit') {\n        emit(comp, formSubmitEvent);\n      } else if (buttonType === 'cancel') {\n        emit(comp, formCancelEvent);\n      } else {\n        console.error('Unknown button type: ', buttonType);\n      }\n    };\n    const isMenuFooterButtonSpec = (spec, buttonType) => buttonType === 'menu';\n    const isNormalFooterButtonSpec = (spec, buttonType) => buttonType === 'custom' || buttonType === 'cancel' || buttonType === 'submit';\n    const isToggleButtonSpec = (spec, buttonType) => buttonType === 'togglebutton';\n    const renderToggleButton = (spec, providers) => {\n      var _a, _b, _c;\n      const optMemIcon = Optional.from(spec.icon).map(memIcon => renderReplaceableIconFromPack(memIcon, providers.icons)).map(record);\n      const action = comp => {\n        emitWith(comp, formActionEvent, {\n          name: spec.name,\n          value: {\n            setIcon: newIcon => {\n              optMemIcon.map(memIcon => memIcon.getOpt(comp).each(displayIcon => {\n                Replacing.set(displayIcon, [renderReplaceableIconFromPack(newIcon, providers.icons)]);\n              }));\n            }\n          }\n        });\n      };\n      const buttonSpec = {\n        ...spec,\n        name: (_a = spec.name) !== null && _a !== void 0 ? _a : '',\n        primary: spec.buttonType === 'primary',\n        buttonType: Optional.from(spec.buttonType),\n        tooltip: Optional.from(spec.tooltip),\n        icon: Optional.from(spec.name),\n        enabled: (_b = spec.enabled) !== null && _b !== void 0 ? _b : false,\n        borderless: false\n      };\n      const tooltipAttributes = buttonSpec.tooltip.map(tooltip => ({\n        'aria-label': providers.translate(tooltip),\n        'title': providers.translate(tooltip)\n      })).getOr({});\n      const buttonTypeClasses = calculateClassesFromButtonType((_c = spec.buttonType) !== null && _c !== void 0 ? _c : 'secondary');\n      const showIconAndText = !!spec.icon && !!spec.text;\n      const dom = {\n        tag: 'button',\n        classes: [\n          ...buttonTypeClasses.concat(['tox-button--icon']),\n          ...spec.active ? ['tox-button--enabled'] : [],\n          ...showIconAndText ? ['tox-button--icon-and-text'] : []\n        ],\n        attributes: tooltipAttributes\n      };\n      const extraBehaviours = [];\n      const translatedText = providers.translate(spec.text);\n      const translatedTextComponed = text$2(translatedText);\n      const iconComp = componentRenderPipeline([optMemIcon.map(memIcon => memIcon.asSpec())]);\n      const components = [\n        ...iconComp,\n        ...showIconAndText ? [translatedTextComponed] : []\n      ];\n      const iconButtonSpec = renderCommonSpec(buttonSpec, Optional.some(action), extraBehaviours, dom, components, providers);\n      return Button.sketch(iconButtonSpec);\n    };\n    const renderFooterButton = (spec, buttonType, backstage) => {\n      if (isMenuFooterButtonSpec(spec, buttonType)) {\n        const getButton = () => memButton;\n        const menuButtonSpec = spec;\n        const fixedSpec = {\n          ...spec,\n          type: 'menubutton',\n          search: Optional.none(),\n          onSetup: api => {\n            api.setEnabled(spec.enabled);\n            return noop;\n          },\n          fetch: getFetch(menuButtonSpec.items, getButton, backstage)\n        };\n        const memButton = record(renderMenuButton(fixedSpec, 'tox-tbtn', backstage, Optional.none()));\n        return memButton.asSpec();\n      } else if (isNormalFooterButtonSpec(spec, buttonType)) {\n        const action = getAction(spec.name, buttonType);\n        const buttonSpec = {\n          ...spec,\n          borderless: false\n        };\n        return renderButton$1(buttonSpec, action, backstage.shared.providers, []);\n      } else if (isToggleButtonSpec(spec, buttonType)) {\n        const buttonSpec = {\n          ...spec,\n          tooltip: spec.tooltip,\n          text: spec.text.getOrUndefined(),\n          buttonType: spec.buttonType.getOrUndefined()\n        };\n        return renderToggleButton(buttonSpec, backstage.shared.providers);\n      } else {\n        console.error('Unknown footer button type: ', buttonType);\n        throw new Error('Unknown footer button type');\n      }\n    };\n    const renderDialogButton = (spec, providersBackstage) => {\n      const action = getAction(spec.name, 'custom');\n      return renderFormField(Optional.none(), FormField.parts.field({\n        factory: Button,\n        ...renderButtonSpec(spec, Optional.some(action), providersBackstage, [\n          RepresentingConfigs.memory(''),\n          ComposingConfigs.self()\n        ])\n      }));\n    };\n\n    const separator$1 = { type: 'separator' };\n    const toMenuItem = target => ({\n      type: 'menuitem',\n      value: target.url,\n      text: target.title,\n      meta: { attach: target.attach },\n      onAction: noop\n    });\n    const staticMenuItem = (title, url) => ({\n      type: 'menuitem',\n      value: url,\n      text: title,\n      meta: { attach: undefined },\n      onAction: noop\n    });\n    const toMenuItems = targets => map$2(targets, toMenuItem);\n    const filterLinkTargets = (type, targets) => filter$2(targets, target => target.type === type);\n    const filteredTargets = (type, targets) => toMenuItems(filterLinkTargets(type, targets));\n    const headerTargets = linkInfo => filteredTargets('header', linkInfo.targets);\n    const anchorTargets = linkInfo => filteredTargets('anchor', linkInfo.targets);\n    const anchorTargetTop = linkInfo => Optional.from(linkInfo.anchorTop).map(url => staticMenuItem('<top>', url)).toArray();\n    const anchorTargetBottom = linkInfo => Optional.from(linkInfo.anchorBottom).map(url => staticMenuItem('<bottom>', url)).toArray();\n    const historyTargets = history => map$2(history, url => staticMenuItem(url, url));\n    const joinMenuLists = items => {\n      return foldl(items, (a, b) => {\n        const bothEmpty = a.length === 0 || b.length === 0;\n        return bothEmpty ? a.concat(b) : a.concat(separator$1, b);\n      }, []);\n    };\n    const filterByQuery = (term, menuItems) => {\n      const lowerCaseTerm = term.toLowerCase();\n      return filter$2(menuItems, item => {\n        var _a;\n        const text = item.meta !== undefined && item.meta.text !== undefined ? item.meta.text : item.text;\n        const value = (_a = item.value) !== null && _a !== void 0 ? _a : '';\n        return contains$1(text.toLowerCase(), lowerCaseTerm) || contains$1(value.toLowerCase(), lowerCaseTerm);\n      });\n    };\n\n    const getItems = (fileType, input, urlBackstage) => {\n      const urlInputValue = Representing.getValue(input);\n      const term = urlInputValue.meta.text !== undefined ? urlInputValue.meta.text : urlInputValue.value;\n      const info = urlBackstage.getLinkInformation();\n      return info.fold(() => [], linkInfo => {\n        const history = filterByQuery(term, historyTargets(urlBackstage.getHistory(fileType)));\n        return fileType === 'file' ? joinMenuLists([\n          history,\n          filterByQuery(term, headerTargets(linkInfo)),\n          filterByQuery(term, flatten([\n            anchorTargetTop(linkInfo),\n            anchorTargets(linkInfo),\n            anchorTargetBottom(linkInfo)\n          ]))\n        ]) : history;\n      });\n    };\n    const errorId = generate$6('aria-invalid');\n    const renderUrlInput = (spec, backstage, urlBackstage, initialData) => {\n      const providersBackstage = backstage.shared.providers;\n      const updateHistory = component => {\n        const urlEntry = Representing.getValue(component);\n        urlBackstage.addToHistory(urlEntry.value, spec.filetype);\n      };\n      const typeaheadSpec = {\n        ...initialData.map(initialData => ({ initialData })).getOr({}),\n        dismissOnBlur: true,\n        inputClasses: ['tox-textfield'],\n        sandboxClasses: ['tox-dialog__popups'],\n        inputAttributes: {\n          'aria-errormessage': errorId,\n          'type': 'url'\n        },\n        minChars: 0,\n        responseTime: 0,\n        fetch: input => {\n          const items = getItems(spec.filetype, input, urlBackstage);\n          const tdata = build(items, ItemResponse$1.BUBBLE_TO_SANDBOX, backstage, {\n            isHorizontalMenu: false,\n            search: Optional.none()\n          });\n          return Future.pure(tdata);\n        },\n        getHotspot: comp => memUrlBox.getOpt(comp),\n        onSetValue: (comp, _newValue) => {\n          if (comp.hasConfigured(Invalidating)) {\n            Invalidating.run(comp).get(noop);\n          }\n        },\n        typeaheadBehaviours: derive$1([\n          ...urlBackstage.getValidationHandler().map(handler => Invalidating.config({\n            getRoot: comp => parentElement(comp.element),\n            invalidClass: 'tox-control-wrap--status-invalid',\n            notify: {\n              onInvalid: (comp, err) => {\n                memInvalidIcon.getOpt(comp).each(invalidComp => {\n                  set$9(invalidComp.element, 'title', providersBackstage.translate(err));\n                });\n              }\n            },\n            validator: {\n              validate: input => {\n                const urlEntry = Representing.getValue(input);\n                return FutureResult.nu(completer => {\n                  handler({\n                    type: spec.filetype,\n                    url: urlEntry.value\n                  }, validation => {\n                    if (validation.status === 'invalid') {\n                      const err = Result.error(validation.message);\n                      completer(err);\n                    } else {\n                      const val = Result.value(validation.message);\n                      completer(val);\n                    }\n                  });\n                });\n              },\n              validateOnLoad: false\n            }\n          })).toArray(),\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          Tabstopping.config({}),\n          config('urlinput-events', [\n            run$1(input(), comp => {\n              const currentValue = get$6(comp.element);\n              const trimmedValue = currentValue.trim();\n              if (trimmedValue !== currentValue) {\n                set$5(comp.element, trimmedValue);\n              }\n              if (spec.filetype === 'file') {\n                emitWith(comp, formChangeEvent, { name: spec.name });\n              }\n            }),\n            run$1(change(), comp => {\n              emitWith(comp, formChangeEvent, { name: spec.name });\n              updateHistory(comp);\n            }),\n            run$1(postPaste(), comp => {\n              emitWith(comp, formChangeEvent, { name: spec.name });\n              updateHistory(comp);\n            })\n          ])\n        ]),\n        eventOrder: {\n          [input()]: [\n            'streaming',\n            'urlinput-events',\n            'invalidating'\n          ]\n        },\n        model: {\n          getDisplayText: itemData => itemData.value,\n          selectsOver: false,\n          populateFromBrowse: false\n        },\n        markers: { openClass: 'tox-textfield--popup-open' },\n        lazySink: backstage.shared.getSink,\n        parts: { menu: part(false, 1, 'normal') },\n        onExecute: (_menu, component, _entry) => {\n          emitWith(component, formSubmitEvent, {});\n        },\n        onItemExecute: (typeahead, _sandbox, _item, _value) => {\n          updateHistory(typeahead);\n          emitWith(typeahead, formChangeEvent, { name: spec.name });\n        }\n      };\n      const pField = FormField.parts.field({\n        ...typeaheadSpec,\n        factory: Typeahead\n      });\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const makeIcon = (name, errId, icon = name, label = name) => render$3(icon, {\n        tag: 'div',\n        classes: [\n          'tox-icon',\n          'tox-control-wrap__status-icon-' + name\n        ],\n        attributes: {\n          'title': providersBackstage.translate(label),\n          'aria-live': 'polite',\n          ...errId.fold(() => ({}), id => ({ id }))\n        }\n      }, providersBackstage.icons);\n      const memInvalidIcon = record(makeIcon('invalid', Optional.some(errorId), 'warning'));\n      const memStatus = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap__status-icon-wrap']\n        },\n        components: [memInvalidIcon.asSpec()]\n      });\n      const optUrlPicker = urlBackstage.getUrlPicker(spec.filetype);\n      const browseUrlEvent = generate$6('browser.url.event');\n      const memUrlBox = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap']\n        },\n        components: [\n          pField,\n          memStatus.asSpec()\n        ],\n        behaviours: derive$1([Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() })])\n      });\n      const memUrlPickerButton = record(renderButton$1({\n        name: spec.name,\n        icon: Optional.some('browse'),\n        text: spec.label.getOr(''),\n        enabled: spec.enabled,\n        primary: false,\n        buttonType: Optional.none(),\n        borderless: true\n      }, component => emit(component, browseUrlEvent), providersBackstage, [], ['tox-browse-url']));\n      const controlHWrapper = () => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__controls-h-stack']\n        },\n        components: flatten([\n          [memUrlBox.asSpec()],\n          optUrlPicker.map(() => memUrlPickerButton.asSpec()).toArray()\n        ])\n      });\n      const openUrlPicker = comp => {\n        Composing.getCurrent(comp).each(field => {\n          const componentData = Representing.getValue(field);\n          const urlData = {\n            fieldname: spec.name,\n            ...componentData\n          };\n          optUrlPicker.each(picker => {\n            picker(urlData).get(chosenData => {\n              Representing.setValue(field, chosenData);\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            });\n          });\n        });\n      };\n      return FormField.sketch({\n        dom: renderFormFieldDom(),\n        components: pLabel.toArray().concat([controlHWrapper()]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.isDisabled(),\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('url-input-events', [run$1(browseUrlEvent, openUrlPicker)])\n        ])\n      });\n    };\n\n    const renderAlertBanner = (spec, providersBackstage) => Container.sketch({\n      dom: {\n        tag: 'div',\n        attributes: { role: 'alert' },\n        classes: [\n          'tox-notification',\n          'tox-notification--in',\n          `tox-notification--${ spec.level }`\n        ]\n      },\n      components: [\n        {\n          dom: {\n            tag: 'div',\n            classes: ['tox-notification__icon']\n          },\n          components: [Button.sketch({\n              dom: {\n                tag: 'button',\n                classes: [\n                  'tox-button',\n                  'tox-button--naked',\n                  'tox-button--icon'\n                ],\n                innerHtml: get$2(spec.icon, providersBackstage.icons),\n                attributes: { title: providersBackstage.translate(spec.iconTooltip) }\n              },\n              action: comp => {\n                emitWith(comp, formActionEvent, {\n                  name: 'alert-banner',\n                  value: spec.url\n                });\n              },\n              buttonBehaviours: derive$1([addFocusableBehaviour()])\n            })]\n        },\n        {\n          dom: {\n            tag: 'div',\n            classes: ['tox-notification__body'],\n            innerHtml: providersBackstage.translate(spec.text)\n          }\n        }\n      ]\n    });\n\n    const set$1 = (element, status) => {\n      element.dom.checked = status;\n    };\n    const get$1 = element => element.dom.checked;\n\n    const renderCheckbox = (spec, providerBackstage, initialData) => {\n      const toggleCheckboxHandler = comp => {\n        comp.element.dom.click();\n        return Optional.some(true);\n      };\n      const pField = FormField.parts.field({\n        factory: { sketch: identity },\n        dom: {\n          tag: 'input',\n          classes: ['tox-checkbox__input'],\n          attributes: { type: 'checkbox' }\n        },\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Disabling.config({ disabled: () => !spec.enabled || providerBackstage.isDisabled() }),\n          Tabstopping.config({}),\n          Focusing.config({}),\n          RepresentingConfigs.withElement(initialData, get$1, set$1),\n          Keying.config({\n            mode: 'special',\n            onEnter: toggleCheckboxHandler,\n            onSpace: toggleCheckboxHandler,\n            stopSpaceKeyup: true\n          }),\n          config('checkbox-events', [run$1(change(), (component, _) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      const pLabel = FormField.parts.label({\n        dom: {\n          tag: 'span',\n          classes: ['tox-checkbox__label']\n        },\n        components: [text$2(providerBackstage.translate(spec.label))],\n        behaviours: derive$1([Unselecting.config({})])\n      });\n      const makeIcon = className => {\n        const iconName = className === 'checked' ? 'selected' : 'unselected';\n        return render$3(iconName, {\n          tag: 'span',\n          classes: [\n            'tox-icon',\n            'tox-checkbox-icon__' + className\n          ]\n        }, providerBackstage.icons);\n      };\n      const memIcons = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-checkbox__icons']\n        },\n        components: [\n          makeIcon('checked'),\n          makeIcon('unchecked')\n        ]\n      });\n      return FormField.sketch({\n        dom: {\n          tag: 'label',\n          classes: ['tox-checkbox']\n        },\n        components: [\n          pField,\n          memIcons.asSpec(),\n          pLabel\n        ],\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providerBackstage.isDisabled(),\n            disableClass: 'tox-checkbox--disabled',\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    const renderHtmlPanel = spec => {\n      if (spec.presets === 'presentation') {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html\n          }\n        });\n      } else {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html,\n            attributes: { role: 'document' }\n          },\n          containerBehaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({})\n          ])\n        });\n      }\n    };\n\n    const make$2 = render => {\n      return (parts, spec, dialogData, backstage) => get$g(spec, 'name').fold(() => render(spec, backstage, Optional.none()), fieldName => parts.field(fieldName, render(spec, backstage, get$g(dialogData, fieldName))));\n    };\n    const makeIframe = render => (parts, spec, dialogData, backstage) => {\n      const iframeSpec = deepMerge(spec, { source: 'dynamic' });\n      return make$2(render)(parts, iframeSpec, dialogData, backstage);\n    };\n    const factories = {\n      bar: make$2((spec, backstage) => renderBar(spec, backstage.shared)),\n      collection: make$2((spec, backstage, data) => renderCollection(spec, backstage.shared.providers, data)),\n      alertbanner: make$2((spec, backstage) => renderAlertBanner(spec, backstage.shared.providers)),\n      input: make$2((spec, backstage, data) => renderInput(spec, backstage.shared.providers, data)),\n      textarea: make$2((spec, backstage, data) => renderTextarea(spec, backstage.shared.providers, data)),\n      label: make$2((spec, backstage) => renderLabel$2(spec, backstage.shared)),\n      iframe: makeIframe((spec, backstage, data) => renderIFrame(spec, backstage.shared.providers, data)),\n      button: make$2((spec, backstage) => renderDialogButton(spec, backstage.shared.providers)),\n      checkbox: make$2((spec, backstage, data) => renderCheckbox(spec, backstage.shared.providers, data)),\n      colorinput: make$2((spec, backstage, data) => renderColorInput(spec, backstage.shared, backstage.colorinput, data)),\n      colorpicker: make$2((spec, backstage, data) => renderColorPicker(spec, backstage.shared.providers, data)),\n      dropzone: make$2((spec, backstage, data) => renderDropZone(spec, backstage.shared.providers, data)),\n      grid: make$2((spec, backstage) => renderGrid(spec, backstage.shared)),\n      listbox: make$2((spec, backstage, data) => renderListBox(spec, backstage, data)),\n      selectbox: make$2((spec, backstage, data) => renderSelectBox(spec, backstage.shared.providers, data)),\n      sizeinput: make$2((spec, backstage) => renderSizeInput(spec, backstage.shared.providers)),\n      slider: make$2((spec, backstage, data) => renderSlider(spec, backstage.shared.providers, data)),\n      urlinput: make$2((spec, backstage, data) => renderUrlInput(spec, backstage, backstage.urlinput, data)),\n      customeditor: make$2(renderCustomEditor),\n      htmlpanel: make$2(renderHtmlPanel),\n      imagepreview: make$2((spec, _, data) => renderImagePreview(spec, data)),\n      table: make$2((spec, backstage) => renderTable(spec, backstage.shared.providers)),\n      tree: make$2((spec, backstage) => renderTree(spec, backstage)),\n      panel: make$2((spec, backstage) => renderPanel(spec, backstage))\n    };\n    const noFormParts = {\n      field: (_name, spec) => spec,\n      record: constant$1([])\n    };\n    const interpretInForm = (parts, spec, dialogData, oldBackstage) => {\n      const newBackstage = deepMerge(oldBackstage, { shared: { interpreter: childSpec => interpretParts(parts, childSpec, dialogData, newBackstage) } });\n      return interpretParts(parts, spec, dialogData, newBackstage);\n    };\n    const interpretParts = (parts, spec, dialogData, backstage) => get$g(factories, spec.type).fold(() => {\n      console.error(`Unknown factory type \"${ spec.type }\", defaulting to container: `, spec);\n      return spec;\n    }, factory => factory(parts, spec, dialogData, backstage));\n    const interpretWithoutForm = (spec, dialogData, backstage) => interpretParts(noFormParts, spec, dialogData, backstage);\n\n    const labelPrefix = 'layout-inset';\n    const westEdgeX = anchor => anchor.x;\n    const middleX = (anchor, element) => anchor.x + anchor.width / 2 - element.width / 2;\n    const eastEdgeX = (anchor, element) => anchor.x + anchor.width - element.width;\n    const northY = anchor => anchor.y;\n    const southY = (anchor, element) => anchor.y + anchor.height - element.height;\n    const centreY = (anchor, element) => anchor.y + anchor.height / 2 - element.height / 2;\n    const southwest = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), southY(anchor, element), bubbles.insetSouthwest(), northwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 0,\n      bottom: 3\n    }), labelPrefix);\n    const southeast = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), southY(anchor, element), bubbles.insetSoutheast(), northeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 1,\n      bottom: 3\n    }), labelPrefix);\n    const northwest = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), northY(anchor), bubbles.insetNorthwest(), southwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 0,\n      top: 2\n    }), labelPrefix);\n    const northeast = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), northY(anchor), bubbles.insetNortheast(), southeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 1,\n      top: 2\n    }), labelPrefix);\n    const north = (anchor, element, bubbles) => nu$6(middleX(anchor, element), northY(anchor), bubbles.insetNorth(), south$3(), 'north', boundsRestriction(anchor, { top: 2 }), labelPrefix);\n    const south = (anchor, element, bubbles) => nu$6(middleX(anchor, element), southY(anchor, element), bubbles.insetSouth(), north$3(), 'south', boundsRestriction(anchor, { bottom: 3 }), labelPrefix);\n    const east = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), centreY(anchor, element), bubbles.insetEast(), west$3(), 'east', boundsRestriction(anchor, { right: 0 }), labelPrefix);\n    const west = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), centreY(anchor, element), bubbles.insetWest(), east$3(), 'west', boundsRestriction(anchor, { left: 1 }), labelPrefix);\n    const lookupPreserveLayout = lastPlacement => {\n      switch (lastPlacement) {\n      case 'north':\n        return north;\n      case 'northeast':\n        return northeast;\n      case 'northwest':\n        return northwest;\n      case 'south':\n        return south;\n      case 'southeast':\n        return southeast;\n      case 'southwest':\n        return southwest;\n      case 'east':\n        return east;\n      case 'west':\n        return west;\n      }\n    };\n    const preserve = (anchor, element, bubbles, placee, bounds) => {\n      const layout = getPlacement(placee).map(lookupPreserveLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n    const lookupFlippedLayout = lastPlacement => {\n      switch (lastPlacement) {\n      case 'north':\n        return south;\n      case 'northeast':\n        return southeast;\n      case 'northwest':\n        return southwest;\n      case 'south':\n        return north;\n      case 'southeast':\n        return northeast;\n      case 'southwest':\n        return northwest;\n      case 'east':\n        return west;\n      case 'west':\n        return east;\n      }\n    };\n    const flip = (anchor, element, bubbles, placee, bounds) => {\n      const layout = getPlacement(placee).map(lookupFlippedLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n\n    const bubbleAlignments$2 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: [],\n      alignRight: [],\n      right: [],\n      left: [],\n      bottom: [],\n      top: []\n    };\n    const getInlineDialogAnchor = (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) => {\n      const bubbleSize = 12;\n      const overrides = { maxHeightFunction: expandable$1() };\n      const editableAreaAnchor = () => ({\n        type: 'node',\n        root: getContentContainer(getRootNode(contentAreaElement())),\n        node: Optional.from(contentAreaElement()),\n        bubble: nu$5(bubbleSize, bubbleSize, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [northeast],\n          onLtr: () => [northwest]\n        },\n        overrides\n      });\n      const standardAnchor = () => ({\n        type: 'hotspot',\n        hotspot: lazyAnchorbar(),\n        bubble: nu$5(-bubbleSize, bubbleSize, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [\n            southeast$2,\n            southwest$2,\n            south$2\n          ],\n          onLtr: () => [\n            southwest$2,\n            southeast$2,\n            south$2\n          ]\n        },\n        overrides\n      });\n      return () => lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n    };\n    const getBannerAnchor = (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) => {\n      const editableAreaAnchor = () => ({\n        type: 'node',\n        root: getContentContainer(getRootNode(contentAreaElement())),\n        node: Optional.from(contentAreaElement()),\n        layouts: {\n          onRtl: () => [north],\n          onLtr: () => [north]\n        }\n      });\n      const standardAnchor = () => ({\n        type: 'hotspot',\n        hotspot: lazyAnchorbar(),\n        layouts: {\n          onRtl: () => [south$2],\n          onLtr: () => [south$2]\n        }\n      });\n      return () => lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n    };\n    const getCursorAnchor = (editor, bodyElement) => () => ({\n      type: 'selection',\n      root: bodyElement(),\n      getSelection: () => {\n        const rng = editor.selection.getRng();\n        return Optional.some(SimSelection.range(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n      }\n    });\n    const getNodeAnchor$1 = bodyElement => element => ({\n      type: 'node',\n      root: bodyElement(),\n      node: element\n    });\n    const getAnchors = (editor, lazyAnchorbar, isToolbarTop) => {\n      const useFixedToolbarContainer = useFixedContainer(editor);\n      const bodyElement = () => SugarElement.fromDom(editor.getBody());\n      const contentAreaElement = () => SugarElement.fromDom(editor.getContentAreaContainer());\n      const lazyUseEditableAreaAnchor = () => useFixedToolbarContainer || !isToolbarTop();\n      return {\n        inlineDialog: getInlineDialogAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        banner: getBannerAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        cursor: getCursorAnchor(editor, bodyElement),\n        node: getNodeAnchor$1(bodyElement)\n      };\n    };\n\n    const colorPicker = editor => (callback, value) => {\n      const dialog = colorPickerDialog(editor);\n      dialog(callback, value);\n    };\n    const hasCustomColors = editor => () => hasCustomColors$1(editor);\n    const getColors = editor => id => getColors$2(editor, id);\n    const getColorCols = editor => id => getColorCols$1(editor, id);\n    const ColorInputBackstage = editor => ({\n      colorPicker: colorPicker(editor),\n      hasCustomColors: hasCustomColors(editor),\n      getColors: getColors(editor),\n      getColorCols: getColorCols(editor)\n    });\n\n    const isDraggableModal = editor => () => isDraggableModal$1(editor);\n    const DialogBackstage = editor => ({ isDraggableModal: isDraggableModal(editor) });\n\n    const HeaderBackstage = editor => {\n      const mode = Cell(isToolbarLocationBottom(editor) ? 'bottom' : 'top');\n      return {\n        isPositionedAtTop: () => mode.get() === 'top',\n        getDockingMode: mode.get,\n        setDockingMode: mode.set\n      };\n    };\n\n    const isNestedFormat = format => hasNonNullableKey(format, 'items');\n    const isFormatReference = format => hasNonNullableKey(format, 'format');\n    const defaultStyleFormats = [\n      {\n        title: 'Headings',\n        items: [\n          {\n            title: 'Heading 1',\n            format: 'h1'\n          },\n          {\n            title: 'Heading 2',\n            format: 'h2'\n          },\n          {\n            title: 'Heading 3',\n            format: 'h3'\n          },\n          {\n            title: 'Heading 4',\n            format: 'h4'\n          },\n          {\n            title: 'Heading 5',\n            format: 'h5'\n          },\n          {\n            title: 'Heading 6',\n            format: 'h6'\n          }\n        ]\n      },\n      {\n        title: 'Inline',\n        items: [\n          {\n            title: 'Bold',\n            format: 'bold'\n          },\n          {\n            title: 'Italic',\n            format: 'italic'\n          },\n          {\n            title: 'Underline',\n            format: 'underline'\n          },\n          {\n            title: 'Strikethrough',\n            format: 'strikethrough'\n          },\n          {\n            title: 'Superscript',\n            format: 'superscript'\n          },\n          {\n            title: 'Subscript',\n            format: 'subscript'\n          },\n          {\n            title: 'Code',\n            format: 'code'\n          }\n        ]\n      },\n      {\n        title: 'Blocks',\n        items: [\n          {\n            title: 'Paragraph',\n            format: 'p'\n          },\n          {\n            title: 'Blockquote',\n            format: 'blockquote'\n          },\n          {\n            title: 'Div',\n            format: 'div'\n          },\n          {\n            title: 'Pre',\n            format: 'pre'\n          }\n        ]\n      },\n      {\n        title: 'Align',\n        items: [\n          {\n            title: 'Left',\n            format: 'alignleft'\n          },\n          {\n            title: 'Center',\n            format: 'aligncenter'\n          },\n          {\n            title: 'Right',\n            format: 'alignright'\n          },\n          {\n            title: 'Justify',\n            format: 'alignjustify'\n          }\n        ]\n      }\n    ];\n    const isNestedFormats = format => has$2(format, 'items');\n    const isBlockFormat = format => has$2(format, 'block');\n    const isInlineFormat = format => has$2(format, 'inline');\n    const isSelectorFormat = format => has$2(format, 'selector');\n    const mapFormats = userFormats => foldl(userFormats, (acc, fmt) => {\n      if (isNestedFormats(fmt)) {\n        const result = mapFormats(fmt.items);\n        return {\n          customFormats: acc.customFormats.concat(result.customFormats),\n          formats: acc.formats.concat([{\n              title: fmt.title,\n              items: result.formats\n            }])\n        };\n      } else if (isInlineFormat(fmt) || isBlockFormat(fmt) || isSelectorFormat(fmt)) {\n        const formatName = isString(fmt.name) ? fmt.name : fmt.title.toLowerCase();\n        const formatNameWithPrefix = `custom-${ formatName }`;\n        return {\n          customFormats: acc.customFormats.concat([{\n              name: formatNameWithPrefix,\n              format: fmt\n            }]),\n          formats: acc.formats.concat([{\n              title: fmt.title,\n              format: formatNameWithPrefix,\n              icon: fmt.icon\n            }])\n        };\n      } else {\n        return {\n          ...acc,\n          formats: acc.formats.concat(fmt)\n        };\n      }\n    }, {\n      customFormats: [],\n      formats: []\n    });\n    const registerCustomFormats = (editor, userFormats) => {\n      const result = mapFormats(userFormats);\n      const registerFormats = customFormats => {\n        each$1(customFormats, fmt => {\n          if (!editor.formatter.has(fmt.name)) {\n            editor.formatter.register(fmt.name, fmt.format);\n          }\n        });\n      };\n      if (editor.formatter) {\n        registerFormats(result.customFormats);\n      } else {\n        editor.on('init', () => {\n          registerFormats(result.customFormats);\n        });\n      }\n      return result.formats;\n    };\n    const getStyleFormats = editor => getUserStyleFormats(editor).map(userFormats => {\n      const registeredUserFormats = registerCustomFormats(editor, userFormats);\n      return shouldMergeStyleFormats(editor) ? defaultStyleFormats.concat(registeredUserFormats) : registeredUserFormats;\n    }).getOr(defaultStyleFormats);\n\n    const isSeparator$1 = format => {\n      const keys$1 = keys(format);\n      return keys$1.length === 1 && contains$2(keys$1, 'title');\n    };\n    const processBasic = (item, isSelectedFor, getPreviewFor) => ({\n      ...item,\n      type: 'formatter',\n      isSelected: isSelectedFor(item.format),\n      getStylePreview: getPreviewFor(item.format)\n    });\n    const register$a = (editor, formats, isSelectedFor, getPreviewFor) => {\n      const enrichSupported = item => processBasic(item, isSelectedFor, getPreviewFor);\n      const enrichMenu = item => {\n        const newItems = doEnrich(item.items);\n        return {\n          ...item,\n          type: 'submenu',\n          getStyleItems: constant$1(newItems)\n        };\n      };\n      const enrichCustom = item => {\n        const formatName = isString(item.name) ? item.name : generate$6(item.title);\n        const formatNameWithPrefix = `custom-${ formatName }`;\n        const newItem = {\n          ...item,\n          type: 'formatter',\n          format: formatNameWithPrefix,\n          isSelected: isSelectedFor(formatNameWithPrefix),\n          getStylePreview: getPreviewFor(formatNameWithPrefix)\n        };\n        editor.formatter.register(formatName, newItem);\n        return newItem;\n      };\n      const doEnrich = items => map$2(items, item => {\n        if (isNestedFormat(item)) {\n          return enrichMenu(item);\n        } else if (isFormatReference(item)) {\n          return enrichSupported(item);\n        } else if (isSeparator$1(item)) {\n          return {\n            ...item,\n            type: 'separator'\n          };\n        } else {\n          return enrichCustom(item);\n        }\n      });\n      return doEnrich(formats);\n    };\n\n    const init$7 = editor => {\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        return fmt !== undefined ? Optional.some({\n          tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n          styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n        }) : Optional.none();\n      };\n      const settingsFormats = Cell([]);\n      const eventsFormats = Cell([]);\n      const replaceSettings = Cell(false);\n      editor.on('PreInit', _e => {\n        const formats = getStyleFormats(editor);\n        const enriched = register$a(editor, formats, isSelectedFor, getPreviewFor);\n        settingsFormats.set(enriched);\n      });\n      editor.on('addStyleModifications', e => {\n        const modifications = register$a(editor, e.items, isSelectedFor, getPreviewFor);\n        eventsFormats.set(modifications);\n        replaceSettings.set(e.replace);\n      });\n      const getData = () => {\n        const fromSettings = replaceSettings.get() ? [] : settingsFormats.get();\n        const fromEvents = eventsFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      return { getData };\n    };\n\n    const isElement = node => isNonNullable(node) && node.nodeType === 1;\n    const trim = global$1.trim;\n    const hasContentEditableState = value => {\n      return node => {\n        if (isElement(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    const isContentEditableTrue = hasContentEditableState('true');\n    const isContentEditableFalse = hasContentEditableState('false');\n    const create$1 = (type, title, url, level, attach) => ({\n      type,\n      title,\n      url,\n      level,\n      attach\n    });\n    const isChildOfContentEditableTrue = node => {\n      let tempNode = node;\n      while (tempNode = tempNode.parentNode) {\n        const value = tempNode.contentEditable;\n        if (value && value !== 'inherit') {\n          return isContentEditableTrue(tempNode);\n        }\n      }\n      return false;\n    };\n    const select = (selector, root) => {\n      return map$2(descendants(SugarElement.fromDom(root), selector), element => {\n        return element.dom;\n      });\n    };\n    const getElementText = elm => {\n      return elm.innerText || elm.textContent;\n    };\n    const getOrGenerateId = elm => {\n      return elm.id ? elm.id : generate$6('h');\n    };\n    const isAnchor = elm => {\n      return elm && elm.nodeName === 'A' && (elm.id || elm.name) !== undefined;\n    };\n    const isValidAnchor = elm => {\n      return isAnchor(elm) && isEditable(elm);\n    };\n    const isHeader = elm => {\n      return elm && /^(H[1-6])$/.test(elm.nodeName);\n    };\n    const isEditable = elm => {\n      return isChildOfContentEditableTrue(elm) && !isContentEditableFalse(elm);\n    };\n    const isValidHeader = elm => {\n      return isHeader(elm) && isEditable(elm);\n    };\n    const getLevel = elm => {\n      return isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;\n    };\n    const headerTarget = elm => {\n      var _a;\n      const headerId = getOrGenerateId(elm);\n      const attach = () => {\n        elm.id = headerId;\n      };\n      return create$1('header', (_a = getElementText(elm)) !== null && _a !== void 0 ? _a : '', '#' + headerId, getLevel(elm), attach);\n    };\n    const anchorTarget = elm => {\n      const anchorId = elm.id || elm.name;\n      const anchorText = getElementText(elm);\n      return create$1('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, noop);\n    };\n    const getHeaderTargets = elms => {\n      return map$2(filter$2(elms, isValidHeader), headerTarget);\n    };\n    const getAnchorTargets = elms => {\n      return map$2(filter$2(elms, isValidAnchor), anchorTarget);\n    };\n    const getTargetElements = elm => {\n      const elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);\n      return elms;\n    };\n    const hasTitle = target => {\n      return trim(target.title).length > 0;\n    };\n    const find = elm => {\n      const elms = getTargetElements(elm);\n      return filter$2(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);\n    };\n    const LinkTargets = { find };\n\n    const STORAGE_KEY = 'tinymce-url-history';\n    const HISTORY_LENGTH = 5;\n    const isHttpUrl = url => isString(url) && /^https?/.test(url);\n    const isArrayOfUrl = a => isArray(a) && a.length <= HISTORY_LENGTH && forall(a, isHttpUrl);\n    const isRecordOfUrlArray = r => isObject(r) && find$4(r, value => !isArrayOfUrl(value)).isNone();\n    const getAllHistory = () => {\n      const unparsedHistory = global$4.getItem(STORAGE_KEY);\n      if (unparsedHistory === null) {\n        return {};\n      }\n      let history;\n      try {\n        history = JSON.parse(unparsedHistory);\n      } catch (e) {\n        if (e instanceof SyntaxError) {\n          console.log('Local storage ' + STORAGE_KEY + ' was not valid JSON', e);\n          return {};\n        }\n        throw e;\n      }\n      if (!isRecordOfUrlArray(history)) {\n        console.log('Local storage ' + STORAGE_KEY + ' was not valid format', history);\n        return {};\n      }\n      return history;\n    };\n    const setAllHistory = history => {\n      if (!isRecordOfUrlArray(history)) {\n        throw new Error('Bad format for history:\\n' + JSON.stringify(history));\n      }\n      global$4.setItem(STORAGE_KEY, JSON.stringify(history));\n    };\n    const getHistory = fileType => {\n      const history = getAllHistory();\n      return get$g(history, fileType).getOr([]);\n    };\n    const addToHistory = (url, fileType) => {\n      if (!isHttpUrl(url)) {\n        return;\n      }\n      const history = getAllHistory();\n      const items = get$g(history, fileType).getOr([]);\n      const itemsWithoutUrl = filter$2(items, item => item !== url);\n      history[fileType] = [url].concat(itemsWithoutUrl).slice(0, HISTORY_LENGTH);\n      setAllHistory(history);\n    };\n\n    const isTruthy = value => !!value;\n    const makeMap = value => map$1(global$1.makeMap(value, /[, ]/), isTruthy);\n    const getPicker = editor => Optional.from(getFilePickerCallback(editor));\n    const getPickerTypes = editor => {\n      const optFileTypes = Optional.from(getFilePickerTypes(editor)).filter(isTruthy).map(makeMap);\n      return getPicker(editor).fold(never, _picker => optFileTypes.fold(always, types => keys(types).length > 0 ? types : false));\n    };\n    const getPickerSetting = (editor, filetype) => {\n      const pickerTypes = getPickerTypes(editor);\n      if (isBoolean(pickerTypes)) {\n        return pickerTypes ? getPicker(editor) : Optional.none();\n      } else {\n        return pickerTypes[filetype] ? getPicker(editor) : Optional.none();\n      }\n    };\n    const getUrlPicker = (editor, filetype) => getPickerSetting(editor, filetype).map(picker => entry => Future.nu(completer => {\n      const handler = (value, meta) => {\n        if (!isString(value)) {\n          throw new Error('Expected value to be string');\n        }\n        if (meta !== undefined && !isObject(meta)) {\n          throw new Error('Expected meta to be a object');\n        }\n        const r = {\n          value,\n          meta\n        };\n        completer(r);\n      };\n      const meta = {\n        filetype,\n        fieldname: entry.fieldname,\n        ...Optional.from(entry.meta).getOr({})\n      };\n      picker.call(editor, handler, entry.value, meta);\n    }));\n    const getTextSetting = value => Optional.from(value).filter(isString).getOrUndefined();\n    const getLinkInformation = editor => {\n      if (!useTypeaheadUrls(editor)) {\n        return Optional.none();\n      }\n      return Optional.some({\n        targets: LinkTargets.find(editor.getBody()),\n        anchorTop: getTextSetting(getAnchorTop(editor)),\n        anchorBottom: getTextSetting(getAnchorBottom(editor))\n      });\n    };\n    const getValidationHandler = editor => Optional.from(getFilePickerValidatorHandler(editor));\n    const UrlInputBackstage = editor => ({\n      getHistory,\n      addToHistory,\n      getLinkInformation: () => getLinkInformation(editor),\n      getValidationHandler: () => getValidationHandler(editor),\n      getUrlPicker: filetype => getUrlPicker(editor, filetype)\n    });\n\n    const init$6 = (lazySinks, editor, lazyAnchorbar) => {\n      const contextMenuState = Cell(false);\n      const toolbar = HeaderBackstage(editor);\n      const providers = {\n        icons: () => editor.ui.registry.getAll().icons,\n        menuItems: () => editor.ui.registry.getAll().menuItems,\n        translate: global$8.translate,\n        isDisabled: () => editor.mode.isReadOnly() || !editor.ui.isEnabled(),\n        getOption: editor.options.get\n      };\n      const urlinput = UrlInputBackstage(editor);\n      const styles = init$7(editor);\n      const colorinput = ColorInputBackstage(editor);\n      const dialogSettings = DialogBackstage(editor);\n      const isContextMenuOpen = () => contextMenuState.get();\n      const setContextMenuState = state => contextMenuState.set(state);\n      const commonBackstage = {\n        shared: {\n          providers,\n          anchors: getAnchors(editor, lazyAnchorbar, toolbar.isPositionedAtTop),\n          header: toolbar\n        },\n        urlinput,\n        styles,\n        colorinput,\n        dialog: dialogSettings,\n        isContextMenuOpen,\n        setContextMenuState\n      };\n      const popupBackstage = {\n        ...commonBackstage,\n        shared: {\n          ...commonBackstage.shared,\n          interpreter: s => interpretWithoutForm(s, {}, popupBackstage),\n          getSink: lazySinks.popup\n        }\n      };\n      const dialogBackstage = {\n        ...commonBackstage,\n        shared: {\n          ...commonBackstage.shared,\n          interpreter: s => interpretWithoutForm(s, {}, dialogBackstage),\n          getSink: lazySinks.dialog\n        }\n      };\n      return {\n        popup: popupBackstage,\n        dialog: dialogBackstage\n      };\n    };\n\n    const setup$b = (editor, mothership, uiMotherships) => {\n      const broadcastEvent = (name, evt) => {\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], m => {\n          m.broadcastEvent(name, evt);\n        });\n      };\n      const broadcastOn = (channel, message) => {\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], m => {\n          m.broadcastOn([channel], message);\n        });\n      };\n      const fireDismissPopups = evt => broadcastOn(dismissPopups(), { target: evt.target });\n      const doc = getDocument();\n      const onTouchstart = bind(doc, 'touchstart', fireDismissPopups);\n      const onTouchmove = bind(doc, 'touchmove', evt => broadcastEvent(documentTouchmove(), evt));\n      const onTouchend = bind(doc, 'touchend', evt => broadcastEvent(documentTouchend(), evt));\n      const onMousedown = bind(doc, 'mousedown', fireDismissPopups);\n      const onMouseup = bind(doc, 'mouseup', evt => {\n        if (evt.raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: evt.target });\n        }\n      });\n      const onContentClick = raw => broadcastOn(dismissPopups(), { target: SugarElement.fromDom(raw.target) });\n      const onContentMouseup = raw => {\n        if (raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: SugarElement.fromDom(raw.target) });\n        }\n      };\n      const onContentMousedown = () => {\n        each$1(editor.editorManager.get(), loopEditor => {\n          if (editor !== loopEditor) {\n            loopEditor.dispatch('DismissPopups', { relatedTarget: editor });\n          }\n        });\n      };\n      const onWindowScroll = evt => broadcastEvent(windowScroll(), fromRawEvent(evt));\n      const onWindowResize = evt => {\n        broadcastOn(repositionPopups(), {});\n        broadcastEvent(windowResize(), fromRawEvent(evt));\n      };\n      const dos = getRootNode(SugarElement.fromDom(editor.getElement()));\n      const onElementScroll = capture(dos, 'scroll', evt => {\n        requestAnimationFrame(() => {\n          const c = editor.getContainer();\n          if (c !== undefined && c !== null) {\n            const optScrollingContext = detectWhenSplitUiMode(editor, mothership.element);\n            const scrollers = optScrollingContext.map(sc => [\n              sc.element,\n              ...sc.others\n            ]).getOr([]);\n            if (exists(scrollers, s => eq(s, evt.target))) {\n              editor.dispatch('ElementScroll', { target: evt.target.dom });\n              broadcastEvent(externalElementScroll(), evt);\n            }\n          }\n        });\n      });\n      const onEditorResize = () => broadcastOn(repositionPopups(), {});\n      const onEditorProgress = evt => {\n        if (evt.state) {\n          broadcastOn(dismissPopups(), { target: SugarElement.fromDom(editor.getContainer()) });\n        }\n      };\n      const onDismissPopups = event => {\n        broadcastOn(dismissPopups(), { target: SugarElement.fromDom(event.relatedTarget.getContainer()) });\n      };\n      editor.on('PostRender', () => {\n        editor.on('click', onContentClick);\n        editor.on('tap', onContentClick);\n        editor.on('mouseup', onContentMouseup);\n        editor.on('mousedown', onContentMousedown);\n        editor.on('ScrollWindow', onWindowScroll);\n        editor.on('ResizeWindow', onWindowResize);\n        editor.on('ResizeEditor', onEditorResize);\n        editor.on('AfterProgressState', onEditorProgress);\n        editor.on('DismissPopups', onDismissPopups);\n      });\n      editor.on('remove', () => {\n        editor.off('click', onContentClick);\n        editor.off('tap', onContentClick);\n        editor.off('mouseup', onContentMouseup);\n        editor.off('mousedown', onContentMousedown);\n        editor.off('ScrollWindow', onWindowScroll);\n        editor.off('ResizeWindow', onWindowResize);\n        editor.off('ResizeEditor', onEditorResize);\n        editor.off('AfterProgressState', onEditorProgress);\n        editor.off('DismissPopups', onDismissPopups);\n        onMousedown.unbind();\n        onTouchstart.unbind();\n        onTouchmove.unbind();\n        onTouchend.unbind();\n        onMouseup.unbind();\n        onElementScroll.unbind();\n      });\n      editor.on('detach', () => {\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], detachSystem);\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], m => m.destroy());\n      });\n    };\n\n    const parts$a = AlloyParts;\n    const partType = PartType;\n\n    const schema$f = constant$1([\n      defaulted('shell', false),\n      required$1('makeItem'),\n      defaulted('setupItem', noop),\n      SketchBehaviours.field('listBehaviours', [Replacing])\n    ]);\n    const customListDetail = () => ({ behaviours: derive$1([Replacing.config({})]) });\n    const itemsPart = optional({\n      name: 'items',\n      overrides: customListDetail\n    });\n    const parts$9 = constant$1([itemsPart]);\n    const name = constant$1('CustomList');\n\n    const factory$f = (detail, components, _spec, _external) => {\n      const setItems = (list, items) => {\n        getListContainer(list).fold(() => {\n          console.error('Custom List was defined to not be a shell, but no item container was specified in components');\n          throw new Error('Custom List was defined to not be a shell, but no item container was specified in components');\n        }, container => {\n          const itemComps = Replacing.contents(container);\n          const numListsRequired = items.length;\n          const numListsToAdd = numListsRequired - itemComps.length;\n          const itemsToAdd = numListsToAdd > 0 ? range$2(numListsToAdd, () => detail.makeItem()) : [];\n          const itemsToRemove = itemComps.slice(numListsRequired);\n          each$1(itemsToRemove, item => Replacing.remove(container, item));\n          each$1(itemsToAdd, item => Replacing.append(container, item));\n          const builtLists = Replacing.contents(container);\n          each$1(builtLists, (item, i) => {\n            detail.setupItem(list, item, items[i], i);\n          });\n        });\n      };\n      const extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components\n      };\n      const getListContainer = component => detail.shell ? Optional.some(component) : getPart(component, detail, 'items');\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.listBehaviours, extra.behaviours),\n        apis: { setItems }\n      };\n    };\n    const CustomList = composite({\n      name: name(),\n      configFields: schema$f(),\n      partFields: parts$9(),\n      factory: factory$f,\n      apis: {\n        setItems: (apis, list, items) => {\n          apis.setItems(list, items);\n        }\n      }\n    });\n\n    const schema$e = constant$1([\n      required$1('dom'),\n      defaulted('shell', true),\n      field('toolbarBehaviours', [Replacing])\n    ]);\n    const enhanceGroups = () => ({ behaviours: derive$1([Replacing.config({})]) });\n    const parts$8 = constant$1([optional({\n        name: 'groups',\n        overrides: enhanceGroups\n      })]);\n\n    const factory$e = (detail, components, _spec, _externals) => {\n      const setGroups = (toolbar, groups) => {\n        getGroupContainer(toolbar).fold(() => {\n          console.error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n          throw new Error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n        }, container => {\n          Replacing.set(container, groups);\n        });\n      };\n      const getGroupContainer = component => detail.shell ? Optional.some(component) : getPart(component, detail, 'groups');\n      const extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.toolbarBehaviours, extra.behaviours),\n        apis: { setGroups },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const Toolbar = composite({\n      name: 'Toolbar',\n      configFields: schema$e(),\n      partFields: parts$8(),\n      factory: factory$e,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        }\n      }\n    });\n\n    const setup$a = noop;\n    const isDocked$2 = never;\n    const getBehaviours$1 = constant$1([]);\n\n    var StaticHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$a,\n        isDocked: isDocked$2,\n        getBehaviours: getBehaviours$1\n    });\n\n    const getOffsetParent = element => {\n      const isFixed = is$1(getRaw(element, 'position'), 'fixed');\n      const offsetParent$1 = isFixed ? Optional.none() : offsetParent(element);\n      return offsetParent$1.orThunk(() => {\n        const marker = SugarElement.fromTag('span');\n        return parent(element).bind(parent => {\n          append$2(parent, marker);\n          const offsetParent$1 = offsetParent(marker);\n          remove$5(marker);\n          return offsetParent$1;\n        });\n      });\n    };\n    const getOrigin = element => getOffsetParent(element).map(absolute$3).getOrThunk(() => SugarPosition(0, 0));\n\n    const appear = (component, contextualInfo) => {\n      const elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeOutClass);\n      add$2(elem, contextualInfo.fadeInClass);\n      contextualInfo.onShow(component);\n    };\n    const disappear = (component, contextualInfo) => {\n      const elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeInClass);\n      add$2(elem, contextualInfo.fadeOutClass);\n      contextualInfo.onHide(component);\n    };\n    const isPartiallyVisible = (box, bounds) => box.y < bounds.bottom && box.bottom > bounds.y;\n    const isTopCompletelyVisible = (box, bounds) => box.y >= bounds.y;\n    const isBottomCompletelyVisible = (box, bounds) => box.bottom <= bounds.bottom;\n    const forceTopPosition = (winBox, leftX, viewport) => ({\n      location: 'top',\n      leftX,\n      topY: viewport.bounds.y - winBox.y\n    });\n    const forceBottomPosition = (winBox, leftX, viewport) => ({\n      location: 'bottom',\n      leftX,\n      bottomY: winBox.bottom - viewport.bounds.bottom\n    });\n    const getDockedLeftPosition = bounds => {\n      return bounds.box.x - bounds.win.x;\n    };\n    const tryDockingPosition = (modes, bounds, viewport) => {\n      const winBox = bounds.win;\n      const box = bounds.box;\n      const leftX = getDockedLeftPosition(bounds);\n      return findMap(modes, mode => {\n        switch (mode) {\n        case 'bottom':\n          return !isBottomCompletelyVisible(box, viewport.bounds) ? Optional.some(forceBottomPosition(winBox, leftX, viewport)) : Optional.none();\n        case 'top':\n          return !isTopCompletelyVisible(box, viewport.bounds) ? Optional.some(forceTopPosition(winBox, leftX, viewport)) : Optional.none();\n        default:\n          return Optional.none();\n        }\n      }).getOr({ location: 'no-dock' });\n    };\n    const isVisibleForModes = (modes, box, viewport) => forall(modes, mode => {\n      switch (mode) {\n      case 'bottom':\n        return isBottomCompletelyVisible(box, viewport.bounds);\n      case 'top':\n        return isTopCompletelyVisible(box, viewport.bounds);\n      }\n    });\n    const getXYForRestoring = (pos, viewport) => {\n      const priorY = viewport.optScrollEnv.fold(constant$1(pos.bounds.y), scrollEnv => scrollEnv.scrollElmTop + (pos.bounds.y - scrollEnv.currentScrollTop));\n      return SugarPosition(pos.bounds.x, priorY);\n    };\n    const getXYForSaving = (box, viewport) => {\n      const priorY = viewport.optScrollEnv.fold(constant$1(box.y), scrollEnv => box.y + scrollEnv.currentScrollTop - scrollEnv.scrollElmTop);\n      return SugarPosition(box.x, priorY);\n    };\n    const getPrior = (elem, viewport, state) => state.getInitialPos().map(pos => {\n      const xy = getXYForRestoring(pos, viewport);\n      return {\n        box: bounds(xy.left, xy.top, get$c(elem), get$d(elem)),\n        location: pos.location\n      };\n    });\n    const storePrior = (elem, box, viewport, state, decision) => {\n      const xy = getXYForSaving(box, viewport);\n      const bounds$1 = bounds(xy.left, xy.top, box.width, box.height);\n      state.setInitialPos({\n        style: getAllRaw(elem),\n        position: get$e(elem, 'position') || 'static',\n        bounds: bounds$1,\n        location: decision.location\n      });\n    };\n    const storePriorIfNone = (elem, box, viewport, state, decision) => {\n      state.getInitialPos().fold(() => storePrior(elem, box, viewport, state, decision), () => noop);\n    };\n    const revertToOriginal = (elem, box, state) => state.getInitialPos().bind(position => {\n      var _a;\n      state.clearInitialPos();\n      switch (position.position) {\n      case 'static':\n        return Optional.some({ morph: 'static' });\n      case 'absolute':\n        const offsetParent = getOffsetParent(elem).getOr(body());\n        const offsetBox = box$1(offsetParent);\n        const scrollDelta = (_a = offsetParent.dom.scrollTop) !== null && _a !== void 0 ? _a : 0;\n        return Optional.some({\n          morph: 'absolute',\n          positionCss: NuPositionCss('absolute', get$g(position.style, 'left').map(_left => box.x - offsetBox.x), get$g(position.style, 'top').map(_top => box.y - offsetBox.y + scrollDelta), get$g(position.style, 'right').map(_right => offsetBox.right - box.right), get$g(position.style, 'bottom').map(_bottom => offsetBox.bottom - box.bottom))\n        });\n      default:\n        return Optional.none();\n      }\n    });\n    const tryMorphToOriginal = (elem, viewport, state) => getPrior(elem, viewport, state).filter(({box}) => isVisibleForModes(state.getModes(), box, viewport)).bind(({box}) => revertToOriginal(elem, box, state));\n    const tryDecisionToFixedMorph = decision => {\n      switch (decision.location) {\n      case 'top': {\n          return Optional.some({\n            morph: 'fixed',\n            positionCss: NuPositionCss('fixed', Optional.some(decision.leftX), Optional.some(decision.topY), Optional.none(), Optional.none())\n          });\n        }\n      case 'bottom': {\n          return Optional.some({\n            morph: 'fixed',\n            positionCss: NuPositionCss('fixed', Optional.some(decision.leftX), Optional.none(), Optional.none(), Optional.some(decision.bottomY))\n          });\n        }\n      default:\n        return Optional.none();\n      }\n    };\n    const tryMorphToFixed = (elem, viewport, state) => {\n      const box = box$1(elem);\n      const winBox = win();\n      const decision = tryDockingPosition(state.getModes(), {\n        win: winBox,\n        box\n      }, viewport);\n      if (decision.location === 'top' || decision.location === 'bottom') {\n        storePrior(elem, box, viewport, state, decision);\n        return tryDecisionToFixedMorph(decision);\n      } else {\n        return Optional.none();\n      }\n    };\n    const tryMorphToOriginalOrUpdateFixed = (elem, viewport, state) => {\n      return tryMorphToOriginal(elem, viewport, state).orThunk(() => {\n        return viewport.optScrollEnv.bind(_ => getPrior(elem, viewport, state)).bind(({box, location}) => {\n          const winBox = win();\n          const leftX = getDockedLeftPosition({\n            win: winBox,\n            box\n          });\n          const decision = location === 'top' ? forceTopPosition(winBox, leftX, viewport) : forceBottomPosition(winBox, leftX, viewport);\n          return tryDecisionToFixedMorph(decision);\n        });\n      });\n    };\n    const tryMorph = (component, viewport, state) => {\n      const elem = component.element;\n      const isDocked = is$1(getRaw(elem, 'position'), 'fixed');\n      return isDocked ? tryMorphToOriginalOrUpdateFixed(elem, viewport, state) : tryMorphToFixed(elem, viewport, state);\n    };\n    const calculateMorphToOriginal = (component, viewport, state) => {\n      const elem = component.element;\n      return getPrior(elem, viewport, state).bind(({box}) => revertToOriginal(elem, box, state));\n    };\n    const forceDockWith = (elem, viewport, state, getDecision) => {\n      const box = box$1(elem);\n      const winBox = win();\n      const leftX = getDockedLeftPosition({\n        win: winBox,\n        box\n      });\n      const decision = getDecision(winBox, leftX, viewport);\n      if (decision.location === 'bottom' || decision.location === 'top') {\n        storePriorIfNone(elem, box, viewport, state, decision);\n        return tryDecisionToFixedMorph(decision);\n      } else {\n        return Optional.none();\n      }\n    };\n\n    const morphToStatic = (component, config, state) => {\n      state.setDocked(false);\n      each$1([\n        'left',\n        'right',\n        'top',\n        'bottom',\n        'position'\n      ], prop => remove$6(component.element, prop));\n      config.onUndocked(component);\n    };\n    const morphToCoord = (component, config, state, position) => {\n      const isDocked = position.position === 'fixed';\n      state.setDocked(isDocked);\n      applyPositionCss(component.element, position);\n      const method = isDocked ? config.onDocked : config.onUndocked;\n      method(component);\n    };\n    const updateVisibility = (component, config, state, viewport, morphToDocked = false) => {\n      config.contextual.each(contextInfo => {\n        contextInfo.lazyContext(component).each(box => {\n          const isVisible = isPartiallyVisible(box, viewport.bounds);\n          if (isVisible !== state.isVisible()) {\n            state.setVisible(isVisible);\n            if (morphToDocked && !isVisible) {\n              add$1(component.element, [contextInfo.fadeOutClass]);\n              contextInfo.onHide(component);\n            } else {\n              const method = isVisible ? appear : disappear;\n              method(component, contextInfo);\n            }\n          }\n        });\n      });\n    };\n    const applyFixedMorph = (component, config, state, viewport, morph) => {\n      updateVisibility(component, config, state, viewport, true);\n      morphToCoord(component, config, state, morph.positionCss);\n    };\n    const applyMorph = (component, config, state, viewport, morph) => {\n      switch (morph.morph) {\n      case 'static': {\n          return morphToStatic(component, config, state);\n        }\n      case 'absolute': {\n          return morphToCoord(component, config, state, morph.positionCss);\n        }\n      case 'fixed': {\n          return applyFixedMorph(component, config, state, viewport, morph);\n        }\n      }\n    };\n    const refreshInternal = (component, config, state) => {\n      const viewport = config.lazyViewport(component);\n      updateVisibility(component, config, state, viewport);\n      tryMorph(component, viewport, state).each(morph => {\n        applyMorph(component, config, state, viewport, morph);\n      });\n    };\n    const resetInternal = (component, config, state) => {\n      const elem = component.element;\n      state.setDocked(false);\n      const viewport = config.lazyViewport(component);\n      calculateMorphToOriginal(component, viewport, state).each(staticOrAbsoluteMorph => {\n        switch (staticOrAbsoluteMorph.morph) {\n        case 'static': {\n            morphToStatic(component, config, state);\n            break;\n          }\n        case 'absolute': {\n            morphToCoord(component, config, state, staticOrAbsoluteMorph.positionCss);\n            break;\n          }\n        }\n      });\n      state.setVisible(true);\n      config.contextual.each(contextInfo => {\n        remove$1(elem, [\n          contextInfo.fadeInClass,\n          contextInfo.fadeOutClass,\n          contextInfo.transitionClass\n        ]);\n        contextInfo.onShow(component);\n      });\n      refresh$3(component, config, state);\n    };\n    const refresh$3 = (component, config, state) => {\n      if (component.getSystem().isConnected()) {\n        refreshInternal(component, config, state);\n      }\n    };\n    const reset = (component, config, state) => {\n      if (state.isDocked()) {\n        resetInternal(component, config, state);\n      }\n    };\n    const forceDockWithDecision = getDecision => (component, config, state) => {\n      const viewport = config.lazyViewport(component);\n      const optMorph = forceDockWith(component.element, viewport, state, getDecision);\n      optMorph.each(morph => {\n        applyFixedMorph(component, config, state, viewport, morph);\n      });\n    };\n    const forceDockToTop = forceDockWithDecision(forceTopPosition);\n    const forceDockToBottom = forceDockWithDecision(forceBottomPosition);\n    const isDocked$1 = (component, config, state) => state.isDocked();\n    const setModes = (component, config, state, modes) => state.setModes(modes);\n    const getModes = (component, config, state) => state.getModes();\n\n    var DockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$3,\n        reset: reset,\n        isDocked: isDocked$1,\n        getModes: getModes,\n        setModes: setModes,\n        forceDockToTop: forceDockToTop,\n        forceDockToBottom: forceDockToBottom\n    });\n\n    const events$4 = (dockInfo, dockState) => derive$2([\n      runOnSource(transitionend(), (component, simulatedEvent) => {\n        dockInfo.contextual.each(contextInfo => {\n          if (has(component.element, contextInfo.transitionClass)) {\n            remove$1(component.element, [\n              contextInfo.transitionClass,\n              contextInfo.fadeInClass\n            ]);\n            const notify = dockState.isVisible() ? contextInfo.onShown : contextInfo.onHidden;\n            notify(component);\n          }\n          simulatedEvent.stop();\n        });\n      }),\n      run$1(windowScroll(), (component, _) => {\n        refresh$3(component, dockInfo, dockState);\n      }),\n      run$1(externalElementScroll(), (component, _) => {\n        refresh$3(component, dockInfo, dockState);\n      }),\n      run$1(windowResize(), (component, _) => {\n        reset(component, dockInfo, dockState);\n      })\n    ]);\n\n    var ActiveDocking = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$4\n    });\n\n    var DockingSchema = [\n      optionObjOf('contextual', [\n        requiredString('fadeInClass'),\n        requiredString('fadeOutClass'),\n        requiredString('transitionClass'),\n        requiredFunction('lazyContext'),\n        onHandler('onShow'),\n        onHandler('onShown'),\n        onHandler('onHide'),\n        onHandler('onHidden')\n      ]),\n      defaultedFunction('lazyViewport', () => ({\n        bounds: win(),\n        optScrollEnv: Optional.none()\n      })),\n      defaultedArrayOf('modes', [\n        'top',\n        'bottom'\n      ], string),\n      onHandler('onDocked'),\n      onHandler('onUndocked')\n    ];\n\n    const init$5 = spec => {\n      const docked = Cell(false);\n      const visible = Cell(true);\n      const initialBounds = value$2();\n      const modes = Cell(spec.modes);\n      const readState = () => `docked:  ${ docked.get() }, visible: ${ visible.get() }, modes: ${ modes.get().join(',') }`;\n      return nu$8({\n        isDocked: docked.get,\n        setDocked: docked.set,\n        getInitialPos: initialBounds.get,\n        setInitialPos: initialBounds.set,\n        clearInitialPos: initialBounds.clear,\n        isVisible: visible.get,\n        setVisible: visible.set,\n        getModes: modes.get,\n        setModes: modes.set,\n        readState\n      });\n    };\n\n    var DockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$5\n    });\n\n    const Docking = create$4({\n      fields: DockingSchema,\n      name: 'docking',\n      active: ActiveDocking,\n      apis: DockingApis,\n      state: DockingState\n    });\n\n    const toolbarHeightChange = constant$1(generate$6('toolbar-height-change'));\n\n    const visibility = {\n      fadeInClass: 'tox-editor-dock-fadein',\n      fadeOutClass: 'tox-editor-dock-fadeout',\n      transitionClass: 'tox-editor-dock-transition'\n    };\n    const editorStickyOnClass = 'tox-tinymce--toolbar-sticky-on';\n    const editorStickyOffClass = 'tox-tinymce--toolbar-sticky-off';\n    const scrollFromBehindHeader = (e, containerHeader) => {\n      const doc = owner$4(containerHeader);\n      const win = defaultView(containerHeader);\n      const viewHeight = win.dom.innerHeight;\n      const scrollPos = get$b(doc);\n      const markerElement = SugarElement.fromDom(e.elm);\n      const markerPos = absolute$2(markerElement);\n      const markerHeight = get$d(markerElement);\n      const markerTop = markerPos.y;\n      const markerBottom = markerTop + markerHeight;\n      const editorHeaderPos = absolute$3(containerHeader);\n      const editorHeaderHeight = get$d(containerHeader);\n      const editorHeaderTop = editorHeaderPos.top;\n      const editorHeaderBottom = editorHeaderTop + editorHeaderHeight;\n      const editorHeaderDockedAtTop = Math.abs(editorHeaderTop - scrollPos.top) < 2;\n      const editorHeaderDockedAtBottom = Math.abs(editorHeaderBottom - (scrollPos.top + viewHeight)) < 2;\n      if (editorHeaderDockedAtTop && markerTop < editorHeaderBottom) {\n        to(scrollPos.left, markerTop - editorHeaderHeight, doc);\n      } else if (editorHeaderDockedAtBottom && markerBottom > editorHeaderTop) {\n        const y = markerTop - viewHeight + markerHeight + editorHeaderHeight;\n        to(scrollPos.left, y, doc);\n      }\n    };\n    const isDockedMode = (header, mode) => contains$2(Docking.getModes(header), mode);\n    const updateIframeContentFlow = header => {\n      const getOccupiedHeight = elm => getOuter$2(elm) + (parseInt(get$e(elm, 'margin-top'), 10) || 0) + (parseInt(get$e(elm, 'margin-bottom'), 10) || 0);\n      const elm = header.element;\n      parentElement(elm).each(parentElem => {\n        const padding = 'padding-' + Docking.getModes(header)[0];\n        if (Docking.isDocked(header)) {\n          const parentWidth = get$c(parentElem);\n          set$8(elm, 'width', parentWidth + 'px');\n          set$8(parentElem, padding, getOccupiedHeight(elm) + 'px');\n        } else {\n          remove$6(elm, 'width');\n          remove$6(parentElem, padding);\n        }\n      });\n    };\n    const updateSinkVisibility = (sinkElem, visible) => {\n      if (visible) {\n        remove$2(sinkElem, visibility.fadeOutClass);\n        add$1(sinkElem, [\n          visibility.transitionClass,\n          visibility.fadeInClass\n        ]);\n      } else {\n        remove$2(sinkElem, visibility.fadeInClass);\n        add$1(sinkElem, [\n          visibility.fadeOutClass,\n          visibility.transitionClass\n        ]);\n      }\n    };\n    const updateEditorClasses = (editor, docked) => {\n      const editorContainer = SugarElement.fromDom(editor.getContainer());\n      if (docked) {\n        add$2(editorContainer, editorStickyOnClass);\n        remove$2(editorContainer, editorStickyOffClass);\n      } else {\n        add$2(editorContainer, editorStickyOffClass);\n        remove$2(editorContainer, editorStickyOnClass);\n      }\n    };\n    const restoreFocus = (headerElem, focusedElem) => {\n      const ownerDoc = owner$4(focusedElem);\n      active$1(ownerDoc).filter(activeElm => !eq(focusedElem, activeElm)).filter(activeElm => eq(activeElm, SugarElement.fromDom(ownerDoc.dom.body)) || contains(headerElem, activeElm)).each(() => focus$3(focusedElem));\n    };\n    const findFocusedElem = (rootElm, lazySink) => search(rootElm).orThunk(() => lazySink().toOptional().bind(sink => search(sink.element)));\n    const setup$9 = (editor, sharedBackstage, lazyHeader) => {\n      if (!editor.inline) {\n        if (!sharedBackstage.header.isPositionedAtTop()) {\n          editor.on('ResizeEditor', () => {\n            lazyHeader().each(Docking.reset);\n          });\n        }\n        editor.on('ResizeWindow ResizeEditor', () => {\n          lazyHeader().each(updateIframeContentFlow);\n        });\n        editor.on('SkinLoaded', () => {\n          lazyHeader().each(comp => {\n            Docking.isDocked(comp) ? Docking.reset(comp) : Docking.refresh(comp);\n          });\n        });\n        editor.on('FullscreenStateChanged', () => {\n          lazyHeader().each(Docking.reset);\n        });\n      }\n      editor.on('AfterScrollIntoView', e => {\n        lazyHeader().each(header => {\n          Docking.refresh(header);\n          const headerElem = header.element;\n          if (isVisible(headerElem)) {\n            scrollFromBehindHeader(e, headerElem);\n          }\n        });\n      });\n      editor.on('PostRender', () => {\n        updateEditorClasses(editor, false);\n      });\n    };\n    const isDocked = lazyHeader => lazyHeader().map(Docking.isDocked).getOr(false);\n    const getIframeBehaviours = () => [Receiving.config({ channels: { [toolbarHeightChange()]: { onReceive: updateIframeContentFlow } } })];\n    const getBehaviours = (editor, sharedBackstage) => {\n      const focusedElm = value$2();\n      const lazySink = sharedBackstage.getSink;\n      const runOnSinkElement = f => {\n        lazySink().each(sink => f(sink.element));\n      };\n      const onDockingSwitch = comp => {\n        if (!editor.inline) {\n          updateIframeContentFlow(comp);\n        }\n        updateEditorClasses(editor, Docking.isDocked(comp));\n        comp.getSystem().broadcastOn([repositionPopups()], {});\n        lazySink().each(sink => sink.getSystem().broadcastOn([repositionPopups()], {}));\n      };\n      const additionalBehaviours = editor.inline ? [] : getIframeBehaviours();\n      return [\n        Focusing.config({}),\n        Docking.config({\n          contextual: {\n            lazyContext: comp => {\n              const headerHeight = getOuter$2(comp.element);\n              const container = editor.inline ? editor.getContentAreaContainer() : editor.getContainer();\n              return Optional.from(container).map(c => {\n                const box = box$1(SugarElement.fromDom(c));\n                const optScrollingContext = detectWhenSplitUiMode(editor, comp.element);\n                return optScrollingContext.fold(() => {\n                  const boxHeight = box.height - headerHeight;\n                  const topBound = box.y + (isDockedMode(comp, 'top') ? 0 : headerHeight);\n                  return bounds(box.x, topBound, box.width, boxHeight);\n                }, scrollEnv => {\n                  const constrainedBounds = constrain(box, getBoundsFrom(scrollEnv));\n                  return bounds(constrainedBounds.x, constrainedBounds.y, constrainedBounds.width, constrainedBounds.height - headerHeight);\n                });\n              });\n            },\n            onShow: () => {\n              runOnSinkElement(elem => updateSinkVisibility(elem, true));\n            },\n            onShown: comp => {\n              runOnSinkElement(elem => remove$1(elem, [\n                visibility.transitionClass,\n                visibility.fadeInClass\n              ]));\n              focusedElm.get().each(elem => {\n                restoreFocus(comp.element, elem);\n                focusedElm.clear();\n              });\n            },\n            onHide: comp => {\n              findFocusedElem(comp.element, lazySink).fold(focusedElm.clear, focusedElm.set);\n              runOnSinkElement(elem => updateSinkVisibility(elem, false));\n            },\n            onHidden: () => {\n              runOnSinkElement(elem => remove$1(elem, [visibility.transitionClass]));\n            },\n            ...visibility\n          },\n          lazyViewport: comp => {\n            const optScrollingContext = detectWhenSplitUiMode(editor, comp.element);\n            return optScrollingContext.fold(() => {\n              const boundsWithoutOffset = win();\n              const offset = getStickyToolbarOffset(editor);\n              const top = boundsWithoutOffset.y + (isDockedMode(comp, 'top') ? offset : 0);\n              const height = boundsWithoutOffset.height - (isDockedMode(comp, 'bottom') ? offset : 0);\n              return {\n                bounds: bounds(boundsWithoutOffset.x, top, boundsWithoutOffset.width, height),\n                optScrollEnv: Optional.none()\n              };\n            }, sc => {\n              const combinedBounds = getBoundsFrom(sc);\n              return {\n                bounds: combinedBounds,\n                optScrollEnv: Optional.some({\n                  currentScrollTop: sc.element.dom.scrollTop,\n                  scrollElmTop: absolute$3(sc.element).top\n                })\n              };\n            });\n          },\n          modes: [sharedBackstage.header.getDockingMode()],\n          onDocked: onDockingSwitch,\n          onUndocked: onDockingSwitch\n        }),\n        ...additionalBehaviours\n      ];\n    };\n\n    var StickyHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$9,\n        isDocked: isDocked,\n        getBehaviours: getBehaviours\n    });\n\n    const renderHeader = spec => {\n      const editor = spec.editor;\n      const getBehaviours$2 = spec.sticky ? getBehaviours : getBehaviours$1;\n      return {\n        uid: spec.uid,\n        dom: spec.dom,\n        components: spec.components,\n        behaviours: derive$1(getBehaviours$2(editor, spec.sharedBackstage))\n      };\n    };\n\n    const groupToolbarButtonSchema = objOf([\n      type,\n      requiredOf('items', oneOf([\n        arrOfObj([\n          name$1,\n          requiredArrayOf('items', string)\n        ]),\n        string\n      ]))\n    ].concat(baseToolbarButtonFields));\n    const createGroupToolbarButton = spec => asRaw('GroupToolbarButton', groupToolbarButtonSchema, spec);\n\n    const baseMenuButtonFields = [\n      optionString('text'),\n      optionString('tooltip'),\n      optionString('icon'),\n      defaultedOf('search', false, oneOf([\n        boolean,\n        objOf([optionString('placeholder')])\n      ], x => {\n        if (isBoolean(x)) {\n          return x ? Optional.some({ placeholder: Optional.none() }) : Optional.none();\n        } else {\n          return Optional.some(x);\n        }\n      })),\n      requiredFunction('fetch'),\n      defaultedFunction('onSetup', () => noop)\n    ];\n\n    const MenuButtonSchema = objOf([\n      type,\n      ...baseMenuButtonFields\n    ]);\n    const createMenuButton = spec => asRaw('menubutton', MenuButtonSchema, spec);\n\n    const splitButtonSchema = objOf([\n      type,\n      optionalTooltip,\n      optionalIcon,\n      optionalText,\n      optionalSelect,\n      fetch$1,\n      onSetup,\n      defaultedStringEnum('presets', 'normal', [\n        'normal',\n        'color',\n        'listpreview'\n      ]),\n      defaultedColumns(1),\n      onAction,\n      onItemAction\n    ]);\n    const createSplitButton = spec => asRaw('SplitButton', splitButtonSchema, spec);\n\n    const factory$d = (detail, spec) => {\n      const setMenus = (comp, menus) => {\n        const newMenus = map$2(menus, m => {\n          const buttonSpec = {\n            type: 'menubutton',\n            text: m.text,\n            fetch: callback => {\n              callback(m.getItems());\n            }\n          };\n          const internal = createMenuButton(buttonSpec).mapError(errInfo => formatError(errInfo)).getOrDie();\n          return renderMenuButton(internal, 'tox-mbtn', spec.backstage, Optional.some('menuitem'));\n        });\n        Replacing.set(comp, newMenus);\n      };\n      const apis = {\n        focus: Keying.focusIn,\n        setMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: [],\n        behaviours: derive$1([\n          Replacing.config({}),\n          config('menubar-events', [\n            runOnAttached(component => {\n              detail.onSetup(component);\n            }),\n            run$1(mouseover(), (comp, se) => {\n              descendant(comp.element, '.' + 'tox-mbtn--active').each(activeButton => {\n                closest$1(se.event.target, '.' + 'tox-mbtn').each(hoveredButton => {\n                  if (!eq(activeButton, hoveredButton)) {\n                    comp.getSystem().getByDom(activeButton).each(activeComp => {\n                      comp.getSystem().getByDom(hoveredButton).each(hoveredComp => {\n                        Dropdown.expand(hoveredComp);\n                        Dropdown.close(activeComp);\n                        Focusing.focus(hoveredComp);\n                      });\n                    });\n                  }\n                });\n              });\n            }),\n            run$1(focusShifted(), (comp, se) => {\n              se.event.prevFocus.bind(prev => comp.getSystem().getByDom(prev).toOptional()).each(prev => {\n                se.event.newFocus.bind(nu => comp.getSystem().getByDom(nu).toOptional()).each(nu => {\n                  if (Dropdown.isOpen(prev)) {\n                    Dropdown.expand(nu);\n                    Dropdown.close(prev);\n                  }\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'flow',\n            selector: '.' + 'tox-mbtn',\n            onEscape: comp => {\n              detail.onEscape(comp);\n              return Optional.some(true);\n            }\n          }),\n          Tabstopping.config({})\n        ]),\n        apis,\n        domModification: { attributes: { role: 'menubar' } }\n      };\n    };\n    var SilverMenubar = single({\n      factory: factory$d,\n      name: 'silver.Menubar',\n      configFields: [\n        required$1('dom'),\n        required$1('uid'),\n        required$1('onEscape'),\n        required$1('backstage'),\n        defaulted('onSetup', noop)\n      ],\n      apis: {\n        focus: (apis, comp) => {\n          apis.focus(comp);\n        },\n        setMenus: (apis, comp, menus) => {\n          apis.setMenus(comp, menus);\n        }\n      }\n    });\n\n    const promotionMessage = '\\u26A1\\ufe0fUpgrade';\n    const promotionLink = 'https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral';\n    const renderPromotion = spec => {\n      return {\n        uid: spec.uid,\n        dom: spec.dom,\n        components: [{\n            dom: {\n              tag: 'a',\n              attributes: {\n                'href': promotionLink,\n                'rel': 'noopener',\n                'target': '_blank',\n                'aria-hidden': 'true'\n              },\n              classes: ['tox-promotion-link'],\n              innerHtml: promotionMessage\n            }\n          }]\n      };\n    };\n\n    const owner = 'container';\n    const schema$d = [field('slotBehaviours', [])];\n    const getPartName = name => '<alloy.field.' + name + '>';\n    const sketch = sSpec => {\n      const parts = (() => {\n        const record = [];\n        const slot = (name, config) => {\n          record.push(name);\n          return generateOne$1(owner, getPartName(name), config);\n        };\n        return {\n          slot,\n          record: constant$1(record)\n        };\n      })();\n      const spec = sSpec(parts);\n      const partNames = parts.record();\n      const fieldParts = map$2(partNames, n => required({\n        name: n,\n        pname: getPartName(n)\n      }));\n      return composite$1(owner, schema$d, fieldParts, make$1, spec);\n    };\n    const make$1 = (detail, components) => {\n      const getSlotNames = _ => getAllPartNames(detail);\n      const getSlot = (container, key) => getPart(container, detail, key);\n      const onSlot = (f, def) => (container, key) => getPart(container, detail, key).map(slot => f(slot, key)).getOr(def);\n      const onSlots = f => (container, keys) => {\n        each$1(keys, key => f(container, key));\n      };\n      const doShowing = (comp, _key) => get$f(comp.element, 'aria-hidden') !== 'true';\n      const doShow = (comp, key) => {\n        if (!doShowing(comp)) {\n          const element = comp.element;\n          remove$6(element, 'display');\n          remove$7(element, 'aria-hidden');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: true\n          });\n        }\n      };\n      const doHide = (comp, key) => {\n        if (doShowing(comp)) {\n          const element = comp.element;\n          set$8(element, 'display', 'none');\n          set$9(element, 'aria-hidden', 'true');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: false\n          });\n        }\n      };\n      const isShowing = onSlot(doShowing, false);\n      const hideSlot = onSlot(doHide);\n      const hideSlots = onSlots(hideSlot);\n      const hideAllSlots = container => hideSlots(container, getSlotNames());\n      const showSlot = onSlot(doShow);\n      const apis = {\n        getSlotNames,\n        getSlot,\n        isShowing,\n        hideSlot,\n        hideAllSlots,\n        showSlot\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: get$3(detail.slotBehaviours),\n        apis\n      };\n    };\n    const slotApis = map$1({\n      getSlotNames: (apis, c) => apis.getSlotNames(c),\n      getSlot: (apis, c, key) => apis.getSlot(c, key),\n      isShowing: (apis, c, key) => apis.isShowing(c, key),\n      hideSlot: (apis, c, key) => apis.hideSlot(c, key),\n      hideAllSlots: (apis, c) => apis.hideAllSlots(c),\n      showSlot: (apis, c, key) => apis.showSlot(c, key)\n    }, value => makeApi(value));\n    const SlotContainer = {\n      ...slotApis,\n      ...{ sketch }\n    };\n\n    const sidebarSchema = objOf([\n      optionalIcon,\n      optionalTooltip,\n      defaultedFunction('onShow', noop),\n      defaultedFunction('onHide', noop),\n      onSetup\n    ]);\n    const createSidebar = spec => asRaw('sidebar', sidebarSchema, spec);\n\n    const setup$8 = editor => {\n      const {sidebars} = editor.ui.registry.getAll();\n      each$1(keys(sidebars), name => {\n        const spec = sidebars[name];\n        const isActive = () => is$1(Optional.from(editor.queryCommandValue('ToggleSidebar')), name);\n        editor.ui.registry.addToggleButton(name, {\n          icon: spec.icon,\n          tooltip: spec.tooltip,\n          onAction: buttonApi => {\n            editor.execCommand('ToggleSidebar', false, name);\n            buttonApi.setActive(isActive());\n          },\n          onSetup: buttonApi => {\n            buttonApi.setActive(isActive());\n            const handleToggle = () => buttonApi.setActive(isActive());\n            editor.on('ToggleSidebar', handleToggle);\n            return () => {\n              editor.off('ToggleSidebar', handleToggle);\n            };\n          }\n        });\n      });\n    };\n    const getApi = comp => ({ element: () => comp.element.dom });\n    const makePanels = (parts, panelConfigs) => {\n      const specs = map$2(keys(panelConfigs), name => {\n        const spec = panelConfigs[name];\n        const bridged = getOrDie(createSidebar(spec));\n        return {\n          name,\n          getApi,\n          onSetup: bridged.onSetup,\n          onShow: bridged.onShow,\n          onHide: bridged.onHide\n        };\n      });\n      return map$2(specs, spec => {\n        const editorOffCell = Cell(noop);\n        return parts.slot(spec.name, {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__pane']\n          },\n          behaviours: SimpleBehaviours.unnamedEvents([\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell),\n            run$1(slotVisibility(), (sidepanel, se) => {\n              const data = se.event;\n              const optSidePanelSpec = find$5(specs, config => config.name === data.name);\n              optSidePanelSpec.each(sidePanelSpec => {\n                const handler = data.visible ? sidePanelSpec.onShow : sidePanelSpec.onHide;\n                handler(sidePanelSpec.getApi(sidepanel));\n              });\n            })\n          ])\n        });\n      });\n    };\n    const makeSidebar = panelConfigs => SlotContainer.sketch(parts => ({\n      dom: {\n        tag: 'div',\n        classes: ['tox-sidebar__pane-container']\n      },\n      components: makePanels(parts, panelConfigs),\n      slotBehaviours: SimpleBehaviours.unnamedEvents([runOnAttached(slotContainer => SlotContainer.hideAllSlots(slotContainer))])\n    }));\n    const setSidebar = (sidebar, panelConfigs, showSidebar) => {\n      const optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(slider => {\n        Replacing.set(slider, [makeSidebar(panelConfigs)]);\n        const configKey = showSidebar === null || showSidebar === void 0 ? void 0 : showSidebar.toLowerCase();\n        if (isString(configKey) && has$2(panelConfigs, configKey)) {\n          Composing.getCurrent(slider).each(slotContainer => {\n            SlotContainer.showSlot(slotContainer, configKey);\n            Sliding.immediateGrow(slider);\n            remove$6(slider.element, 'width');\n            updateSidebarRoleOnToggle(sidebar.element, 'region');\n          });\n        }\n      });\n    };\n    const updateSidebarRoleOnToggle = (sidebar, sidebarState) => {\n      set$9(sidebar, 'role', sidebarState);\n    };\n    const toggleSidebar = (sidebar, name) => {\n      const optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(slider => {\n        const optSlotContainer = Composing.getCurrent(slider);\n        optSlotContainer.each(slotContainer => {\n          if (Sliding.hasGrown(slider)) {\n            if (SlotContainer.isShowing(slotContainer, name)) {\n              Sliding.shrink(slider);\n              updateSidebarRoleOnToggle(sidebar.element, 'presentation');\n            } else {\n              SlotContainer.hideAllSlots(slotContainer);\n              SlotContainer.showSlot(slotContainer, name);\n              updateSidebarRoleOnToggle(sidebar.element, 'region');\n            }\n          } else {\n            SlotContainer.hideAllSlots(slotContainer);\n            SlotContainer.showSlot(slotContainer, name);\n            Sliding.grow(slider);\n            updateSidebarRoleOnToggle(sidebar.element, 'region');\n          }\n        });\n      });\n    };\n    const whichSidebar = sidebar => {\n      const optSlider = Composing.getCurrent(sidebar);\n      return optSlider.bind(slider => {\n        const sidebarOpen = Sliding.isGrowing(slider) || Sliding.hasGrown(slider);\n        if (sidebarOpen) {\n          const optSlotContainer = Composing.getCurrent(slider);\n          return optSlotContainer.bind(slotContainer => find$5(SlotContainer.getSlotNames(slotContainer), name => SlotContainer.isShowing(slotContainer, name)));\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    const fixSize = generate$6('FixSizeEvent');\n    const autoSize = generate$6('AutoSizeEvent');\n    const renderSidebar = spec => ({\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        classes: ['tox-sidebar'],\n        attributes: { role: 'presentation' }\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__slider']\n          },\n          components: [],\n          behaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({}),\n            Sliding.config({\n              dimension: { property: 'width' },\n              closedClass: 'tox-sidebar--sliding-closed',\n              openClass: 'tox-sidebar--sliding-open',\n              shrinkingClass: 'tox-sidebar--sliding-shrinking',\n              growingClass: 'tox-sidebar--sliding-growing',\n              onShrunk: slider => {\n                const optSlotContainer = Composing.getCurrent(slider);\n                optSlotContainer.each(SlotContainer.hideAllSlots);\n                emit(slider, autoSize);\n              },\n              onGrown: slider => {\n                emit(slider, autoSize);\n              },\n              onStartGrow: slider => {\n                emitWith(slider, fixSize, { width: getRaw(slider.element, 'width').getOr('') });\n              },\n              onStartShrink: slider => {\n                emitWith(slider, fixSize, { width: get$c(slider.element) + 'px' });\n              }\n            }),\n            Replacing.config({}),\n            Composing.config({\n              find: comp => {\n                const children = Replacing.contents(comp);\n                return head(children);\n              }\n            })\n          ])\n        }],\n      behaviours: derive$1([\n        ComposingConfigs.childAt(0),\n        config('sidebar-sliding-events', [\n          run$1(fixSize, (comp, se) => {\n            set$8(comp.element, 'width', se.event.width);\n          }),\n          run$1(autoSize, (comp, _se) => {\n            remove$6(comp.element, 'width');\n          })\n        ])\n      ])\n    });\n\n    const block = (component, config, state, getBusySpec) => {\n      set$9(component.element, 'aria-busy', true);\n      const root = config.getRoot(component).getOr(component);\n      const blockerBehaviours = derive$1([\n        Keying.config({\n          mode: 'special',\n          onTab: () => Optional.some(true),\n          onShiftTab: () => Optional.some(true)\n        }),\n        Focusing.config({})\n      ]);\n      const blockSpec = getBusySpec(root, blockerBehaviours);\n      const blocker = root.getSystem().build(blockSpec);\n      Replacing.append(root, premade(blocker));\n      if (blocker.hasConfigured(Keying) && config.focus) {\n        Keying.focusIn(blocker);\n      }\n      if (!state.isBlocked()) {\n        config.onBlock(component);\n      }\n      state.blockWith(() => Replacing.remove(root, blocker));\n    };\n    const unblock = (component, config, state) => {\n      remove$7(component.element, 'aria-busy');\n      if (state.isBlocked()) {\n        config.onUnblock(component);\n      }\n      state.clear();\n    };\n\n    var BlockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        block: block,\n        unblock: unblock\n    });\n\n    var BlockingSchema = [\n      defaultedFunction('getRoot', Optional.none),\n      defaultedBoolean('focus', true),\n      onHandler('onBlock'),\n      onHandler('onUnblock')\n    ];\n\n    const init$4 = () => {\n      const blocker = destroyable();\n      const blockWith = destroy => {\n        blocker.set({ destroy });\n      };\n      return nu$8({\n        readState: blocker.isSet,\n        blockWith,\n        clear: blocker.clear,\n        isBlocked: blocker.isSet\n      });\n    };\n\n    var BlockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$4\n    });\n\n    const Blocking = create$4({\n      fields: BlockingSchema,\n      name: 'blocking',\n      apis: BlockingApis,\n      state: BlockingState\n    });\n\n    const getAttrs = elem => {\n      const attributes = elem.dom.attributes !== undefined ? elem.dom.attributes : [];\n      return foldl(attributes, (b, attr) => {\n        if (attr.name === 'class') {\n          return b;\n        } else {\n          return {\n            ...b,\n            [attr.name]: attr.value\n          };\n        }\n      }, {});\n    };\n    const getClasses = elem => Array.prototype.slice.call(elem.dom.classList, 0);\n    const fromHtml = html => {\n      const elem = SugarElement.fromHtml(html);\n      const children$1 = children(elem);\n      const attrs = getAttrs(elem);\n      const classes = getClasses(elem);\n      const contents = children$1.length === 0 ? {} : { innerHtml: get$9(elem) };\n      return {\n        tag: name$3(elem),\n        classes,\n        attributes: attrs,\n        ...contents\n      };\n    };\n\n    const getBusySpec$1 = providerBackstage => (_root, _behaviours) => ({\n      dom: {\n        tag: 'div',\n        attributes: {\n          'aria-label': providerBackstage.translate('Loading...'),\n          'tabindex': '0'\n        },\n        classes: ['tox-throbber__busy-spinner']\n      },\n      components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n    });\n    const focusBusyComponent = throbber => Composing.getCurrent(throbber).each(comp => focus$3(comp.element));\n    const toggleEditorTabIndex = (editor, state) => {\n      const tabIndexAttr = 'tabindex';\n      const dataTabIndexAttr = `data-mce-${ tabIndexAttr }`;\n      Optional.from(editor.iframeElement).map(SugarElement.fromDom).each(iframe => {\n        if (state) {\n          getOpt(iframe, tabIndexAttr).each(tabIndex => set$9(iframe, dataTabIndexAttr, tabIndex));\n          set$9(iframe, tabIndexAttr, -1);\n        } else {\n          remove$7(iframe, tabIndexAttr);\n          getOpt(iframe, dataTabIndexAttr).each(tabIndex => {\n            set$9(iframe, tabIndexAttr, tabIndex);\n            remove$7(iframe, dataTabIndexAttr);\n          });\n        }\n      });\n    };\n    const toggleThrobber = (editor, comp, state, providerBackstage) => {\n      const element = comp.element;\n      toggleEditorTabIndex(editor, state);\n      if (state) {\n        Blocking.block(comp, getBusySpec$1(providerBackstage));\n        remove$6(element, 'display');\n        remove$7(element, 'aria-hidden');\n        if (editor.hasFocus()) {\n          focusBusyComponent(comp);\n        }\n      } else {\n        const throbberFocus = Composing.getCurrent(comp).exists(busyComp => hasFocus(busyComp.element));\n        Blocking.unblock(comp);\n        set$8(element, 'display', 'none');\n        set$9(element, 'aria-hidden', 'true');\n        if (throbberFocus) {\n          editor.focus();\n        }\n      }\n    };\n    const renderThrobber = spec => ({\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        attributes: { 'aria-hidden': 'true' },\n        classes: ['tox-throbber'],\n        styles: { display: 'none' }\n      },\n      behaviours: derive$1([\n        Replacing.config({}),\n        Blocking.config({ focus: false }),\n        Composing.config({ find: comp => head(comp.components()) })\n      ]),\n      components: []\n    });\n    const isFocusEvent = event => event.type === 'focusin';\n    const isPasteBinTarget = event => {\n      if (isFocusEvent(event)) {\n        const node = event.composed ? head(event.composedPath()) : Optional.from(event.target);\n        return node.map(SugarElement.fromDom).filter(isElement$1).exists(targetElm => has(targetElm, 'mce-pastebin'));\n      } else {\n        return false;\n      }\n    };\n    const setup$7 = (editor, lazyThrobber, sharedBackstage) => {\n      const throbberState = Cell(false);\n      const timer = value$2();\n      const stealFocus = e => {\n        if (throbberState.get() && !isPasteBinTarget(e)) {\n          e.preventDefault();\n          focusBusyComponent(lazyThrobber());\n          editor.editorManager.setActive(editor);\n        }\n      };\n      if (!editor.inline) {\n        editor.on('PreInit', () => {\n          editor.dom.bind(editor.getWin(), 'focusin', stealFocus);\n          editor.on('BeforeExecCommand', e => {\n            if (e.command.toLowerCase() === 'mcefocus' && e.value !== true) {\n              stealFocus(e);\n            }\n          });\n        });\n      }\n      const toggle = state => {\n        if (state !== throbberState.get()) {\n          throbberState.set(state);\n          toggleThrobber(editor, lazyThrobber(), state, sharedBackstage.providers);\n          fireAfterProgressState(editor, state);\n        }\n      };\n      editor.on('ProgressState', e => {\n        timer.on(clearTimeout);\n        if (isNumber(e.time)) {\n          const timerId = global$9.setEditorTimeout(editor, () => toggle(e.state), e.time);\n          timer.set(timerId);\n        } else {\n          toggle(e.state);\n          timer.clear();\n        }\n      });\n    };\n\n    const generate$1 = (xs, f) => {\n      const init = {\n        len: 0,\n        list: []\n      };\n      const r = foldl(xs, (b, a) => {\n        const value = f(a, b.len);\n        return value.fold(constant$1(b), v => ({\n          len: v.finish,\n          list: b.list.concat([v])\n        }));\n      }, init);\n      return r.list;\n    };\n\n    const output = (within, extra, withinWidth) => ({\n      within,\n      extra,\n      withinWidth\n    });\n    const apportion = (units, total, len) => {\n      const parray = generate$1(units, (unit, current) => {\n        const width = len(unit);\n        return Optional.some({\n          element: unit,\n          start: current,\n          finish: current + width,\n          width\n        });\n      });\n      const within = filter$2(parray, unit => unit.finish <= total);\n      const withinWidth = foldr(within, (acc, el) => acc + el.width, 0);\n      const extra = parray.slice(within.length);\n      return {\n        within,\n        extra,\n        withinWidth\n      };\n    };\n    const toUnit = parray => map$2(parray, unit => unit.element);\n    const fitLast = (within, extra, withinWidth) => {\n      const fits = toUnit(within.concat(extra));\n      return output(fits, [], withinWidth);\n    };\n    const overflow = (within, extra, overflower, withinWidth) => {\n      const fits = toUnit(within).concat([overflower]);\n      return output(fits, toUnit(extra), withinWidth);\n    };\n    const fitAll = (within, extra, withinWidth) => output(toUnit(within), [], withinWidth);\n    const tryFit = (total, units, len) => {\n      const divide = apportion(units, total, len);\n      return divide.extra.length === 0 ? Optional.some(divide) : Optional.none();\n    };\n    const partition = (total, units, len, overflower) => {\n      const divide = tryFit(total, units, len).getOrThunk(() => apportion(units, total - len(overflower), len));\n      const within = divide.within;\n      const extra = divide.extra;\n      const withinWidth = divide.withinWidth;\n      if (extra.length === 1 && extra[0].width <= len(overflower)) {\n        return fitLast(within, extra, withinWidth);\n      } else if (extra.length >= 1) {\n        return overflow(within, extra, overflower, withinWidth);\n      } else {\n        return fitAll(within, extra, withinWidth);\n      }\n    };\n\n    const setGroups$1 = (toolbar, storedGroups) => {\n      const bGroups = map$2(storedGroups, g => premade(g));\n      Toolbar.setGroups(toolbar, bGroups);\n    };\n    const findFocusedComp = comps => findMap(comps, comp => search(comp.element).bind(focusedElm => comp.getSystem().getByDom(focusedElm).toOptional()));\n    const refresh$2 = (toolbar, detail, setOverflow) => {\n      const builtGroups = detail.builtGroups.get();\n      if (builtGroups.length === 0) {\n        return;\n      }\n      const primary = getPartOrDie(toolbar, detail, 'primary');\n      const overflowGroup = Coupling.getCoupled(toolbar, 'overflowGroup');\n      set$8(primary.element, 'visibility', 'hidden');\n      const groups = builtGroups.concat([overflowGroup]);\n      const focusedComp = findFocusedComp(groups);\n      setOverflow([]);\n      setGroups$1(primary, groups);\n      const availableWidth = get$c(primary.element);\n      const overflows = partition(availableWidth, detail.builtGroups.get(), comp => get$c(comp.element), overflowGroup);\n      if (overflows.extra.length === 0) {\n        Replacing.remove(primary, overflowGroup);\n        setOverflow([]);\n      } else {\n        setGroups$1(primary, overflows.within);\n        setOverflow(overflows.extra);\n      }\n      remove$6(primary.element, 'visibility');\n      reflow(primary.element);\n      focusedComp.each(Focusing.focus);\n    };\n\n    const schema$c = constant$1([\n      field('splitToolbarBehaviours', [Coupling]),\n      customField('builtGroups', () => Cell([]))\n    ]);\n\n    const schema$b = constant$1([\n      markers$1(['overflowToggledClass']),\n      optionFunction('getOverflowBounds'),\n      required$1('lazySink'),\n      customField('overflowGroups', () => Cell([])),\n      onHandler('onOpened'),\n      onHandler('onClosed')\n    ].concat(schema$c()));\n    const parts$7 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      external({\n        schema: schema$e(),\n        name: 'overflow'\n      }),\n      external({ name: 'overflow-button' }),\n      external({ name: 'overflow-group' })\n    ]);\n\n    const expandable = constant$1((element, available) => {\n      setMax(element, Math.floor(available));\n    });\n\n    const schema$a = constant$1([\n      markers$1(['toggledClass']),\n      required$1('lazySink'),\n      requiredFunction('fetch'),\n      optionFunction('getBounds'),\n      optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n      schema$y(),\n      onHandler('onToggled')\n    ]);\n    const parts$6 = constant$1([\n      external({\n        name: 'button',\n        overrides: detail => ({\n          dom: { attributes: { 'aria-haspopup': 'true' } },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleClass: detail.markers.toggledClass,\n              aria: { mode: 'expanded' },\n              toggleOnExecute: false,\n              onToggled: detail.onToggled\n            })])\n        })\n      }),\n      external({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'toolbar',\n        overrides: detail => {\n          return {\n            toolbarBehaviours: derive$1([Keying.config({\n                mode: 'cyclic',\n                onEscape: comp => {\n                  getPart(comp, detail, 'button').each(Focusing.focus);\n                  return Optional.none();\n                }\n              })])\n          };\n        }\n      })\n    ]);\n\n    const shouldSkipFocus = value$2();\n    const toggleWithoutFocusing = (button, externals) => {\n      shouldSkipFocus.set(true);\n      toggle(button, externals);\n      shouldSkipFocus.clear();\n    };\n    const toggle = (button, externals) => {\n      const toolbarSandbox = Coupling.getCoupled(button, 'toolbarSandbox');\n      if (Sandboxing.isOpen(toolbarSandbox)) {\n        Sandboxing.close(toolbarSandbox);\n      } else {\n        Sandboxing.open(toolbarSandbox, externals.toolbar());\n      }\n    };\n    const position = (button, toolbar, detail, layouts) => {\n      const bounds = detail.getBounds.map(bounder => bounder());\n      const sink = detail.lazySink(button).getOrDie();\n      Positioning.positionWithinBounds(sink, toolbar, {\n        anchor: {\n          type: 'hotspot',\n          hotspot: button,\n          layouts,\n          overrides: { maxWidthFunction: expandable() }\n        }\n      }, bounds);\n    };\n    const setGroups = (button, toolbar, detail, layouts, groups) => {\n      Toolbar.setGroups(toolbar, groups);\n      position(button, toolbar, detail, layouts);\n      Toggling.on(button);\n    };\n    const makeSandbox = (button, spec, detail) => {\n      const ariaControls = manager();\n      const onOpen = (sandbox, toolbar) => {\n        const skipFocus = shouldSkipFocus.get().getOr(false);\n        detail.fetch().get(groups => {\n          setGroups(button, toolbar, detail, spec.layouts, groups);\n          ariaControls.link(button.element);\n          if (!skipFocus) {\n            Keying.focusIn(toolbar);\n          }\n        });\n      };\n      const onClose = () => {\n        Toggling.off(button);\n        if (!shouldSkipFocus.get().getOr(false)) {\n          Focusing.focus(button);\n        }\n        ariaControls.unlink(button.element);\n      };\n      return {\n        dom: {\n          tag: 'div',\n          attributes: { id: ariaControls.id }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'special',\n            onEscape: comp => {\n              Sandboxing.close(comp);\n              return Optional.some(true);\n            }\n          }),\n          Sandboxing.config({\n            onOpen,\n            onClose,\n            isPartOf: (container, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOf$1(button, queryElem);\n            },\n            getAttachPoint: () => {\n              return detail.lazySink(button).getOrDie();\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({\n                isExtraPart: never,\n                ...detail.fireDismissalEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({})\n              }),\n              ...receivingChannel({\n                doReposition: () => {\n                  Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n                    position(button, toolbar, detail, spec.layouts);\n                  });\n                }\n              })\n            }\n          })\n        ])\n      };\n    };\n    const factory$c = (detail, components, spec, externals) => ({\n      ...Button.sketch({\n        ...externals.button(),\n        action: button => {\n          toggle(button, externals);\n        },\n        buttonBehaviours: SketchBehaviours.augment({ dump: externals.button().buttonBehaviours }, [Coupling.config({\n            others: {\n              toolbarSandbox: button => {\n                return makeSandbox(button, spec, detail);\n              }\n            }\n          })])\n      }),\n      apis: {\n        setGroups: (button, groups) => {\n          Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n            setGroups(button, toolbar, detail, spec.layouts, groups);\n          });\n        },\n        reposition: button => {\n          Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n            position(button, toolbar, detail, spec.layouts);\n          });\n        },\n        toggle: button => {\n          toggle(button, externals);\n        },\n        toggleWithoutFocusing: button => {\n          toggleWithoutFocusing(button, externals);\n        },\n        getToolbar: button => {\n          return Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox'));\n        },\n        isOpen: button => {\n          return Sandboxing.isOpen(Coupling.getCoupled(button, 'toolbarSandbox'));\n        }\n      }\n    });\n    const FloatingToolbarButton = composite({\n      name: 'FloatingToolbarButton',\n      factory: factory$c,\n      configFields: schema$a(),\n      partFields: parts$6(),\n      apis: {\n        setGroups: (apis, button, groups) => {\n          apis.setGroups(button, groups);\n        },\n        reposition: (apis, button) => {\n          apis.reposition(button);\n        },\n        toggle: (apis, button) => {\n          apis.toggle(button);\n        },\n        toggleWithoutFocusing: (apis, button) => {\n          apis.toggleWithoutFocusing(button);\n        },\n        getToolbar: (apis, button) => apis.getToolbar(button),\n        isOpen: (apis, button) => apis.isOpen(button)\n      }\n    });\n\n    const schema$9 = constant$1([\n      required$1('items'),\n      markers$1(['itemSelector']),\n      field('tgroupBehaviours', [Keying])\n    ]);\n    const parts$5 = constant$1([group({\n        name: 'items',\n        unit: 'item'\n      })]);\n\n    const factory$b = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: augment(detail.tgroupBehaviours, [Keying.config({\n          mode: 'flow',\n          selector: detail.markers.itemSelector\n        })]),\n      domModification: { attributes: { role: 'toolbar' } }\n    });\n    const ToolbarGroup = composite({\n      name: 'ToolbarGroup',\n      configFields: schema$9(),\n      partFields: parts$5(),\n      factory: factory$b\n    });\n\n    const buildGroups = comps => map$2(comps, g => premade(g));\n    const refresh$1 = (toolbar, memFloatingToolbarButton, detail) => {\n      refresh$2(toolbar, detail, overflowGroups => {\n        detail.overflowGroups.set(overflowGroups);\n        memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n          FloatingToolbarButton.setGroups(floatingToolbarButton, buildGroups(overflowGroups));\n        });\n      });\n    };\n    const factory$a = (detail, components, spec, externals) => {\n      const memFloatingToolbarButton = record(FloatingToolbarButton.sketch({\n        fetch: () => Future.nu(resolve => {\n          resolve(buildGroups(detail.overflowGroups.get()));\n        }),\n        layouts: {\n          onLtr: () => [\n            southwest$2,\n            southeast$2\n          ],\n          onRtl: () => [\n            southeast$2,\n            southwest$2\n          ],\n          onBottomLtr: () => [\n            northwest$2,\n            northeast$2\n          ],\n          onBottomRtl: () => [\n            northeast$2,\n            northwest$2\n          ]\n        },\n        getBounds: spec.getOverflowBounds,\n        lazySink: detail.lazySink,\n        fireDismissalEventInstead: {},\n        markers: { toggledClass: detail.markers.overflowToggledClass },\n        parts: {\n          button: externals['overflow-button'](),\n          toolbar: externals.overflow()\n        },\n        onToggled: (comp, state) => detail[state ? 'onOpened' : 'onClosed'](comp)\n      }));\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.splitToolbarBehaviours, [Coupling.config({\n            others: {\n              overflowGroup: () => {\n                return ToolbarGroup.sketch({\n                  ...externals['overflow-group'](),\n                  items: [memFloatingToolbarButton.asSpec()]\n                });\n              }\n            }\n          })]),\n        apis: {\n          setGroups: (toolbar, groups) => {\n            detail.builtGroups.set(map$2(groups, toolbar.getSystem().build));\n            refresh$1(toolbar, memFloatingToolbarButton, detail);\n          },\n          refresh: toolbar => refresh$1(toolbar, memFloatingToolbarButton, detail),\n          toggle: toolbar => {\n            memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n              FloatingToolbarButton.toggle(floatingToolbarButton);\n            });\n          },\n          toggleWithoutFocusing: toolbar => {\n            memFloatingToolbarButton.getOpt(toolbar).each(FloatingToolbarButton.toggleWithoutFocusing);\n          },\n          isOpen: toolbar => memFloatingToolbarButton.getOpt(toolbar).map(FloatingToolbarButton.isOpen).getOr(false),\n          reposition: toolbar => {\n            memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n              FloatingToolbarButton.reposition(floatingToolbarButton);\n            });\n          },\n          getOverflow: toolbar => memFloatingToolbarButton.getOpt(toolbar).bind(FloatingToolbarButton.getToolbar)\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const SplitFloatingToolbar = composite({\n      name: 'SplitFloatingToolbar',\n      configFields: schema$b(),\n      partFields: parts$7(),\n      factory: factory$a,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: (apis, toolbar) => {\n          apis.refresh(toolbar);\n        },\n        reposition: (apis, toolbar) => {\n          apis.reposition(toolbar);\n        },\n        toggle: (apis, toolbar) => {\n          apis.toggle(toolbar);\n        },\n        toggleWithoutFocusing: (apis, toolbar) => {\n          apis.toggle(toolbar);\n        },\n        isOpen: (apis, toolbar) => apis.isOpen(toolbar),\n        getOverflow: (apis, toolbar) => apis.getOverflow(toolbar)\n      }\n    });\n\n    const schema$8 = constant$1([\n      markers$1([\n        'closedClass',\n        'openClass',\n        'shrinkingClass',\n        'growingClass',\n        'overflowToggledClass'\n      ]),\n      onHandler('onOpened'),\n      onHandler('onClosed')\n    ].concat(schema$c()));\n    const parts$4 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'overflow',\n        overrides: detail => {\n          return {\n            toolbarBehaviours: derive$1([\n              Sliding.config({\n                dimension: { property: 'height' },\n                closedClass: detail.markers.closedClass,\n                openClass: detail.markers.openClass,\n                shrinkingClass: detail.markers.shrinkingClass,\n                growingClass: detail.markers.growingClass,\n                onShrunk: comp => {\n                  getPart(comp, detail, 'overflow-button').each(button => {\n                    Toggling.off(button);\n                    Focusing.focus(button);\n                  });\n                  detail.onClosed(comp);\n                },\n                onGrown: comp => {\n                  Keying.focusIn(comp);\n                  detail.onOpened(comp);\n                },\n                onStartGrow: comp => {\n                  getPart(comp, detail, 'overflow-button').each(Toggling.on);\n                }\n              }),\n              Keying.config({\n                mode: 'acyclic',\n                onEscape: comp => {\n                  getPart(comp, detail, 'overflow-button').each(Focusing.focus);\n                  return Optional.some(true);\n                }\n              })\n            ])\n          };\n        }\n      }),\n      external({\n        name: 'overflow-button',\n        overrides: detail => ({\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleClass: detail.markers.overflowToggledClass,\n              aria: { mode: 'pressed' },\n              toggleOnExecute: false\n            })])\n        })\n      }),\n      external({ name: 'overflow-group' })\n    ]);\n\n    const isOpen = (toolbar, detail) => getPart(toolbar, detail, 'overflow').map(Sliding.hasGrown).getOr(false);\n    const toggleToolbar = (toolbar, detail) => {\n      getPart(toolbar, detail, 'overflow-button').bind(() => getPart(toolbar, detail, 'overflow')).each(overf => {\n        refresh(toolbar, detail);\n        Sliding.toggleGrow(overf);\n      });\n    };\n    const refresh = (toolbar, detail) => {\n      getPart(toolbar, detail, 'overflow').each(overflow => {\n        refresh$2(toolbar, detail, groups => {\n          const builtGroups = map$2(groups, g => premade(g));\n          Toolbar.setGroups(overflow, builtGroups);\n        });\n        getPart(toolbar, detail, 'overflow-button').each(button => {\n          if (Sliding.hasGrown(overflow)) {\n            Toggling.on(button);\n          }\n        });\n        Sliding.refresh(overflow);\n      });\n    };\n    const factory$9 = (detail, components, spec, externals) => {\n      const toolbarToggleEvent = 'alloy.toolbar.toggle';\n      const doSetGroups = (toolbar, groups) => {\n        const built = map$2(groups, toolbar.getSystem().build);\n        detail.builtGroups.set(built);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.splitToolbarBehaviours, [\n          Coupling.config({\n            others: {\n              overflowGroup: toolbar => {\n                return ToolbarGroup.sketch({\n                  ...externals['overflow-group'](),\n                  items: [Button.sketch({\n                      ...externals['overflow-button'](),\n                      action: _button => {\n                        emit(toolbar, toolbarToggleEvent);\n                      }\n                    })]\n                });\n              }\n            }\n          }),\n          config('toolbar-toggle-events', [run$1(toolbarToggleEvent, toolbar => {\n              toggleToolbar(toolbar, detail);\n            })])\n        ]),\n        apis: {\n          setGroups: (toolbar, groups) => {\n            doSetGroups(toolbar, groups);\n            refresh(toolbar, detail);\n          },\n          refresh: toolbar => refresh(toolbar, detail),\n          toggle: toolbar => toggleToolbar(toolbar, detail),\n          isOpen: toolbar => isOpen(toolbar, detail)\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const SplitSlidingToolbar = composite({\n      name: 'SplitSlidingToolbar',\n      configFields: schema$8(),\n      partFields: parts$4(),\n      factory: factory$9,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: (apis, toolbar) => {\n          apis.refresh(toolbar);\n        },\n        toggle: (apis, toolbar) => {\n          apis.toggle(toolbar);\n        },\n        isOpen: (apis, toolbar) => apis.isOpen(toolbar)\n      }\n    });\n\n    const renderToolbarGroupCommon = toolbarGroup => {\n      const attributes = toolbarGroup.title.fold(() => ({}), title => ({ attributes: { title } }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__group'],\n          ...attributes\n        },\n        components: [ToolbarGroup.parts.items({})],\n        items: toolbarGroup.items,\n        markers: { itemSelector: '*:not(.tox-split-button) > .tox-tbtn:not([disabled]), ' + '.tox-split-button:not([disabled]), ' + '.tox-toolbar-nav-js:not([disabled]), ' + '.tox-number-input:not([disabled])' },\n        tgroupBehaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n    const renderToolbarGroup = toolbarGroup => ToolbarGroup.sketch(renderToolbarGroupCommon(toolbarGroup));\n    const getToolbarBehaviours = (toolbarSpec, modeName) => {\n      const onAttached = runOnAttached(component => {\n        const groups = map$2(toolbarSpec.initGroups, renderToolbarGroup);\n        Toolbar.setGroups(component, groups);\n      });\n      return derive$1([\n        DisablingConfigs.toolbarButton(toolbarSpec.providers.isDisabled),\n        receivingConfig(),\n        Keying.config({\n          mode: modeName,\n          onEscape: toolbarSpec.onEscape,\n          selector: '.tox-toolbar__group'\n        }),\n        config('toolbar-events', [onAttached])\n      ]);\n    };\n    const renderMoreToolbarCommon = toolbarSpec => {\n      const modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return {\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar-overlord']\n        },\n        parts: {\n          'overflow-group': renderToolbarGroupCommon({\n            title: Optional.none(),\n            items: []\n          }),\n          'overflow-button': renderIconButtonSpec({\n            name: 'more',\n            icon: Optional.some('more-drawer'),\n            enabled: true,\n            tooltip: Optional.some('More...'),\n            primary: false,\n            buttonType: Optional.none(),\n            borderless: false\n          }, Optional.none(), toolbarSpec.providers)\n        },\n        splitToolbarBehaviours: getToolbarBehaviours(toolbarSpec, modeName)\n      };\n    };\n    const renderFloatingMoreToolbar = toolbarSpec => {\n      const baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      const overflowXOffset = 4;\n      const primary = SplitFloatingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      return SplitFloatingToolbar.sketch({\n        ...baseSpec,\n        lazySink: toolbarSpec.getSink,\n        getOverflowBounds: () => {\n          const headerElem = toolbarSpec.moreDrawerData.lazyHeader().element;\n          const headerBounds = absolute$2(headerElem);\n          const docElem = documentElement(headerElem);\n          const docBounds = absolute$2(docElem);\n          const height = Math.max(docElem.dom.scrollHeight, docBounds.height);\n          return bounds(headerBounds.x + overflowXOffset, docBounds.y, headerBounds.width - overflowXOffset * 2, height);\n        },\n        parts: {\n          ...baseSpec.parts,\n          overflow: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes: toolbarSpec.attributes\n            }\n          }\n        },\n        components: [primary],\n        markers: { overflowToggledClass: 'tox-tbtn--enabled' },\n        onOpened: comp => toolbarSpec.onToggled(comp, true),\n        onClosed: comp => toolbarSpec.onToggled(comp, false)\n      });\n    };\n    const renderSlidingMoreToolbar = toolbarSpec => {\n      const primary = SplitSlidingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      const overflow = SplitSlidingToolbar.parts.overflow({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__overflow']\n        }\n      });\n      const baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      return SplitSlidingToolbar.sketch({\n        ...baseSpec,\n        components: [\n          primary,\n          overflow\n        ],\n        markers: {\n          openClass: 'tox-toolbar__overflow--open',\n          closedClass: 'tox-toolbar__overflow--closed',\n          growingClass: 'tox-toolbar__overflow--growing',\n          shrinkingClass: 'tox-toolbar__overflow--shrinking',\n          overflowToggledClass: 'tox-tbtn--enabled'\n        },\n        onOpened: comp => {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'opened' });\n          toolbarSpec.onToggled(comp, true);\n        },\n        onClosed: comp => {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'closed' });\n          toolbarSpec.onToggled(comp, false);\n        }\n      });\n    };\n    const renderToolbar = toolbarSpec => {\n      const modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return Toolbar.sketch({\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar'].concat(toolbarSpec.type === ToolbarMode$1.scrolling ? ['tox-toolbar--scrolling'] : [])\n        },\n        components: [Toolbar.parts.groups({})],\n        toolbarBehaviours: getToolbarBehaviours(toolbarSpec, modeName)\n      });\n    };\n\n    const baseButtonFields = [\n      optionalText,\n      optionalIcon,\n      optionString('tooltip'),\n      defaultedStringEnum('buttonType', 'secondary', [\n        'primary',\n        'secondary'\n      ]),\n      defaultedBoolean('borderless', false),\n      requiredFunction('onAction')\n    ];\n    const normalButtonFields = [\n      ...baseButtonFields,\n      text$1,\n      requiredStringEnum('type', ['button'])\n    ];\n    const toggleButtonFields = [\n      ...baseButtonFields,\n      defaultedBoolean('active', false),\n      requiredStringEnum('type', ['togglebutton'])\n    ];\n    const schemaWithoutGroupButton = {\n      button: normalButtonFields,\n      togglebutton: toggleButtonFields\n    };\n    const groupFields = [\n      requiredStringEnum('type', ['group']),\n      defaultedArrayOf('buttons', [], choose$1('type', schemaWithoutGroupButton))\n    ];\n    const viewButtonSchema = choose$1('type', {\n      ...schemaWithoutGroupButton,\n      group: groupFields\n    });\n\n    const viewSchema = objOf([\n      defaultedArrayOf('buttons', [], viewButtonSchema),\n      requiredFunction('onShow'),\n      requiredFunction('onHide')\n    ]);\n    const createView = spec => asRaw('view', viewSchema, spec);\n\n    const renderButton = (spec, providers) => {\n      var _a, _b;\n      const isToggleButton = spec.type === 'togglebutton';\n      const optMemIcon = spec.icon.map(memIcon => renderReplaceableIconFromPack(memIcon, providers.icons)).map(record);\n      const getAction = () => comp => {\n        const setIcon = newIcon => {\n          optMemIcon.map(memIcon => memIcon.getOpt(comp).each(displayIcon => {\n            Replacing.set(displayIcon, [renderReplaceableIconFromPack(newIcon, providers.icons)]);\n          }));\n        };\n        const setActive = state => {\n          const elm = comp.element;\n          if (state) {\n            add$2(elm, 'tox-button--enabled');\n            set$9(elm, 'aria-pressed', true);\n          } else {\n            remove$2(elm, 'tox-button--enabled');\n            remove$7(elm, 'aria-pressed');\n          }\n        };\n        const isActive = () => has(comp.element, 'tox-button--enabled');\n        if (isToggleButton) {\n          return spec.onAction({\n            setIcon,\n            setActive,\n            isActive\n          });\n        }\n        if (spec.type === 'button') {\n          return spec.onAction({ setIcon });\n        }\n      };\n      const action = getAction();\n      const buttonSpec = {\n        ...spec,\n        name: isToggleButton ? spec.text.getOr(spec.icon.getOr('')) : (_a = spec.text) !== null && _a !== void 0 ? _a : spec.icon.getOr(''),\n        primary: spec.buttonType === 'primary',\n        buttonType: Optional.from(spec.buttonType),\n        tooltip: spec.tooltip,\n        icon: spec.icon,\n        enabled: true,\n        borderless: spec.borderless\n      };\n      const buttonTypeClasses = calculateClassesFromButtonType((_b = spec.buttonType) !== null && _b !== void 0 ? _b : 'secondary');\n      const optTranslatedText = isToggleButton ? spec.text.map(providers.translate) : Optional.some(providers.translate(spec.text));\n      const optTranslatedTextComponed = optTranslatedText.map(text$2);\n      const tooltipAttributes = buttonSpec.tooltip.or(optTranslatedText).map(tooltip => ({\n        'aria-label': providers.translate(tooltip),\n        'title': providers.translate(tooltip)\n      })).getOr({});\n      const optIconSpec = optMemIcon.map(memIcon => memIcon.asSpec());\n      const components = componentRenderPipeline([\n        optIconSpec,\n        optTranslatedTextComponed\n      ]);\n      const hasIconAndText = spec.icon.isSome() && optTranslatedTextComponed.isSome();\n      const dom = {\n        tag: 'button',\n        classes: buttonTypeClasses.concat(...spec.icon.isSome() && !hasIconAndText ? ['tox-button--icon'] : []).concat(...hasIconAndText ? ['tox-button--icon-and-text'] : []).concat(...spec.borderless ? ['tox-button--naked'] : []).concat(...spec.type === 'togglebutton' && spec.active ? ['tox-button--enabled'] : []),\n        attributes: tooltipAttributes\n      };\n      const extraBehaviours = [];\n      const iconButtonSpec = renderCommonSpec(buttonSpec, Optional.some(action), extraBehaviours, dom, components, providers);\n      return Button.sketch(iconButtonSpec);\n    };\n\n    const renderViewButton = (spec, providers) => renderButton(spec, providers);\n    const renderButtonsGroup = (spec, providers) => {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-view__toolbar__group']\n        },\n        components: map$2(spec.buttons, button => renderViewButton(button, providers))\n      };\n    };\n    const deviceDetection = detect$2().deviceType;\n    const isPhone = deviceDetection.isPhone();\n    const isTablet = deviceDetection.isTablet();\n    const renderViewHeader = spec => {\n      let hasGroups = false;\n      const endButtons = map$2(spec.buttons, btnspec => {\n        if (btnspec.type === 'group') {\n          hasGroups = true;\n          return renderButtonsGroup(btnspec, spec.providers);\n        } else {\n          return renderViewButton(btnspec, spec.providers);\n        }\n      });\n      return {\n        uid: spec.uid,\n        dom: {\n          tag: 'div',\n          classes: [\n            !hasGroups ? 'tox-view__header' : 'tox-view__toolbar',\n            ...isPhone || isTablet ? [\n              'tox-view--mobile',\n              'tox-view--scrolling'\n            ] : []\n          ]\n        },\n        behaviours: derive$1([\n          Focusing.config({}),\n          Keying.config({\n            mode: 'flow',\n            selector: 'button, .tox-button',\n            focusInside: FocusInsideModes.OnEnterOrSpaceMode\n          })\n        ]),\n        components: hasGroups ? endButtons : [\n          Container.sketch({\n            dom: {\n              tag: 'div',\n              classes: ['tox-view__header-start']\n            },\n            components: []\n          }),\n          Container.sketch({\n            dom: {\n              tag: 'div',\n              classes: ['tox-view__header-end']\n            },\n            components: endButtons\n          })\n        ]\n      };\n    };\n    const renderViewPane = spec => {\n      return {\n        uid: spec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-view__pane']\n        }\n      };\n    };\n    const factory$8 = (detail, components, _spec, _externals) => {\n      const apis = {\n        getPane: comp => parts$a.getPart(comp, detail, 'pane'),\n        getOnShow: _comp => detail.viewConfig.onShow,\n        getOnHide: _comp => detail.viewConfig.onHide\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis\n      };\n    };\n    var View = composite({\n      name: 'silver.View',\n      configFields: [required$1('viewConfig')],\n      partFields: [\n        optional({\n          factory: { sketch: renderViewHeader },\n          schema: [\n            required$1('buttons'),\n            required$1('providers')\n          ],\n          name: 'header'\n        }),\n        optional({\n          factory: { sketch: renderViewPane },\n          schema: [],\n          name: 'pane'\n        })\n      ],\n      factory: factory$8,\n      apis: {\n        getPane: (apis, comp) => apis.getPane(comp),\n        getOnShow: (apis, comp) => apis.getOnShow(comp),\n        getOnHide: (apis, comp) => apis.getOnHide(comp)\n      }\n    });\n\n    const makeViews = (parts, viewConfigs, providers) => {\n      return mapToArray(viewConfigs, (config, name) => {\n        const internalViewConfig = getOrDie(createView(config));\n        return parts.slot(name, View.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-view']\n          },\n          viewConfig: internalViewConfig,\n          components: [\n            ...internalViewConfig.buttons.length > 0 ? [View.parts.header({\n                buttons: internalViewConfig.buttons,\n                providers\n              })] : [],\n            View.parts.pane({})\n          ]\n        }));\n      });\n    };\n    const makeSlotContainer = (viewConfigs, providers) => SlotContainer.sketch(parts => ({\n      dom: {\n        tag: 'div',\n        classes: ['tox-view-wrap__slot-container']\n      },\n      components: makeViews(parts, viewConfigs, providers),\n      slotBehaviours: SimpleBehaviours.unnamedEvents([runOnAttached(slotContainer => SlotContainer.hideAllSlots(slotContainer))])\n    }));\n    const getCurrentName = slotContainer => {\n      return find$5(SlotContainer.getSlotNames(slotContainer), name => SlotContainer.isShowing(slotContainer, name));\n    };\n    const hideContainer = comp => {\n      const element = comp.element;\n      set$8(element, 'display', 'none');\n      set$9(element, 'aria-hidden', 'true');\n    };\n    const showContainer = comp => {\n      const element = comp.element;\n      remove$6(element, 'display');\n      remove$7(element, 'aria-hidden');\n    };\n    const makeViewInstanceApi = slot => ({ getContainer: constant$1(slot) });\n    const runOnPaneWithInstanceApi = (slotContainer, name, get) => {\n      SlotContainer.getSlot(slotContainer, name).each(view => {\n        View.getPane(view).each(pane => {\n          const onCallback = get(view);\n          onCallback(makeViewInstanceApi(pane.element.dom));\n        });\n      });\n    };\n    const runOnShow = (slotContainer, name) => runOnPaneWithInstanceApi(slotContainer, name, View.getOnShow);\n    const runOnHide = (slotContainer, name) => runOnPaneWithInstanceApi(slotContainer, name, View.getOnHide);\n    const factory$7 = (detail, spec) => {\n      const setViews = (comp, viewConfigs) => {\n        Replacing.set(comp, [makeSlotContainer(viewConfigs, spec.backstage.shared.providers)]);\n      };\n      const whichView = comp => {\n        return Composing.getCurrent(comp).bind(getCurrentName);\n      };\n      const toggleView = (comp, showMainView, hideMainView, name) => {\n        return Composing.getCurrent(comp).exists(slotContainer => {\n          const optCurrentSlotName = getCurrentName(slotContainer);\n          const isTogglingCurrentView = optCurrentSlotName.exists(current => name === current);\n          const exists = SlotContainer.getSlot(slotContainer, name).isSome();\n          if (exists) {\n            SlotContainer.hideAllSlots(slotContainer);\n            if (!isTogglingCurrentView) {\n              hideMainView();\n              showContainer(comp);\n              SlotContainer.showSlot(slotContainer, name);\n              runOnShow(slotContainer, name);\n            } else {\n              hideContainer(comp);\n              showMainView();\n            }\n            optCurrentSlotName.each(prevName => runOnHide(slotContainer, prevName));\n          }\n          return exists;\n        });\n      };\n      const apis = {\n        setViews,\n        whichView,\n        toggleView\n      };\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-view-wrap'],\n          attributes: { 'aria-hidden': 'true' },\n          styles: { display: 'none' }\n        },\n        components: [],\n        behaviours: derive$1([\n          Replacing.config({}),\n          Composing.config({\n            find: comp => {\n              const children = Replacing.contents(comp);\n              return head(children);\n            }\n          })\n        ]),\n        apis\n      };\n    };\n    var ViewWrapper = single({\n      factory: factory$7,\n      name: 'silver.ViewWrapper',\n      configFields: [required$1('backstage')],\n      apis: {\n        setViews: (apis, comp, views) => apis.setViews(comp, views),\n        toggleView: (apis, comp, outerContainer, editorCont, name) => apis.toggleView(comp, outerContainer, editorCont, name),\n        whichView: (apis, comp) => apis.whichView(comp)\n      }\n    });\n\n    const factory$6 = (detail, components, _spec) => {\n      let toolbarDrawerOpenState = false;\n      const apis = {\n        getSocket: comp => {\n          return parts$a.getPart(comp, detail, 'socket');\n        },\n        setSidebar: (comp, panelConfigs, showSidebar) => {\n          parts$a.getPart(comp, detail, 'sidebar').each(sidebar => setSidebar(sidebar, panelConfigs, showSidebar));\n        },\n        toggleSidebar: (comp, name) => {\n          parts$a.getPart(comp, detail, 'sidebar').each(sidebar => toggleSidebar(sidebar, name));\n        },\n        whichSidebar: comp => {\n          return parts$a.getPart(comp, detail, 'sidebar').bind(whichSidebar).getOrNull();\n        },\n        getHeader: comp => {\n          return parts$a.getPart(comp, detail, 'header');\n        },\n        getToolbar: comp => {\n          return parts$a.getPart(comp, detail, 'toolbar');\n        },\n        setToolbar: (comp, groups) => {\n          parts$a.getPart(comp, detail, 'toolbar').each(toolbar => {\n            const renderedGroups = map$2(groups, renderToolbarGroup);\n            toolbar.getApis().setGroups(toolbar, renderedGroups);\n          });\n        },\n        setToolbars: (comp, toolbars) => {\n          parts$a.getPart(comp, detail, 'multiple-toolbar').each(mToolbar => {\n            const renderedToolbars = map$2(toolbars, g => map$2(g, renderToolbarGroup));\n            CustomList.setItems(mToolbar, renderedToolbars);\n          });\n        },\n        refreshToolbar: comp => {\n          const toolbar = parts$a.getPart(comp, detail, 'toolbar');\n          toolbar.each(toolbar => toolbar.getApis().refresh(toolbar));\n        },\n        toggleToolbarDrawer: comp => {\n          parts$a.getPart(comp, detail, 'toolbar').each(toolbar => {\n            mapFrom(toolbar.getApis().toggle, toggle => toggle(toolbar));\n          });\n        },\n        toggleToolbarDrawerWithoutFocusing: comp => {\n          parts$a.getPart(comp, detail, 'toolbar').each(toolbar => {\n            mapFrom(toolbar.getApis().toggleWithoutFocusing, toggleWithoutFocusing => toggleWithoutFocusing(toolbar));\n          });\n        },\n        isToolbarDrawerToggled: comp => {\n          return parts$a.getPart(comp, detail, 'toolbar').bind(toolbar => Optional.from(toolbar.getApis().isOpen).map(isOpen => isOpen(toolbar))).getOr(false);\n        },\n        getThrobber: comp => {\n          return parts$a.getPart(comp, detail, 'throbber');\n        },\n        focusToolbar: comp => {\n          const optToolbar = parts$a.getPart(comp, detail, 'toolbar').orThunk(() => parts$a.getPart(comp, detail, 'multiple-toolbar'));\n          optToolbar.each(toolbar => {\n            Keying.focusIn(toolbar);\n          });\n        },\n        setMenubar: (comp, menus) => {\n          parts$a.getPart(comp, detail, 'menubar').each(menubar => {\n            SilverMenubar.setMenus(menubar, menus);\n          });\n        },\n        focusMenubar: comp => {\n          parts$a.getPart(comp, detail, 'menubar').each(menubar => {\n            SilverMenubar.focus(menubar);\n          });\n        },\n        setViews: (comp, viewConfigs) => {\n          parts$a.getPart(comp, detail, 'viewWrapper').each(wrapper => {\n            ViewWrapper.setViews(wrapper, viewConfigs);\n          });\n        },\n        toggleView: (comp, name) => {\n          return parts$a.getPart(comp, detail, 'viewWrapper').exists(wrapper => ViewWrapper.toggleView(wrapper, () => apis.showMainView(comp), () => apis.hideMainView(comp), name));\n        },\n        whichView: comp => {\n          return parts$a.getPart(comp, detail, 'viewWrapper').bind(ViewWrapper.whichView).getOrNull();\n        },\n        hideMainView: comp => {\n          toolbarDrawerOpenState = apis.isToolbarDrawerToggled(comp);\n          if (toolbarDrawerOpenState) {\n            apis.toggleToolbarDrawer(comp);\n          }\n          parts$a.getPart(comp, detail, 'editorContainer').each(editorContainer => {\n            const element = editorContainer.element;\n            set$8(element, 'display', 'none');\n            set$9(element, 'aria-hidden', 'true');\n          });\n        },\n        showMainView: comp => {\n          if (toolbarDrawerOpenState) {\n            apis.toggleToolbarDrawer(comp);\n          }\n          parts$a.getPart(comp, detail, 'editorContainer').each(editorContainer => {\n            const element = editorContainer.element;\n            remove$6(element, 'display');\n            remove$7(element, 'aria-hidden');\n          });\n          apis.refreshToolbar(comp);\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis,\n        behaviours: detail.behaviours\n      };\n    };\n    const partMenubar = partType.optional({\n      factory: SilverMenubar,\n      name: 'menubar',\n      schema: [required$1('backstage')]\n    });\n    const toolbarFactory = spec => {\n      if (spec.type === ToolbarMode$1.sliding) {\n        return renderSlidingMoreToolbar;\n      } else if (spec.type === ToolbarMode$1.floating) {\n        return renderFloatingMoreToolbar;\n      } else {\n        return renderToolbar;\n      }\n    };\n    const partMultipleToolbar = partType.optional({\n      factory: {\n        sketch: spec => CustomList.sketch({\n          uid: spec.uid,\n          dom: spec.dom,\n          listBehaviours: derive$1([Keying.config({\n              mode: 'acyclic',\n              selector: '.tox-toolbar'\n            })]),\n          makeItem: () => renderToolbar({\n            type: spec.type,\n            uid: generate$6('multiple-toolbar-item'),\n            cyclicKeying: false,\n            initGroups: [],\n            providers: spec.providers,\n            onEscape: () => {\n              spec.onEscape();\n              return Optional.some(true);\n            }\n          }),\n          setupItem: (_mToolbar, tc, data, _index) => {\n            Toolbar.setGroups(tc, data);\n          },\n          shell: true\n        })\n      },\n      name: 'multiple-toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape')\n      ]\n    });\n    const partToolbar = partType.optional({\n      factory: {\n        sketch: spec => {\n          const renderer = toolbarFactory(spec);\n          const toolbarSpec = {\n            type: spec.type,\n            uid: spec.uid,\n            onEscape: () => {\n              spec.onEscape();\n              return Optional.some(true);\n            },\n            onToggled: (_comp, state) => spec.onToolbarToggled(state),\n            cyclicKeying: false,\n            initGroups: [],\n            getSink: spec.getSink,\n            providers: spec.providers,\n            moreDrawerData: {\n              lazyToolbar: spec.lazyToolbar,\n              lazyMoreButton: spec.lazyMoreButton,\n              lazyHeader: spec.lazyHeader\n            },\n            attributes: spec.attributes\n          };\n          return renderer(toolbarSpec);\n        }\n      },\n      name: 'toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape'),\n        required$1('getSink')\n      ]\n    });\n    const partHeader = partType.optional({\n      factory: { sketch: renderHeader },\n      name: 'header',\n      schema: [required$1('dom')]\n    });\n    const partPromotion = partType.optional({\n      factory: { sketch: renderPromotion },\n      name: 'promotion',\n      schema: [required$1('dom')]\n    });\n    const partSocket = partType.optional({\n      name: 'socket',\n      schema: [required$1('dom')]\n    });\n    const partSidebar = partType.optional({\n      factory: { sketch: renderSidebar },\n      name: 'sidebar',\n      schema: [required$1('dom')]\n    });\n    const partThrobber = partType.optional({\n      factory: { sketch: renderThrobber },\n      name: 'throbber',\n      schema: [required$1('dom')]\n    });\n    const partViewWrapper = partType.optional({\n      factory: ViewWrapper,\n      name: 'viewWrapper',\n      schema: [required$1('backstage')]\n    });\n    const renderEditorContainer = spec => ({\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        classes: ['tox-editor-container']\n      },\n      components: spec.components\n    });\n    const partEditorContainer = partType.optional({\n      factory: { sketch: renderEditorContainer },\n      name: 'editorContainer',\n      schema: []\n    });\n    var OuterContainer = composite({\n      name: 'OuterContainer',\n      factory: factory$6,\n      configFields: [\n        required$1('dom'),\n        required$1('behaviours')\n      ],\n      partFields: [\n        partHeader,\n        partMenubar,\n        partToolbar,\n        partMultipleToolbar,\n        partSocket,\n        partSidebar,\n        partPromotion,\n        partThrobber,\n        partViewWrapper,\n        partEditorContainer\n      ],\n      apis: {\n        getSocket: (apis, comp) => {\n          return apis.getSocket(comp);\n        },\n        setSidebar: (apis, comp, panelConfigs, showSidebar) => {\n          apis.setSidebar(comp, panelConfigs, showSidebar);\n        },\n        toggleSidebar: (apis, comp, name) => {\n          apis.toggleSidebar(comp, name);\n        },\n        whichSidebar: (apis, comp) => {\n          return apis.whichSidebar(comp);\n        },\n        getHeader: (apis, comp) => {\n          return apis.getHeader(comp);\n        },\n        getToolbar: (apis, comp) => {\n          return apis.getToolbar(comp);\n        },\n        setToolbar: (apis, comp, groups) => {\n          apis.setToolbar(comp, groups);\n        },\n        setToolbars: (apis, comp, toolbars) => {\n          apis.setToolbars(comp, toolbars);\n        },\n        refreshToolbar: (apis, comp) => {\n          return apis.refreshToolbar(comp);\n        },\n        toggleToolbarDrawer: (apis, comp) => {\n          apis.toggleToolbarDrawer(comp);\n        },\n        toggleToolbarDrawerWithoutFocusing: (apis, comp) => {\n          apis.toggleToolbarDrawerWithoutFocusing(comp);\n        },\n        isToolbarDrawerToggled: (apis, comp) => {\n          return apis.isToolbarDrawerToggled(comp);\n        },\n        getThrobber: (apis, comp) => {\n          return apis.getThrobber(comp);\n        },\n        setMenubar: (apis, comp, menus) => {\n          apis.setMenubar(comp, menus);\n        },\n        focusMenubar: (apis, comp) => {\n          apis.focusMenubar(comp);\n        },\n        focusToolbar: (apis, comp) => {\n          apis.focusToolbar(comp);\n        },\n        setViews: (apis, comp, views) => {\n          apis.setViews(comp, views);\n        },\n        toggleView: (apis, comp, name) => {\n          return apis.toggleView(comp, name);\n        },\n        whichView: (apis, comp) => {\n          return apis.whichView(comp);\n        }\n      }\n    });\n\n    const defaultMenubar = 'file edit view insert format tools table help';\n    const defaultMenus = {\n      file: {\n        title: 'File',\n        items: 'newdocument restoredraft | preview | export print | deleteallconversations'\n      },\n      edit: {\n        title: 'Edit',\n        items: 'undo redo | cut copy paste pastetext | selectall | searchreplace'\n      },\n      view: {\n        title: 'View',\n        items: 'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments'\n      },\n      insert: {\n        title: 'Insert',\n        items: 'image link media addcomment pageembed template inserttemplate codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime'\n      },\n      format: {\n        title: 'Format',\n        items: 'bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat'\n      },\n      tools: {\n        title: 'Tools',\n        items: 'spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate'\n      },\n      table: {\n        title: 'Table',\n        items: 'inserttable | cell row column | advtablesort | tableprops deletetable'\n      },\n      help: {\n        title: 'Help',\n        items: 'help'\n      }\n    };\n    const make = (menu, registry, editor) => {\n      const removedMenuItems = getRemovedMenuItems(editor).split(/[ ,]/);\n      return {\n        text: menu.title,\n        getItems: () => bind$3(menu.items, i => {\n          const itemName = i.toLowerCase();\n          if (itemName.trim().length === 0) {\n            return [];\n          } else if (exists(removedMenuItems, removedMenuItem => removedMenuItem === itemName)) {\n            return [];\n          } else if (itemName === 'separator' || itemName === '|') {\n            return [{ type: 'separator' }];\n          } else if (registry.menuItems[itemName]) {\n            return [registry.menuItems[itemName]];\n          } else {\n            return [];\n          }\n        })\n      };\n    };\n    const parseItemsString = items => {\n      return items.split(' ');\n    };\n    const identifyMenus = (editor, registry) => {\n      const rawMenuData = {\n        ...defaultMenus,\n        ...registry.menus\n      };\n      const userDefinedMenus = keys(registry.menus).length > 0;\n      const menubar = registry.menubar === undefined || registry.menubar === true ? parseItemsString(defaultMenubar) : parseItemsString(registry.menubar === false ? '' : registry.menubar);\n      const validMenus = filter$2(menubar, menuName => {\n        const isDefaultMenu = has$2(defaultMenus, menuName);\n        if (userDefinedMenus) {\n          return isDefaultMenu || get$g(registry.menus, menuName).exists(menu => has$2(menu, 'items'));\n        } else {\n          return isDefaultMenu;\n        }\n      });\n      const menus = map$2(validMenus, menuName => {\n        const menuData = rawMenuData[menuName];\n        return make({\n          title: menuData.title,\n          items: parseItemsString(menuData.items)\n        }, registry, editor);\n      });\n      return filter$2(menus, menu => {\n        const isNotSeparator = item => isString(item) || item.type !== 'separator';\n        return menu.getItems().length > 0 && exists(menu.getItems(), isNotSeparator);\n      });\n    };\n\n    const fireSkinLoaded = editor => {\n      const done = () => {\n        editor._skinLoaded = true;\n        fireSkinLoaded$1(editor);\n      };\n      return () => {\n        if (editor.initialized) {\n          done();\n        } else {\n          editor.on('init', done);\n        }\n      };\n    };\n    const fireSkinLoadError = (editor, err) => () => fireSkinLoadError$1(editor, { message: err });\n\n    const loadStylesheet = (editor, stylesheetUrl, styleSheetLoader) => {\n      editor.on('remove', () => styleSheetLoader.unload(stylesheetUrl));\n      return styleSheetLoader.load(stylesheetUrl);\n    };\n    const loadUiSkins = (editor, skinUrl) => {\n      const skinUiCss = skinUrl + '/skin.min.css';\n      return loadStylesheet(editor, skinUiCss, editor.ui.styleSheetLoader);\n    };\n    const loadShadowDomUiSkins = (editor, skinUrl) => {\n      const isInShadowRoot$1 = isInShadowRoot(SugarElement.fromDom(editor.getElement()));\n      if (isInShadowRoot$1) {\n        const shadowDomSkinCss = skinUrl + '/skin.shadowdom.min.css';\n        return loadStylesheet(editor, shadowDomSkinCss, global$7.DOM.styleSheetLoader);\n      } else {\n        return Promise.resolve();\n      }\n    };\n    const loadSkin = (isInline, editor) => {\n      const skinUrl = getSkinUrl(editor);\n      if (skinUrl) {\n        editor.contentCSS.push(skinUrl + (isInline ? '/content.inline' : '/content') + '.min.css');\n      }\n      if (!isSkinDisabled(editor) && isString(skinUrl)) {\n        return Promise.all([\n          loadUiSkins(editor, skinUrl),\n          loadShadowDomUiSkins(editor, skinUrl)\n        ]).then(fireSkinLoaded(editor), fireSkinLoadError(editor, 'Skin could not be loaded'));\n      } else {\n        return Promise.resolve(fireSkinLoaded(editor)());\n      }\n    };\n    const iframe = curry(loadSkin, false);\n    const inline = curry(loadSkin, true);\n\n    const onSetupFormatToggle = (editor, name) => api => {\n      const boundCallback = unbindable();\n      const init = () => {\n        api.setActive(editor.formatter.match(name));\n        const binding = editor.formatter.formatChanged(name, api.setActive);\n        boundCallback.set(binding);\n      };\n      editor.initialized ? init() : editor.once('init', init);\n      return () => {\n        editor.off('init', init);\n        boundCallback.clear();\n      };\n    };\n    const onSetupEvent = (editor, event, f) => api => {\n      const handleEvent = () => f(api);\n      const init = () => {\n        f(api);\n        editor.on(event, handleEvent);\n      };\n      editor.initialized ? init() : editor.once('init', init);\n      return () => {\n        editor.off('init', init);\n        editor.off(event, handleEvent);\n      };\n    };\n    const onActionToggleFormat$1 = editor => rawItem => () => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.execCommand('mceToggleFormat', false, rawItem.format);\n      });\n    };\n    const onActionExecCommand = (editor, command) => () => editor.execCommand(command);\n\n    const generateSelectItems = (_editor, backstage, spec) => {\n      const generateItem = (rawItem, response, invalid, value) => {\n        const translatedText = backstage.shared.providers.translate(rawItem.title);\n        if (rawItem.type === 'separator') {\n          return Optional.some({\n            type: 'separator',\n            text: translatedText\n          });\n        } else if (rawItem.type === 'submenu') {\n          const items = bind$3(rawItem.getStyleItems(), si => validate(si, response, value));\n          if (response === 0 && items.length <= 0) {\n            return Optional.none();\n          } else {\n            return Optional.some({\n              type: 'nestedmenuitem',\n              text: translatedText,\n              enabled: items.length > 0,\n              getSubmenuItems: () => bind$3(rawItem.getStyleItems(), si => validate(si, response, value))\n            });\n          }\n        } else {\n          return Optional.some({\n            type: 'togglemenuitem',\n            text: translatedText,\n            icon: rawItem.icon,\n            active: rawItem.isSelected(value),\n            enabled: !invalid,\n            onAction: spec.onAction(rawItem),\n            ...rawItem.getStylePreview().fold(() => ({}), preview => ({ meta: { style: preview } }))\n          });\n        }\n      };\n      const validate = (item, response, value) => {\n        const invalid = item.type === 'formatter' && spec.isInvalid(item);\n        if (response === 0) {\n          return invalid ? [] : generateItem(item, response, false, value).toArray();\n        } else {\n          return generateItem(item, response, invalid, value).toArray();\n        }\n      };\n      const validateItems = preItems => {\n        const value = spec.getCurrentValue();\n        const response = spec.shouldHide ? 0 : 1;\n        return bind$3(preItems, item => validate(item, response, value));\n      };\n      const getFetch = (backstage, getStyleItems) => (comp, callback) => {\n        const preItems = getStyleItems();\n        const items = validateItems(preItems);\n        const menu = build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n          isHorizontalMenu: false,\n          search: Optional.none()\n        });\n        callback(menu);\n      };\n      return {\n        validateItems,\n        getFetch\n      };\n    };\n    const createMenuItems = (editor, backstage, spec) => {\n      const dataset = spec.dataset;\n      const getStyleItems = dataset.type === 'basic' ? () => map$2(dataset.data, d => processBasic(d, spec.isSelectedFor, spec.getPreviewFor)) : dataset.getData;\n      return {\n        items: generateSelectItems(editor, backstage, spec),\n        getStyleItems\n      };\n    };\n    const createSelectButton = (editor, backstage, spec) => {\n      const {items, getStyleItems} = createMenuItems(editor, backstage, spec);\n      const getApi = comp => ({ getComponent: constant$1(comp) });\n      const onSetup = onSetupEvent(editor, 'NodeChange', api => {\n        const comp = api.getComponent();\n        spec.updateText(comp);\n      });\n      return renderCommonDropdown({\n        text: spec.icon.isSome() ? Optional.none() : spec.text,\n        icon: spec.icon,\n        tooltip: Optional.from(spec.tooltip),\n        role: Optional.none(),\n        fetch: items.getFetch(backstage, getStyleItems),\n        onSetup,\n        getApi,\n        columns: 1,\n        presets: 'normal',\n        classes: spec.icon.isSome() ? [] : ['bespoke'],\n        dropdownBehaviours: []\n      }, 'tox-tbtn', backstage.shared);\n    };\n\n    const process = rawFormats => map$2(rawFormats, item => {\n      let title = item, format = item;\n      const values = item.split('=');\n      if (values.length > 1) {\n        title = values[0];\n        format = values[1];\n      }\n      return {\n        title,\n        format\n      };\n    });\n    const buildBasicStaticDataset = data => ({\n      type: 'basic',\n      data\n    });\n    var Delimiter;\n    (function (Delimiter) {\n      Delimiter[Delimiter['SemiColon'] = 0] = 'SemiColon';\n      Delimiter[Delimiter['Space'] = 1] = 'Space';\n    }(Delimiter || (Delimiter = {})));\n    const split = (rawFormats, delimiter) => {\n      if (delimiter === Delimiter.SemiColon) {\n        return rawFormats.replace(/;$/, '').split(';');\n      } else {\n        return rawFormats.split(' ');\n      }\n    };\n    const buildBasicSettingsDataset = (editor, settingName, delimiter) => {\n      const rawFormats = editor.options.get(settingName);\n      const data = process(split(rawFormats, delimiter));\n      return {\n        type: 'basic',\n        data\n      };\n    };\n\n    const alignMenuItems = [\n      {\n        title: 'Left',\n        icon: 'align-left',\n        format: 'alignleft',\n        command: 'JustifyLeft'\n      },\n      {\n        title: 'Center',\n        icon: 'align-center',\n        format: 'aligncenter',\n        command: 'JustifyCenter'\n      },\n      {\n        title: 'Right',\n        icon: 'align-right',\n        format: 'alignright',\n        command: 'JustifyRight'\n      },\n      {\n        title: 'Justify',\n        icon: 'align-justify',\n        format: 'alignjustify',\n        command: 'JustifyFull'\n      }\n    ];\n    const getSpec$4 = editor => {\n      const getMatchingValue = () => find$5(alignMenuItems, item => editor.formatter.match(item.format));\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = _format => Optional.none;\n      const updateSelectMenuIcon = comp => {\n        const match = getMatchingValue();\n        const alignment = match.fold(constant$1('left'), item => item.title.toLowerCase());\n        emitWith(comp, updateMenuIcon, { icon: `align-${ alignment }` });\n      };\n      const dataset = buildBasicStaticDataset(alignMenuItems);\n      const onAction = rawItem => () => find$5(alignMenuItems, item => item.format === rawItem.format).each(item => editor.execCommand(item.command));\n      return {\n        tooltip: 'Align',\n        text: Optional.none(),\n        icon: Optional.some('align-left'),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction,\n        updateText: updateSelectMenuIcon,\n        dataset,\n        shouldHide: false,\n        isInvalid: item => !editor.formatter.canApply(item.format)\n      };\n    };\n    const createAlignButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$4(editor));\n    const createAlignMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$4(editor));\n      editor.ui.registry.addNestedMenuItem('align', {\n        text: backstage.shared.providers.translate('Align'),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const findNearest = (editor, getStyles) => {\n      const styles = getStyles();\n      const formats = map$2(styles, style => style.format);\n      return Optional.from(editor.formatter.closest(formats)).bind(fmt => find$5(styles, data => data.format === fmt)).orThunk(() => someIf(editor.formatter.match('p'), {\n        title: 'Paragraph',\n        format: 'p'\n      }));\n    };\n\n    const getSpec$3 = editor => {\n      const fallbackFormat = 'Paragraph';\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        if (fmt) {\n          return Optional.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n          });\n        } else {\n          return Optional.none();\n        }\n      };\n      const updateSelectMenuText = comp => {\n        const detectedFormat = findNearest(editor, () => dataset.data);\n        const text = detectedFormat.fold(constant$1(fallbackFormat), fmt => fmt.title);\n        emitWith(comp, updateMenuText, { text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'block_formats', Delimiter.SemiColon);\n      return {\n        tooltip: 'Blocks',\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: item => !editor.formatter.canApply(item.format)\n      };\n    };\n    const createBlocksButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$3(editor));\n    const createBlocksMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$3(editor));\n      editor.ui.registry.addNestedMenuItem('blocks', {\n        text: 'Blocks',\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const systemStackFonts = [\n      '-apple-system',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica Neue',\n      'sans-serif'\n    ];\n    const splitFonts = fontFamily => {\n      const fonts = fontFamily.split(/\\s*,\\s*/);\n      return map$2(fonts, font => font.replace(/^['\"]+|['\"]+$/g, ''));\n    };\n    const isSystemFontStack = fontFamily => {\n      const matchesSystemStack = () => {\n        const fonts = splitFonts(fontFamily.toLowerCase());\n        return forall(systemStackFonts, font => fonts.indexOf(font.toLowerCase()) > -1);\n      };\n      return fontFamily.indexOf('-apple-system') === 0 && matchesSystemStack();\n    };\n    const getSpec$2 = editor => {\n      const systemFont = 'System Font';\n      const getMatchingValue = () => {\n        const getFirstFont = fontFamily => fontFamily ? splitFonts(fontFamily)[0] : '';\n        const fontFamily = editor.queryCommandValue('FontName');\n        const items = dataset.data;\n        const font = fontFamily ? fontFamily.toLowerCase() : '';\n        const matchOpt = find$5(items, item => {\n          const format = item.format;\n          return format.toLowerCase() === font || getFirstFont(format).toLowerCase() === getFirstFont(font).toLowerCase();\n        }).orThunk(() => {\n          return someIf(isSystemFontStack(font), {\n            title: systemFont,\n            format: font\n          });\n        });\n        return {\n          matchOpt,\n          font: fontFamily\n        };\n      };\n      const isSelectedFor = item => valueOpt => valueOpt.exists(value => value.format === item);\n      const getCurrentValue = () => {\n        const {matchOpt} = getMatchingValue();\n        return matchOpt;\n      };\n      const getPreviewFor = item => () => Optional.some({\n        tag: 'div',\n        styles: item.indexOf('dings') === -1 ? { 'font-family': item } : {}\n      });\n      const onAction = rawItem => () => {\n        editor.undoManager.transact(() => {\n          editor.focus();\n          editor.execCommand('FontName', false, rawItem.format);\n        });\n      };\n      const updateSelectMenuText = comp => {\n        const {matchOpt, font} = getMatchingValue();\n        const text = matchOpt.fold(constant$1(font), item => item.title);\n        emitWith(comp, updateMenuText, { text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'font_family_formats', Delimiter.SemiColon);\n      return {\n        tooltip: 'Fonts',\n        text: Optional.some(systemFont),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue,\n        getPreviewFor,\n        onAction,\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    const createFontFamilyButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$2(editor));\n    const createFontFamilyMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$2(editor));\n      editor.ui.registry.addNestedMenuItem('fontfamily', {\n        text: backstage.shared.providers.translate('Fonts'),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const Keys = {\n      tab: constant$1(9),\n      escape: constant$1(27),\n      enter: constant$1(13),\n      backspace: constant$1(8),\n      delete: constant$1(46),\n      left: constant$1(37),\n      up: constant$1(38),\n      right: constant$1(39),\n      down: constant$1(40),\n      space: constant$1(32),\n      home: constant$1(36),\n      end: constant$1(35),\n      pageUp: constant$1(33),\n      pageDown: constant$1(34)\n    };\n\n    const units = {\n      unsupportedLength: [\n        'em',\n        'ex',\n        'cap',\n        'ch',\n        'ic',\n        'rem',\n        'lh',\n        'rlh',\n        'vw',\n        'vh',\n        'vi',\n        'vb',\n        'vmin',\n        'vmax',\n        'cm',\n        'mm',\n        'Q',\n        'in',\n        'pc',\n        'pt',\n        'px'\n      ],\n      fixed: [\n        'px',\n        'pt'\n      ],\n      relative: ['%'],\n      empty: ['']\n    };\n    const pattern = (() => {\n      const decimalDigits = '[0-9]+';\n      const signedInteger = '[+-]?' + decimalDigits;\n      const exponentPart = '[eE]' + signedInteger;\n      const dot = '\\\\.';\n      const opt = input => `(?:${ input })?`;\n      const unsignedDecimalLiteral = [\n        'Infinity',\n        decimalDigits + dot + opt(decimalDigits) + opt(exponentPart),\n        dot + decimalDigits + opt(exponentPart),\n        decimalDigits + opt(exponentPart)\n      ].join('|');\n      const float = `[+-]?(?:${ unsignedDecimalLiteral })`;\n      return new RegExp(`^(${ float })(.*)$`);\n    })();\n    const isUnit = (unit, accepted) => exists(accepted, acc => exists(units[acc], check => unit === check));\n    const parse = (input, accepted) => {\n      const match = Optional.from(pattern.exec(input));\n      return match.bind(array => {\n        const value = Number(array[1]);\n        const unitRaw = array[2];\n        if (isUnit(unitRaw, accepted)) {\n          return Optional.some({\n            value,\n            unit: unitRaw\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    const normalise = (input, accepted) => parse(input, accepted).map(({value, unit}) => value + unit);\n\n    const createBespokeNumberInput = (editor, backstage, spec) => {\n      let currentComp = Optional.none();\n      const getValueFromCurrentComp = comp => comp.map(alloyComp => Representing.getValue(alloyComp)).getOr('');\n      const onSetup = onSetupEvent(editor, 'NodeChange', api => {\n        const comp = api.getComponent();\n        currentComp = Optional.some(comp);\n        spec.updateInputValue(comp);\n      });\n      const getApi = comp => ({ getComponent: constant$1(comp) });\n      const editorOffCell = Cell(noop);\n      const customEvents = generate$6('custom-number-input-events');\n      const isValidValue = value => value >= 0;\n      const changeValue = (f, fromInput, focusBack) => {\n        const text = getValueFromCurrentComp(currentComp);\n        const parsedText = parse(text, [\n          'unsupportedLength',\n          'empty'\n        ]);\n        const value = parsedText.map(res => res.value).getOr(0);\n        const defaultUnit = getFontSizeInputDefaultUnit(editor);\n        const unit = parsedText.map(res => res.unit).filter(u => u !== '').getOr(defaultUnit);\n        const newValue = f(value, spec.getConfigFromUnit(unit).step);\n        const newValueWithUnit = `${ isValidValue(newValue) ? newValue : value }${ unit }`;\n        const lenghtDelta = `${ value }${ unit }`.length - `${ newValueWithUnit }`.length;\n        const oldStart = currentComp.map(comp => comp.element.dom.selectionStart - lenghtDelta);\n        const oldEnd = currentComp.map(comp => comp.element.dom.selectionEnd - lenghtDelta);\n        spec.onAction(newValueWithUnit, focusBack);\n        currentComp.each(comp => {\n          Representing.setValue(comp, newValueWithUnit);\n          if (fromInput) {\n            oldStart.each(oldStart => comp.element.dom.selectionStart = oldStart);\n            oldEnd.each(oldEnd => comp.element.dom.selectionEnd = oldEnd);\n          }\n        });\n      };\n      const decrease = (fromInput, focusBack) => changeValue((n, s) => n - s, fromInput, focusBack);\n      const increase = (fromInput, focusBack) => changeValue((n, s) => n + s, fromInput, focusBack);\n      const goToParent = comp => parentElement(comp.element).fold(Optional.none, parent => {\n        focus$3(parent);\n        return Optional.some(true);\n      });\n      const focusInput = comp => {\n        if (hasFocus(comp.element)) {\n          firstChild(comp.element).each(input => focus$3(input));\n          return Optional.some(true);\n        } else {\n          return Optional.none();\n        }\n      };\n      const makeStepperButton = (action, title, tooltip, classes) => {\n        const translatedTooltip = backstage.shared.providers.translate(tooltip);\n        const altExecuting = generate$6('altExecuting');\n        const onClick = () => action(true);\n        return Button.sketch({\n          dom: {\n            tag: 'button',\n            attributes: {\n              'title': translatedTooltip,\n              'aria-label': translatedTooltip\n            },\n            classes: classes.concat(title)\n          },\n          components: [renderIconFromPack$1(title, backstage.shared.providers.icons)],\n          buttonBehaviours: derive$1([config(altExecuting, [\n              run$1(keydown(), (_comp, se) => {\n                if (se.event.raw.keyCode === Keys.space() || se.event.raw.keyCode === Keys.enter()) {\n                  action(false);\n                }\n              }),\n              run$1(click(), onClick),\n              run$1(touchend(), onClick)\n            ])]),\n          eventOrder: {\n            [keydown()]: [\n              altExecuting,\n              'keying'\n            ],\n            [click()]: [\n              altExecuting,\n              'alloy.base.behaviour'\n            ],\n            [touchend()]: [\n              altExecuting,\n              'alloy.base.behaviour'\n            ]\n          }\n        });\n      };\n      const memMinus = record(makeStepperButton(focusBack => decrease(false, focusBack), 'minus', 'Decrease font size', ['highlight-on-focus']));\n      const memPlus = record(makeStepperButton(focusBack => increase(false, focusBack), 'plus', 'Increase font size', ['highlight-on-focus']));\n      const memInput = record({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-input-wrapper',\n            'highlight-on-focus'\n          ]\n        },\n        components: [Input.sketch({\n            inputBehaviours: derive$1([\n              config(customEvents, [\n                onControlAttached({\n                  onSetup,\n                  getApi\n                }, editorOffCell),\n                onControlDetached({ getApi }, editorOffCell)\n              ]),\n              config('input-update-display-text', [\n                run$1(updateMenuText, (comp, se) => {\n                  Representing.setValue(comp, se.event.text);\n                }),\n                run$1(focusout(), comp => {\n                  spec.onAction(Representing.getValue(comp));\n                }),\n                run$1(change(), comp => {\n                  spec.onAction(Representing.getValue(comp));\n                })\n              ]),\n              Keying.config({\n                mode: 'special',\n                onEnter: _comp => {\n                  changeValue(identity, true, true);\n                  return Optional.some(true);\n                },\n                onEscape: goToParent,\n                onUp: _comp => {\n                  increase(true, false);\n                  return Optional.some(true);\n                },\n                onDown: _comp => {\n                  decrease(true, false);\n                  return Optional.some(true);\n                },\n                onLeft: (_comp, se) => {\n                  se.cut();\n                  return Optional.none();\n                },\n                onRight: (_comp, se) => {\n                  se.cut();\n                  return Optional.none();\n                }\n              })\n            ])\n          })],\n        behaviours: derive$1([\n          Focusing.config({}),\n          Keying.config({\n            mode: 'special',\n            onEnter: focusInput,\n            onSpace: focusInput,\n            onEscape: goToParent\n          }),\n          config('input-wrapper-events', [run$1(mouseover(), comp => {\n              each$1([\n                memMinus,\n                memPlus\n              ], button => {\n                const buttonNode = SugarElement.fromDom(button.get(comp).element.dom);\n                if (hasFocus(buttonNode)) {\n                  blur$1(buttonNode);\n                }\n              });\n            })])\n        ])\n      });\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-number-input']\n        },\n        components: [\n          memMinus.asSpec(),\n          memInput.asSpec(),\n          memPlus.asSpec()\n        ],\n        behaviours: derive$1([\n          Focusing.config({}),\n          Keying.config({\n            mode: 'flow',\n            focusInside: FocusInsideModes.OnEnterOrSpaceMode,\n            cycles: false,\n            selector: 'button, .tox-input-wrapper',\n            onEscape: wrapperComp => {\n              if (hasFocus(wrapperComp.element)) {\n                return Optional.none();\n              } else {\n                focus$3(wrapperComp.element);\n                return Optional.some(true);\n              }\n            }\n          })\n        ])\n      };\n    };\n\n    const legacyFontSizes = {\n      '8pt': '1',\n      '10pt': '2',\n      '12pt': '3',\n      '14pt': '4',\n      '18pt': '5',\n      '24pt': '6',\n      '36pt': '7'\n    };\n    const keywordFontSizes = {\n      'xx-small': '7pt',\n      'x-small': '8pt',\n      'small': '10pt',\n      'medium': '12pt',\n      'large': '14pt',\n      'x-large': '18pt',\n      'xx-large': '24pt'\n    };\n    const round = (number, precision) => {\n      const factor = Math.pow(10, precision);\n      return Math.round(number * factor) / factor;\n    };\n    const toPt = (fontSize, precision) => {\n      if (/[0-9.]+px$/.test(fontSize)) {\n        return round(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n      } else {\n        return get$g(keywordFontSizes, fontSize).getOr(fontSize);\n      }\n    };\n    const toLegacy = fontSize => get$g(legacyFontSizes, fontSize).getOr('');\n    const getSpec$1 = editor => {\n      const getMatchingValue = () => {\n        let matchOpt = Optional.none();\n        const items = dataset.data;\n        const fontSize = editor.queryCommandValue('FontSize');\n        if (fontSize) {\n          for (let precision = 3; matchOpt.isNone() && precision >= 0; precision--) {\n            const pt = toPt(fontSize, precision);\n            const legacy = toLegacy(pt);\n            matchOpt = find$5(items, item => item.format === fontSize || item.format === pt || item.format === legacy);\n          }\n        }\n        return {\n          matchOpt,\n          size: fontSize\n        };\n      };\n      const isSelectedFor = item => valueOpt => valueOpt.exists(value => value.format === item);\n      const getCurrentValue = () => {\n        const {matchOpt} = getMatchingValue();\n        return matchOpt;\n      };\n      const getPreviewFor = constant$1(Optional.none);\n      const onAction = rawItem => () => {\n        editor.undoManager.transact(() => {\n          editor.focus();\n          editor.execCommand('FontSize', false, rawItem.format);\n        });\n      };\n      const updateSelectMenuText = comp => {\n        const {matchOpt, size} = getMatchingValue();\n        const text = matchOpt.fold(constant$1(size), match => match.title);\n        emitWith(comp, updateMenuText, { text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'font_size_formats', Delimiter.Space);\n      return {\n        tooltip: 'Font sizes',\n        text: Optional.some('12pt'),\n        icon: Optional.none(),\n        isSelectedFor,\n        getPreviewFor,\n        getCurrentValue,\n        onAction,\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    const createFontSizeButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$1(editor));\n    const getConfigFromUnit = unit => {\n      var _a;\n      const baseConfig = { step: 1 };\n      const configs = {\n        em: { step: 0.1 },\n        cm: { step: 0.1 },\n        in: { step: 0.1 },\n        pc: { step: 0.1 },\n        ch: { step: 0.1 },\n        rem: { step: 0.1 }\n      };\n      return (_a = configs[unit]) !== null && _a !== void 0 ? _a : baseConfig;\n    };\n    const getNumberInputSpec = editor => {\n      const updateInputValue = comp => emitWith(comp, updateMenuText, { text: editor.queryCommandValue('FontSize') });\n      return {\n        updateInputValue,\n        getConfigFromUnit,\n        onAction: (format, focusBack) => editor.execCommand('FontSize', false, format, { skip_focus: !focusBack })\n      };\n    };\n    const createFontSizeInputButton = (editor, backstage) => createBespokeNumberInput(editor, backstage, getNumberInputSpec(editor));\n    const createFontSizeMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$1(editor));\n      editor.ui.registry.addNestedMenuItem('fontsize', {\n        text: 'Font sizes',\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const getSpec = (editor, dataset) => {\n      const fallbackFormat = 'Paragraph';\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        return fmt !== undefined ? Optional.some({\n          tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n          styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n        }) : Optional.none();\n      };\n      const updateSelectMenuText = comp => {\n        const getFormatItems = fmt => {\n          if (isNestedFormat(fmt)) {\n            return bind$3(fmt.items, getFormatItems);\n          } else if (isFormatReference(fmt)) {\n            return [{\n                title: fmt.title,\n                format: fmt.format\n              }];\n          } else {\n            return [];\n          }\n        };\n        const flattenedItems = bind$3(getStyleFormats(editor), getFormatItems);\n        const detectedFormat = findNearest(editor, constant$1(flattenedItems));\n        const text = detectedFormat.fold(constant$1(fallbackFormat), fmt => fmt.title);\n        emitWith(comp, updateMenuText, { text });\n      };\n      return {\n        tooltip: 'Formats',\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        shouldHide: shouldAutoHideStyleFormats(editor),\n        isInvalid: item => !editor.formatter.canApply(item.format),\n        dataset\n      };\n    };\n    const createStylesButton = (editor, backstage) => {\n      const dataset = {\n        type: 'advanced',\n        ...backstage.styles\n      };\n      return createSelectButton(editor, backstage, getSpec(editor, dataset));\n    };\n    const createStylesMenu = (editor, backstage) => {\n      const dataset = {\n        type: 'advanced',\n        ...backstage.styles\n      };\n      const menuItems = createMenuItems(editor, backstage, getSpec(editor, dataset));\n      editor.ui.registry.addNestedMenuItem('styles', {\n        text: 'Formats',\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const schema$7 = constant$1([\n      required$1('toggleClass'),\n      required$1('fetch'),\n      onStrictHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      onStrictHandler('onItemExecute'),\n      option$3('lazySink'),\n      required$1('dom'),\n      onHandler('onOpen'),\n      field('splitDropdownBehaviours', [\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      defaulted('eventOrder', {}),\n      option$3('role')\n    ].concat(sandboxFields()));\n    const arrowPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'arrow',\n      defaults: () => {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: detail => {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: arrow => {\n            arrow.getSystem().getByUid(detail.uid).each(emitExecute);\n          },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleOnExecute: false,\n              toggleClass: detail.toggleClass\n            })])\n        };\n      }\n    });\n    const buttonPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'button',\n      defaults: () => {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: detail => {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: btn => {\n            btn.getSystem().getByUid(detail.uid).each(splitDropdown => {\n              detail.onExecute(splitDropdown, btn);\n            });\n          }\n        };\n      }\n    });\n    const parts$3 = constant$1([\n      arrowPart,\n      buttonPart,\n      optional({\n        factory: {\n          sketch: spec => {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      external({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: detail => {\n          return {\n            onExecute: (tmenu, item) => {\n              tmenu.getSystem().getByUid(detail.uid).each(splitDropdown => {\n                detail.onItemExecute(splitDropdown, tmenu, item);\n              });\n            }\n          };\n        }\n      }),\n      partType$1()\n    ]);\n\n    const factory$5 = (detail, components, spec, externals) => {\n      const switchToMenu = sandbox => {\n        Composing.getCurrent(sandbox).each(current => {\n          Highlighting.highlightFirst(current);\n          Keying.focusIn(current);\n        });\n      };\n      const action = component => {\n        const onOpenSync = switchToMenu;\n        togglePopup(detail, identity, component, externals, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n      };\n      const openMenu = comp => {\n        action(comp);\n        return Optional.some(true);\n      };\n      const executeOnButton = comp => {\n        const button = getPartOrDie(comp, detail, 'button');\n        emitExecute(button);\n        return Optional.some(true);\n      };\n      const buttonEvents = {\n        ...derive$2([runOnAttached((component, _simulatedEvent) => {\n            const ariaDescriptor = getPart(component, detail, 'aria-descriptor');\n            ariaDescriptor.each(descriptor => {\n              const descriptorId = generate$6('aria');\n              set$9(descriptor.element, 'id', descriptorId);\n              set$9(component.element, 'aria-describedby', descriptorId);\n            });\n          })]),\n        ...events$a(Optional.some(action))\n      };\n      const apis = {\n        repositionMenus: comp => {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis,\n        eventOrder: {\n          ...detail.eventOrder,\n          [execute$5()]: [\n            'disabling',\n            'toggling',\n            'alloy.base.behaviour'\n          ]\n        },\n        events: buttonEvents,\n        behaviours: augment(detail.splitDropdownBehaviours, [\n          Coupling.config({\n            others: {\n              sandbox: hotspot => {\n                const arrow = getPartOrDie(hotspot, detail, 'arrow');\n                const extras = {\n                  onOpen: () => {\n                    Toggling.on(arrow);\n                    Toggling.on(hotspot);\n                  },\n                  onClose: () => {\n                    Toggling.off(arrow);\n                    Toggling.off(hotspot);\n                  }\n                };\n                return makeSandbox$1(detail, hotspot, extras);\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: executeOnButton,\n            onEnter: executeOnButton,\n            onDown: openMenu\n          }),\n          Focusing.config({}),\n          Toggling.config({\n            toggleOnExecute: false,\n            aria: { mode: 'expanded' }\n          })\n        ]),\n        domModification: {\n          attributes: {\n            'role': detail.role.getOr('button'),\n            'aria-haspopup': true\n          }\n        }\n      };\n    };\n    const SplitDropdown = composite({\n      name: 'SplitDropdown',\n      configFields: schema$7(),\n      partFields: parts$3(),\n      factory: factory$5,\n      apis: { repositionMenus: (apis, comp) => apis.repositionMenus(comp) }\n    });\n\n    const getButtonApi = component => ({\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state),\n      setText: text => emitWith(component, updateMenuText, { text }),\n      setIcon: icon => emitWith(component, updateMenuIcon, { icon })\n    });\n    const getToggleApi = component => ({\n      setActive: state => {\n        Toggling.set(component, state);\n      },\n      isActive: () => Toggling.isOn(component),\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state),\n      setText: text => emitWith(component, updateMenuText, { text }),\n      setIcon: icon => emitWith(component, updateMenuIcon, { icon })\n    });\n    const getTooltipAttributes = (tooltip, providersBackstage) => tooltip.map(tooltip => ({\n      'aria-label': providersBackstage.translate(tooltip),\n      'title': providersBackstage.translate(tooltip)\n    })).getOr({});\n    const focusButtonEvent = generate$6('focus-button');\n    const renderCommonStructure = (optIcon, optText, tooltip, behaviours, providersBackstage) => {\n      const optMemDisplayText = optText.map(text => record(renderLabel$1(text, 'tox-tbtn', providersBackstage)));\n      const optMemDisplayIcon = optIcon.map(icon => record(renderReplaceableIconFromPack(icon, providersBackstage.icons)));\n      return {\n        dom: {\n          tag: 'button',\n          classes: ['tox-tbtn'].concat(optText.isSome() ? ['tox-tbtn--select'] : []),\n          attributes: getTooltipAttributes(tooltip, providersBackstage)\n        },\n        components: componentRenderPipeline([\n          optMemDisplayIcon.map(mem => mem.asSpec()),\n          optMemDisplayText.map(mem => mem.asSpec())\n        ]),\n        eventOrder: {\n          [mousedown()]: [\n            'focusing',\n            'alloy.base.behaviour',\n            commonButtonDisplayEvent\n          ],\n          [attachedToDom()]: [\n            commonButtonDisplayEvent,\n            'toolbar-group-button-events'\n          ]\n        },\n        buttonBehaviours: derive$1([\n          DisablingConfigs.toolbarButton(providersBackstage.isDisabled),\n          receivingConfig(),\n          config(commonButtonDisplayEvent, [\n            runOnAttached((comp, _se) => forceInitialSize(comp)),\n            run$1(updateMenuText, (comp, se) => {\n              optMemDisplayText.bind(mem => mem.getOpt(comp)).each(displayText => {\n                Replacing.set(displayText, [text$2(providersBackstage.translate(se.event.text))]);\n              });\n            }),\n            run$1(updateMenuIcon, (comp, se) => {\n              optMemDisplayIcon.bind(mem => mem.getOpt(comp)).each(displayIcon => {\n                Replacing.set(displayIcon, [renderReplaceableIconFromPack(se.event.icon, providersBackstage.icons)]);\n              });\n            }),\n            run$1(mousedown(), (button, se) => {\n              se.event.prevent();\n              emit(button, focusButtonEvent);\n            })\n          ])\n        ].concat(behaviours.getOr([])))\n      };\n    };\n    const renderFloatingToolbarButton = (spec, backstage, identifyButtons, attributes) => {\n      const sharedBackstage = backstage.shared;\n      const editorOffCell = Cell(noop);\n      const specialisation = {\n        toolbarButtonBehaviours: [],\n        getApi: getButtonApi,\n        onSetup: spec.onSetup\n      };\n      const behaviours = [config('toolbar-group-button-events', [\n          onControlAttached(specialisation, editorOffCell),\n          onControlDetached(specialisation, editorOffCell)\n        ])];\n      return FloatingToolbarButton.sketch({\n        lazySink: sharedBackstage.getSink,\n        fetch: () => Future.nu(resolve => {\n          resolve(map$2(identifyButtons(spec.items), renderToolbarGroup));\n        }),\n        markers: { toggledClass: 'tox-tbtn--enabled' },\n        parts: {\n          button: renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.some(behaviours), sharedBackstage.providers),\n          toolbar: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes\n            }\n          }\n        }\n      });\n    };\n    const renderCommonToolbarButton = (spec, specialisation, providersBackstage) => {\n      var _d;\n      const editorOffCell = Cell(noop);\n      const structure = renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.none(), providersBackstage);\n      return Button.sketch({\n        dom: structure.dom,\n        components: structure.components,\n        eventOrder: toolbarButtonEventOrder,\n        buttonBehaviours: {\n          ...derive$1([\n            config('toolbar-button-events', [\n              onToolbarButtonExecute({\n                onAction: spec.onAction,\n                getApi: specialisation.getApi\n              }),\n              onControlAttached(specialisation, editorOffCell),\n              onControlDetached(specialisation, editorOffCell)\n            ]),\n            DisablingConfigs.toolbarButton(() => !spec.enabled || providersBackstage.isDisabled()),\n            receivingConfig()\n          ].concat(specialisation.toolbarButtonBehaviours)),\n          [commonButtonDisplayEvent]: (_d = structure.buttonBehaviours) === null || _d === void 0 ? void 0 : _d[commonButtonDisplayEvent]\n        }\n      });\n    };\n    const renderToolbarButton = (spec, providersBackstage) => renderToolbarButtonWith(spec, providersBackstage, []);\n    const renderToolbarButtonWith = (spec, providersBackstage, bonusEvents) => renderCommonToolbarButton(spec, {\n      toolbarButtonBehaviours: bonusEvents.length > 0 ? [config('toolbarButtonWith', bonusEvents)] : [],\n      getApi: getButtonApi,\n      onSetup: spec.onSetup\n    }, providersBackstage);\n    const renderToolbarToggleButton = (spec, providersBackstage) => renderToolbarToggleButtonWith(spec, providersBackstage, []);\n    const renderToolbarToggleButtonWith = (spec, providersBackstage, bonusEvents) => renderCommonToolbarButton(spec, {\n      toolbarButtonBehaviours: [\n        Replacing.config({}),\n        Toggling.config({\n          toggleClass: 'tox-tbtn--enabled',\n          aria: { mode: 'pressed' },\n          toggleOnExecute: false\n        })\n      ].concat(bonusEvents.length > 0 ? [config('toolbarToggleButtonWith', bonusEvents)] : []),\n      getApi: getToggleApi,\n      onSetup: spec.onSetup\n    }, providersBackstage);\n    const fetchChoices = (getApi, spec, providersBackstage) => comp => Future.nu(callback => spec.fetch(callback)).map(items => Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n      spec.onItemAction(getApi(comp), value);\n    }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, spec.select.getOr(never), providersBackstage), {\n      movement: deriveMenuMovement(spec.columns, spec.presets),\n      menuBehaviours: SimpleBehaviours.unnamedEvents(spec.columns !== 'auto' ? [] : [runOnAttached((comp, _se) => {\n          detectSize(comp, 4, classForPreset(spec.presets)).each(({numRows, numColumns}) => {\n            Keying.setGridSize(comp, numRows, numColumns);\n          });\n        })])\n    }))));\n    const renderSplitButton = (spec, sharedBackstage) => {\n      const getApi = comp => ({\n        isEnabled: () => !Disabling.isDisabled(comp),\n        setEnabled: state => Disabling.set(comp, !state),\n        setIconFill: (id, value) => {\n          descendant(comp.element, `svg path[id=\"${ id }\"], rect[id=\"${ id }\"]`).each(underlinePath => {\n            set$9(underlinePath, 'fill', value);\n          });\n        },\n        setActive: state => {\n          set$9(comp.element, 'aria-pressed', state);\n          descendant(comp.element, 'span').each(button => {\n            comp.getSystem().getByDom(button).each(buttonComp => Toggling.set(buttonComp, state));\n          });\n        },\n        isActive: () => descendant(comp.element, 'span').exists(button => comp.getSystem().getByDom(button).exists(Toggling.isOn)),\n        setText: text => descendant(comp.element, 'span').each(button => comp.getSystem().getByDom(button).each(buttonComp => emitWith(buttonComp, updateMenuText, { text }))),\n        setIcon: icon => descendant(comp.element, 'span').each(button => comp.getSystem().getByDom(button).each(buttonComp => emitWith(buttonComp, updateMenuIcon, { icon })))\n      });\n      const editorOffCell = Cell(noop);\n      const specialisation = {\n        getApi,\n        onSetup: spec.onSetup\n      };\n      return SplitDropdown.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-split-button'],\n          attributes: {\n            'aria-pressed': false,\n            ...getTooltipAttributes(spec.tooltip, sharedBackstage.providers)\n          }\n        },\n        onExecute: button => {\n          const api = getApi(button);\n          if (api.isEnabled()) {\n            spec.onAction(api);\n          }\n        },\n        onItemExecute: (_a, _b, _c) => {\n        },\n        splitDropdownBehaviours: derive$1([\n          DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n          receivingConfig(),\n          config('split-dropdown-events', [\n            runOnAttached((comp, _se) => forceInitialSize(comp)),\n            run$1(focusButtonEvent, Focusing.focus),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          Unselecting.config({})\n        ]),\n        eventOrder: {\n          [attachedToDom()]: [\n            'alloy.base.behaviour',\n            'split-dropdown-events'\n          ]\n        },\n        toggleClass: 'tox-tbtn--enabled',\n        lazySink: sharedBackstage.getSink,\n        fetch: fetchChoices(getApi, spec, sharedBackstage.providers),\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        components: [\n          SplitDropdown.parts.button(renderCommonStructure(spec.icon, spec.text, Optional.none(), Optional.some([Toggling.config({\n              toggleClass: 'tox-tbtn--enabled',\n              toggleOnExecute: false\n            })]), sharedBackstage.providers)),\n          SplitDropdown.parts.arrow({\n            dom: {\n              tag: 'button',\n              classes: [\n                'tox-tbtn',\n                'tox-split-button__chevron'\n              ],\n              innerHtml: get$2('chevron-down', sharedBackstage.providers.icons)\n            },\n            buttonBehaviours: derive$1([\n              DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n              receivingConfig(),\n              addFocusableBehaviour()\n            ])\n          }),\n          SplitDropdown.parts['aria-descriptor']({ text: sharedBackstage.providers.translate('To open the popup, press Shift+Enter') })\n        ]\n      });\n    };\n\n    const defaultToolbar = [\n      {\n        name: 'history',\n        items: [\n          'undo',\n          'redo'\n        ]\n      },\n      {\n        name: 'styles',\n        items: ['styles']\n      },\n      {\n        name: 'formatting',\n        items: [\n          'bold',\n          'italic'\n        ]\n      },\n      {\n        name: 'alignment',\n        items: [\n          'alignleft',\n          'aligncenter',\n          'alignright',\n          'alignjustify'\n        ]\n      },\n      {\n        name: 'indentation',\n        items: [\n          'outdent',\n          'indent'\n        ]\n      },\n      {\n        name: 'permanent pen',\n        items: ['permanentpen']\n      },\n      {\n        name: 'comments',\n        items: ['addcomment']\n      }\n    ];\n    const renderFromBridge = (bridgeBuilder, render) => (spec, backstage, editor) => {\n      const internal = bridgeBuilder(spec).mapError(errInfo => formatError(errInfo)).getOrDie();\n      return render(internal, backstage, editor);\n    };\n    const types = {\n      button: renderFromBridge(createToolbarButton, (s, backstage) => renderToolbarButton(s, backstage.shared.providers)),\n      togglebutton: renderFromBridge(createToggleButton, (s, backstage) => renderToolbarToggleButton(s, backstage.shared.providers)),\n      menubutton: renderFromBridge(createMenuButton, (s, backstage) => renderMenuButton(s, 'tox-tbtn', backstage, Optional.none())),\n      splitbutton: renderFromBridge(createSplitButton, (s, backstage) => renderSplitButton(s, backstage.shared)),\n      grouptoolbarbutton: renderFromBridge(createGroupToolbarButton, (s, backstage, editor) => {\n        const buttons = editor.ui.registry.getAll().buttons;\n        const identify = toolbar => identifyButtons(editor, {\n          buttons,\n          toolbar,\n          allowToolbarGroups: false\n        }, backstage, Optional.none());\n        const attributes = { [Attribute]: backstage.shared.header.isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop };\n        switch (getToolbarMode(editor)) {\n        case ToolbarMode$1.floating:\n          return renderFloatingToolbarButton(s, backstage, identify, attributes);\n        default:\n          throw new Error('Toolbar groups are only supported when using floating toolbar mode');\n        }\n      })\n    };\n    const extractFrom = (spec, backstage, editor) => get$g(types, spec.type).fold(() => {\n      console.error('skipping button defined by', spec);\n      return Optional.none();\n    }, render => Optional.some(render(spec, backstage, editor)));\n    const bespokeButtons = {\n      styles: createStylesButton,\n      fontsize: createFontSizeButton,\n      fontsizeinput: createFontSizeInputButton,\n      fontfamily: createFontFamilyButton,\n      blocks: createBlocksButton,\n      align: createAlignButton\n    };\n    const removeUnusedDefaults = buttons => {\n      const filteredItemGroups = map$2(defaultToolbar, group => {\n        const items = filter$2(group.items, subItem => has$2(buttons, subItem) || has$2(bespokeButtons, subItem));\n        return {\n          name: group.name,\n          items\n        };\n      });\n      return filter$2(filteredItemGroups, group => group.items.length > 0);\n    };\n    const convertStringToolbar = strToolbar => {\n      const groupsStrings = strToolbar.split('|');\n      return map$2(groupsStrings, g => ({ items: g.trim().split(' ') }));\n    };\n    const isToolbarGroupSettingArray = toolbar => isArrayOf(toolbar, t => has$2(t, 'name') && has$2(t, 'items'));\n    const createToolbar = toolbarConfig => {\n      const toolbar = toolbarConfig.toolbar;\n      const buttons = toolbarConfig.buttons;\n      if (toolbar === false) {\n        return [];\n      } else if (toolbar === undefined || toolbar === true) {\n        return removeUnusedDefaults(buttons);\n      } else if (isString(toolbar)) {\n        return convertStringToolbar(toolbar);\n      } else if (isToolbarGroupSettingArray(toolbar)) {\n        return toolbar;\n      } else {\n        console.error('Toolbar type should be string, string[], boolean or ToolbarGroup[]');\n        return [];\n      }\n    };\n    const lookupButton = (editor, buttons, toolbarItem, allowToolbarGroups, backstage, prefixes) => get$g(buttons, toolbarItem.toLowerCase()).orThunk(() => prefixes.bind(ps => findMap(ps, prefix => get$g(buttons, prefix + toolbarItem.toLowerCase())))).fold(() => get$g(bespokeButtons, toolbarItem.toLowerCase()).map(r => r(editor, backstage)), spec => {\n      if (spec.type === 'grouptoolbarbutton' && !allowToolbarGroups) {\n        console.warn(`Ignoring the '${ toolbarItem }' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`);\n        return Optional.none();\n      } else {\n        return extractFrom(spec, backstage, editor);\n      }\n    });\n    const identifyButtons = (editor, toolbarConfig, backstage, prefixes) => {\n      const toolbarGroups = createToolbar(toolbarConfig);\n      const groups = map$2(toolbarGroups, group => {\n        const items = bind$3(group.items, toolbarItem => {\n          return toolbarItem.trim().length === 0 ? [] : lookupButton(editor, toolbarConfig.buttons, toolbarItem, toolbarConfig.allowToolbarGroups, backstage, prefixes).toArray();\n        });\n        return {\n          title: Optional.from(editor.translate(group.name)),\n          items\n        };\n      });\n      return filter$2(groups, group => group.items.length > 0);\n    };\n\n    const setToolbar = (editor, uiRefs, rawUiConfig, backstage) => {\n      const outerContainer = uiRefs.mainUi.outerContainer;\n      const toolbarConfig = rawUiConfig.toolbar;\n      const toolbarButtonsConfig = rawUiConfig.buttons;\n      if (isArrayOf(toolbarConfig, isString)) {\n        const toolbars = toolbarConfig.map(t => {\n          const config = {\n            toolbar: t,\n            buttons: toolbarButtonsConfig,\n            allowToolbarGroups: rawUiConfig.allowToolbarGroups\n          };\n          return identifyButtons(editor, config, backstage, Optional.none());\n        });\n        OuterContainer.setToolbars(outerContainer, toolbars);\n      } else {\n        OuterContainer.setToolbar(outerContainer, identifyButtons(editor, rawUiConfig, backstage, Optional.none()));\n      }\n    };\n\n    const detection = detect$2();\n    const isiOS12 = detection.os.isiOS() && detection.os.version.major <= 12;\n    const setupEvents$1 = (editor, uiRefs) => {\n      const {uiMotherships} = uiRefs;\n      const dom = editor.dom;\n      let contentWindow = editor.getWin();\n      const initialDocEle = editor.getDoc().documentElement;\n      const lastWindowDimensions = Cell(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n      const lastDocumentDimensions = Cell(SugarPosition(initialDocEle.offsetWidth, initialDocEle.offsetHeight));\n      const resizeWindow = () => {\n        const outer = lastWindowDimensions.get();\n        if (outer.left !== contentWindow.innerWidth || outer.top !== contentWindow.innerHeight) {\n          lastWindowDimensions.set(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n          fireResizeContent(editor);\n        }\n      };\n      const resizeDocument = () => {\n        const docEle = editor.getDoc().documentElement;\n        const inner = lastDocumentDimensions.get();\n        if (inner.left !== docEle.offsetWidth || inner.top !== docEle.offsetHeight) {\n          lastDocumentDimensions.set(SugarPosition(docEle.offsetWidth, docEle.offsetHeight));\n          fireResizeContent(editor);\n        }\n      };\n      const scroll = e => {\n        fireScrollContent(editor, e);\n      };\n      dom.bind(contentWindow, 'resize', resizeWindow);\n      dom.bind(contentWindow, 'scroll', scroll);\n      const elementLoad = capture(SugarElement.fromDom(editor.getBody()), 'load', resizeDocument);\n      editor.on('hide', () => {\n        each$1(uiMotherships, m => {\n          set$8(m.element, 'display', 'none');\n        });\n      });\n      editor.on('show', () => {\n        each$1(uiMotherships, m => {\n          remove$6(m.element, 'display');\n        });\n      });\n      editor.on('NodeChange', resizeDocument);\n      editor.on('remove', () => {\n        elementLoad.unbind();\n        dom.unbind(contentWindow, 'resize', resizeWindow);\n        dom.unbind(contentWindow, 'scroll', scroll);\n        contentWindow = null;\n      });\n    };\n    const attachUiMotherships = (editor, uiRoot, uiRefs) => {\n      if (isSplitUiMode(editor)) {\n        attachSystemAfter(uiRefs.mainUi.mothership.element, uiRefs.popupUi.mothership);\n      }\n      attachSystem(uiRoot, uiRefs.dialogUi.mothership);\n    };\n    const render$1 = async (editor, uiRefs, rawUiConfig, backstage, args) => {\n      const {mainUi, uiMotherships} = uiRefs;\n      const lastToolbarWidth = Cell(0);\n      const outerContainer = mainUi.outerContainer;\n      await iframe(editor);\n      const eTargetNode = SugarElement.fromDom(args.targetNode);\n      const uiRoot = getContentContainer(getRootNode(eTargetNode));\n      attachSystemAfter(eTargetNode, mainUi.mothership);\n      attachUiMotherships(editor, uiRoot, uiRefs);\n      editor.on('PostRender', () => {\n        OuterContainer.setSidebar(outerContainer, rawUiConfig.sidebar, getSidebarShow(editor));\n        setToolbar(editor, uiRefs, rawUiConfig, backstage);\n        lastToolbarWidth.set(editor.getWin().innerWidth);\n        OuterContainer.setMenubar(outerContainer, identifyMenus(editor, rawUiConfig));\n        OuterContainer.setViews(outerContainer, rawUiConfig.views);\n        setupEvents$1(editor, uiRefs);\n      });\n      const socket = OuterContainer.getSocket(outerContainer).getOrDie('Could not find expected socket element');\n      if (isiOS12) {\n        setAll(socket.element, {\n          'overflow': 'scroll',\n          '-webkit-overflow-scrolling': 'touch'\n        });\n        const limit = first(() => {\n          editor.dispatch('ScrollContent');\n        }, 20);\n        const unbinder = bind(socket.element, 'scroll', limit.throttle);\n        editor.on('remove', unbinder.unbind);\n      }\n      setupReadonlyModeSwitch(editor, uiRefs);\n      editor.addCommand('ToggleSidebar', (_ui, value) => {\n        OuterContainer.toggleSidebar(outerContainer, value);\n        editor.dispatch('ToggleSidebar');\n      });\n      editor.addQueryValueHandler('ToggleSidebar', () => {\n        var _a;\n        return (_a = OuterContainer.whichSidebar(outerContainer)) !== null && _a !== void 0 ? _a : '';\n      });\n      editor.addCommand('ToggleView', (_ui, value) => {\n        if (OuterContainer.toggleView(outerContainer, value)) {\n          const target = outerContainer.element;\n          mainUi.mothership.broadcastOn([dismissPopups()], { target });\n          each$1(uiMotherships, m => {\n            m.broadcastOn([dismissPopups()], { target });\n          });\n          if (isNull(OuterContainer.whichView(outerContainer))) {\n            editor.focus();\n            editor.nodeChanged();\n          }\n        }\n      });\n      editor.addQueryValueHandler('ToggleView', () => {\n        var _a;\n        return (_a = OuterContainer.whichView(outerContainer)) !== null && _a !== void 0 ? _a : '';\n      });\n      const toolbarMode = getToolbarMode(editor);\n      const refreshDrawer = () => {\n        OuterContainer.refreshToolbar(uiRefs.mainUi.outerContainer);\n      };\n      if (toolbarMode === ToolbarMode$1.sliding || toolbarMode === ToolbarMode$1.floating) {\n        editor.on('ResizeWindow ResizeEditor ResizeContent', () => {\n          const width = editor.getWin().innerWidth;\n          if (width !== lastToolbarWidth.get()) {\n            refreshDrawer();\n            lastToolbarWidth.set(width);\n          }\n        });\n      }\n      const api = {\n        setEnabled: state => {\n          broadcastReadonly(uiRefs, !state);\n        },\n        isEnabled: () => !Disabling.isDisabled(outerContainer)\n      };\n      return {\n        iframeContainer: socket.element.dom,\n        editorContainer: outerContainer.element.dom,\n        api\n      };\n    };\n\n    var Iframe = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render$1\n    });\n\n    const parseToInt = val => {\n      const re = /^[0-9\\.]+(|px)$/i;\n      if (re.test('' + val)) {\n        return Optional.some(parseInt('' + val, 10));\n      }\n      return Optional.none();\n    };\n    const numToPx = val => isNumber(val) ? val + 'px' : val;\n    const calcCappedSize = (size, minSize, maxSize) => {\n      const minOverride = minSize.filter(min => size < min);\n      const maxOverride = maxSize.filter(max => size > max);\n      return minOverride.or(maxOverride).getOr(size);\n    };\n\n    const getHeight = editor => {\n      const baseHeight = getHeightOption(editor);\n      const minHeight = getMinHeightOption(editor);\n      const maxHeight = getMaxHeightOption(editor);\n      return parseToInt(baseHeight).map(height => calcCappedSize(height, minHeight, maxHeight));\n    };\n    const getHeightWithFallback = editor => {\n      const height = getHeight(editor);\n      return height.getOr(getHeightOption(editor));\n    };\n    const getWidth = editor => {\n      const baseWidth = getWidthOption(editor);\n      const minWidth = getMinWidthOption(editor);\n      const maxWidth = getMaxWidthOption(editor);\n      return parseToInt(baseWidth).map(width => calcCappedSize(width, minWidth, maxWidth));\n    };\n    const getWidthWithFallback = editor => {\n      const width = getWidth(editor);\n      return width.getOr(getWidthOption(editor));\n    };\n\n    const {ToolbarLocation, ToolbarMode} = Options;\n    const maximumDistanceToEdge = 40;\n    const InlineHeader = (editor, targetElm, uiRefs, backstage, floatContainer) => {\n      const {mainUi, uiMotherships} = uiRefs;\n      const DOM = global$7.DOM;\n      const useFixedToolbarContainer = useFixedContainer(editor);\n      const isSticky = isStickyToolbar(editor);\n      const editorMaxWidthOpt = getMaxWidthOption(editor).or(getWidth(editor));\n      const headerBackstage = backstage.shared.header;\n      const isPositionedAtTop = headerBackstage.isPositionedAtTop;\n      const toolbarMode = getToolbarMode(editor);\n      const isSplitToolbar = toolbarMode === ToolbarMode.sliding || toolbarMode === ToolbarMode.floating;\n      const visible = Cell(false);\n      const isVisible = () => visible.get() && !editor.removed;\n      const calcToolbarOffset = toolbar => isSplitToolbar ? toolbar.fold(constant$1(0), tbar => tbar.components().length > 1 ? get$d(tbar.components()[1].element) : 0) : 0;\n      const calcMode = container => {\n        switch (getToolbarLocation(editor)) {\n        case ToolbarLocation.auto:\n          const toolbar = OuterContainer.getToolbar(mainUi.outerContainer);\n          const offset = calcToolbarOffset(toolbar);\n          const toolbarHeight = get$d(container.element) - offset;\n          const targetBounds = box$1(targetElm);\n          const roomAtTop = targetBounds.y > toolbarHeight;\n          if (roomAtTop) {\n            return 'top';\n          } else {\n            const doc = documentElement(targetElm);\n            const docHeight = Math.max(doc.dom.scrollHeight, get$d(doc));\n            const roomAtBottom = targetBounds.bottom < docHeight - toolbarHeight;\n            if (roomAtBottom) {\n              return 'bottom';\n            } else {\n              const winBounds = win();\n              const isRoomAtBottomViewport = winBounds.bottom < targetBounds.bottom - toolbarHeight;\n              return isRoomAtBottomViewport ? 'bottom' : 'top';\n            }\n          }\n        case ToolbarLocation.bottom:\n          return 'bottom';\n        case ToolbarLocation.top:\n        default:\n          return 'top';\n        }\n      };\n      const setupMode = mode => {\n        floatContainer.on(container => {\n          Docking.setModes(container, [mode]);\n          headerBackstage.setDockingMode(mode);\n          const verticalDir = isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop;\n          set$9(container.element, Attribute, verticalDir);\n        });\n      };\n      const updateChromeWidth = () => {\n        floatContainer.on(container => {\n          const maxWidth = editorMaxWidthOpt.getOrThunk(() => {\n            const bodyMargin = parseToInt(get$e(body(), 'margin-left')).getOr(0);\n            return get$c(body()) - absolute$3(targetElm).left + bodyMargin;\n          });\n          set$8(container.element, 'max-width', maxWidth + 'px');\n        });\n      };\n      const updateChromePosition = optToolbarWidth => {\n        floatContainer.on(container => {\n          const toolbar = OuterContainer.getToolbar(mainUi.outerContainer);\n          const offset = calcToolbarOffset(toolbar);\n          const targetBounds = box$1(targetElm);\n          const {top, left} = getOffsetParent$1(editor, mainUi.outerContainer.element).fold(() => {\n            return {\n              top: isPositionedAtTop() ? Math.max(targetBounds.y - get$d(container.element) + offset, 0) : targetBounds.bottom,\n              left: targetBounds.x\n            };\n          }, offsetParent => {\n            var _a;\n            const offsetBox = box$1(offsetParent);\n            const scrollDelta = (_a = offsetParent.dom.scrollTop) !== null && _a !== void 0 ? _a : 0;\n            const isOffsetParentBody = eq(offsetParent, body());\n            const topValue = isOffsetParentBody ? Math.max(targetBounds.y - get$d(container.element) + offset, 0) : targetBounds.y - offsetBox.y + scrollDelta - get$d(container.element) + offset;\n            return {\n              top: isPositionedAtTop() ? topValue : targetBounds.bottom,\n              left: isOffsetParentBody ? targetBounds.x : targetBounds.x - offsetBox.x\n            };\n          });\n          const baseProperties = {\n            position: 'absolute',\n            left: Math.round(left) + 'px',\n            top: Math.round(top) + 'px'\n          };\n          const widthProperties = optToolbarWidth.map(toolbarWidth => {\n            const scroll = get$b();\n            const minimumToolbarWidth = 150;\n            const availableWidth = window.innerWidth - (left - scroll.left);\n            const width = Math.max(Math.min(toolbarWidth, availableWidth), minimumToolbarWidth);\n            return { width: width + 'px' };\n          }).getOr({});\n          setAll(mainUi.outerContainer.element, {\n            ...baseProperties,\n            ...widthProperties\n          });\n        });\n      };\n      const getOffsetParent$1 = (editor, element) => isSplitUiMode(editor) ? getOffsetParent(element) : Optional.none();\n      const repositionPopups$1 = () => {\n        each$1(uiMotherships, m => {\n          m.broadcastOn([repositionPopups()], {});\n        });\n      };\n      const restoreAndGetCompleteOuterContainerWidth = () => {\n        if (!useFixedToolbarContainer) {\n          const toolbarCurrentRightsidePosition = absolute$3(mainUi.outerContainer.element).left + getOuter$1(mainUi.outerContainer.element);\n          if (toolbarCurrentRightsidePosition >= window.innerWidth - maximumDistanceToEdge || getRaw(mainUi.outerContainer.element, 'width').isSome()) {\n            set$8(mainUi.outerContainer.element, 'position', 'absolute');\n            set$8(mainUi.outerContainer.element, 'left', '0px');\n            remove$6(mainUi.outerContainer.element, 'width');\n            const w = getOuter$1(mainUi.outerContainer.element);\n            return Optional.some(w);\n          } else {\n            return Optional.none();\n          }\n        } else {\n          return Optional.none();\n        }\n      };\n      const update = stickyAction => {\n        if (!isVisible()) {\n          return;\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromeWidth();\n        }\n        const optToolbarWidth = useFixedToolbarContainer ? Optional.none() : restoreAndGetCompleteOuterContainerWidth();\n        if (isSplitToolbar) {\n          OuterContainer.refreshToolbar(mainUi.outerContainer);\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromePosition(optToolbarWidth);\n        }\n        if (isSticky) {\n          floatContainer.on(stickyAction);\n        }\n        repositionPopups$1();\n      };\n      const doUpdateMode = () => {\n        if (useFixedToolbarContainer || !isSticky || !isVisible()) {\n          return false;\n        }\n        return floatContainer.get().exists(fc => {\n          const currentMode = headerBackstage.getDockingMode();\n          const newMode = calcMode(fc);\n          if (newMode !== currentMode) {\n            setupMode(newMode);\n            return true;\n          } else {\n            return false;\n          }\n        });\n      };\n      const show = () => {\n        visible.set(true);\n        set$8(mainUi.outerContainer.element, 'display', 'flex');\n        DOM.addClass(editor.getBody(), 'mce-edit-focus');\n        each$1(uiMotherships, m => {\n          remove$6(m.element, 'display');\n        });\n        doUpdateMode();\n        if (isSplitUiMode(editor)) {\n          update(elem => Docking.isDocked(elem) ? Docking.reset(elem) : Docking.refresh(elem));\n        } else {\n          update(Docking.refresh);\n        }\n      };\n      const hide = () => {\n        visible.set(false);\n        set$8(mainUi.outerContainer.element, 'display', 'none');\n        DOM.removeClass(editor.getBody(), 'mce-edit-focus');\n        each$1(uiMotherships, m => {\n          set$8(m.element, 'display', 'none');\n        });\n      };\n      const updateMode = () => {\n        const changedMode = doUpdateMode();\n        if (changedMode) {\n          update(Docking.reset);\n        }\n      };\n      return {\n        isVisible,\n        isPositionedAtTop,\n        show,\n        hide,\n        update,\n        updateMode,\n        repositionPopups: repositionPopups$1\n      };\n    };\n\n    const getTargetPosAndBounds = (targetElm, isToolbarTop) => {\n      const bounds = box$1(targetElm);\n      return {\n        pos: isToolbarTop ? bounds.y : bounds.bottom,\n        bounds\n      };\n    };\n    const setupEvents = (editor, targetElm, ui, toolbarPersist) => {\n      const prevPosAndBounds = Cell(getTargetPosAndBounds(targetElm, ui.isPositionedAtTop()));\n      const resizeContent = e => {\n        const {pos, bounds} = getTargetPosAndBounds(targetElm, ui.isPositionedAtTop());\n        const {\n          pos: prevPos,\n          bounds: prevBounds\n        } = prevPosAndBounds.get();\n        const hasResized = bounds.height !== prevBounds.height || bounds.width !== prevBounds.width;\n        prevPosAndBounds.set({\n          pos,\n          bounds\n        });\n        if (hasResized) {\n          fireResizeContent(editor, e);\n        }\n        if (ui.isVisible()) {\n          if (prevPos !== pos) {\n            ui.update(Docking.reset);\n          } else if (hasResized) {\n            ui.updateMode();\n            ui.repositionPopups();\n          }\n        }\n      };\n      if (!toolbarPersist) {\n        editor.on('activate', ui.show);\n        editor.on('deactivate', ui.hide);\n      }\n      editor.on('SkinLoaded ResizeWindow', () => ui.update(Docking.reset));\n      editor.on('NodeChange keydown', e => {\n        requestAnimationFrame(() => resizeContent(e));\n      });\n      let lastScrollX = 0;\n      const updateUi = last(() => ui.update(Docking.refresh), 33);\n      editor.on('ScrollWindow', () => {\n        const newScrollX = get$b().left;\n        if (newScrollX !== lastScrollX) {\n          lastScrollX = newScrollX;\n          updateUi.throttle();\n        }\n        ui.updateMode();\n      });\n      if (isSplitUiMode(editor)) {\n        editor.on('ElementScroll', _args => {\n          ui.update(Docking.refresh);\n        });\n      }\n      const elementLoad = unbindable();\n      elementLoad.set(capture(SugarElement.fromDom(editor.getBody()), 'load', e => resizeContent(e.raw)));\n      editor.on('remove', () => {\n        elementLoad.clear();\n      });\n    };\n    const render = async (editor, uiRefs, rawUiConfig, backstage, args) => {\n      const {mainUi} = uiRefs;\n      const floatContainer = value$2();\n      const targetElm = SugarElement.fromDom(args.targetNode);\n      const ui = InlineHeader(editor, targetElm, uiRefs, backstage, floatContainer);\n      const toolbarPersist = isToolbarPersist(editor);\n      await inline(editor);\n      const render = () => {\n        if (floatContainer.isSet()) {\n          ui.show();\n          return;\n        }\n        floatContainer.set(OuterContainer.getHeader(mainUi.outerContainer).getOrDie());\n        const uiContainer = getUiContainer(editor);\n        if (isSplitUiMode(editor)) {\n          attachSystemAfter(targetElm, mainUi.mothership);\n          attachSystemAfter(targetElm, uiRefs.popupUi.mothership);\n        } else {\n          attachSystem(uiContainer, mainUi.mothership);\n        }\n        attachSystem(uiContainer, uiRefs.dialogUi.mothership);\n        setToolbar(editor, uiRefs, rawUiConfig, backstage);\n        OuterContainer.setMenubar(mainUi.outerContainer, identifyMenus(editor, rawUiConfig));\n        ui.show();\n        setupEvents(editor, targetElm, ui, toolbarPersist);\n        editor.nodeChanged();\n      };\n      editor.on('show', render);\n      editor.on('hide', ui.hide);\n      if (!toolbarPersist) {\n        editor.on('focus', render);\n        editor.on('blur', ui.hide);\n      }\n      editor.on('init', () => {\n        if (editor.hasFocus() || toolbarPersist) {\n          render();\n        }\n      });\n      setupReadonlyModeSwitch(editor, uiRefs);\n      const api = {\n        show: render,\n        hide: ui.hide,\n        setEnabled: state => {\n          broadcastReadonly(uiRefs, !state);\n        },\n        isEnabled: () => !Disabling.isDisabled(mainUi.outerContainer)\n      };\n      return {\n        editorContainer: mainUi.outerContainer.element.dom,\n        api\n      };\n    };\n\n    var Inline = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render\n    });\n\n    const LazyUiReferences = () => {\n      const dialogUi = value$2();\n      const popupUi = value$2();\n      const mainUi = value$2();\n      const lazyGetInOuterOrDie = (label, f) => () => mainUi.get().bind(oc => f(oc.outerContainer)).getOrDie(`Could not find ${ label } element in OuterContainer`);\n      const getUiMotherships = () => {\n        const optDialogMothership = dialogUi.get().map(ui => ui.mothership);\n        const optPopupMothership = popupUi.get().map(ui => ui.mothership);\n        return optDialogMothership.fold(() => optPopupMothership.toArray(), dm => optPopupMothership.fold(() => [dm], pm => eq(dm.element, pm.element) ? [dm] : [\n          dm,\n          pm\n        ]));\n      };\n      return {\n        dialogUi,\n        popupUi,\n        mainUi,\n        getUiMotherships,\n        lazyGetInOuterOrDie\n      };\n    };\n\n    const showContextToolbarEvent = 'contexttoolbar-show';\n    const hideContextToolbarEvent = 'contexttoolbar-hide';\n\n    const getFormApi = input => ({\n      hide: () => emit(input, sandboxClose()),\n      getValue: () => Representing.getValue(input)\n    });\n    const runOnExecute = (memInput, original) => run$1(internalToolbarButtonExecute, (comp, se) => {\n      const input = memInput.get(comp);\n      const formApi = getFormApi(input);\n      original.onAction(formApi, se.event.buttonApi);\n    });\n    const renderContextButton = (memInput, button, providers) => {\n      const {primary, ...rest} = button.original;\n      const bridged = getOrDie(createToolbarButton({\n        ...rest,\n        type: 'button',\n        onAction: noop\n      }));\n      return renderToolbarButtonWith(bridged, providers, [runOnExecute(memInput, button)]);\n    };\n    const renderContextToggleButton = (memInput, button, providers) => {\n      const {primary, ...rest} = button.original;\n      const bridged = getOrDie(createToggleButton({\n        ...rest,\n        type: 'togglebutton',\n        onAction: noop\n      }));\n      return renderToolbarToggleButtonWith(bridged, providers, [runOnExecute(memInput, button)]);\n    };\n    const isToggleButton = button => button.type === 'contextformtogglebutton';\n    const generateOne = (memInput, button, providersBackstage) => {\n      if (isToggleButton(button)) {\n        return renderContextToggleButton(memInput, button, providersBackstage);\n      } else {\n        return renderContextButton(memInput, button, providersBackstage);\n      }\n    };\n    const generate = (memInput, buttons, providersBackstage) => {\n      const mementos = map$2(buttons, button => record(generateOne(memInput, button, providersBackstage)));\n      const asSpecs = () => map$2(mementos, mem => mem.asSpec());\n      const findPrimary = compInSystem => findMap(buttons, (button, i) => {\n        if (button.primary) {\n          return Optional.from(mementos[i]).bind(mem => mem.getOpt(compInSystem)).filter(not(Disabling.isDisabled));\n        } else {\n          return Optional.none();\n        }\n      });\n      return {\n        asSpecs,\n        findPrimary\n      };\n    };\n\n    const buildInitGroups = (ctx, providers) => {\n      const inputAttributes = ctx.label.fold(() => ({}), label => ({ 'aria-label': label }));\n      const memInput = record(Input.sketch({\n        inputClasses: [\n          'tox-toolbar-textfield',\n          'tox-toolbar-nav-js'\n        ],\n        data: ctx.initValue(),\n        inputAttributes,\n        selectOnFocus: true,\n        inputBehaviours: derive$1([Keying.config({\n            mode: 'special',\n            onEnter: input => commands.findPrimary(input).map(primary => {\n              emitExecute(primary);\n              return true;\n            }),\n            onLeft: (comp, se) => {\n              se.cut();\n              return Optional.none();\n            },\n            onRight: (comp, se) => {\n              se.cut();\n              return Optional.none();\n            }\n          })])\n      }));\n      const commands = generate(memInput, ctx.commands, providers);\n      return [\n        {\n          title: Optional.none(),\n          items: [memInput.asSpec()]\n        },\n        {\n          title: Optional.none(),\n          items: commands.asSpecs()\n        }\n      ];\n    };\n    const renderContextForm = (toolbarType, ctx, providers) => renderToolbar({\n      type: toolbarType,\n      uid: generate$6('context-toolbar'),\n      initGroups: buildInitGroups(ctx, providers),\n      onEscape: Optional.none,\n      cyclicKeying: true,\n      providers\n    });\n    const ContextForm = {\n      renderContextForm,\n      buildInitGroups\n    };\n\n    const isVerticalOverlap = (a, b, threshold) => b.bottom - a.y >= threshold && a.bottom - b.y >= threshold;\n    const getRangeRect = rng => {\n      const rect = rng.getBoundingClientRect();\n      if (rect.height <= 0 && rect.width <= 0) {\n        const leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset).element;\n        const elm = isText(leaf$1) ? parent(leaf$1) : Optional.some(leaf$1);\n        return elm.filter(isElement$1).map(e => e.dom.getBoundingClientRect()).getOr(rect);\n      } else {\n        return rect;\n      }\n    };\n    const getSelectionBounds = editor => {\n      const rng = editor.selection.getRng();\n      const rect = getRangeRect(rng);\n      if (editor.inline) {\n        const scroll = get$b();\n        return bounds(scroll.left + rect.left, scroll.top + rect.top, rect.width, rect.height);\n      } else {\n        const bodyPos = absolute$2(SugarElement.fromDom(editor.getBody()));\n        return bounds(bodyPos.x + rect.left, bodyPos.y + rect.top, rect.width, rect.height);\n      }\n    };\n    const getAnchorElementBounds = (editor, lastElement) => lastElement.filter(elem => inBody(elem) && isHTMLElement(elem)).map(absolute$2).getOrThunk(() => getSelectionBounds(editor));\n    const getHorizontalBounds = (contentAreaBox, viewportBounds, margin) => {\n      const x = Math.max(contentAreaBox.x + margin, viewportBounds.x);\n      const right = Math.min(contentAreaBox.right - margin, viewportBounds.right);\n      return {\n        x,\n        width: right - x\n      };\n    };\n    const getVerticalBounds = (editor, contentAreaBox, viewportBounds, isToolbarLocationTop, toolbarType, margin) => {\n      const container = SugarElement.fromDom(editor.getContainer());\n      const header = descendant(container, '.tox-editor-header').getOr(container);\n      const headerBox = box$1(header);\n      const isToolbarBelowContentArea = headerBox.y >= contentAreaBox.bottom;\n      const isToolbarAbove = isToolbarLocationTop && !isToolbarBelowContentArea;\n      if (editor.inline && isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: viewportBounds.bottom\n        };\n      }\n      if (editor.inline && !isToolbarAbove) {\n        return {\n          y: viewportBounds.y,\n          bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n        };\n      }\n      const containerBounds = toolbarType === 'line' ? box$1(container) : contentAreaBox;\n      if (isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: Math.min(containerBounds.bottom - margin, viewportBounds.bottom)\n        };\n      }\n      return {\n        y: Math.max(containerBounds.y + margin, viewportBounds.y),\n        bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n      };\n    };\n    const getContextToolbarBounds = (editor, sharedBackstage, toolbarType, margin = 0) => {\n      const viewportBounds = getBounds$3(window);\n      const contentAreaBox = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n      const toolbarOrMenubarEnabled = isMenubarEnabled(editor) || isToolbarEnabled(editor) || isMultipleToolbars(editor);\n      const {x, width} = getHorizontalBounds(contentAreaBox, viewportBounds, margin);\n      if (editor.inline && !toolbarOrMenubarEnabled) {\n        return bounds(x, viewportBounds.y, width, viewportBounds.height);\n      } else {\n        const isToolbarTop = sharedBackstage.header.isPositionedAtTop();\n        const {y, bottom} = getVerticalBounds(editor, contentAreaBox, viewportBounds, isToolbarTop, toolbarType, margin);\n        return bounds(x, y, width, bottom - y);\n      }\n    };\n\n    const bubbleSize$1 = 12;\n    const bubbleAlignments$1 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top'],\n      inset: ['tox-pop--inset']\n    };\n    const anchorOverrides = {\n      maxHeightFunction: expandable$1(),\n      maxWidthFunction: expandable()\n    };\n    const isEntireElementSelected = (editor, elem) => {\n      const rng = editor.selection.getRng();\n      const leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset);\n      return rng.startContainer === rng.endContainer && rng.startOffset === rng.endOffset - 1 && eq(leaf$1.element, elem);\n    };\n    const preservePosition = (elem, position, f) => {\n      const currentPosition = getRaw(elem, 'position');\n      set$8(elem, 'position', position);\n      const result = f(elem);\n      currentPosition.each(pos => set$8(elem, 'position', pos));\n      return result;\n    };\n    const shouldUseInsetLayouts = position => position === 'node';\n    const determineInsetLayout = (editor, contextbar, elem, data, bounds) => {\n      const selectionBounds = getSelectionBounds(editor);\n      const isSameAnchorElement = data.lastElement().exists(prev => eq(elem, prev));\n      if (isEntireElementSelected(editor, elem)) {\n        return isSameAnchorElement ? preserve : north;\n      } else if (isSameAnchorElement) {\n        return preservePosition(contextbar, data.getMode(), () => {\n          const isOverlapping = isVerticalOverlap(selectionBounds, box$1(contextbar), -20);\n          return isOverlapping && !data.isReposition() ? flip : preserve;\n        });\n      } else {\n        const yBounds = data.getMode() === 'fixed' ? bounds.y + get$b().top : bounds.y;\n        const contextbarHeight = get$d(contextbar) + bubbleSize$1;\n        return yBounds + contextbarHeight <= selectionBounds.y ? north : south;\n      }\n    };\n    const getAnchorSpec$2 = (editor, mobile, data, position) => {\n      const smartInsetLayout = elem => (anchor, element, bubbles, placee, bounds) => {\n        const layout = determineInsetLayout(editor, placee, elem, data, bounds);\n        const newAnchor = {\n          ...anchor,\n          y: bounds.y,\n          height: bounds.height\n        };\n        return {\n          ...layout(newAnchor, element, bubbles, placee, bounds),\n          alwaysFit: true\n        };\n      };\n      const getInsetLayouts = elem => shouldUseInsetLayouts(position) ? [smartInsetLayout(elem)] : [];\n      const desktopAnchorSpecLayouts = {\n        onLtr: elem => [\n          north$2,\n          south$2,\n          northeast$2,\n          southeast$2,\n          northwest$2,\n          southwest$2\n        ].concat(getInsetLayouts(elem)),\n        onRtl: elem => [\n          north$2,\n          south$2,\n          northwest$2,\n          southwest$2,\n          northeast$2,\n          southeast$2\n        ].concat(getInsetLayouts(elem))\n      };\n      const mobileAnchorSpecLayouts = {\n        onLtr: elem => [\n          south$2,\n          southeast$2,\n          southwest$2,\n          northeast$2,\n          northwest$2,\n          north$2\n        ].concat(getInsetLayouts(elem)),\n        onRtl: elem => [\n          south$2,\n          southwest$2,\n          southeast$2,\n          northwest$2,\n          northeast$2,\n          north$2\n        ].concat(getInsetLayouts(elem))\n      };\n      return mobile ? mobileAnchorSpecLayouts : desktopAnchorSpecLayouts;\n    };\n    const getAnchorLayout = (editor, position, isTouch, data) => {\n      if (position === 'line') {\n        return {\n          bubble: nu$5(bubbleSize$1, 0, bubbleAlignments$1),\n          layouts: {\n            onLtr: () => [east$2],\n            onRtl: () => [west$2]\n          },\n          overrides: anchorOverrides\n        };\n      } else {\n        return {\n          bubble: nu$5(0, bubbleSize$1, bubbleAlignments$1, 1 / bubbleSize$1),\n          layouts: getAnchorSpec$2(editor, isTouch, data, position),\n          overrides: anchorOverrides\n        };\n      }\n    };\n\n    const matchTargetWith = (elem, candidates) => {\n      const ctxs = filter$2(candidates, toolbarApi => toolbarApi.predicate(elem.dom));\n      const {pass, fail} = partition$3(ctxs, t => t.type === 'contexttoolbar');\n      return {\n        contextToolbars: pass,\n        contextForms: fail\n      };\n    };\n    const filterByPositionForStartNode = toolbars => {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        const doesPositionExist = value => exists(toolbars, t => t.position === value);\n        const filterToolbarsByPosition = value => filter$2(toolbars, t => t.position === value);\n        const hasSelectionToolbars = doesPositionExist('selection');\n        const hasNodeToolbars = doesPositionExist('node');\n        if (hasSelectionToolbars || hasNodeToolbars) {\n          if (hasNodeToolbars && hasSelectionToolbars) {\n            const nodeToolbars = filterToolbarsByPosition('node');\n            const selectionToolbars = map$2(filterToolbarsByPosition('selection'), t => ({\n              ...t,\n              position: 'node'\n            }));\n            return nodeToolbars.concat(selectionToolbars);\n          } else {\n            return hasSelectionToolbars ? filterToolbarsByPosition('selection') : filterToolbarsByPosition('node');\n          }\n        } else {\n          return filterToolbarsByPosition('line');\n        }\n      }\n    };\n    const filterByPositionForAncestorNode = toolbars => {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        const findPosition = value => find$5(toolbars, t => t.position === value);\n        const basePosition = findPosition('selection').orThunk(() => findPosition('node')).orThunk(() => findPosition('line')).map(t => t.position);\n        return basePosition.fold(() => [], pos => filter$2(toolbars, t => t.position === pos));\n      }\n    };\n    const matchStartNode = (elem, nodeCandidates, editorCandidates) => {\n      const nodeMatches = matchTargetWith(elem, nodeCandidates);\n      if (nodeMatches.contextForms.length > 0) {\n        return Optional.some({\n          elem,\n          toolbars: [nodeMatches.contextForms[0]]\n        });\n      } else {\n        const editorMatches = matchTargetWith(elem, editorCandidates);\n        if (editorMatches.contextForms.length > 0) {\n          return Optional.some({\n            elem,\n            toolbars: [editorMatches.contextForms[0]]\n          });\n        } else if (nodeMatches.contextToolbars.length > 0 || editorMatches.contextToolbars.length > 0) {\n          const toolbars = filterByPositionForStartNode(nodeMatches.contextToolbars.concat(editorMatches.contextToolbars));\n          return Optional.some({\n            elem,\n            toolbars\n          });\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n    const matchAncestor = (isRoot, startNode, scopes) => {\n      if (isRoot(startNode)) {\n        return Optional.none();\n      } else {\n        return ancestor$2(startNode, ancestorElem => {\n          if (isElement$1(ancestorElem)) {\n            const {contextToolbars, contextForms} = matchTargetWith(ancestorElem, scopes.inNodeScope);\n            const toolbars = contextForms.length > 0 ? contextForms : filterByPositionForAncestorNode(contextToolbars);\n            return toolbars.length > 0 ? Optional.some({\n              elem: ancestorElem,\n              toolbars\n            }) : Optional.none();\n          } else {\n            return Optional.none();\n          }\n        }, isRoot);\n      }\n    };\n    const lookup$1 = (scopes, editor) => {\n      const rootElem = SugarElement.fromDom(editor.getBody());\n      const isRoot = elem => eq(elem, rootElem);\n      const isOutsideRoot = startNode => !isRoot(startNode) && !contains(rootElem, startNode);\n      const startNode = SugarElement.fromDom(editor.selection.getNode());\n      if (isOutsideRoot(startNode)) {\n        return Optional.none();\n      }\n      return matchStartNode(startNode, scopes.inNodeScope, scopes.inEditorScope).orThunk(() => matchAncestor(isRoot, startNode, scopes));\n    };\n\n    const categorise = (contextToolbars, navigate) => {\n      const forms = {};\n      const inNodeScope = [];\n      const inEditorScope = [];\n      const formNavigators = {};\n      const lookupTable = {};\n      const registerForm = (key, toolbarSpec) => {\n        const contextForm = getOrDie(createContextForm(toolbarSpec));\n        forms[key] = contextForm;\n        contextForm.launch.map(launch => {\n          formNavigators['form:' + key + ''] = {\n            ...toolbarSpec.launch,\n            type: launch.type === 'contextformtogglebutton' ? 'togglebutton' : 'button',\n            onAction: () => {\n              navigate(contextForm);\n            }\n          };\n        });\n        if (contextForm.scope === 'editor') {\n          inEditorScope.push(contextForm);\n        } else {\n          inNodeScope.push(contextForm);\n        }\n        lookupTable[key] = contextForm;\n      };\n      const registerToolbar = (key, toolbarSpec) => {\n        createContextToolbar(toolbarSpec).each(contextToolbar => {\n          if (toolbarSpec.scope === 'editor') {\n            inEditorScope.push(contextToolbar);\n          } else {\n            inNodeScope.push(contextToolbar);\n          }\n          lookupTable[key] = contextToolbar;\n        });\n      };\n      const keys$1 = keys(contextToolbars);\n      each$1(keys$1, key => {\n        const toolbarApi = contextToolbars[key];\n        if (toolbarApi.type === 'contextform') {\n          registerForm(key, toolbarApi);\n        } else if (toolbarApi.type === 'contexttoolbar') {\n          registerToolbar(key, toolbarApi);\n        }\n      });\n      return {\n        forms,\n        inNodeScope,\n        inEditorScope,\n        lookupTable,\n        formNavigators\n      };\n    };\n\n    const forwardSlideEvent = generate$6('forward-slide');\n    const backSlideEvent = generate$6('backward-slide');\n    const changeSlideEvent = generate$6('change-slide-event');\n    const resizingClass = 'tox-pop--resizing';\n    const renderContextToolbar = spec => {\n      const stack = Cell([]);\n      return InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop']\n        },\n        fireDismissalEventInstead: { event: 'doNotDismissYet' },\n        onShow: comp => {\n          stack.set([]);\n          InlineView.getContent(comp).each(c => {\n            remove$6(c.element, 'visibility');\n          });\n          remove$2(comp.element, resizingClass);\n          remove$6(comp.element, 'width');\n        },\n        inlineBehaviours: derive$1([\n          config('context-toolbar-events', [\n            runOnSource(transitionend(), (comp, se) => {\n              if (se.event.raw.propertyName === 'width') {\n                remove$2(comp.element, resizingClass);\n                remove$6(comp.element, 'width');\n              }\n            }),\n            run$1(changeSlideEvent, (comp, se) => {\n              const elem = comp.element;\n              remove$6(elem, 'width');\n              const currentWidth = get$c(elem);\n              InlineView.setContent(comp, se.event.contents);\n              add$2(elem, resizingClass);\n              const newWidth = get$c(elem);\n              set$8(elem, 'width', currentWidth + 'px');\n              InlineView.getContent(comp).each(newContents => {\n                se.event.focus.bind(f => {\n                  focus$3(f);\n                  return search(elem);\n                }).orThunk(() => {\n                  Keying.focusIn(newContents);\n                  return active$1(getRootNode(elem));\n                });\n              });\n              setTimeout(() => {\n                set$8(comp.element, 'width', newWidth + 'px');\n              }, 0);\n            }),\n            run$1(forwardSlideEvent, (comp, se) => {\n              InlineView.getContent(comp).each(oldContents => {\n                stack.set(stack.get().concat([{\n                    bar: oldContents,\n                    focus: active$1(getRootNode(comp.element))\n                  }]));\n              });\n              emitWith(comp, changeSlideEvent, {\n                contents: se.event.forwardContents,\n                focus: Optional.none()\n              });\n            }),\n            run$1(backSlideEvent, (comp, _se) => {\n              last$1(stack.get()).each(last => {\n                stack.set(stack.get().slice(0, stack.get().length - 1));\n                emitWith(comp, changeSlideEvent, {\n                  contents: premade(last.bar),\n                  focus: last.focus\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'special',\n            onEscape: comp => last$1(stack.get()).fold(() => spec.onEscape(), _ => {\n              emit(comp, backSlideEvent);\n              return Optional.some(true);\n            })\n          })\n        ]),\n        lazySink: () => Result.value(spec.sink)\n      });\n    };\n\n    const transitionClass = 'tox-pop--transition';\n    const register$9 = (editor, registryContextToolbars, sink, extras) => {\n      const backstage = extras.backstage;\n      const sharedBackstage = backstage.shared;\n      const isTouch = detect$2().deviceType.isTouch;\n      const lastElement = value$2();\n      const lastTrigger = value$2();\n      const lastContextPosition = value$2();\n      const contextbar = build$1(renderContextToolbar({\n        sink,\n        onEscape: () => {\n          editor.focus();\n          return Optional.some(true);\n        }\n      }));\n      const getBounds = () => {\n        const position = lastContextPosition.get().getOr('node');\n        const margin = shouldUseInsetLayouts(position) ? 1 : 0;\n        return getContextToolbarBounds(editor, sharedBackstage, position, margin);\n      };\n      const canLaunchToolbar = () => {\n        return !editor.removed && !(isTouch() && backstage.isContextMenuOpen());\n      };\n      const isSameLaunchElement = elem => is$1(lift2(elem, lastElement.get(), eq), true);\n      const shouldContextToolbarHide = () => {\n        if (!canLaunchToolbar()) {\n          return true;\n        } else {\n          const contextToolbarBounds = getBounds();\n          const anchorBounds = is$1(lastContextPosition.get(), 'node') ? getAnchorElementBounds(editor, lastElement.get()) : getSelectionBounds(editor);\n          return contextToolbarBounds.height <= 0 || !isVerticalOverlap(anchorBounds, contextToolbarBounds, 0.01);\n        }\n      };\n      const close = () => {\n        lastElement.clear();\n        lastTrigger.clear();\n        lastContextPosition.clear();\n        InlineView.hide(contextbar);\n      };\n      const hideOrRepositionIfNecessary = () => {\n        if (InlineView.isOpen(contextbar)) {\n          const contextBarEle = contextbar.element;\n          remove$6(contextBarEle, 'display');\n          if (shouldContextToolbarHide()) {\n            set$8(contextBarEle, 'display', 'none');\n          } else {\n            lastTrigger.set(0);\n            InlineView.reposition(contextbar);\n          }\n        }\n      };\n      const wrapInPopDialog = toolbarSpec => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop__dialog']\n        },\n        components: [toolbarSpec],\n        behaviours: derive$1([\n          Keying.config({ mode: 'acyclic' }),\n          config('pop-dialog-wrap-events', [\n            runOnAttached(comp => {\n              editor.shortcuts.add('ctrl+F9', 'focus statusbar', () => Keying.focusIn(comp));\n            }),\n            runOnDetached(_comp => {\n              editor.shortcuts.remove('ctrl+F9');\n            })\n          ])\n        ])\n      });\n      const getScopes = cached(() => categorise(registryContextToolbars, toolbarApi => {\n        const alloySpec = buildToolbar([toolbarApi]);\n        emitWith(contextbar, forwardSlideEvent, { forwardContents: wrapInPopDialog(alloySpec) });\n      }));\n      const buildContextToolbarGroups = (allButtons, ctx) => identifyButtons(editor, {\n        buttons: allButtons,\n        toolbar: ctx.items,\n        allowToolbarGroups: false\n      }, extras.backstage, Optional.some(['form:']));\n      const buildContextFormGroups = (ctx, providers) => ContextForm.buildInitGroups(ctx, providers);\n      const buildToolbar = toolbars => {\n        const {buttons} = editor.ui.registry.getAll();\n        const scopes = getScopes();\n        const allButtons = {\n          ...buttons,\n          ...scopes.formNavigators\n        };\n        const toolbarType = getToolbarMode(editor) === ToolbarMode$1.scrolling ? ToolbarMode$1.scrolling : ToolbarMode$1.default;\n        const initGroups = flatten(map$2(toolbars, ctx => ctx.type === 'contexttoolbar' ? buildContextToolbarGroups(allButtons, ctx) : buildContextFormGroups(ctx, sharedBackstage.providers)));\n        return renderToolbar({\n          type: toolbarType,\n          uid: generate$6('context-toolbar'),\n          initGroups,\n          onEscape: Optional.none,\n          cyclicKeying: true,\n          providers: sharedBackstage.providers\n        });\n      };\n      const getAnchor = (position, element) => {\n        const anchorage = position === 'node' ? sharedBackstage.anchors.node(element) : sharedBackstage.anchors.cursor();\n        const anchorLayout = getAnchorLayout(editor, position, isTouch(), {\n          lastElement: lastElement.get,\n          isReposition: () => is$1(lastTrigger.get(), 0),\n          getMode: () => Positioning.getMode(sink)\n        });\n        return deepMerge(anchorage, anchorLayout);\n      };\n      const launchContext = (toolbarApi, elem) => {\n        launchContextToolbar.cancel();\n        if (!canLaunchToolbar()) {\n          return;\n        }\n        const toolbarSpec = buildToolbar(toolbarApi);\n        const position = toolbarApi[0].position;\n        const anchor = getAnchor(position, elem);\n        lastContextPosition.set(position);\n        lastTrigger.set(1);\n        const contextBarEle = contextbar.element;\n        remove$6(contextBarEle, 'display');\n        if (!isSameLaunchElement(elem)) {\n          remove$2(contextBarEle, transitionClass);\n          Positioning.reset(sink, contextbar);\n        }\n        InlineView.showWithinBounds(contextbar, wrapInPopDialog(toolbarSpec), {\n          anchor,\n          transition: {\n            classes: [transitionClass],\n            mode: 'placement'\n          }\n        }, () => Optional.some(getBounds()));\n        elem.fold(lastElement.clear, lastElement.set);\n        if (shouldContextToolbarHide()) {\n          set$8(contextBarEle, 'display', 'none');\n        }\n      };\n      let isDragging = false;\n      const launchContextToolbar = last(() => {\n        if (!editor.hasFocus() || editor.removed || isDragging) {\n          return;\n        }\n        if (has(contextbar.element, transitionClass)) {\n          launchContextToolbar.throttle();\n        } else {\n          const scopes = getScopes();\n          lookup$1(scopes, editor).fold(close, info => {\n            launchContext(info.toolbars, Optional.some(info.elem));\n          });\n        }\n      }, 17);\n      editor.on('init', () => {\n        editor.on('remove', close);\n        editor.on('ScrollContent ScrollWindow ObjectResized ResizeEditor longpress', hideOrRepositionIfNecessary);\n        editor.on('click keyup focus SetContent', launchContextToolbar.throttle);\n        editor.on(hideContextToolbarEvent, close);\n        editor.on(showContextToolbarEvent, e => {\n          const scopes = getScopes();\n          get$g(scopes.lookupTable, e.toolbarKey).each(ctx => {\n            launchContext([ctx], someIf(e.target !== editor, e.target));\n            InlineView.getContent(contextbar).each(Keying.focusIn);\n          });\n        });\n        editor.on('focusout', _e => {\n          global$9.setEditorTimeout(editor, () => {\n            if (search(sink.element).isNone() && search(contextbar.element).isNone()) {\n              close();\n            }\n          }, 0);\n        });\n        editor.on('SwitchMode', () => {\n          if (editor.mode.isReadOnly()) {\n            close();\n          }\n        });\n        editor.on('AfterProgressState', event => {\n          if (event.state) {\n            close();\n          } else if (editor.hasFocus()) {\n            launchContextToolbar.throttle();\n          }\n        });\n        editor.on('dragstart', () => {\n          isDragging = true;\n        });\n        editor.on('dragend drop', () => {\n          isDragging = false;\n        });\n        editor.on('NodeChange', _e => {\n          search(contextbar.element).fold(launchContextToolbar.throttle, noop);\n        });\n      });\n    };\n\n    const register$8 = editor => {\n      const alignToolbarButtons = [\n        {\n          name: 'alignleft',\n          text: 'Align left',\n          cmd: 'JustifyLeft',\n          icon: 'align-left'\n        },\n        {\n          name: 'aligncenter',\n          text: 'Align center',\n          cmd: 'JustifyCenter',\n          icon: 'align-center'\n        },\n        {\n          name: 'alignright',\n          text: 'Align right',\n          cmd: 'JustifyRight',\n          icon: 'align-right'\n        },\n        {\n          name: 'alignjustify',\n          text: 'Justify',\n          cmd: 'JustifyFull',\n          icon: 'align-justify'\n        }\n      ];\n      each$1(alignToolbarButtons, item => {\n        editor.ui.registry.addToggleButton(item.name, {\n          tooltip: item.text,\n          icon: item.icon,\n          onAction: onActionExecCommand(editor, item.cmd),\n          onSetup: onSetupFormatToggle(editor, item.name)\n        });\n      });\n      editor.ui.registry.addButton('alignnone', {\n        tooltip: 'No alignment',\n        icon: 'align-none',\n        onAction: onActionExecCommand(editor, 'JustifyNone')\n      });\n    };\n\n    const registerController = (editor, spec) => {\n      const getMenuItems = () => {\n        const options = spec.getOptions(editor);\n        const initial = spec.getCurrent(editor).map(spec.hash);\n        const current = value$2();\n        return map$2(options, value => ({\n          type: 'togglemenuitem',\n          text: spec.display(value),\n          onSetup: api => {\n            const setActive = active => {\n              if (active) {\n                current.on(oldApi => oldApi.setActive(false));\n                current.set(api);\n              }\n              api.setActive(active);\n            };\n            setActive(is$1(initial, spec.hash(value)));\n            const unbindWatcher = spec.watcher(editor, value, setActive);\n            return () => {\n              current.clear();\n              unbindWatcher();\n            };\n          },\n          onAction: () => spec.setCurrent(editor, value)\n        }));\n      };\n      editor.ui.registry.addMenuButton(spec.name, {\n        tooltip: spec.text,\n        icon: spec.icon,\n        fetch: callback => callback(getMenuItems()),\n        onSetup: spec.onToolbarSetup\n      });\n      editor.ui.registry.addNestedMenuItem(spec.name, {\n        type: 'nestedmenuitem',\n        text: spec.text,\n        getSubmenuItems: getMenuItems,\n        onSetup: spec.onMenuSetup\n      });\n    };\n    const lineHeightSpec = {\n      name: 'lineheight',\n      text: 'Line height',\n      icon: 'line-height',\n      getOptions: getLineHeightFormats,\n      hash: input => normalise(input, [\n        'fixed',\n        'relative',\n        'empty'\n      ]).getOr(input),\n      display: identity,\n      watcher: (editor, value, callback) => editor.formatter.formatChanged('lineheight', callback, false, { value }).unbind,\n      getCurrent: editor => Optional.from(editor.queryCommandValue('LineHeight')),\n      setCurrent: (editor, value) => editor.execCommand('LineHeight', false, value)\n    };\n    const languageSpec = editor => {\n      const settingsOpt = Optional.from(getContentLanguages(editor));\n      return settingsOpt.map(settings => ({\n        name: 'language',\n        text: 'Language',\n        icon: 'language',\n        getOptions: constant$1(settings),\n        hash: input => isUndefined(input.customCode) ? input.code : `${ input.code }/${ input.customCode }`,\n        display: input => input.title,\n        watcher: (editor, value, callback) => {\n          var _a;\n          return editor.formatter.formatChanged('lang', callback, false, {\n            value: value.code,\n            customValue: (_a = value.customCode) !== null && _a !== void 0 ? _a : null\n          }).unbind;\n        },\n        getCurrent: editor => {\n          const node = SugarElement.fromDom(editor.selection.getNode());\n          return closest$4(node, n => Optional.some(n).filter(isElement$1).bind(ele => {\n            const codeOpt = getOpt(ele, 'lang');\n            return codeOpt.map(code => {\n              const customCode = getOpt(ele, 'data-mce-lang').getOrUndefined();\n              return {\n                code,\n                customCode,\n                title: ''\n              };\n            });\n          }));\n        },\n        setCurrent: (editor, lang) => editor.execCommand('Lang', false, lang),\n        onToolbarSetup: api => {\n          const unbinder = unbindable();\n          api.setActive(editor.formatter.match('lang', {}, undefined, true));\n          unbinder.set(editor.formatter.formatChanged('lang', api.setActive, true));\n          return unbinder.clear;\n        }\n      }));\n    };\n    const register$7 = editor => {\n      registerController(editor, lineHeightSpec);\n      languageSpec(editor).each(spec => registerController(editor, spec));\n    };\n\n    const register$6 = (editor, backstage) => {\n      createAlignMenu(editor, backstage);\n      createFontFamilyMenu(editor, backstage);\n      createStylesMenu(editor, backstage);\n      createBlocksMenu(editor, backstage);\n      createFontSizeMenu(editor, backstage);\n    };\n\n    const onSetupOutdentState = editor => onSetupEvent(editor, 'NodeChange', api => {\n      api.setEnabled(editor.queryCommandState('outdent'));\n    });\n    const registerButtons$2 = editor => {\n      editor.ui.registry.addButton('outdent', {\n        tooltip: 'Decrease indent',\n        icon: 'outdent',\n        onSetup: onSetupOutdentState(editor),\n        onAction: onActionExecCommand(editor, 'outdent')\n      });\n      editor.ui.registry.addButton('indent', {\n        tooltip: 'Increase indent',\n        icon: 'indent',\n        onAction: onActionExecCommand(editor, 'indent')\n      });\n    };\n    const register$5 = editor => {\n      registerButtons$2(editor);\n    };\n\n    const makeSetupHandler = (editor, pasteAsText) => api => {\n      api.setActive(pasteAsText.get());\n      const pastePlainTextToggleHandler = e => {\n        pasteAsText.set(e.state);\n        api.setActive(e.state);\n      };\n      editor.on('PastePlainTextToggle', pastePlainTextToggleHandler);\n      return () => editor.off('PastePlainTextToggle', pastePlainTextToggleHandler);\n    };\n    const register$4 = editor => {\n      const pasteAsText = Cell(getPasteAsText(editor));\n      const onAction = () => editor.execCommand('mceTogglePlainTextPaste');\n      editor.ui.registry.addToggleButton('pastetext', {\n        active: false,\n        icon: 'paste-text',\n        tooltip: 'Paste as text',\n        onAction,\n        onSetup: makeSetupHandler(editor, pasteAsText)\n      });\n      editor.ui.registry.addToggleMenuItem('pastetext', {\n        text: 'Paste as text',\n        icon: 'paste-text',\n        onAction,\n        onSetup: makeSetupHandler(editor, pasteAsText)\n      });\n    };\n\n    const onActionToggleFormat = (editor, fmt) => () => {\n      editor.execCommand('mceToggleFormat', false, fmt);\n    };\n    const registerFormatButtons = editor => {\n      global$1.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          icon: 'bold'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          icon: 'italic'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          icon: 'underline'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          icon: 'superscript'\n        }\n      ], (btn, _idx) => {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onSetup: onSetupFormatToggle(editor, btn.name),\n          onAction: onActionToggleFormat(editor, btn.name)\n        });\n      });\n      for (let i = 1; i <= 6; i++) {\n        const name = 'h' + i;\n        editor.ui.registry.addToggleButton(name, {\n          text: name.toUpperCase(),\n          tooltip: 'Heading ' + i,\n          onSetup: onSetupFormatToggle(editor, name),\n          onAction: onActionToggleFormat(editor, name)\n        });\n      }\n    };\n    const registerCommandButtons = editor => {\n      global$1.each([\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste'\n        },\n        {\n          name: 'help',\n          text: 'Help',\n          action: 'mceHelp',\n          icon: 'help'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all'\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'remove',\n          text: 'Remove',\n          action: 'Delete',\n          icon: 'remove'\n        },\n        {\n          name: 'print',\n          text: 'Print',\n          action: 'mcePrint',\n          icon: 'print'\n        },\n        {\n          name: 'hr',\n          text: 'Horizontal line',\n          action: 'InsertHorizontalRule',\n          icon: 'horizontal-rule'\n        }\n      ], btn => {\n        editor.ui.registry.addButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action)\n        });\n      });\n    };\n    const registerCommandToggleButtons = editor => {\n      global$1.each([{\n          name: 'blockquote',\n          text: 'Blockquote',\n          action: 'mceBlockQuote',\n          icon: 'quote'\n        }], btn => {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action),\n          onSetup: onSetupFormatToggle(editor, btn.name)\n        });\n      });\n    };\n    const registerButtons$1 = editor => {\n      registerFormatButtons(editor);\n      registerCommandButtons(editor);\n      registerCommandToggleButtons(editor);\n    };\n    const registerMenuItems$2 = editor => {\n      global$1.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          action: 'Bold',\n          icon: 'bold',\n          shortcut: 'Meta+B'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          action: 'Italic',\n          icon: 'italic',\n          shortcut: 'Meta+I'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          action: 'Underline',\n          icon: 'underline',\n          shortcut: 'Meta+U'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          action: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          action: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          action: 'Superscript',\n          icon: 'superscript'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut',\n          shortcut: 'Meta+X'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy',\n          shortcut: 'Meta+C'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste',\n          shortcut: 'Meta+V'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all',\n          shortcut: 'Meta+A'\n        },\n        {\n          name: 'print',\n          text: 'Print...',\n          action: 'mcePrint',\n          icon: 'print',\n          shortcut: 'Meta+P'\n        },\n        {\n          name: 'hr',\n          text: 'Horizontal line',\n          action: 'InsertHorizontalRule',\n          icon: 'horizontal-rule'\n        }\n      ], menuitem => {\n        editor.ui.registry.addMenuItem(menuitem.name, {\n          text: menuitem.text,\n          icon: menuitem.icon,\n          shortcut: menuitem.shortcut,\n          onAction: onActionExecCommand(editor, menuitem.action)\n        });\n      });\n      editor.ui.registry.addMenuItem('codeformat', {\n        text: 'Code',\n        icon: 'sourcecode',\n        onAction: onActionToggleFormat(editor, 'code')\n      });\n    };\n    const register$3 = editor => {\n      registerButtons$1(editor);\n      registerMenuItems$2(editor);\n    };\n\n    const onSetupUndoRedoState = (editor, type) => onSetupEvent(editor, 'Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', api => {\n      api.setEnabled(!editor.mode.isReadOnly() && editor.undoManager[type]());\n    });\n    const registerMenuItems$1 = editor => {\n      editor.ui.registry.addMenuItem('undo', {\n        text: 'Undo',\n        icon: 'undo',\n        shortcut: 'Meta+Z',\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addMenuItem('redo', {\n        text: 'Redo',\n        icon: 'redo',\n        shortcut: 'Meta+Y',\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    const registerButtons = editor => {\n      editor.ui.registry.addButton('undo', {\n        tooltip: 'Undo',\n        icon: 'undo',\n        enabled: false,\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addButton('redo', {\n        tooltip: 'Redo',\n        icon: 'redo',\n        enabled: false,\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    const register$2 = editor => {\n      registerMenuItems$1(editor);\n      registerButtons(editor);\n    };\n\n    const onSetupVisualAidState = editor => onSetupEvent(editor, 'VisualAid', api => {\n      api.setActive(editor.hasVisual);\n    });\n    const registerMenuItems = editor => {\n      editor.ui.registry.addToggleMenuItem('visualaid', {\n        text: 'Visual aids',\n        onSetup: onSetupVisualAidState(editor),\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    const registerToolbarButton = editor => {\n      editor.ui.registry.addButton('visualaid', {\n        tooltip: 'Visual aids',\n        text: 'Visual aids',\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    const register$1 = editor => {\n      registerToolbarButton(editor);\n      registerMenuItems(editor);\n    };\n\n    const setup$6 = (editor, backstage) => {\n      register$8(editor);\n      register$3(editor);\n      register$6(editor, backstage);\n      register$2(editor);\n      register$c(editor);\n      register$1(editor);\n      register$5(editor);\n      register$7(editor);\n      register$4(editor);\n    };\n\n    const patchPipeConfig = config => isString(config) ? config.split(/[ ,]/) : config;\n    const option = name => editor => editor.options.get(name);\n    const register = editor => {\n      const registerOption = editor.options.register;\n      registerOption('contextmenu_avoid_overlap', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('contextmenu_never_use_native', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('contextmenu', {\n        processor: value => {\n          if (value === false) {\n            return {\n              value: [],\n              valid: true\n            };\n          } else if (isString(value) || isArrayOf(value, isString)) {\n            return {\n              value: patchPipeConfig(value),\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be false or a string.'\n            };\n          }\n        },\n        default: 'link linkchecker image editimage table spellchecker configurepermanentpen'\n      });\n    };\n    const shouldNeverUseNative = option('contextmenu_never_use_native');\n    const getAvoidOverlapSelector = option('contextmenu_avoid_overlap');\n    const isContextMenuDisabled = editor => getContextMenu(editor).length === 0;\n    const getContextMenu = editor => {\n      const contextMenus = editor.ui.registry.getAll().contextMenus;\n      const contextMenu = editor.options.get('contextmenu');\n      if (editor.options.isSet('contextmenu')) {\n        return contextMenu;\n      } else {\n        return filter$2(contextMenu, item => has$2(contextMenus, item));\n      }\n    };\n\n    const nu = (x, y) => ({\n      type: 'makeshift',\n      x,\n      y\n    });\n    const transpose = (pos, dx, dy) => {\n      return nu(pos.x + dx, pos.y + dy);\n    };\n    const isTouchEvent$1 = e => e.type === 'longpress' || e.type.indexOf('touch') === 0;\n    const fromPageXY = e => {\n      if (isTouchEvent$1(e)) {\n        const touch = e.touches[0];\n        return nu(touch.pageX, touch.pageY);\n      } else {\n        return nu(e.pageX, e.pageY);\n      }\n    };\n    const fromClientXY = e => {\n      if (isTouchEvent$1(e)) {\n        const touch = e.touches[0];\n        return nu(touch.clientX, touch.clientY);\n      } else {\n        return nu(e.clientX, e.clientY);\n      }\n    };\n    const transposeContentAreaContainer = (element, pos) => {\n      const containerPos = global$7.DOM.getPos(element);\n      return transpose(pos, containerPos.x, containerPos.y);\n    };\n    const getPointAnchor = (editor, e) => {\n      if (e.type === 'contextmenu' || e.type === 'longpress') {\n        if (editor.inline) {\n          return fromPageXY(e);\n        } else {\n          return transposeContentAreaContainer(editor.getContentAreaContainer(), fromClientXY(e));\n        }\n      } else {\n        return getSelectionAnchor(editor);\n      }\n    };\n    const getSelectionAnchor = editor => {\n      return {\n        type: 'selection',\n        root: SugarElement.fromDom(editor.selection.getNode())\n      };\n    };\n    const getNodeAnchor = editor => ({\n      type: 'node',\n      node: Optional.some(SugarElement.fromDom(editor.selection.getNode())),\n      root: SugarElement.fromDom(editor.getBody())\n    });\n    const getAnchorSpec$1 = (editor, e, anchorType) => {\n      switch (anchorType) {\n      case 'node':\n        return getNodeAnchor(editor);\n      case 'point':\n        return getPointAnchor(editor, e);\n      case 'selection':\n        return getSelectionAnchor(editor);\n      }\n    };\n\n    const initAndShow$1 = (editor, e, buildMenu, backstage, contextmenu, anchorType) => {\n      const items = buildMenu();\n      const anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n        isHorizontalMenu: false,\n        search: Optional.none()\n      }).map(menuData => {\n        e.preventDefault();\n        InlineView.showMenuAt(contextmenu, { anchor: anchorSpec }, {\n          menu: { markers: markers('normal') },\n          data: menuData\n        });\n      });\n    };\n\n    const layouts = {\n      onLtr: () => [\n        south$2,\n        southeast$2,\n        southwest$2,\n        northeast$2,\n        northwest$2,\n        north$2,\n        north,\n        south,\n        northeast,\n        southeast,\n        northwest,\n        southwest\n      ],\n      onRtl: () => [\n        south$2,\n        southwest$2,\n        southeast$2,\n        northwest$2,\n        northeast$2,\n        north$2,\n        north,\n        south,\n        northwest,\n        southwest,\n        northeast,\n        southeast\n      ]\n    };\n    const bubbleSize = 12;\n    const bubbleAlignments = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top']\n    };\n    const isTouchWithinSelection = (editor, e) => {\n      const selection = editor.selection;\n      if (selection.isCollapsed() || e.touches.length < 1) {\n        return false;\n      } else {\n        const touch = e.touches[0];\n        const rng = selection.getRng();\n        const rngRectOpt = getFirstRect(editor.getWin(), SimSelection.domRange(rng));\n        return rngRectOpt.exists(rngRect => rngRect.left <= touch.clientX && rngRect.right >= touch.clientX && rngRect.top <= touch.clientY && rngRect.bottom >= touch.clientY);\n      }\n    };\n    const setupiOSOverrides = editor => {\n      const originalSelection = editor.selection.getRng();\n      const selectionReset = () => {\n        global$9.setEditorTimeout(editor, () => {\n          editor.selection.setRng(originalSelection);\n        }, 10);\n        unbindEventListeners();\n      };\n      editor.once('touchend', selectionReset);\n      const preventMousedown = e => {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n      };\n      editor.on('mousedown', preventMousedown, true);\n      const clearSelectionReset = () => unbindEventListeners();\n      editor.once('longpresscancel', clearSelectionReset);\n      const unbindEventListeners = () => {\n        editor.off('touchend', selectionReset);\n        editor.off('longpresscancel', clearSelectionReset);\n        editor.off('mousedown', preventMousedown);\n      };\n    };\n    const getAnchorSpec = (editor, e, anchorType) => {\n      const anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      const bubbleYOffset = anchorType === 'point' ? bubbleSize : 0;\n      return {\n        bubble: nu$5(0, bubbleYOffset, bubbleAlignments),\n        layouts,\n        overrides: {\n          maxWidthFunction: expandable(),\n          maxHeightFunction: expandable$1()\n        },\n        ...anchorSpec\n      };\n    };\n    const show = (editor, e, items, backstage, contextmenu, anchorType, highlightImmediately) => {\n      const anchorSpec = getAnchorSpec(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n        isHorizontalMenu: true,\n        search: Optional.none()\n      }).map(menuData => {\n        e.preventDefault();\n        const highlightOnOpen = highlightImmediately ? HighlightOnOpen.HighlightMenuAndItem : HighlightOnOpen.HighlightNone;\n        InlineView.showMenuWithinBounds(contextmenu, { anchor: anchorSpec }, {\n          menu: {\n            markers: markers('normal'),\n            highlightOnOpen\n          },\n          data: menuData,\n          type: 'horizontal'\n        }, () => Optional.some(getContextToolbarBounds(editor, backstage.shared, anchorType === 'node' ? 'node' : 'selection')));\n        editor.dispatch(hideContextToolbarEvent);\n      });\n    };\n    const initAndShow = (editor, e, buildMenu, backstage, contextmenu, anchorType) => {\n      const detection = detect$2();\n      const isiOS = detection.os.isiOS();\n      const isMacOS = detection.os.isMacOS();\n      const isAndroid = detection.os.isAndroid();\n      const isTouch = detection.deviceType.isTouch();\n      const shouldHighlightImmediately = () => !(isAndroid || isiOS || isMacOS && isTouch);\n      const open = () => {\n        const items = buildMenu();\n        show(editor, e, items, backstage, contextmenu, anchorType, shouldHighlightImmediately());\n      };\n      if ((isMacOS || isiOS) && anchorType !== 'node') {\n        const openiOS = () => {\n          setupiOSOverrides(editor);\n          open();\n        };\n        if (isTouchWithinSelection(editor, e)) {\n          openiOS();\n        } else {\n          editor.once('selectionchange', openiOS);\n          editor.once('touchend', () => editor.off('selectionchange', openiOS));\n        }\n      } else {\n        open();\n      }\n    };\n\n    const isSeparator = item => isString(item) ? item === '|' : item.type === 'separator';\n    const separator = { type: 'separator' };\n    const makeContextItem = item => {\n      const commonMenuItem = item => ({\n        text: item.text,\n        icon: item.icon,\n        enabled: item.enabled,\n        shortcut: item.shortcut\n      });\n      if (isString(item)) {\n        return item;\n      } else {\n        switch (item.type) {\n        case 'separator':\n          return separator;\n        case 'submenu':\n          return {\n            type: 'nestedmenuitem',\n            ...commonMenuItem(item),\n            getSubmenuItems: () => {\n              const items = item.getSubmenuItems();\n              if (isString(items)) {\n                return items;\n              } else {\n                return map$2(items, makeContextItem);\n              }\n            }\n          };\n        default:\n          const commonItem = item;\n          return {\n            type: 'menuitem',\n            ...commonMenuItem(commonItem),\n            onAction: noarg(commonItem.onAction)\n          };\n        }\n      }\n    };\n    const addContextMenuGroup = (xs, groupItems) => {\n      if (groupItems.length === 0) {\n        return xs;\n      }\n      const lastMenuItem = last$1(xs).filter(item => !isSeparator(item));\n      const before = lastMenuItem.fold(() => [], _ => [separator]);\n      return xs.concat(before).concat(groupItems).concat([separator]);\n    };\n    const generateContextMenu = (contextMenus, menuConfig, selectedElement) => {\n      const sections = foldl(menuConfig, (acc, name) => {\n        return get$g(contextMenus, name.toLowerCase()).map(menu => {\n          const items = menu.update(selectedElement);\n          if (isString(items)) {\n            return addContextMenuGroup(acc, items.split(' '));\n          } else if (items.length > 0) {\n            const allItems = map$2(items, makeContextItem);\n            return addContextMenuGroup(acc, allItems);\n          } else {\n            return acc;\n          }\n        }).getOrThunk(() => acc.concat([name]));\n      }, []);\n      if (sections.length > 0 && isSeparator(sections[sections.length - 1])) {\n        sections.pop();\n      }\n      return sections;\n    };\n    const isNativeOverrideKeyEvent = (editor, e) => e.ctrlKey && !shouldNeverUseNative(editor);\n    const isTouchEvent = e => e.type === 'longpress' || has$2(e, 'touches');\n    const isTriggeredByKeyboard = (editor, e) => !isTouchEvent(e) && (e.button !== 2 || e.target === editor.getBody() && e.pointerType === '');\n    const getSelectedElement = (editor, e) => isTriggeredByKeyboard(editor, e) ? editor.selection.getStart(true) : e.target;\n    const getAnchorType = (editor, e) => {\n      const selector = getAvoidOverlapSelector(editor);\n      const anchorType = isTriggeredByKeyboard(editor, e) ? 'selection' : 'point';\n      if (isNotEmpty(selector)) {\n        const target = getSelectedElement(editor, e);\n        const selectorExists = closest(SugarElement.fromDom(target), selector);\n        return selectorExists ? 'node' : anchorType;\n      } else {\n        return anchorType;\n      }\n    };\n    const setup$5 = (editor, lazySink, backstage) => {\n      const detection = detect$2();\n      const isTouch = detection.deviceType.isTouch;\n      const contextmenu = build$1(InlineView.sketch({\n        dom: { tag: 'div' },\n        lazySink,\n        onEscape: () => editor.focus(),\n        onShow: () => backstage.setContextMenuState(true),\n        onHide: () => backstage.setContextMenuState(false),\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissContextMenu', [run$1(dismissRequested(), (comp, _se) => {\n              Sandboxing.close(comp);\n              editor.focus();\n            })])])\n      }));\n      const hideContextMenu = () => InlineView.hide(contextmenu);\n      const showContextMenu = e => {\n        if (shouldNeverUseNative(editor)) {\n          e.preventDefault();\n        }\n        if (isNativeOverrideKeyEvent(editor, e) || isContextMenuDisabled(editor)) {\n          return;\n        }\n        const anchorType = getAnchorType(editor, e);\n        const buildMenu = () => {\n          const selectedElement = getSelectedElement(editor, e);\n          const registry = editor.ui.registry.getAll();\n          const menuConfig = getContextMenu(editor);\n          return generateContextMenu(registry.contextMenus, menuConfig, selectedElement);\n        };\n        const initAndShow$2 = isTouch() ? initAndShow : initAndShow$1;\n        initAndShow$2(editor, e, buildMenu, backstage, contextmenu, anchorType);\n      };\n      editor.on('init', () => {\n        const hideEvents = 'ResizeEditor ScrollContent ScrollWindow longpresscancel' + (isTouch() ? '' : ' ResizeWindow');\n        editor.on(hideEvents, hideContextMenu);\n        editor.on('longpress contextmenu', showContextMenu);\n      });\n    };\n\n    const adt = Adt.generate([\n      {\n        offset: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        absolute: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y'\n        ]\n      }\n    ]);\n    const subtract = change => point => point.translate(-change.left, -change.top);\n    const add = change => point => point.translate(change.left, change.top);\n    const transform = changes => (x, y) => foldl(changes, (rest, f) => f(rest), SugarPosition(x, y));\n    const asFixed = (coord, scroll, origin) => coord.fold(transform([\n      add(origin),\n      subtract(scroll)\n    ]), transform([subtract(scroll)]), transform([]));\n    const asAbsolute = (coord, scroll, origin) => coord.fold(transform([add(origin)]), transform([]), transform([add(scroll)]));\n    const asOffset = (coord, scroll, origin) => coord.fold(transform([]), transform([subtract(origin)]), transform([\n      add(scroll),\n      subtract(origin)\n    ]));\n    const withinRange = (coord1, coord2, xRange, yRange, scroll, origin) => {\n      const a1 = asAbsolute(coord1, scroll, origin);\n      const a2 = asAbsolute(coord2, scroll, origin);\n      return Math.abs(a1.left - a2.left) <= xRange && Math.abs(a1.top - a2.top) <= yRange;\n    };\n    const getDeltas = (coord1, coord2, xRange, yRange, scroll, origin) => {\n      const a1 = asAbsolute(coord1, scroll, origin);\n      const a2 = asAbsolute(coord2, scroll, origin);\n      const left = Math.abs(a1.left - a2.left);\n      const top = Math.abs(a1.top - a2.top);\n      return SugarPosition(left, top);\n    };\n    const toStyles = (coord, scroll, origin) => {\n      const stylesOpt = coord.fold((x, y) => ({\n        position: Optional.some('absolute'),\n        left: Optional.some(x + 'px'),\n        top: Optional.some(y + 'px')\n      }), (x, y) => ({\n        position: Optional.some('absolute'),\n        left: Optional.some(x - origin.left + 'px'),\n        top: Optional.some(y - origin.top + 'px')\n      }), (x, y) => ({\n        position: Optional.some('fixed'),\n        left: Optional.some(x + 'px'),\n        top: Optional.some(y + 'px')\n      }));\n      return {\n        right: Optional.none(),\n        bottom: Optional.none(),\n        ...stylesOpt\n      };\n    };\n    const translate = (coord, deltaX, deltaY) => coord.fold((x, y) => offset(x + deltaX, y + deltaY), (x, y) => absolute(x + deltaX, y + deltaY), (x, y) => fixed(x + deltaX, y + deltaY));\n    const absorb = (partialCoord, originalCoord, scroll, origin) => {\n      const absorbOne = (stencil, nu) => (optX, optY) => {\n        const original = stencil(originalCoord, scroll, origin);\n        return nu(optX.getOr(original.left), optY.getOr(original.top));\n      };\n      return partialCoord.fold(absorbOne(asOffset, offset), absorbOne(asAbsolute, absolute), absorbOne(asFixed, fixed));\n    };\n    const offset = adt.offset;\n    const absolute = adt.absolute;\n    const fixed = adt.fixed;\n\n    const parseAttrToInt = (element, name) => {\n      const value = get$f(element, name);\n      return isUndefined(value) ? NaN : parseInt(value, 10);\n    };\n    const get = (component, snapsInfo) => {\n      const element = component.element;\n      const x = parseAttrToInt(element, snapsInfo.leftAttr);\n      const y = parseAttrToInt(element, snapsInfo.topAttr);\n      return isNaN(x) || isNaN(y) ? Optional.none() : Optional.some(SugarPosition(x, y));\n    };\n    const set = (component, snapsInfo, pt) => {\n      const element = component.element;\n      set$9(element, snapsInfo.leftAttr, pt.left + 'px');\n      set$9(element, snapsInfo.topAttr, pt.top + 'px');\n    };\n    const clear = (component, snapsInfo) => {\n      const element = component.element;\n      remove$7(element, snapsInfo.leftAttr);\n      remove$7(element, snapsInfo.topAttr);\n    };\n\n    const getCoords = (component, snapInfo, coord, delta) => get(component, snapInfo).fold(() => coord, fixed$1 => fixed(fixed$1.left + delta.left, fixed$1.top + delta.top));\n    const moveOrSnap = (component, snapInfo, coord, delta, scroll, origin) => {\n      const newCoord = getCoords(component, snapInfo, coord, delta);\n      const snap = snapInfo.mustSnap ? findClosestSnap(component, snapInfo, newCoord, scroll, origin) : findSnap(component, snapInfo, newCoord, scroll, origin);\n      const fixedCoord = asFixed(newCoord, scroll, origin);\n      set(component, snapInfo, fixedCoord);\n      return snap.fold(() => ({\n        coord: fixed(fixedCoord.left, fixedCoord.top),\n        extra: Optional.none()\n      }), spanned => ({\n        coord: spanned.output,\n        extra: spanned.extra\n      }));\n    };\n    const stopDrag = (component, snapInfo) => {\n      clear(component, snapInfo);\n    };\n    const findMatchingSnap = (snaps, newCoord, scroll, origin) => findMap(snaps, snap => {\n      const sensor = snap.sensor;\n      const inRange = withinRange(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n      return inRange ? Optional.some({\n        output: absorb(snap.output, newCoord, scroll, origin),\n        extra: snap.extra\n      }) : Optional.none();\n    });\n    const findClosestSnap = (component, snapInfo, newCoord, scroll, origin) => {\n      const snaps = snapInfo.getSnapPoints(component);\n      const matchSnap = findMatchingSnap(snaps, newCoord, scroll, origin);\n      return matchSnap.orThunk(() => {\n        const bestSnap = foldl(snaps, (acc, snap) => {\n          const sensor = snap.sensor;\n          const deltas = getDeltas(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n          return acc.deltas.fold(() => ({\n            deltas: Optional.some(deltas),\n            snap: Optional.some(snap)\n          }), bestDeltas => {\n            const currAvg = (deltas.left + deltas.top) / 2;\n            const bestAvg = (bestDeltas.left + bestDeltas.top) / 2;\n            if (currAvg <= bestAvg) {\n              return {\n                deltas: Optional.some(deltas),\n                snap: Optional.some(snap)\n              };\n            } else {\n              return acc;\n            }\n          });\n        }, {\n          deltas: Optional.none(),\n          snap: Optional.none()\n        });\n        return bestSnap.snap.map(snap => ({\n          output: absorb(snap.output, newCoord, scroll, origin),\n          extra: snap.extra\n        }));\n      });\n    };\n    const findSnap = (component, snapInfo, newCoord, scroll, origin) => {\n      const snaps = snapInfo.getSnapPoints(component);\n      return findMatchingSnap(snaps, newCoord, scroll, origin);\n    };\n    const snapTo$1 = (snap, scroll, origin) => ({\n      coord: absorb(snap.output, snap.output, scroll, origin),\n      extra: snap.extra\n    });\n\n    const snapTo = (component, dragConfig, _state, snap) => {\n      const target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        const doc = owner$4(component.element);\n        const scroll = get$b(doc);\n        const origin = getOrigin(target);\n        const snapPin = snapTo$1(snap, scroll, origin);\n        const styles = toStyles(snapPin.coord, scroll, origin);\n        setOptions(target, styles);\n      }\n    };\n\n    var DraggingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        snapTo: snapTo\n    });\n\n    const initialAttribute = 'data-initial-z-index';\n    const resetZIndex = blocker => {\n      parent(blocker.element).filter(isElement$1).each(root => {\n        getOpt(root, initialAttribute).fold(() => remove$6(root, 'z-index'), zIndex => set$8(root, 'z-index', zIndex));\n        remove$7(root, initialAttribute);\n      });\n    };\n    const changeZIndex = blocker => {\n      parent(blocker.element).filter(isElement$1).each(root => {\n        getRaw(root, 'z-index').each(zindex => {\n          set$9(root, initialAttribute, zindex);\n        });\n        set$8(root, 'z-index', get$e(blocker.element, 'z-index'));\n      });\n    };\n    const instigate = (anyComponent, blocker) => {\n      anyComponent.getSystem().addToGui(blocker);\n      changeZIndex(blocker);\n    };\n    const discard = blocker => {\n      resetZIndex(blocker);\n      blocker.getSystem().removeFromGui(blocker);\n    };\n    const createComponent = (component, blockerClass, blockerEvents) => component.getSystem().build(Container.sketch({\n      dom: {\n        styles: {\n          'left': '0px',\n          'top': '0px',\n          'width': '100%',\n          'height': '100%',\n          'position': 'fixed',\n          'z-index': '1000000000000000'\n        },\n        classes: [blockerClass]\n      },\n      events: blockerEvents\n    }));\n\n    var SnapSchema = optionObjOf('snaps', [\n      required$1('getSnapPoints'),\n      onHandler('onSensor'),\n      required$1('leftAttr'),\n      required$1('topAttr'),\n      defaulted('lazyViewport', win),\n      defaulted('mustSnap', false)\n    ]);\n\n    const schema$6 = [\n      defaulted('useFixed', never),\n      required$1('blockerClass'),\n      defaulted('getTarget', identity),\n      defaulted('onDrag', noop),\n      defaulted('repositionTarget', true),\n      defaulted('onDrop', noop),\n      defaultedFunction('getBounds', win),\n      SnapSchema\n    ];\n\n    const getCurrentCoord = target => lift3(getRaw(target, 'left'), getRaw(target, 'top'), getRaw(target, 'position'), (left, top, position) => {\n      const nu = position === 'fixed' ? fixed : offset;\n      return nu(parseInt(left, 10), parseInt(top, 10));\n    }).getOrThunk(() => {\n      const location = absolute$3(target);\n      return absolute(location.left, location.top);\n    });\n    const clampCoords = (component, coords, scroll, origin, startData) => {\n      const bounds = startData.bounds;\n      const absoluteCoord = asAbsolute(coords, scroll, origin);\n      const newX = clamp(absoluteCoord.left, bounds.x, bounds.x + bounds.width - startData.width);\n      const newY = clamp(absoluteCoord.top, bounds.y, bounds.y + bounds.height - startData.height);\n      const newCoords = absolute(newX, newY);\n      return coords.fold(() => {\n        const offset$1 = asOffset(newCoords, scroll, origin);\n        return offset(offset$1.left, offset$1.top);\n      }, constant$1(newCoords), () => {\n        const fixed$1 = asFixed(newCoords, scroll, origin);\n        return fixed(fixed$1.left, fixed$1.top);\n      });\n    };\n    const calcNewCoord = (component, optSnaps, currentCoord, scroll, origin, delta, startData) => {\n      const newCoord = optSnaps.fold(() => {\n        const translated = translate(currentCoord, delta.left, delta.top);\n        const fixedCoord = asFixed(translated, scroll, origin);\n        return fixed(fixedCoord.left, fixedCoord.top);\n      }, snapInfo => {\n        const snapping = moveOrSnap(component, snapInfo, currentCoord, delta, scroll, origin);\n        snapping.extra.each(extra => {\n          snapInfo.onSensor(component, extra);\n        });\n        return snapping.coord;\n      });\n      return clampCoords(component, newCoord, scroll, origin, startData);\n    };\n    const dragBy = (component, dragConfig, startData, delta) => {\n      const target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        const doc = owner$4(component.element);\n        const scroll = get$b(doc);\n        const origin = getOrigin(target);\n        const currentCoord = getCurrentCoord(target);\n        const newCoord = calcNewCoord(component, dragConfig.snaps, currentCoord, scroll, origin, delta, startData);\n        const styles = toStyles(newCoord, scroll, origin);\n        setOptions(target, styles);\n      }\n      dragConfig.onDrag(component, target, delta);\n    };\n\n    const calcStartData = (dragConfig, comp) => ({\n      bounds: dragConfig.getBounds(),\n      height: getOuter$2(comp.element),\n      width: getOuter$1(comp.element)\n    });\n    const move = (component, dragConfig, dragState, dragMode, event) => {\n      const delta = dragState.update(dragMode, event);\n      const dragStartData = dragState.getStartData().getOrThunk(() => calcStartData(dragConfig, component));\n      delta.each(dlt => {\n        dragBy(component, dragConfig, dragStartData, dlt);\n      });\n    };\n    const stop = (component, blocker, dragConfig, dragState) => {\n      blocker.each(discard);\n      dragConfig.snaps.each(snapInfo => {\n        stopDrag(component, snapInfo);\n      });\n      const target = dragConfig.getTarget(component.element);\n      dragState.reset();\n      dragConfig.onDrop(component, target);\n    };\n    const handlers = events => (dragConfig, dragState) => {\n      const updateStartState = comp => {\n        dragState.setStartData(calcStartData(dragConfig, comp));\n      };\n      return derive$2([\n        run$1(windowScroll(), comp => {\n          dragState.getStartData().each(() => updateStartState(comp));\n        }),\n        ...events(dragConfig, dragState, updateStartState)\n      ]);\n    };\n\n    const init$3 = dragApi => derive$2([\n      run$1(mousedown(), dragApi.forceDrop),\n      run$1(mouseup(), dragApi.drop),\n      run$1(mousemove(), (comp, simulatedEvent) => {\n        dragApi.move(simulatedEvent.event);\n      }),\n      run$1(mouseout(), dragApi.delayDrop)\n    ]);\n\n    const getData$1 = event => Optional.from(SugarPosition(event.x, event.y));\n    const getDelta$1 = (old, nu) => SugarPosition(nu.left - old.left, nu.top - old.top);\n\n    var MouseData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData$1,\n        getDelta: getDelta$1\n    });\n\n    const events$3 = (dragConfig, dragState, updateStartState) => [run$1(mousedown(), (component, simulatedEvent) => {\n        const raw = simulatedEvent.event.raw;\n        if (raw.button !== 0) {\n          return;\n        }\n        simulatedEvent.stop();\n        const stop$1 = () => stop(component, Optional.some(blocker), dragConfig, dragState);\n        const delayDrop = DelayedFunction(stop$1, 200);\n        const dragApi = {\n          drop: stop$1,\n          delayDrop: delayDrop.schedule,\n          forceDrop: stop$1,\n          move: event => {\n            delayDrop.cancel();\n            move(component, dragConfig, dragState, MouseData, event);\n          }\n        };\n        const blocker = createComponent(component, dragConfig.blockerClass, init$3(dragApi));\n        const start = () => {\n          updateStartState(component);\n          instigate(component, blocker);\n        };\n        start();\n      })];\n    const schema$5 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events$3) })\n    ];\n\n    const init$2 = dragApi => derive$2([\n      run$1(touchstart(), dragApi.forceDrop),\n      run$1(touchend(), dragApi.drop),\n      run$1(touchcancel(), dragApi.drop),\n      run$1(touchmove(), (comp, simulatedEvent) => {\n        dragApi.move(simulatedEvent.event);\n      })\n    ]);\n\n    const getDataFrom = touches => {\n      const touch = touches[0];\n      return Optional.some(SugarPosition(touch.clientX, touch.clientY));\n    };\n    const getData = event => {\n      const raw = event.raw;\n      const touches = raw.touches;\n      return touches.length === 1 ? getDataFrom(touches) : Optional.none();\n    };\n    const getDelta = (old, nu) => SugarPosition(nu.left - old.left, nu.top - old.top);\n\n    var TouchData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData,\n        getDelta: getDelta\n    });\n\n    const events$2 = (dragConfig, dragState, updateStartState) => {\n      const blockerSingleton = value$2();\n      const stopBlocking = component => {\n        stop(component, blockerSingleton.get(), dragConfig, dragState);\n        blockerSingleton.clear();\n      };\n      return [\n        run$1(touchstart(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          const stop = () => stopBlocking(component);\n          const dragApi = {\n            drop: stop,\n            delayDrop: noop,\n            forceDrop: stop,\n            move: event => {\n              move(component, dragConfig, dragState, TouchData, event);\n            }\n          };\n          const blocker = createComponent(component, dragConfig.blockerClass, init$2(dragApi));\n          blockerSingleton.set(blocker);\n          const start = () => {\n            updateStartState(component);\n            instigate(component, blocker);\n          };\n          start();\n        }),\n        run$1(touchmove(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          move(component, dragConfig, dragState, TouchData, simulatedEvent.event);\n        }),\n        run$1(touchend(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          stopBlocking(component);\n        }),\n        run$1(touchcancel(), stopBlocking)\n      ];\n    };\n    const schema$4 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events$2) })\n    ];\n\n    const events$1 = (dragConfig, dragState, updateStartState) => [\n      ...events$3(dragConfig, dragState, updateStartState),\n      ...events$2(dragConfig, dragState, updateStartState)\n    ];\n    const schema$3 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events$1) })\n    ];\n\n    const mouse = schema$5;\n    const touch = schema$4;\n    const mouseOrTouch = schema$3;\n\n    var DraggingBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        mouse: mouse,\n        touch: touch,\n        mouseOrTouch: mouseOrTouch\n    });\n\n    const init$1 = () => {\n      let previous = Optional.none();\n      let startData = Optional.none();\n      const reset = () => {\n        previous = Optional.none();\n        startData = Optional.none();\n      };\n      const calculateDelta = (mode, nu) => {\n        const result = previous.map(old => mode.getDelta(old, nu));\n        previous = Optional.some(nu);\n        return result;\n      };\n      const update = (mode, dragEvent) => mode.getData(dragEvent).bind(nuData => calculateDelta(mode, nuData));\n      const setStartData = data => {\n        startData = Optional.some(data);\n      };\n      const getStartData = () => startData;\n      const readState = constant$1({});\n      return nu$8({\n        readState,\n        reset,\n        update,\n        getStartData,\n        setStartData\n      });\n    };\n\n    var DragState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$1\n    });\n\n    const Dragging = createModes({\n      branchKey: 'mode',\n      branches: DraggingBranches,\n      name: 'dragging',\n      active: {\n        events: (dragConfig, dragState) => {\n          const dragger = dragConfig.dragger;\n          return dragger.handlers(dragConfig, dragState);\n        }\n      },\n      extra: {\n        snap: sConfig => ({\n          sensor: sConfig.sensor,\n          range: sConfig.range,\n          output: sConfig.output,\n          extra: Optional.from(sConfig.extra)\n        })\n      },\n      state: DragState,\n      apis: DraggingApis\n    });\n\n    const snapWidth = 40;\n    const snapOffset = snapWidth / 2;\n    const calcSnap = (selectorOpt, td, x, y, width, height) => selectorOpt.fold(() => Dragging.snap({\n      sensor: absolute(x - snapOffset, y - snapOffset),\n      range: SugarPosition(width, height),\n      output: absolute(Optional.some(x), Optional.some(y)),\n      extra: { td }\n    }), selectorHandle => {\n      const sensorLeft = x - snapOffset;\n      const sensorTop = y - snapOffset;\n      const sensorWidth = snapWidth;\n      const sensorHeight = snapWidth;\n      const rect = selectorHandle.element.dom.getBoundingClientRect();\n      return Dragging.snap({\n        sensor: absolute(sensorLeft, sensorTop),\n        range: SugarPosition(sensorWidth, sensorHeight),\n        output: absolute(Optional.some(x - rect.width / 2), Optional.some(y - rect.height / 2)),\n        extra: { td }\n      });\n    });\n    const getSnapsConfig = (getSnapPoints, cell, onChange) => {\n      const isSameCell = (cellOpt, td) => cellOpt.exists(currentTd => eq(currentTd, td));\n      return {\n        getSnapPoints,\n        leftAttr: 'data-drag-left',\n        topAttr: 'data-drag-top',\n        onSensor: (component, extra) => {\n          const td = extra.td;\n          if (!isSameCell(cell.get(), td)) {\n            cell.set(td);\n            onChange(td);\n          }\n        },\n        mustSnap: true\n      };\n    };\n    const createSelector = snaps => record(Button.sketch({\n      dom: {\n        tag: 'div',\n        classes: ['tox-selector']\n      },\n      buttonBehaviours: derive$1([\n        Dragging.config({\n          mode: 'mouseOrTouch',\n          blockerClass: 'blocker',\n          snaps\n        }),\n        Unselecting.config({})\n      ]),\n      eventOrder: {\n        mousedown: [\n          'dragging',\n          'alloy.base.behaviour'\n        ],\n        touchstart: [\n          'dragging',\n          'alloy.base.behaviour'\n        ]\n      }\n    }));\n    const setup$4 = (editor, sink) => {\n      const tlTds = Cell([]);\n      const brTds = Cell([]);\n      const isVisible = Cell(false);\n      const startCell = value$2();\n      const finishCell = value$2();\n      const getTopLeftSnap = td => {\n        const box = absolute$2(td);\n        return calcSnap(memTopLeft.getOpt(sink), td, box.x, box.y, box.width, box.height);\n      };\n      const getTopLeftSnaps = () => map$2(tlTds.get(), td => getTopLeftSnap(td));\n      const getBottomRightSnap = td => {\n        const box = absolute$2(td);\n        return calcSnap(memBottomRight.getOpt(sink), td, box.right, box.bottom, box.width, box.height);\n      };\n      const getBottomRightSnaps = () => map$2(brTds.get(), td => getBottomRightSnap(td));\n      const topLeftSnaps = getSnapsConfig(getTopLeftSnaps, startCell, start => {\n        finishCell.get().each(finish => {\n          editor.dispatch('TableSelectorChange', {\n            start,\n            finish\n          });\n        });\n      });\n      const bottomRightSnaps = getSnapsConfig(getBottomRightSnaps, finishCell, finish => {\n        startCell.get().each(start => {\n          editor.dispatch('TableSelectorChange', {\n            start,\n            finish\n          });\n        });\n      });\n      const memTopLeft = createSelector(topLeftSnaps);\n      const memBottomRight = createSelector(bottomRightSnaps);\n      const topLeft = build$1(memTopLeft.asSpec());\n      const bottomRight = build$1(memBottomRight.asSpec());\n      const showOrHideHandle = (selector, cell, isAbove, isBelow) => {\n        const cellRect = cell.dom.getBoundingClientRect();\n        remove$6(selector.element, 'display');\n        const viewportHeight = defaultView(SugarElement.fromDom(editor.getBody())).dom.innerHeight;\n        const aboveViewport = isAbove(cellRect);\n        const belowViewport = isBelow(cellRect, viewportHeight);\n        if (aboveViewport || belowViewport) {\n          set$8(selector.element, 'display', 'none');\n        }\n      };\n      const snapTo = (selector, cell, getSnapConfig, pos) => {\n        const snap = getSnapConfig(cell);\n        Dragging.snapTo(selector, snap);\n        const isAbove = rect => rect[pos] < 0;\n        const isBelow = (rect, viewportHeight) => rect[pos] > viewportHeight;\n        showOrHideHandle(selector, cell, isAbove, isBelow);\n      };\n      const snapTopLeft = cell => snapTo(topLeft, cell, getTopLeftSnap, 'top');\n      const snapLastTopLeft = () => startCell.get().each(snapTopLeft);\n      const snapBottomRight = cell => snapTo(bottomRight, cell, getBottomRightSnap, 'bottom');\n      const snapLastBottomRight = () => finishCell.get().each(snapBottomRight);\n      if (detect$2().deviceType.isTouch()) {\n        editor.on('TableSelectionChange', e => {\n          if (!isVisible.get()) {\n            attach(sink, topLeft);\n            attach(sink, bottomRight);\n            isVisible.set(true);\n          }\n          startCell.set(e.start);\n          finishCell.set(e.finish);\n          e.otherCells.each(otherCells => {\n            tlTds.set(otherCells.upOrLeftCells);\n            brTds.set(otherCells.downOrRightCells);\n            snapTopLeft(e.start);\n            snapBottomRight(e.finish);\n          });\n        });\n        editor.on('ResizeEditor ResizeWindow ScrollContent', () => {\n          snapLastTopLeft();\n          snapLastBottomRight();\n        });\n        editor.on('TableSelectionClear', () => {\n          if (isVisible.get()) {\n            detach(topLeft);\n            detach(bottomRight);\n            isVisible.set(false);\n          }\n          startCell.clear();\n          finishCell.clear();\n        });\n      }\n    };\n\n    var Logo = \"<svg width=\\\"50px\\\" height=\\\"16px\\\" viewBox=\\\"0 0 50 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z\\\"/>\\n</svg>\\n\";\n\n    const isHidden = elm => elm.nodeName === 'BR' || !!elm.getAttribute('data-mce-bogus') || elm.getAttribute('data-mce-type') === 'bookmark';\n    const renderElementPath = (editor, settings, providersBackstage) => {\n      var _a;\n      const delimiter = (_a = settings.delimiter) !== null && _a !== void 0 ? _a : '\\u203A';\n      const renderElement = (name, element, index) => Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path-item'],\n          attributes: {\n            'data-index': index,\n            'aria-level': index + 1\n          }\n        },\n        components: [text$2(name)],\n        action: _btn => {\n          editor.focus();\n          editor.selection.select(element);\n          editor.nodeChanged();\n        },\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(providersBackstage.isDisabled),\n          receivingConfig()\n        ])\n      });\n      const renderDivider = () => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path-divider'],\n          attributes: { 'aria-hidden': true }\n        },\n        components: [text$2(` ${ delimiter } `)]\n      });\n      const renderPathData = data => foldl(data, (acc, path, index) => {\n        const element = renderElement(path.name, path.element, index);\n        if (index === 0) {\n          return acc.concat([element]);\n        } else {\n          return acc.concat([\n            renderDivider(),\n            element\n          ]);\n        }\n      }, []);\n      const updatePath = parents => {\n        const newPath = [];\n        let i = parents.length;\n        while (i-- > 0) {\n          const parent = parents[i];\n          if (parent.nodeType === 1 && !isHidden(parent)) {\n            const args = fireResolveName(editor, parent);\n            if (!args.isDefaultPrevented()) {\n              newPath.push({\n                name: args.name,\n                element: parent\n              });\n            }\n            if (args.isPropagationStopped()) {\n              break;\n            }\n          }\n        }\n        return newPath;\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path'],\n          attributes: { role: 'navigation' }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'flow',\n            selector: 'div[role=button]'\n          }),\n          Disabling.config({ disabled: providersBackstage.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          config('elementPathEvents', [runOnAttached((comp, _e) => {\n              editor.shortcuts.add('alt+F11', 'focus statusbar elementpath', () => Keying.focusIn(comp));\n              editor.on('NodeChange', e => {\n                const newPath = updatePath(e.parents);\n                const newChildren = newPath.length > 0 ? renderPathData(newPath) : [];\n                Replacing.set(comp, newChildren);\n              });\n            })])\n        ]),\n        components: []\n      };\n    };\n\n    var ResizeTypes;\n    (function (ResizeTypes) {\n      ResizeTypes[ResizeTypes['None'] = 0] = 'None';\n      ResizeTypes[ResizeTypes['Both'] = 1] = 'Both';\n      ResizeTypes[ResizeTypes['Vertical'] = 2] = 'Vertical';\n    }(ResizeTypes || (ResizeTypes = {})));\n    const getDimensions = (editor, deltas, resizeType, originalHeight, originalWidth) => {\n      const dimensions = { height: calcCappedSize(originalHeight + deltas.top, getMinHeightOption(editor), getMaxHeightOption(editor)) };\n      if (resizeType === ResizeTypes.Both) {\n        dimensions.width = calcCappedSize(originalWidth + deltas.left, getMinWidthOption(editor), getMaxWidthOption(editor));\n      }\n      return dimensions;\n    };\n    const resize = (editor, deltas, resizeType) => {\n      const container = SugarElement.fromDom(editor.getContainer());\n      const dimensions = getDimensions(editor, deltas, resizeType, get$d(container), get$c(container));\n      each(dimensions, (val, dim) => {\n        if (isNumber(val)) {\n          set$8(container, dim, numToPx(val));\n        }\n      });\n      fireResizeEditor(editor);\n    };\n\n    const getResizeType = editor => {\n      const resize = getResize(editor);\n      if (resize === false) {\n        return ResizeTypes.None;\n      } else if (resize === 'both') {\n        return ResizeTypes.Both;\n      } else {\n        return ResizeTypes.Vertical;\n      }\n    };\n    const keyboardHandler = (editor, resizeType, x, y) => {\n      const scale = 20;\n      const delta = SugarPosition(x * scale, y * scale);\n      resize(editor, delta, resizeType);\n      return Optional.some(true);\n    };\n    const renderResizeHandler = (editor, providersBackstage) => {\n      const resizeType = getResizeType(editor);\n      if (resizeType === ResizeTypes.None) {\n        return Optional.none();\n      }\n      return Optional.some(render$3('resize-handle', {\n        tag: 'div',\n        classes: ['tox-statusbar__resize-handle'],\n        attributes: { title: providersBackstage.translate('Resize') },\n        behaviours: [\n          Dragging.config({\n            mode: 'mouse',\n            repositionTarget: false,\n            onDrag: (_comp, _target, delta) => resize(editor, delta, resizeType),\n            blockerClass: 'tox-blocker'\n          }),\n          Keying.config({\n            mode: 'special',\n            onLeft: () => keyboardHandler(editor, resizeType, -1, 0),\n            onRight: () => keyboardHandler(editor, resizeType, 1, 0),\n            onUp: () => keyboardHandler(editor, resizeType, 0, -1),\n            onDown: () => keyboardHandler(editor, resizeType, 0, 1)\n          }),\n          Tabstopping.config({}),\n          Focusing.config({})\n        ]\n      }, providersBackstage.icons));\n    };\n\n    const renderWordCount = (editor, providersBackstage) => {\n      const replaceCountText = (comp, count, mode) => Replacing.set(comp, [text$2(providersBackstage.translate([\n          '{0} ' + mode,\n          count[mode]\n        ]))]);\n      return Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: ['tox-statusbar__wordcount']\n        },\n        components: [],\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(providersBackstage.isDisabled),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: {\n                mode: 'words',\n                count: {\n                  words: 0,\n                  characters: 0\n                }\n              }\n            }\n          }),\n          config('wordcount-events', [\n            runOnExecute$1(comp => {\n              const currentVal = Representing.getValue(comp);\n              const newMode = currentVal.mode === 'words' ? 'characters' : 'words';\n              Representing.setValue(comp, {\n                mode: newMode,\n                count: currentVal.count\n              });\n              replaceCountText(comp, currentVal.count, newMode);\n            }),\n            runOnAttached(comp => {\n              editor.on('wordCountUpdate', e => {\n                const {mode} = Representing.getValue(comp);\n                Representing.setValue(comp, {\n                  mode,\n                  count: e.wordCount\n                });\n                replaceCountText(comp, e.wordCount, mode);\n              });\n            })\n          ])\n        ]),\n        eventOrder: {\n          [execute$5()]: [\n            'disabling',\n            'alloy.base.behaviour',\n            'wordcount-events'\n          ]\n        }\n      });\n    };\n\n    const renderStatusbar = (editor, providersBackstage) => {\n      const renderBranding = () => {\n        return {\n          dom: {\n            tag: 'span',\n            classes: ['tox-statusbar__branding']\n          },\n          components: [{\n              dom: {\n                tag: 'a',\n                attributes: {\n                  'href': 'https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6',\n                  'rel': 'noopener',\n                  'target': '_blank',\n                  'aria-label': global$8.translate([\n                    'Powered by {0}',\n                    'Tiny'\n                  ])\n                },\n                innerHtml: Logo.trim()\n              },\n              behaviours: derive$1([Focusing.config({})])\n            }]\n        };\n      };\n      const getTextComponents = () => {\n        const components = [];\n        if (useElementPath(editor)) {\n          components.push(renderElementPath(editor, {}, providersBackstage));\n        }\n        if (editor.hasPlugin('wordcount')) {\n          components.push(renderWordCount(editor, providersBackstage));\n        }\n        if (useBranding(editor)) {\n          components.push(renderBranding());\n        }\n        if (components.length > 0) {\n          return [{\n              dom: {\n                tag: 'div',\n                classes: ['tox-statusbar__text-container']\n              },\n              components\n            }];\n        }\n        return [];\n      };\n      const getComponents = () => {\n        const components = getTextComponents();\n        const resizeHandler = renderResizeHandler(editor, providersBackstage);\n        return components.concat(resizeHandler.toArray());\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar']\n        },\n        components: getComponents()\n      };\n    };\n\n    const getLazyMothership = (label, singleton) => singleton.get().getOrDie(`UI for ${ label } has not been rendered`);\n    const setup$3 = (editor, setupForTheme) => {\n      const isInline = editor.inline;\n      const mode = isInline ? Inline : Iframe;\n      const header = isStickyToolbar(editor) ? StickyHeader : StaticHeader;\n      const lazyUiRefs = LazyUiReferences();\n      const lazyMothership = value$2();\n      const lazyDialogMothership = value$2();\n      const lazyPopupMothership = value$2();\n      const platform = detect$2();\n      const isTouch = platform.deviceType.isTouch();\n      const touchPlatformClass = 'tox-platform-touch';\n      const deviceClasses = isTouch ? [touchPlatformClass] : [];\n      const isToolbarBottom = isToolbarLocationBottom(editor);\n      const toolbarMode = getToolbarMode(editor);\n      const memAnchorBar = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-anchorbar']\n        }\n      });\n      const lazyHeader = () => lazyUiRefs.mainUi.get().map(ui => ui.outerContainer).bind(OuterContainer.getHeader);\n      const lazyDialogSinkResult = () => Result.fromOption(lazyUiRefs.dialogUi.get().map(ui => ui.sink), 'UI has not been rendered');\n      const lazyPopupSinkResult = () => Result.fromOption(lazyUiRefs.popupUi.get().map(ui => ui.sink), '(popup) UI has not been rendered');\n      const lazyAnchorBar = lazyUiRefs.lazyGetInOuterOrDie('anchor bar', memAnchorBar.getOpt);\n      const lazyToolbar = lazyUiRefs.lazyGetInOuterOrDie('toolbar', OuterContainer.getToolbar);\n      const lazyThrobber = lazyUiRefs.lazyGetInOuterOrDie('throbber', OuterContainer.getThrobber);\n      const backstages = init$6({\n        popup: lazyPopupSinkResult,\n        dialog: lazyDialogSinkResult\n      }, editor, lazyAnchorBar);\n      const makeHeaderPart = () => {\n        const verticalDirAttributes = { attributes: { [Attribute]: isToolbarBottom ? AttributeValue.BottomToTop : AttributeValue.TopToBottom } };\n        const partMenubar = OuterContainer.parts.menubar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-menubar']\n          },\n          backstage: backstages.popup,\n          onEscape: () => {\n            editor.focus();\n          }\n        });\n        const partToolbar = OuterContainer.parts.toolbar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-toolbar']\n          },\n          getSink: backstages.popup.shared.getSink,\n          providers: backstages.popup.shared.providers,\n          onEscape: () => {\n            editor.focus();\n          },\n          onToolbarToggled: state => {\n            fireToggleToolbarDrawer(editor, state);\n          },\n          type: toolbarMode,\n          lazyToolbar,\n          lazyHeader: () => lazyHeader().getOrDie('Could not find header element'),\n          ...verticalDirAttributes\n        });\n        const partMultipleToolbar = OuterContainer.parts['multiple-toolbar']({\n          dom: {\n            tag: 'div',\n            classes: ['tox-toolbar-overlord']\n          },\n          providers: backstages.popup.shared.providers,\n          onEscape: () => {\n            editor.focus();\n          },\n          type: toolbarMode\n        });\n        const hasMultipleToolbar = isMultipleToolbars(editor);\n        const hasToolbar = isToolbarEnabled(editor);\n        const hasMenubar = isMenubarEnabled(editor);\n        const shouldHavePromotion = promotionEnabled(editor);\n        const partPromotion = makePromotion();\n        const hasAnyContents = hasMultipleToolbar || hasToolbar || hasMenubar;\n        const getPartToolbar = () => {\n          if (hasMultipleToolbar) {\n            return [partMultipleToolbar];\n          } else if (hasToolbar) {\n            return [partToolbar];\n          } else {\n            return [];\n          }\n        };\n        const menubarCollection = shouldHavePromotion ? [\n          partPromotion,\n          partMenubar\n        ] : [partMenubar];\n        return OuterContainer.parts.header({\n          dom: {\n            tag: 'div',\n            classes: ['tox-editor-header'].concat(hasAnyContents ? [] : ['tox-editor-header--empty']),\n            ...verticalDirAttributes\n          },\n          components: flatten([\n            hasMenubar ? menubarCollection : [],\n            getPartToolbar(),\n            useFixedContainer(editor) ? [] : [memAnchorBar.asSpec()]\n          ]),\n          sticky: isStickyToolbar(editor),\n          editor,\n          sharedBackstage: backstages.popup.shared\n        });\n      };\n      const makePromotion = () => {\n        return OuterContainer.parts.promotion({\n          dom: {\n            tag: 'div',\n            classes: ['tox-promotion']\n          }\n        });\n      };\n      const makeSidebarDefinition = () => {\n        const partSocket = OuterContainer.parts.socket({\n          dom: {\n            tag: 'div',\n            classes: ['tox-edit-area']\n          }\n        });\n        const partSidebar = OuterContainer.parts.sidebar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar']\n          }\n        });\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar-wrap']\n          },\n          components: [\n            partSocket,\n            partSidebar\n          ]\n        };\n      };\n      const renderDialogUi = () => {\n        const uiContainer = getUiContainer(editor);\n        const isGridUiContainer = eq(body(), uiContainer) && get$e(uiContainer, 'display') === 'grid';\n        const sinkSpec = {\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-silver-sink',\n              'tox-tinymce-aux'\n            ].concat(deviceClasses),\n            attributes: { ...global$8.isRtl() ? { dir: 'rtl' } : {} }\n          },\n          behaviours: derive$1([Positioning.config({ useFixed: () => header.isDocked(lazyHeader) })])\n        };\n        const reactiveWidthSpec = {\n          dom: { styles: { width: document.body.clientWidth + 'px' } },\n          events: derive$2([run$1(windowResize(), comp => {\n              set$8(comp.element, 'width', document.body.clientWidth + 'px');\n            })])\n        };\n        const sink = build$1(deepMerge(sinkSpec, isGridUiContainer ? reactiveWidthSpec : {}));\n        const uiMothership = takeover(sink);\n        lazyDialogMothership.set(uiMothership);\n        return {\n          sink,\n          mothership: uiMothership\n        };\n      };\n      const renderPopupUi = () => {\n        const sinkSpec = {\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-silver-sink',\n              'tox-silver-popup-sink',\n              'tox-tinymce-aux'\n            ].concat(deviceClasses),\n            attributes: { ...global$8.isRtl() ? { dir: 'rtl' } : {} }\n          },\n          behaviours: derive$1([Positioning.config({\n              useFixed: () => header.isDocked(lazyHeader),\n              getBounds: () => setupForTheme.getPopupSinkBounds()\n            })])\n        };\n        const sink = build$1(sinkSpec);\n        const uiMothership = takeover(sink);\n        lazyPopupMothership.set(uiMothership);\n        return {\n          sink,\n          mothership: uiMothership\n        };\n      };\n      const renderMainUi = () => {\n        const partHeader = makeHeaderPart();\n        const sidebarContainer = makeSidebarDefinition();\n        const partThrobber = OuterContainer.parts.throbber({\n          dom: {\n            tag: 'div',\n            classes: ['tox-throbber']\n          },\n          backstage: backstages.popup\n        });\n        const partViewWrapper = OuterContainer.parts.viewWrapper({ backstage: backstages.popup });\n        const statusbar = useStatusBar(editor) && !isInline ? Optional.some(renderStatusbar(editor, backstages.popup.shared.providers)) : Optional.none();\n        const editorComponents = flatten([\n          isToolbarBottom ? [] : [partHeader],\n          isInline ? [] : [sidebarContainer],\n          isToolbarBottom ? [partHeader] : []\n        ]);\n        const editorContainer = OuterContainer.parts.editorContainer({\n          components: flatten([\n            editorComponents,\n            isInline ? [] : statusbar.toArray()\n          ])\n        });\n        const isHidden = isDistractionFree(editor);\n        const attributes = {\n          role: 'application',\n          ...global$8.isRtl() ? { dir: 'rtl' } : {},\n          ...isHidden ? { 'aria-hidden': 'true' } : {}\n        };\n        const outerContainer = build$1(OuterContainer.sketch({\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-tinymce'\n            ].concat(isInline ? ['tox-tinymce-inline'] : []).concat(isToolbarBottom ? ['tox-tinymce--toolbar-bottom'] : []).concat(deviceClasses),\n            styles: {\n              visibility: 'hidden',\n              ...isHidden ? {\n                opacity: '0',\n                border: '0'\n              } : {}\n            },\n            attributes\n          },\n          components: [\n            editorContainer,\n            ...isInline ? [] : [partViewWrapper],\n            partThrobber\n          ],\n          behaviours: derive$1([\n            receivingConfig(),\n            Disabling.config({ disableClass: 'tox-tinymce--disabled' }),\n            Keying.config({\n              mode: 'cyclic',\n              selector: '.tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle'\n            })\n          ])\n        }));\n        const mothership = takeover(outerContainer);\n        lazyMothership.set(mothership);\n        return {\n          mothership,\n          outerContainer\n        };\n      };\n      const setEditorSize = outerContainer => {\n        const parsedHeight = numToPx(getHeightWithFallback(editor));\n        const parsedWidth = numToPx(getWidthWithFallback(editor));\n        if (!editor.inline) {\n          if (isValidValue('div', 'width', parsedWidth)) {\n            set$8(outerContainer.element, 'width', parsedWidth);\n          }\n          if (isValidValue('div', 'height', parsedHeight)) {\n            set$8(outerContainer.element, 'height', parsedHeight);\n          } else {\n            set$8(outerContainer.element, 'height', '400px');\n          }\n        }\n        return parsedHeight;\n      };\n      const setupShortcutsAndCommands = outerContainer => {\n        editor.addShortcut('alt+F9', 'focus menubar', () => {\n          OuterContainer.focusMenubar(outerContainer);\n        });\n        editor.addShortcut('alt+F10', 'focus toolbar', () => {\n          OuterContainer.focusToolbar(outerContainer);\n        });\n        editor.addCommand('ToggleToolbarDrawer', (_ui, options) => {\n          if (options === null || options === void 0 ? void 0 : options.skipFocus) {\n            OuterContainer.toggleToolbarDrawerWithoutFocusing(outerContainer);\n          } else {\n            OuterContainer.toggleToolbarDrawer(outerContainer);\n          }\n        });\n        editor.addQueryStateHandler('ToggleToolbarDrawer', () => OuterContainer.isToolbarDrawerToggled(outerContainer));\n      };\n      const renderUIWithRefs = uiRefs => {\n        const {mainUi, popupUi, uiMotherships} = uiRefs;\n        map$1(getToolbarGroups(editor), (toolbarGroupButtonConfig, name) => {\n          editor.ui.registry.addGroupToolbarButton(name, toolbarGroupButtonConfig);\n        });\n        const {buttons, menuItems, contextToolbars, sidebars, views} = editor.ui.registry.getAll();\n        const toolbarOpt = getMultipleToolbarsOption(editor);\n        const rawUiConfig = {\n          menuItems,\n          menus: getMenus(editor),\n          menubar: getMenubar(editor),\n          toolbar: toolbarOpt.getOrThunk(() => getToolbar(editor)),\n          allowToolbarGroups: toolbarMode === ToolbarMode$1.floating,\n          buttons,\n          sidebar: sidebars,\n          views\n        };\n        setupShortcutsAndCommands(mainUi.outerContainer);\n        setup$b(editor, mainUi.mothership, uiMotherships);\n        header.setup(editor, backstages.popup.shared, lazyHeader);\n        setup$6(editor, backstages.popup);\n        setup$5(editor, backstages.popup.shared.getSink, backstages.popup);\n        setup$8(editor);\n        setup$7(editor, lazyThrobber, backstages.popup.shared);\n        register$9(editor, contextToolbars, popupUi.sink, { backstage: backstages.popup });\n        setup$4(editor, popupUi.sink);\n        const elm = editor.getElement();\n        const height = setEditorSize(mainUi.outerContainer);\n        const args = {\n          targetNode: elm,\n          height\n        };\n        return mode.render(editor, uiRefs, rawUiConfig, backstages.popup, args);\n      };\n      const reuseDialogUiForPopuUi = dialogUi => {\n        lazyPopupMothership.set(dialogUi.mothership);\n        return dialogUi;\n      };\n      const renderUI = () => {\n        const mainUi = renderMainUi();\n        const dialogUi = renderDialogUi();\n        const popupUi = isSplitUiMode(editor) ? renderPopupUi() : reuseDialogUiForPopuUi(dialogUi);\n        lazyUiRefs.dialogUi.set(dialogUi);\n        lazyUiRefs.popupUi.set(popupUi);\n        lazyUiRefs.mainUi.set(mainUi);\n        const uiRefs = {\n          popupUi,\n          dialogUi,\n          mainUi,\n          uiMotherships: lazyUiRefs.getUiMotherships()\n        };\n        return renderUIWithRefs(uiRefs);\n      };\n      return {\n        popups: {\n          backstage: backstages.popup,\n          getMothership: () => getLazyMothership('popups', lazyPopupMothership)\n        },\n        dialogs: {\n          backstage: backstages.dialog,\n          getMothership: () => getLazyMothership('dialogs', lazyDialogMothership)\n        },\n        renderUI\n      };\n    };\n\n    const describedBy = (describedElement, describeElement) => {\n      const describeId = Optional.from(get$f(describedElement, 'id')).fold(() => {\n        const id = generate$6('dialog-describe');\n        set$9(describeElement, 'id', id);\n        return id;\n      }, identity);\n      set$9(describedElement, 'aria-describedby', describeId);\n    };\n\n    const labelledBy = (labelledElement, labelElement) => {\n      const labelId = getOpt(labelledElement, 'id').fold(() => {\n        const id = generate$6('dialog-label');\n        set$9(labelElement, 'id', id);\n        return id;\n      }, identity);\n      set$9(labelledElement, 'aria-labelledby', labelId);\n    };\n\n    const schema$2 = constant$1([\n      required$1('lazySink'),\n      option$3('dragBlockClass'),\n      defaultedFunction('getBounds', win),\n      defaulted('useTabstopAt', always),\n      defaulted('firstTabstop', 0),\n      defaulted('eventOrder', {}),\n      field('modalBehaviours', [Keying]),\n      onKeyboardHandler('onExecute'),\n      onStrictKeyboardHandler('onEscape')\n    ]);\n    const basic = { sketch: identity };\n    const parts$2 = constant$1([\n      optional({\n        name: 'draghandle',\n        overrides: (detail, spec) => {\n          return {\n            behaviours: derive$1([Dragging.config({\n                mode: 'mouse',\n                getTarget: handle => {\n                  return ancestor(handle, '[role=\"dialog\"]').getOr(handle);\n                },\n                blockerClass: detail.dragBlockClass.getOrDie(new Error('The drag blocker class was not specified for a dialog with a drag handle: \\n' + JSON.stringify(spec, null, 2)).message),\n                getBounds: detail.getDragBounds\n              })])\n          };\n        }\n      }),\n      required({\n        schema: [required$1('dom')],\n        name: 'title'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'close'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'body'\n      }),\n      optional({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'footer'\n      }),\n      external({\n        factory: {\n          sketch: (spec, detail) => ({\n            ...spec,\n            dom: detail.dom,\n            components: detail.components\n          })\n        },\n        schema: [\n          defaulted('dom', {\n            tag: 'div',\n            styles: {\n              position: 'fixed',\n              left: '0px',\n              top: '0px',\n              right: '0px',\n              bottom: '0px'\n            }\n          }),\n          defaulted('components', [])\n        ],\n        name: 'blocker'\n      })\n    ]);\n\n    const factory$4 = (detail, components, spec, externals) => {\n      const dialogComp = value$2();\n      const showDialog = dialog => {\n        dialogComp.set(dialog);\n        const sink = detail.lazySink(dialog).getOrDie();\n        const externalBlocker = externals.blocker();\n        const blocker = sink.getSystem().build({\n          ...externalBlocker,\n          components: externalBlocker.components.concat([premade(dialog)]),\n          behaviours: derive$1([\n            Focusing.config({}),\n            config('dialog-blocker-events', [runOnSource(focusin(), () => {\n                Keying.focusIn(dialog);\n              })])\n          ])\n        });\n        attach(sink, blocker);\n        Keying.focusIn(dialog);\n      };\n      const hideDialog = dialog => {\n        dialogComp.clear();\n        parent(dialog.element).each(blockerDom => {\n          dialog.getSystem().getByDom(blockerDom).each(blocker => {\n            detach(blocker);\n          });\n        });\n      };\n      const getDialogBody = dialog => getPartOrDie(dialog, detail, 'body');\n      const getDialogFooter = dialog => getPartOrDie(dialog, detail, 'footer');\n      const setBusy = (dialog, getBusySpec) => {\n        Blocking.block(dialog, getBusySpec);\n      };\n      const setIdle = dialog => {\n        Blocking.unblock(dialog);\n      };\n      const modalEventsId = generate$6('modal-events');\n      const eventOrder = {\n        ...detail.eventOrder,\n        [attachedToDom()]: [modalEventsId].concat(detail.eventOrder['alloy.system.attached'] || [])\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis: {\n          show: showDialog,\n          hide: hideDialog,\n          getBody: getDialogBody,\n          getFooter: getDialogFooter,\n          setIdle,\n          setBusy\n        },\n        eventOrder,\n        domModification: {\n          attributes: {\n            'role': 'dialog',\n            'aria-modal': 'true'\n          }\n        },\n        behaviours: augment(detail.modalBehaviours, [\n          Replacing.config({}),\n          Keying.config({\n            mode: 'cyclic',\n            onEnter: detail.onExecute,\n            onEscape: detail.onEscape,\n            useTabstopAt: detail.useTabstopAt,\n            firstTabstop: detail.firstTabstop\n          }),\n          Blocking.config({ getRoot: dialogComp.get }),\n          config(modalEventsId, [runOnAttached(c => {\n              labelledBy(c.element, getPartOrDie(c, detail, 'title').element);\n              describedBy(c.element, getPartOrDie(c, detail, 'body').element);\n            })])\n        ])\n      };\n    };\n    const ModalDialog = composite({\n      name: 'ModalDialog',\n      configFields: schema$2(),\n      partFields: parts$2(),\n      factory: factory$4,\n      apis: {\n        show: (apis, dialog) => {\n          apis.show(dialog);\n        },\n        hide: (apis, dialog) => {\n          apis.hide(dialog);\n        },\n        getBody: (apis, dialog) => apis.getBody(dialog),\n        getFooter: (apis, dialog) => apis.getFooter(dialog),\n        setBusy: (apis, dialog, getBusySpec) => {\n          apis.setBusy(dialog, getBusySpec);\n        },\n        setIdle: (apis, dialog) => {\n          apis.setIdle(dialog);\n        }\n      }\n    });\n\n    const dialogToggleMenuItemSchema = objOf([\n      type,\n      name$1\n    ].concat(commonMenuItemFields));\n    const dialogToggleMenuItemDataProcessor = boolean;\n\n    const baseFooterButtonFields = [\n      generatedName('button'),\n      optionalIcon,\n      defaultedStringEnum('align', 'end', [\n        'start',\n        'end'\n      ]),\n      primary,\n      enabled,\n      optionStringEnum('buttonType', [\n        'primary',\n        'secondary'\n      ])\n    ];\n    const dialogFooterButtonFields = [\n      ...baseFooterButtonFields,\n      text$1\n    ];\n    const normalFooterButtonFields = [\n      requiredStringEnum('type', [\n        'submit',\n        'cancel',\n        'custom'\n      ]),\n      ...dialogFooterButtonFields\n    ];\n    const menuFooterButtonFields = [\n      requiredStringEnum('type', ['menu']),\n      optionalText,\n      optionalTooltip,\n      optionalIcon,\n      requiredArrayOf('items', dialogToggleMenuItemSchema),\n      ...baseFooterButtonFields\n    ];\n    const toggleButtonSpecFields = [\n      ...baseFooterButtonFields,\n      requiredStringEnum('type', ['togglebutton']),\n      requiredString('tooltip'),\n      icon,\n      optionalText,\n      defaultedBoolean('active', false)\n    ];\n    const dialogFooterButtonSchema = choose$1('type', {\n      submit: normalFooterButtonFields,\n      cancel: normalFooterButtonFields,\n      custom: normalFooterButtonFields,\n      menu: menuFooterButtonFields,\n      togglebutton: toggleButtonSpecFields\n    });\n\n    const alertBannerFields = [\n      type,\n      text$1,\n      requiredStringEnum('level', [\n        'info',\n        'warn',\n        'error',\n        'success'\n      ]),\n      icon,\n      defaulted('url', '')\n    ];\n    const alertBannerSchema = objOf(alertBannerFields);\n\n    const createBarFields = itemsField => [\n      type,\n      itemsField\n    ];\n\n    const buttonFields = [\n      type,\n      text$1,\n      enabled,\n      generatedName('button'),\n      optionalIcon,\n      borderless,\n      optionStringEnum('buttonType', [\n        'primary',\n        'secondary',\n        'toolbar'\n      ]),\n      primary\n    ];\n    const buttonSchema = objOf(buttonFields);\n\n    const formComponentFields = [\n      type,\n      name$1\n    ];\n    const formComponentWithLabelFields = formComponentFields.concat([optionalLabel]);\n\n    const checkboxFields = formComponentFields.concat([\n      label,\n      enabled\n    ]);\n    const checkboxSchema = objOf(checkboxFields);\n    const checkboxDataProcessor = boolean;\n\n    const collectionFields = formComponentWithLabelFields.concat([defaultedColumns('auto')]);\n    const collectionSchema = objOf(collectionFields);\n    const collectionDataProcessor = arrOfObj([\n      value$1,\n      text$1,\n      icon\n    ]);\n\n    const colorInputFields = formComponentWithLabelFields.concat([defaultedString('storageKey', 'default')]);\n    const colorInputSchema = objOf(colorInputFields);\n    const colorInputDataProcessor = string;\n\n    const colorPickerFields = formComponentWithLabelFields;\n    const colorPickerSchema = objOf(colorPickerFields);\n    const colorPickerDataProcessor = string;\n\n    const customEditorFields = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredString('scriptId'),\n      requiredString('scriptUrl'),\n      defaultedPostMsg('settings', undefined)\n    ]);\n    const customEditorFieldsOld = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredFunction('init')\n    ]);\n    const customEditorSchema = valueOf(v => asRaw('customeditor.old', objOfOnly(customEditorFieldsOld), v).orThunk(() => asRaw('customeditor.new', objOfOnly(customEditorFields), v)));\n    const customEditorDataProcessor = string;\n\n    const dropZoneFields = formComponentWithLabelFields;\n    const dropZoneSchema = objOf(dropZoneFields);\n    const dropZoneDataProcessor = arrOfVal();\n\n    const createGridFields = itemsField => [\n      type,\n      requiredNumber('columns'),\n      itemsField\n    ];\n\n    const htmlPanelFields = [\n      type,\n      requiredString('html'),\n      defaultedStringEnum('presets', 'presentation', [\n        'presentation',\n        'document'\n      ])\n    ];\n    const htmlPanelSchema = objOf(htmlPanelFields);\n\n    const iframeFields = formComponentWithLabelFields.concat([\n      defaultedBoolean('sandboxed', true),\n      defaultedBoolean('transparent', true)\n    ]);\n    const iframeSchema = objOf(iframeFields);\n    const iframeDataProcessor = string;\n\n    const imagePreviewSchema = objOf(formComponentFields.concat([optionString('height')]));\n    const imagePreviewDataProcessor = objOf([\n      requiredString('url'),\n      optionNumber('zoom'),\n      optionNumber('cachedWidth'),\n      optionNumber('cachedHeight')\n    ]);\n\n    const inputFields = formComponentWithLabelFields.concat([\n      optionString('inputMode'),\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      enabled\n    ]);\n    const inputSchema = objOf(inputFields);\n    const inputDataProcessor = string;\n\n    const createLabelFields = itemsField => [\n      type,\n      label,\n      itemsField\n    ];\n\n    const listBoxSingleItemFields = [\n      text$1,\n      value$1\n    ];\n    const listBoxNestedItemFields = [\n      text$1,\n      requiredArrayOf('items', thunkOf('items', () => listBoxItemSchema))\n    ];\n    const listBoxItemSchema = oneOf([\n      objOf(listBoxSingleItemFields),\n      objOf(listBoxNestedItemFields)\n    ]);\n    const listBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOf('items', listBoxItemSchema),\n      enabled\n    ]);\n    const listBoxSchema = objOf(listBoxFields);\n    const listBoxDataProcessor = string;\n\n    const selectBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOfObj('items', [\n        text$1,\n        value$1\n      ]),\n      defaultedNumber('size', 1),\n      enabled\n    ]);\n    const selectBoxSchema = objOf(selectBoxFields);\n    const selectBoxDataProcessor = string;\n\n    const sizeInputFields = formComponentWithLabelFields.concat([\n      defaultedBoolean('constrain', true),\n      enabled\n    ]);\n    const sizeInputSchema = objOf(sizeInputFields);\n    const sizeInputDataProcessor = objOf([\n      requiredString('width'),\n      requiredString('height')\n    ]);\n\n    const sliderFields = formComponentFields.concat([\n      label,\n      defaultedNumber('min', 0),\n      defaultedNumber('max', 0)\n    ]);\n    const sliderSchema = objOf(sliderFields);\n    const sliderInputDataProcessor = number;\n\n    const tableFields = [\n      type,\n      requiredArrayOf('header', string),\n      requiredArrayOf('cells', arrOf(string))\n    ];\n    const tableSchema = objOf(tableFields);\n\n    const textAreaFields = formComponentWithLabelFields.concat([\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      enabled\n    ]);\n    const textAreaSchema = objOf(textAreaFields);\n    const textAreaDataProcessor = string;\n\n    const baseTreeItemFields = [\n      requiredStringEnum('type', [\n        'directory',\n        'leaf'\n      ]),\n      title,\n      requiredString('id'),\n      optionOf('menu', MenuButtonSchema)\n    ];\n    const treeItemLeafFields = baseTreeItemFields;\n    const treeItemLeafSchema = objOf(treeItemLeafFields);\n    const treeItemDirectoryFields = baseTreeItemFields.concat([requiredArrayOf('children', thunkOf('children', () => {\n        return choose$2('type', {\n          directory: treeItemDirectorySchema,\n          leaf: treeItemLeafSchema\n        });\n      }))]);\n    const treeItemDirectorySchema = objOf(treeItemDirectoryFields);\n    const treeItemSchema = choose$2('type', {\n      directory: treeItemDirectorySchema,\n      leaf: treeItemLeafSchema\n    });\n    const treeFields = [\n      type,\n      requiredArrayOf('items', treeItemSchema),\n      optionFunction('onLeafAction')\n    ];\n    const treeSchema = objOf(treeFields);\n\n    const urlInputFields = formComponentWithLabelFields.concat([\n      defaultedStringEnum('filetype', 'file', [\n        'image',\n        'media',\n        'file'\n      ]),\n      enabled\n    ]);\n    const urlInputSchema = objOf(urlInputFields);\n    const urlInputDataProcessor = objOf([\n      value$1,\n      defaultedMeta\n    ]);\n\n    const createItemsField = name => field$1('items', 'items', required$2(), arrOf(valueOf(v => asRaw(`Checking item of ${ name }`, itemSchema, v).fold(sErr => Result.error(formatError(sErr)), passValue => Result.value(passValue)))));\n    const itemSchema = valueThunk(() => choose$2('type', {\n      alertbanner: alertBannerSchema,\n      bar: objOf(createBarFields(createItemsField('bar'))),\n      button: buttonSchema,\n      checkbox: checkboxSchema,\n      colorinput: colorInputSchema,\n      colorpicker: colorPickerSchema,\n      dropzone: dropZoneSchema,\n      grid: objOf(createGridFields(createItemsField('grid'))),\n      iframe: iframeSchema,\n      input: inputSchema,\n      listbox: listBoxSchema,\n      selectbox: selectBoxSchema,\n      sizeinput: sizeInputSchema,\n      slider: sliderSchema,\n      textarea: textAreaSchema,\n      urlinput: urlInputSchema,\n      customeditor: customEditorSchema,\n      htmlpanel: htmlPanelSchema,\n      imagepreview: imagePreviewSchema,\n      collection: collectionSchema,\n      label: objOf(createLabelFields(createItemsField('label'))),\n      table: tableSchema,\n      tree: treeSchema,\n      panel: panelSchema\n    }));\n    const panelFields = [\n      type,\n      defaulted('classes', []),\n      requiredArrayOf('items', itemSchema)\n    ];\n    const panelSchema = objOf(panelFields);\n\n    const tabFields = [\n      generatedName('tab'),\n      title,\n      requiredArrayOf('items', itemSchema)\n    ];\n    const tabPanelFields = [\n      type,\n      requiredArrayOfObj('tabs', tabFields)\n    ];\n    const tabPanelSchema = objOf(tabPanelFields);\n\n    const dialogButtonFields = dialogFooterButtonFields;\n    const dialogButtonSchema = dialogFooterButtonSchema;\n    const dialogSchema = objOf([\n      requiredString('title'),\n      requiredOf('body', choose$2('type', {\n        panel: panelSchema,\n        tabpanel: tabPanelSchema\n      })),\n      defaultedString('size', 'normal'),\n      requiredArrayOf('buttons', dialogButtonSchema),\n      defaulted('initialData', {}),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onChange', noop),\n      defaultedFunction('onSubmit', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onTabChange', noop)\n    ]);\n    const createDialog = spec => asRaw('dialog', dialogSchema, spec);\n\n    const urlDialogButtonSchema = objOf([\n      requiredStringEnum('type', [\n        'cancel',\n        'custom'\n      ]),\n      ...dialogButtonFields\n    ]);\n    const urlDialogSchema = objOf([\n      requiredString('title'),\n      requiredString('url'),\n      optionNumber('height'),\n      optionNumber('width'),\n      optionArrayOf('buttons', urlDialogButtonSchema),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onMessage', noop)\n    ]);\n    const createUrlDialog = spec => asRaw('dialog', urlDialogSchema, spec);\n\n    const getAllObjects = obj => {\n      if (isObject(obj)) {\n        return [obj].concat(bind$3(values(obj), getAllObjects));\n      } else if (isArray(obj)) {\n        return bind$3(obj, getAllObjects);\n      } else {\n        return [];\n      }\n    };\n\n    const isNamedItem = obj => isString(obj.type) && isString(obj.name);\n    const dataProcessors = {\n      checkbox: checkboxDataProcessor,\n      colorinput: colorInputDataProcessor,\n      colorpicker: colorPickerDataProcessor,\n      dropzone: dropZoneDataProcessor,\n      input: inputDataProcessor,\n      iframe: iframeDataProcessor,\n      imagepreview: imagePreviewDataProcessor,\n      selectbox: selectBoxDataProcessor,\n      sizeinput: sizeInputDataProcessor,\n      slider: sliderInputDataProcessor,\n      listbox: listBoxDataProcessor,\n      size: sizeInputDataProcessor,\n      textarea: textAreaDataProcessor,\n      urlinput: urlInputDataProcessor,\n      customeditor: customEditorDataProcessor,\n      collection: collectionDataProcessor,\n      togglemenuitem: dialogToggleMenuItemDataProcessor\n    };\n    const getDataProcessor = item => Optional.from(dataProcessors[item.type]);\n    const getNamedItems = structure => filter$2(getAllObjects(structure), isNamedItem);\n\n    const createDataValidator = structure => {\n      const namedItems = getNamedItems(structure);\n      const fields = bind$3(namedItems, item => getDataProcessor(item).fold(() => [], schema => [requiredOf(item.name, schema)]));\n      return objOf(fields);\n    };\n\n    const extract = structure => {\n      var _a;\n      const internalDialog = getOrDie(createDialog(structure));\n      const dataValidator = createDataValidator(structure);\n      const initialData = (_a = structure.initialData) !== null && _a !== void 0 ? _a : {};\n      return {\n        internalDialog,\n        dataValidator,\n        initialData\n      };\n    };\n    const DialogManager = {\n      open: (factory, structure) => {\n        const extraction = extract(structure);\n        return factory(extraction.internalDialog, extraction.initialData, extraction.dataValidator);\n      },\n      openUrl: (factory, structure) => {\n        const internalDialog = getOrDie(createUrlDialog(structure));\n        return factory(internalDialog);\n      },\n      redial: structure => extract(structure)\n    };\n\n    const events = (reflectingConfig, reflectingState) => {\n      const update = (component, data) => {\n        reflectingConfig.updateState.each(updateState => {\n          const newState = updateState(component, data);\n          reflectingState.set(newState);\n        });\n        reflectingConfig.renderComponents.each(renderComponents => {\n          const newComponents = renderComponents(data, reflectingState.get());\n          const replacer = reflectingConfig.reuseDom ? withReuse : withoutReuse;\n          replacer(component, newComponents);\n        });\n      };\n      return derive$2([\n        run$1(receive(), (component, message) => {\n          const receivingData = message;\n          if (!receivingData.universal) {\n            const channel = reflectingConfig.channel;\n            if (contains$2(receivingData.channels, channel)) {\n              update(component, receivingData.data);\n            }\n          }\n        }),\n        runOnAttached((comp, _se) => {\n          reflectingConfig.initialData.each(rawData => {\n            update(comp, rawData);\n          });\n        })\n      ]);\n    };\n\n    var ActiveReflecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events\n    });\n\n    const getState = (component, replaceConfig, reflectState) => reflectState;\n\n    var ReflectingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getState: getState\n    });\n\n    var ReflectingSchema = [\n      required$1('channel'),\n      option$3('renderComponents'),\n      option$3('updateState'),\n      option$3('initialData'),\n      defaultedBoolean('reuseDom', true)\n    ];\n\n    const init = () => {\n      const cell = Cell(Optional.none());\n      const clear = () => cell.set(Optional.none());\n      const readState = () => cell.get().getOr('none');\n      return {\n        readState,\n        get: cell.get,\n        set: cell.set,\n        clear\n      };\n    };\n\n    var ReflectingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init\n    });\n\n    const Reflecting = create$4({\n      fields: ReflectingSchema,\n      name: 'reflecting',\n      active: ActiveReflecting,\n      apis: ReflectingApis,\n      state: ReflectingState\n    });\n\n    const toValidValues = values => {\n      const errors = [];\n      const result = {};\n      each(values, (value, name) => {\n        value.fold(() => {\n          errors.push(name);\n        }, v => {\n          result[name] = v;\n        });\n      });\n      return errors.length > 0 ? Result.error(errors) : Result.value(result);\n    };\n\n    const renderBodyPanel = (spec, dialogData, backstage) => {\n      const memForm = record(Form.sketch(parts => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form'].concat(spec.classes)\n        },\n        components: map$2(spec.items, item => interpretInForm(parts, item, dialogData, backstage))\n      })));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            },\n            components: [memForm.asSpec()]\n          }],\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          }),\n          ComposingConfigs.memento(memForm),\n          RepresentingConfigs.memento(memForm, {\n            postprocess: formValue => toValidValues(formValue).fold(err => {\n              console.error(err);\n              return {};\n            }, identity)\n          })\n        ])\n      };\n    };\n\n    const factory$3 = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components: detail.components,\n      events: events$a(detail.action),\n      behaviours: augment(detail.tabButtonBehaviours, [\n        Focusing.config({}),\n        Keying.config({\n          mode: 'execution',\n          useSpace: true,\n          useEnter: true\n        }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.value\n          }\n        })\n      ]),\n      domModification: detail.domModification\n    });\n    const TabButton = single({\n      name: 'TabButton',\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('value'),\n        field$1('dom', 'dom', mergeWithThunk(() => ({\n          attributes: {\n            'role': 'tab',\n            'id': generate$6('aria'),\n            'aria-selected': 'false'\n          }\n        })), anyValue()),\n        option$3('action'),\n        defaulted('domModification', {}),\n        field('tabButtonBehaviours', [\n          Focusing,\n          Keying,\n          Representing\n        ]),\n        required$1('view')\n      ],\n      factory: factory$3\n    });\n\n    const schema$1 = constant$1([\n      required$1('tabs'),\n      required$1('dom'),\n      defaulted('clickToDismiss', false),\n      field('tabbarBehaviours', [\n        Highlighting,\n        Keying\n      ]),\n      markers$1([\n        'tabClass',\n        'selectedClass'\n      ])\n    ]);\n    const tabsPart = group({\n      factory: TabButton,\n      name: 'tabs',\n      unit: 'tab',\n      overrides: barDetail => {\n        const dismissTab$1 = (tabbar, button) => {\n          Highlighting.dehighlight(tabbar, button);\n          emitWith(tabbar, dismissTab(), {\n            tabbar,\n            button\n          });\n        };\n        const changeTab$1 = (tabbar, button) => {\n          Highlighting.highlight(tabbar, button);\n          emitWith(tabbar, changeTab(), {\n            tabbar,\n            button\n          });\n        };\n        return {\n          action: button => {\n            const tabbar = button.getSystem().getByUid(barDetail.uid).getOrDie();\n            const activeButton = Highlighting.isHighlighted(tabbar, button);\n            const response = (() => {\n              if (activeButton && barDetail.clickToDismiss) {\n                return dismissTab$1;\n              } else if (!activeButton) {\n                return changeTab$1;\n              } else {\n                return noop;\n              }\n            })();\n            response(tabbar, button);\n          },\n          domModification: { classes: [barDetail.markers.tabClass] }\n        };\n      }\n    });\n    const parts$1 = constant$1([tabsPart]);\n\n    const factory$2 = (detail, components, _spec, _externals) => ({\n      'uid': detail.uid,\n      'dom': detail.dom,\n      components,\n      'debug.sketcher': 'Tabbar',\n      'domModification': { attributes: { role: 'tablist' } },\n      'behaviours': augment(detail.tabbarBehaviours, [\n        Highlighting.config({\n          highlightClass: detail.markers.selectedClass,\n          itemClass: detail.markers.tabClass,\n          onHighlight: (tabbar, tab) => {\n            set$9(tab.element, 'aria-selected', 'true');\n          },\n          onDehighlight: (tabbar, tab) => {\n            set$9(tab.element, 'aria-selected', 'false');\n          }\n        }),\n        Keying.config({\n          mode: 'flow',\n          getInitial: tabbar => {\n            return Highlighting.getHighlighted(tabbar).map(tab => tab.element);\n          },\n          selector: '.' + detail.markers.tabClass,\n          executeOnMove: true\n        })\n      ])\n    });\n    const Tabbar = composite({\n      name: 'Tabbar',\n      configFields: schema$1(),\n      partFields: parts$1(),\n      factory: factory$2\n    });\n\n    const factory$1 = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      behaviours: augment(detail.tabviewBehaviours, [Replacing.config({})]),\n      domModification: { attributes: { role: 'tabpanel' } }\n    });\n    const Tabview = single({\n      name: 'Tabview',\n      configFields: [field('tabviewBehaviours', [Replacing])],\n      factory: factory$1\n    });\n\n    const schema = constant$1([\n      defaulted('selectFirst', true),\n      onHandler('onChangeTab'),\n      onHandler('onDismissTab'),\n      defaulted('tabs', []),\n      field('tabSectionBehaviours', [])\n    ]);\n    const barPart = required({\n      factory: Tabbar,\n      schema: [\n        required$1('dom'),\n        requiredObjOf('markers', [\n          required$1('tabClass'),\n          required$1('selectedClass')\n        ])\n      ],\n      name: 'tabbar',\n      defaults: detail => {\n        return { tabs: detail.tabs };\n      }\n    });\n    const viewPart = required({\n      factory: Tabview,\n      name: 'tabview'\n    });\n    const parts = constant$1([\n      barPart,\n      viewPart\n    ]);\n\n    const factory = (detail, components, _spec, _externals) => {\n      const changeTab$1 = button => {\n        const tabValue = Representing.getValue(button);\n        getPart(button, detail, 'tabview').each(tabview => {\n          const tabWithValue = find$5(detail.tabs, t => t.value === tabValue);\n          tabWithValue.each(tabData => {\n            const panel = tabData.view();\n            getOpt(button.element, 'id').each(id => {\n              set$9(tabview.element, 'aria-labelledby', id);\n            });\n            Replacing.set(tabview, panel);\n            detail.onChangeTab(tabview, button, panel);\n          });\n        });\n      };\n      const changeTabBy = (section, byPred) => {\n        getPart(section, detail, 'tabbar').each(tabbar => {\n          byPred(tabbar).each(emitExecute);\n        });\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: get$3(detail.tabSectionBehaviours),\n        events: derive$2(flatten([\n          detail.selectFirst ? [runOnAttached((section, _simulatedEvent) => {\n              changeTabBy(section, Highlighting.getFirst);\n            })] : [],\n          [\n            run$1(changeTab(), (section, simulatedEvent) => {\n              const button = simulatedEvent.event.button;\n              changeTab$1(button);\n            }),\n            run$1(dismissTab(), (section, simulatedEvent) => {\n              const button = simulatedEvent.event.button;\n              detail.onDismissTab(section, button);\n            })\n          ]\n        ])),\n        apis: {\n          getViewItems: section => {\n            return getPart(section, detail, 'tabview').map(tabview => Replacing.contents(tabview)).getOr([]);\n          },\n          showTab: (section, tabKey) => {\n            const getTabIfNotActive = tabbar => {\n              const candidates = Highlighting.getCandidates(tabbar);\n              const optTab = find$5(candidates, c => Representing.getValue(c) === tabKey);\n              return optTab.filter(tab => !Highlighting.isHighlighted(tabbar, tab));\n            };\n            changeTabBy(section, getTabIfNotActive);\n          }\n        }\n      };\n    };\n    const TabSection = composite({\n      name: 'TabSection',\n      configFields: schema(),\n      partFields: parts(),\n      factory,\n      apis: {\n        getViewItems: (apis, component) => apis.getViewItems(component),\n        showTab: (apis, component, tabKey) => {\n          apis.showTab(component, tabKey);\n        }\n      }\n    });\n\n    const measureHeights = (allTabs, tabview, tabviewComp) => map$2(allTabs, (_tab, i) => {\n      Replacing.set(tabviewComp, allTabs[i].view());\n      const rect = tabview.dom.getBoundingClientRect();\n      Replacing.set(tabviewComp, []);\n      return rect.height;\n    });\n    const getMaxHeight = heights => head(sort(heights, (a, b) => {\n      if (a > b) {\n        return -1;\n      } else if (a < b) {\n        return +1;\n      } else {\n        return 0;\n      }\n    }));\n    const getMaxTabviewHeight = (dialog, tabview, tablist) => {\n      const documentElement$1 = documentElement(dialog).dom;\n      const rootElm = ancestor(dialog, '.tox-dialog-wrap').getOr(dialog);\n      const isFixed = get$e(rootElm, 'position') === 'fixed';\n      let maxHeight;\n      if (isFixed) {\n        maxHeight = Math.max(documentElement$1.clientHeight, window.innerHeight);\n      } else {\n        maxHeight = Math.max(documentElement$1.offsetHeight, documentElement$1.scrollHeight);\n      }\n      const tabviewHeight = get$d(tabview);\n      const isTabListBeside = tabview.dom.offsetLeft >= tablist.dom.offsetLeft + get$c(tablist);\n      const currentTabHeight = isTabListBeside ? Math.max(get$d(tablist), tabviewHeight) : tabviewHeight;\n      const dialogTopMargin = parseInt(get$e(dialog, 'margin-top'), 10) || 0;\n      const dialogBottomMargin = parseInt(get$e(dialog, 'margin-bottom'), 10) || 0;\n      const dialogHeight = get$d(dialog) + dialogTopMargin + dialogBottomMargin;\n      const chromeHeight = dialogHeight - currentTabHeight;\n      return maxHeight - chromeHeight;\n    };\n    const showTab = (allTabs, comp) => {\n      head(allTabs).each(tab => TabSection.showTab(comp, tab.value));\n    };\n    const setTabviewHeight = (tabview, height) => {\n      set$8(tabview, 'height', height + 'px');\n      set$8(tabview, 'flex-basis', height + 'px');\n    };\n    const updateTabviewHeight = (dialogBody, tabview, maxTabHeight) => {\n      ancestor(dialogBody, '[role=\"dialog\"]').each(dialog => {\n        descendant(dialog, '[role=\"tablist\"]').each(tablist => {\n          maxTabHeight.get().map(height => {\n            set$8(tabview, 'height', '0');\n            set$8(tabview, 'flex-basis', '0');\n            return Math.min(height, getMaxTabviewHeight(dialog, tabview, tablist));\n          }).each(height => {\n            setTabviewHeight(tabview, height);\n          });\n        });\n      });\n    };\n    const getTabview = dialog => descendant(dialog, '[role=\"tabpanel\"]');\n    const smartMode = allTabs => {\n      const maxTabHeight = value$2();\n      const extraEvents = [\n        runOnAttached(comp => {\n          const dialog = comp.element;\n          getTabview(dialog).each(tabview => {\n            set$8(tabview, 'visibility', 'hidden');\n            comp.getSystem().getByDom(tabview).toOptional().each(tabviewComp => {\n              const heights = measureHeights(allTabs, tabview, tabviewComp);\n              const maxTabHeightOpt = getMaxHeight(heights);\n              maxTabHeightOpt.fold(maxTabHeight.clear, maxTabHeight.set);\n            });\n            updateTabviewHeight(dialog, tabview, maxTabHeight);\n            remove$6(tabview, 'visibility');\n            showTab(allTabs, comp);\n            requestAnimationFrame(() => {\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n            });\n          });\n        }),\n        run$1(windowResize(), comp => {\n          const dialog = comp.element;\n          getTabview(dialog).each(tabview => {\n            updateTabviewHeight(dialog, tabview, maxTabHeight);\n          });\n        }),\n        run$1(formResizeEvent, (comp, _se) => {\n          const dialog = comp.element;\n          getTabview(dialog).each(tabview => {\n            const oldFocus = active$1(getRootNode(tabview));\n            set$8(tabview, 'visibility', 'hidden');\n            const oldHeight = getRaw(tabview, 'height').map(h => parseInt(h, 10));\n            remove$6(tabview, 'height');\n            remove$6(tabview, 'flex-basis');\n            const newHeight = tabview.dom.getBoundingClientRect().height;\n            const hasGrown = oldHeight.forall(h => newHeight > h);\n            if (hasGrown) {\n              maxTabHeight.set(newHeight);\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n            } else {\n              oldHeight.each(h => {\n                setTabviewHeight(tabview, h);\n              });\n            }\n            remove$6(tabview, 'visibility');\n            oldFocus.each(focus$3);\n          });\n        })\n      ];\n      const selectFirst = false;\n      return {\n        extraEvents,\n        selectFirst\n      };\n    };\n\n    const SendDataToSectionChannel = 'send-data-to-section';\n    const SendDataToViewChannel = 'send-data-to-view';\n    const renderTabPanel = (spec, dialogData, backstage) => {\n      const storedValue = Cell({});\n      const updateDataWithForm = form => {\n        const formData = Representing.getValue(form);\n        const validData = toValidValues(formData).getOr({});\n        const currentData = storedValue.get();\n        const newData = deepMerge(currentData, validData);\n        storedValue.set(newData);\n      };\n      const setDataOnForm = form => {\n        const tabData = storedValue.get();\n        Representing.setValue(form, tabData);\n      };\n      const oldTab = Cell(null);\n      const allTabs = map$2(spec.tabs, tab => {\n        return {\n          value: tab.name,\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-nav-item']\n          },\n          components: [text$2(backstage.shared.providers.translate(tab.title))],\n          view: () => {\n            return [Form.sketch(parts => ({\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-form']\n                },\n                components: map$2(tab.items, item => interpretInForm(parts, item, dialogData, backstage)),\n                formBehaviours: derive$1([\n                  Keying.config({\n                    mode: 'acyclic',\n                    useTabstopAt: not(isPseudoStop)\n                  }),\n                  config('TabView.form.events', [\n                    runOnAttached(setDataOnForm),\n                    runOnDetached(updateDataWithForm)\n                  ]),\n                  Receiving.config({\n                    channels: wrapAll([\n                      {\n                        key: SendDataToSectionChannel,\n                        value: { onReceive: updateDataWithForm }\n                      },\n                      {\n                        key: SendDataToViewChannel,\n                        value: { onReceive: setDataOnForm }\n                      }\n                    ])\n                  })\n                ])\n              }))];\n          }\n        };\n      });\n      const tabMode = smartMode(allTabs);\n      return TabSection.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        onChangeTab: (section, button, _viewItems) => {\n          const name = Representing.getValue(button);\n          emitWith(section, formTabChangeEvent, {\n            name,\n            oldName: oldTab.get()\n          });\n          oldTab.set(name);\n        },\n        tabs: allTabs,\n        components: [\n          TabSection.parts.tabbar({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-nav']\n            },\n            components: [Tabbar.parts.tabs({})],\n            markers: {\n              tabClass: 'tox-tab',\n              selectedClass: 'tox-dialog__body-nav-item--active'\n            },\n            tabbarBehaviours: derive$1([Tabstopping.config({})])\n          }),\n          TabSection.parts.tabview({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            }\n          })\n        ],\n        selectFirst: tabMode.selectFirst,\n        tabSectionBehaviours: derive$1([\n          config('tabpanel', tabMode.extraEvents),\n          Keying.config({ mode: 'acyclic' }),\n          Composing.config({ find: comp => head(TabSection.getViewItems(comp)) }),\n          RepresentingConfigs.withComp(Optional.none(), tsection => {\n            tsection.getSystem().broadcastOn([SendDataToSectionChannel], {});\n            return storedValue.get();\n          }, (tsection, value) => {\n            storedValue.set(value);\n            tsection.getSystem().broadcastOn([SendDataToViewChannel], {});\n          })\n        ])\n      });\n    };\n\n    const dialogChannel = generate$6('update-dialog');\n    const titleChannel = generate$6('update-title');\n    const bodyChannel = generate$6('update-body');\n    const footerChannel = generate$6('update-footer');\n    const bodySendMessageChannel = generate$6('body-send-message');\n\n    const renderBody = (spec, dialogId, contentId, backstage, ariaAttrs) => {\n      const renderComponents = incoming => {\n        const body = incoming.body;\n        switch (body.type) {\n        case 'tabpanel': {\n            return [renderTabPanel(body, incoming.initialData, backstage)];\n          }\n        default: {\n            return [renderBodyPanel(body, incoming.initialData, backstage)];\n          }\n        }\n      };\n      const updateState = (_comp, incoming) => Optional.some({ isTabPanel: () => incoming.body.type === 'tabpanel' });\n      const ariaAttributes = { 'aria-live': 'polite' };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js'],\n          attributes: {\n            ...contentId.map(x => ({ id: x })).getOr({}),\n            ...ariaAttrs ? ariaAttributes : {}\n          }\n        },\n        components: [],\n        behaviours: derive$1([\n          ComposingConfigs.childAt(0),\n          Reflecting.config({\n            channel: `${ bodyChannel }-${ dialogId }`,\n            updateState,\n            renderComponents,\n            initialData: spec\n          })\n        ])\n      };\n    };\n    const renderInlineBody = (spec, dialogId, contentId, backstage, ariaAttrs) => renderBody(spec, dialogId, Optional.some(contentId), backstage, ariaAttrs);\n    const renderModalBody = (spec, dialogId, backstage) => {\n      const bodySpec = renderBody(spec, dialogId, Optional.none(), backstage, false);\n      return ModalDialog.parts.body(bodySpec);\n    };\n    const renderIframeBody = spec => {\n      const bodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-iframe']\n            },\n            components: [craft({\n                dom: {\n                  tag: 'iframe',\n                  attributes: { src: spec.url }\n                },\n                behaviours: derive$1([\n                  Tabstopping.config({}),\n                  Focusing.config({})\n                ])\n              })]\n          }],\n        behaviours: derive$1([Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          })])\n      };\n      return ModalDialog.parts.body(bodySpec);\n    };\n\n    function _typeof(obj) {\n      '@babel/helpers - typeof';\n      return _typeof = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && 'function' == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? 'symbol' : typeof obj;\n      }, _typeof(obj);\n    }\n    function _setPrototypeOf(o, p) {\n      _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n        o.__proto__ = p;\n        return o;\n      };\n      return _setPrototypeOf(o, p);\n    }\n    function _isNativeReflectConstruct() {\n      if (typeof Reflect === 'undefined' || !Reflect.construct)\n        return false;\n      if (Reflect.construct.sham)\n        return false;\n      if (typeof Proxy === 'function')\n        return true;\n      try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {\n        }));\n        return true;\n      } catch (e) {\n        return false;\n      }\n    }\n    function _construct(Parent, args, Class) {\n      if (_isNativeReflectConstruct()) {\n        _construct = Reflect.construct;\n      } else {\n        _construct = function _construct(Parent, args, Class) {\n          var a = [null];\n          a.push.apply(a, args);\n          var Constructor = Function.bind.apply(Parent, a);\n          var instance = new Constructor();\n          if (Class)\n            _setPrototypeOf(instance, Class.prototype);\n          return instance;\n        };\n      }\n      return _construct.apply(null, arguments);\n    }\n    function _toConsumableArray(arr) {\n      return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n    }\n    function _arrayWithoutHoles(arr) {\n      if (Array.isArray(arr))\n        return _arrayLikeToArray(arr);\n    }\n    function _iterableToArray(iter) {\n      if (typeof Symbol !== 'undefined' && iter[Symbol.iterator] != null || iter['@@iterator'] != null)\n        return Array.from(iter);\n    }\n    function _unsupportedIterableToArray(o, minLen) {\n      if (!o)\n        return;\n      if (typeof o === 'string')\n        return _arrayLikeToArray(o, minLen);\n      var n = Object.prototype.toString.call(o).slice(8, -1);\n      if (n === 'Object' && o.constructor)\n        n = o.constructor.name;\n      if (n === 'Map' || n === 'Set')\n        return Array.from(o);\n      if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n        return _arrayLikeToArray(o, minLen);\n    }\n    function _arrayLikeToArray(arr, len) {\n      if (len == null || len > arr.length)\n        len = arr.length;\n      for (var i = 0, arr2 = new Array(len); i < len; i++)\n        arr2[i] = arr[i];\n      return arr2;\n    }\n    function _nonIterableSpread() {\n      throw new TypeError('Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.');\n    }\n    var hasOwnProperty = Object.hasOwnProperty, setPrototypeOf = Object.setPrototypeOf, isFrozen = Object.isFrozen, getPrototypeOf = Object.getPrototypeOf, getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n    var freeze = Object.freeze, seal = Object.seal, create = Object.create;\n    var _ref = typeof Reflect !== 'undefined' && Reflect, apply = _ref.apply, construct = _ref.construct;\n    if (!apply) {\n      apply = function apply(fun, thisValue, args) {\n        return fun.apply(thisValue, args);\n      };\n    }\n    if (!freeze) {\n      freeze = function freeze(x) {\n        return x;\n      };\n    }\n    if (!seal) {\n      seal = function seal(x) {\n        return x;\n      };\n    }\n    if (!construct) {\n      construct = function construct(Func, args) {\n        return _construct(Func, _toConsumableArray(args));\n      };\n    }\n    var arrayForEach = unapply(Array.prototype.forEach);\n    var arrayPop = unapply(Array.prototype.pop);\n    var arrayPush = unapply(Array.prototype.push);\n    var stringToLowerCase = unapply(String.prototype.toLowerCase);\n    var stringMatch = unapply(String.prototype.match);\n    var stringReplace = unapply(String.prototype.replace);\n    var stringIndexOf = unapply(String.prototype.indexOf);\n    var stringTrim = unapply(String.prototype.trim);\n    var regExpTest = unapply(RegExp.prototype.test);\n    var typeErrorCreate = unconstruct(TypeError);\n    function unapply(func) {\n      return function (thisArg) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        return apply(func, thisArg, args);\n      };\n    }\n    function unconstruct(func) {\n      return function () {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        return construct(func, args);\n      };\n    }\n    function addToSet(set, array) {\n      if (setPrototypeOf) {\n        setPrototypeOf(set, null);\n      }\n      var l = array.length;\n      while (l--) {\n        var element = array[l];\n        if (typeof element === 'string') {\n          var lcElement = stringToLowerCase(element);\n          if (lcElement !== element) {\n            if (!isFrozen(array)) {\n              array[l] = lcElement;\n            }\n            element = lcElement;\n          }\n        }\n        set[element] = true;\n      }\n      return set;\n    }\n    function clone(object) {\n      var newObject = create(null);\n      var property;\n      for (property in object) {\n        if (apply(hasOwnProperty, object, [property])) {\n          newObject[property] = object[property];\n        }\n      }\n      return newObject;\n    }\n    function lookupGetter(object, prop) {\n      while (object !== null) {\n        var desc = getOwnPropertyDescriptor(object, prop);\n        if (desc) {\n          if (desc.get) {\n            return unapply(desc.get);\n          }\n          if (typeof desc.value === 'function') {\n            return unapply(desc.value);\n          }\n        }\n        object = getPrototypeOf(object);\n      }\n      function fallbackValue(element) {\n        console.warn('fallback value for', element);\n        return null;\n      }\n      return fallbackValue;\n    }\n    var html$1 = freeze([\n      'a',\n      'abbr',\n      'acronym',\n      'address',\n      'area',\n      'article',\n      'aside',\n      'audio',\n      'b',\n      'bdi',\n      'bdo',\n      'big',\n      'blink',\n      'blockquote',\n      'body',\n      'br',\n      'button',\n      'canvas',\n      'caption',\n      'center',\n      'cite',\n      'code',\n      'col',\n      'colgroup',\n      'content',\n      'data',\n      'datalist',\n      'dd',\n      'decorator',\n      'del',\n      'details',\n      'dfn',\n      'dialog',\n      'dir',\n      'div',\n      'dl',\n      'dt',\n      'element',\n      'em',\n      'fieldset',\n      'figcaption',\n      'figure',\n      'font',\n      'footer',\n      'form',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'head',\n      'header',\n      'hgroup',\n      'hr',\n      'html',\n      'i',\n      'img',\n      'input',\n      'ins',\n      'kbd',\n      'label',\n      'legend',\n      'li',\n      'main',\n      'map',\n      'mark',\n      'marquee',\n      'menu',\n      'menuitem',\n      'meter',\n      'nav',\n      'nobr',\n      'ol',\n      'optgroup',\n      'option',\n      'output',\n      'p',\n      'picture',\n      'pre',\n      'progress',\n      'q',\n      'rp',\n      'rt',\n      'ruby',\n      's',\n      'samp',\n      'section',\n      'select',\n      'shadow',\n      'small',\n      'source',\n      'spacer',\n      'span',\n      'strike',\n      'strong',\n      'style',\n      'sub',\n      'summary',\n      'sup',\n      'table',\n      'tbody',\n      'td',\n      'template',\n      'textarea',\n      'tfoot',\n      'th',\n      'thead',\n      'time',\n      'tr',\n      'track',\n      'tt',\n      'u',\n      'ul',\n      'var',\n      'video',\n      'wbr'\n    ]);\n    var svg$1 = freeze([\n      'svg',\n      'a',\n      'altglyph',\n      'altglyphdef',\n      'altglyphitem',\n      'animatecolor',\n      'animatemotion',\n      'animatetransform',\n      'circle',\n      'clippath',\n      'defs',\n      'desc',\n      'ellipse',\n      'filter',\n      'font',\n      'g',\n      'glyph',\n      'glyphref',\n      'hkern',\n      'image',\n      'line',\n      'lineargradient',\n      'marker',\n      'mask',\n      'metadata',\n      'mpath',\n      'path',\n      'pattern',\n      'polygon',\n      'polyline',\n      'radialgradient',\n      'rect',\n      'stop',\n      'style',\n      'switch',\n      'symbol',\n      'text',\n      'textpath',\n      'title',\n      'tref',\n      'tspan',\n      'view',\n      'vkern'\n    ]);\n    var svgFilters = freeze([\n      'feBlend',\n      'feColorMatrix',\n      'feComponentTransfer',\n      'feComposite',\n      'feConvolveMatrix',\n      'feDiffuseLighting',\n      'feDisplacementMap',\n      'feDistantLight',\n      'feFlood',\n      'feFuncA',\n      'feFuncB',\n      'feFuncG',\n      'feFuncR',\n      'feGaussianBlur',\n      'feImage',\n      'feMerge',\n      'feMergeNode',\n      'feMorphology',\n      'feOffset',\n      'fePointLight',\n      'feSpecularLighting',\n      'feSpotLight',\n      'feTile',\n      'feTurbulence'\n    ]);\n    var svgDisallowed = freeze([\n      'animate',\n      'color-profile',\n      'cursor',\n      'discard',\n      'fedropshadow',\n      'font-face',\n      'font-face-format',\n      'font-face-name',\n      'font-face-src',\n      'font-face-uri',\n      'foreignobject',\n      'hatch',\n      'hatchpath',\n      'mesh',\n      'meshgradient',\n      'meshpatch',\n      'meshrow',\n      'missing-glyph',\n      'script',\n      'set',\n      'solidcolor',\n      'unknown',\n      'use'\n    ]);\n    var mathMl$1 = freeze([\n      'math',\n      'menclose',\n      'merror',\n      'mfenced',\n      'mfrac',\n      'mglyph',\n      'mi',\n      'mlabeledtr',\n      'mmultiscripts',\n      'mn',\n      'mo',\n      'mover',\n      'mpadded',\n      'mphantom',\n      'mroot',\n      'mrow',\n      'ms',\n      'mspace',\n      'msqrt',\n      'mstyle',\n      'msub',\n      'msup',\n      'msubsup',\n      'mtable',\n      'mtd',\n      'mtext',\n      'mtr',\n      'munder',\n      'munderover'\n    ]);\n    var mathMlDisallowed = freeze([\n      'maction',\n      'maligngroup',\n      'malignmark',\n      'mlongdiv',\n      'mscarries',\n      'mscarry',\n      'msgroup',\n      'mstack',\n      'msline',\n      'msrow',\n      'semantics',\n      'annotation',\n      'annotation-xml',\n      'mprescripts',\n      'none'\n    ]);\n    var text = freeze(['#text']);\n    var html = freeze([\n      'accept',\n      'action',\n      'align',\n      'alt',\n      'autocapitalize',\n      'autocomplete',\n      'autopictureinpicture',\n      'autoplay',\n      'background',\n      'bgcolor',\n      'border',\n      'capture',\n      'cellpadding',\n      'cellspacing',\n      'checked',\n      'cite',\n      'class',\n      'clear',\n      'color',\n      'cols',\n      'colspan',\n      'controls',\n      'controlslist',\n      'coords',\n      'crossorigin',\n      'datetime',\n      'decoding',\n      'default',\n      'dir',\n      'disabled',\n      'disablepictureinpicture',\n      'disableremoteplayback',\n      'download',\n      'draggable',\n      'enctype',\n      'enterkeyhint',\n      'face',\n      'for',\n      'headers',\n      'height',\n      'hidden',\n      'high',\n      'href',\n      'hreflang',\n      'id',\n      'inputmode',\n      'integrity',\n      'ismap',\n      'kind',\n      'label',\n      'lang',\n      'list',\n      'loading',\n      'loop',\n      'low',\n      'max',\n      'maxlength',\n      'media',\n      'method',\n      'min',\n      'minlength',\n      'multiple',\n      'muted',\n      'name',\n      'nonce',\n      'noshade',\n      'novalidate',\n      'nowrap',\n      'open',\n      'optimum',\n      'pattern',\n      'placeholder',\n      'playsinline',\n      'poster',\n      'preload',\n      'pubdate',\n      'radiogroup',\n      'readonly',\n      'rel',\n      'required',\n      'rev',\n      'reversed',\n      'role',\n      'rows',\n      'rowspan',\n      'spellcheck',\n      'scope',\n      'selected',\n      'shape',\n      'size',\n      'sizes',\n      'span',\n      'srclang',\n      'start',\n      'src',\n      'srcset',\n      'step',\n      'style',\n      'summary',\n      'tabindex',\n      'title',\n      'translate',\n      'type',\n      'usemap',\n      'valign',\n      'value',\n      'width',\n      'xmlns',\n      'slot'\n    ]);\n    var svg = freeze([\n      'accent-height',\n      'accumulate',\n      'additive',\n      'alignment-baseline',\n      'ascent',\n      'attributename',\n      'attributetype',\n      'azimuth',\n      'basefrequency',\n      'baseline-shift',\n      'begin',\n      'bias',\n      'by',\n      'class',\n      'clip',\n      'clippathunits',\n      'clip-path',\n      'clip-rule',\n      'color',\n      'color-interpolation',\n      'color-interpolation-filters',\n      'color-profile',\n      'color-rendering',\n      'cx',\n      'cy',\n      'd',\n      'dx',\n      'dy',\n      'diffuseconstant',\n      'direction',\n      'display',\n      'divisor',\n      'dur',\n      'edgemode',\n      'elevation',\n      'end',\n      'fill',\n      'fill-opacity',\n      'fill-rule',\n      'filter',\n      'filterunits',\n      'flood-color',\n      'flood-opacity',\n      'font-family',\n      'font-size',\n      'font-size-adjust',\n      'font-stretch',\n      'font-style',\n      'font-variant',\n      'font-weight',\n      'fx',\n      'fy',\n      'g1',\n      'g2',\n      'glyph-name',\n      'glyphref',\n      'gradientunits',\n      'gradienttransform',\n      'height',\n      'href',\n      'id',\n      'image-rendering',\n      'in',\n      'in2',\n      'k',\n      'k1',\n      'k2',\n      'k3',\n      'k4',\n      'kerning',\n      'keypoints',\n      'keysplines',\n      'keytimes',\n      'lang',\n      'lengthadjust',\n      'letter-spacing',\n      'kernelmatrix',\n      'kernelunitlength',\n      'lighting-color',\n      'local',\n      'marker-end',\n      'marker-mid',\n      'marker-start',\n      'markerheight',\n      'markerunits',\n      'markerwidth',\n      'maskcontentunits',\n      'maskunits',\n      'max',\n      'mask',\n      'media',\n      'method',\n      'mode',\n      'min',\n      'name',\n      'numoctaves',\n      'offset',\n      'operator',\n      'opacity',\n      'order',\n      'orient',\n      'orientation',\n      'origin',\n      'overflow',\n      'paint-order',\n      'path',\n      'pathlength',\n      'patterncontentunits',\n      'patterntransform',\n      'patternunits',\n      'points',\n      'preservealpha',\n      'preserveaspectratio',\n      'primitiveunits',\n      'r',\n      'rx',\n      'ry',\n      'radius',\n      'refx',\n      'refy',\n      'repeatcount',\n      'repeatdur',\n      'restart',\n      'result',\n      'rotate',\n      'scale',\n      'seed',\n      'shape-rendering',\n      'specularconstant',\n      'specularexponent',\n      'spreadmethod',\n      'startoffset',\n      'stddeviation',\n      'stitchtiles',\n      'stop-color',\n      'stop-opacity',\n      'stroke-dasharray',\n      'stroke-dashoffset',\n      'stroke-linecap',\n      'stroke-linejoin',\n      'stroke-miterlimit',\n      'stroke-opacity',\n      'stroke',\n      'stroke-width',\n      'style',\n      'surfacescale',\n      'systemlanguage',\n      'tabindex',\n      'targetx',\n      'targety',\n      'transform',\n      'transform-origin',\n      'text-anchor',\n      'text-decoration',\n      'text-rendering',\n      'textlength',\n      'type',\n      'u1',\n      'u2',\n      'unicode',\n      'values',\n      'viewbox',\n      'visibility',\n      'version',\n      'vert-adv-y',\n      'vert-origin-x',\n      'vert-origin-y',\n      'width',\n      'word-spacing',\n      'wrap',\n      'writing-mode',\n      'xchannelselector',\n      'ychannelselector',\n      'x',\n      'x1',\n      'x2',\n      'xmlns',\n      'y',\n      'y1',\n      'y2',\n      'z',\n      'zoomandpan'\n    ]);\n    var mathMl = freeze([\n      'accent',\n      'accentunder',\n      'align',\n      'bevelled',\n      'close',\n      'columnsalign',\n      'columnlines',\n      'columnspan',\n      'denomalign',\n      'depth',\n      'dir',\n      'display',\n      'displaystyle',\n      'encoding',\n      'fence',\n      'frame',\n      'height',\n      'href',\n      'id',\n      'largeop',\n      'length',\n      'linethickness',\n      'lspace',\n      'lquote',\n      'mathbackground',\n      'mathcolor',\n      'mathsize',\n      'mathvariant',\n      'maxsize',\n      'minsize',\n      'movablelimits',\n      'notation',\n      'numalign',\n      'open',\n      'rowalign',\n      'rowlines',\n      'rowspacing',\n      'rowspan',\n      'rspace',\n      'rquote',\n      'scriptlevel',\n      'scriptminsize',\n      'scriptsizemultiplier',\n      'selection',\n      'separator',\n      'separators',\n      'stretchy',\n      'subscriptshift',\n      'supscriptshift',\n      'symmetric',\n      'voffset',\n      'width',\n      'xmlns'\n    ]);\n    var xml = freeze([\n      'xlink:href',\n      'xml:id',\n      'xlink:title',\n      'xml:space',\n      'xmlns:xlink'\n    ]);\n    var MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm);\n    var ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n    var DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/);\n    var ARIA_ATTR = seal(/^aria-[\\-\\w]+$/);\n    var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i);\n    var IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n    var ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g);\n    var DOCTYPE_NAME = seal(/^html$/i);\n    var getGlobal = function getGlobal() {\n      return typeof window === 'undefined' ? null : window;\n    };\n    var _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {\n      if (_typeof(trustedTypes) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n        return null;\n      }\n      var suffix = null;\n      var ATTR_NAME = 'data-tt-policy-suffix';\n      if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) {\n        suffix = document.currentScript.getAttribute(ATTR_NAME);\n      }\n      var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n      try {\n        return trustedTypes.createPolicy(policyName, {\n          createHTML: function createHTML(html) {\n            return html;\n          }\n        });\n      } catch (_) {\n        console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n        return null;\n      }\n    };\n    function createDOMPurify() {\n      var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n      var DOMPurify = function DOMPurify(root) {\n        return createDOMPurify(root);\n      };\n      DOMPurify.version = '2.3.8';\n      DOMPurify.removed = [];\n      if (!window || !window.document || window.document.nodeType !== 9) {\n        DOMPurify.isSupported = false;\n        return DOMPurify;\n      }\n      var originalDocument = window.document;\n      var document = window.document;\n      var DocumentFragment = window.DocumentFragment, HTMLTemplateElement = window.HTMLTemplateElement, Node = window.Node, Element = window.Element, NodeFilter = window.NodeFilter, _window$NamedNodeMap = window.NamedNodeMap, NamedNodeMap = _window$NamedNodeMap === void 0 ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap, HTMLFormElement = window.HTMLFormElement, DOMParser = window.DOMParser, trustedTypes = window.trustedTypes;\n      var ElementPrototype = Element.prototype;\n      var cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n      var getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n      var getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n      var getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n      if (typeof HTMLTemplateElement === 'function') {\n        var template = document.createElement('template');\n        if (template.content && template.content.ownerDocument) {\n          document = template.content.ownerDocument;\n        }\n      }\n      var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);\n      var emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML('') : '';\n      var _document = document, implementation = _document.implementation, createNodeIterator = _document.createNodeIterator, createDocumentFragment = _document.createDocumentFragment, getElementsByTagName = _document.getElementsByTagName;\n      var importNode = originalDocument.importNode;\n      var documentMode = {};\n      try {\n        documentMode = clone(document).documentMode ? document.documentMode : {};\n      } catch (_) {\n      }\n      var hooks = {};\n      DOMPurify.isSupported = typeof getParentNode === 'function' && implementation && typeof implementation.createHTMLDocument !== 'undefined' && documentMode !== 9;\n      var MUSTACHE_EXPR$1 = MUSTACHE_EXPR, ERB_EXPR$1 = ERB_EXPR, DATA_ATTR$1 = DATA_ATTR, ARIA_ATTR$1 = ARIA_ATTR, IS_SCRIPT_OR_DATA$1 = IS_SCRIPT_OR_DATA, ATTR_WHITESPACE$1 = ATTR_WHITESPACE;\n      var IS_ALLOWED_URI$1 = IS_ALLOWED_URI;\n      var ALLOWED_TAGS = null;\n      var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(html$1), _toConsumableArray(svg$1), _toConsumableArray(svgFilters), _toConsumableArray(mathMl$1), _toConsumableArray(text)));\n      var ALLOWED_ATTR = null;\n      var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray(html), _toConsumableArray(svg), _toConsumableArray(mathMl), _toConsumableArray(xml)));\n      var CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n        tagNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        attributeNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        allowCustomizedBuiltInElements: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: false\n        }\n      }));\n      var FORBID_TAGS = null;\n      var FORBID_ATTR = null;\n      var ALLOW_ARIA_ATTR = true;\n      var ALLOW_DATA_ATTR = true;\n      var ALLOW_UNKNOWN_PROTOCOLS = false;\n      var SAFE_FOR_TEMPLATES = false;\n      var WHOLE_DOCUMENT = false;\n      var SET_CONFIG = false;\n      var FORCE_BODY = false;\n      var RETURN_DOM = false;\n      var RETURN_DOM_FRAGMENT = false;\n      var RETURN_TRUSTED_TYPE = false;\n      var SANITIZE_DOM = true;\n      var KEEP_CONTENT = true;\n      var IN_PLACE = false;\n      var USE_PROFILES = {};\n      var FORBID_CONTENTS = null;\n      var DEFAULT_FORBID_CONTENTS = addToSet({}, [\n        'annotation-xml',\n        'audio',\n        'colgroup',\n        'desc',\n        'foreignobject',\n        'head',\n        'iframe',\n        'math',\n        'mi',\n        'mn',\n        'mo',\n        'ms',\n        'mtext',\n        'noembed',\n        'noframes',\n        'noscript',\n        'plaintext',\n        'script',\n        'style',\n        'svg',\n        'template',\n        'thead',\n        'title',\n        'video',\n        'xmp'\n      ]);\n      var DATA_URI_TAGS = null;\n      var DEFAULT_DATA_URI_TAGS = addToSet({}, [\n        'audio',\n        'video',\n        'img',\n        'source',\n        'image',\n        'track'\n      ]);\n      var URI_SAFE_ATTRIBUTES = null;\n      var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n        'alt',\n        'class',\n        'for',\n        'id',\n        'label',\n        'name',\n        'pattern',\n        'placeholder',\n        'role',\n        'summary',\n        'title',\n        'value',\n        'style',\n        'xmlns'\n      ]);\n      var MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n      var SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n      var HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n      var NAMESPACE = HTML_NAMESPACE;\n      var IS_EMPTY_INPUT = false;\n      var PARSER_MEDIA_TYPE;\n      var SUPPORTED_PARSER_MEDIA_TYPES = [\n        'application/xhtml+xml',\n        'text/html'\n      ];\n      var DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n      var transformCaseFunc;\n      var CONFIG = null;\n      var formElement = document.createElement('form');\n      var isRegexOrFunction = function isRegexOrFunction(testValue) {\n        return testValue instanceof RegExp || testValue instanceof Function;\n      };\n      var _parseConfig = function _parseConfig(cfg) {\n        if (CONFIG && CONFIG === cfg) {\n          return;\n        }\n        if (!cfg || _typeof(cfg) !== 'object') {\n          cfg = {};\n        }\n        cfg = clone(cfg);\n        ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n        ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n        URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR) : DEFAULT_URI_SAFE_ATTRIBUTES;\n        DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS) : DEFAULT_DATA_URI_TAGS;\n        FORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? addToSet({}, cfg.FORBID_CONTENTS) : DEFAULT_FORBID_CONTENTS;\n        FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS) : {};\n        FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR) : {};\n        USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n        ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false;\n        ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false;\n        ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false;\n        SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false;\n        WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false;\n        RETURN_DOM = cfg.RETURN_DOM || false;\n        RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false;\n        RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false;\n        FORCE_BODY = cfg.FORCE_BODY || false;\n        SANITIZE_DOM = cfg.SANITIZE_DOM !== false;\n        KEEP_CONTENT = cfg.KEEP_CONTENT !== false;\n        IN_PLACE = cfg.IN_PLACE || false;\n        IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$1;\n        NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n        }\n        PARSER_MEDIA_TYPE = SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE;\n        transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? function (x) {\n          return x;\n        } : stringToLowerCase;\n        if (SAFE_FOR_TEMPLATES) {\n          ALLOW_DATA_ATTR = false;\n        }\n        if (RETURN_DOM_FRAGMENT) {\n          RETURN_DOM = true;\n        }\n        if (USE_PROFILES) {\n          ALLOWED_TAGS = addToSet({}, _toConsumableArray(text));\n          ALLOWED_ATTR = [];\n          if (USE_PROFILES.html === true) {\n            addToSet(ALLOWED_TAGS, html$1);\n            addToSet(ALLOWED_ATTR, html);\n          }\n          if (USE_PROFILES.svg === true) {\n            addToSet(ALLOWED_TAGS, svg$1);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.svgFilters === true) {\n            addToSet(ALLOWED_TAGS, svgFilters);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.mathMl === true) {\n            addToSet(ALLOWED_TAGS, mathMl$1);\n            addToSet(ALLOWED_ATTR, mathMl);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n        }\n        if (cfg.ADD_TAGS) {\n          if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n            ALLOWED_TAGS = clone(ALLOWED_TAGS);\n          }\n          addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n        }\n        if (cfg.ADD_ATTR) {\n          if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n            ALLOWED_ATTR = clone(ALLOWED_ATTR);\n          }\n          addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n        }\n        if (cfg.ADD_URI_SAFE_ATTR) {\n          addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n        }\n        if (cfg.FORBID_CONTENTS) {\n          if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n            FORBID_CONTENTS = clone(FORBID_CONTENTS);\n          }\n          addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS);\n        }\n        if (KEEP_CONTENT) {\n          ALLOWED_TAGS['#text'] = true;\n        }\n        if (WHOLE_DOCUMENT) {\n          addToSet(ALLOWED_TAGS, [\n            'html',\n            'head',\n            'body'\n          ]);\n        }\n        if (ALLOWED_TAGS.table) {\n          addToSet(ALLOWED_TAGS, ['tbody']);\n          delete FORBID_TAGS.tbody;\n        }\n        if (freeze) {\n          freeze(cfg);\n        }\n        CONFIG = cfg;\n      };\n      var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\n        'mi',\n        'mo',\n        'mn',\n        'ms',\n        'mtext'\n      ]);\n      var HTML_INTEGRATION_POINTS = addToSet({}, [\n        'foreignobject',\n        'desc',\n        'title',\n        'annotation-xml'\n      ]);\n      var COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\n        'title',\n        'style',\n        'font',\n        'a',\n        'script'\n      ]);\n      var ALL_SVG_TAGS = addToSet({}, svg$1);\n      addToSet(ALL_SVG_TAGS, svgFilters);\n      addToSet(ALL_SVG_TAGS, svgDisallowed);\n      var ALL_MATHML_TAGS = addToSet({}, mathMl$1);\n      addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n      var _checkValidNamespace = function _checkValidNamespace(element) {\n        var parent = getParentNode(element);\n        if (!parent || !parent.tagName) {\n          parent = {\n            namespaceURI: HTML_NAMESPACE,\n            tagName: 'template'\n          };\n        }\n        var tagName = stringToLowerCase(element.tagName);\n        var parentTagName = stringToLowerCase(parent.tagName);\n        if (element.namespaceURI === SVG_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === 'svg';\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE) {\n            return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n          }\n          return Boolean(ALL_SVG_TAGS[tagName]);\n        }\n        if (element.namespaceURI === MATHML_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === 'math';\n          }\n          if (parent.namespaceURI === SVG_NAMESPACE) {\n            return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n          }\n          return Boolean(ALL_MATHML_TAGS[tagName]);\n        }\n        if (element.namespaceURI === HTML_NAMESPACE) {\n          if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n        }\n        return false;\n      };\n      var _forceRemove = function _forceRemove(node) {\n        arrayPush(DOMPurify.removed, { element: node });\n        try {\n          node.parentNode.removeChild(node);\n        } catch (_) {\n          try {\n            node.outerHTML = emptyHTML;\n          } catch (_) {\n            node.remove();\n          }\n        }\n      };\n      var _removeAttribute = function _removeAttribute(name, node) {\n        try {\n          arrayPush(DOMPurify.removed, {\n            attribute: node.getAttributeNode(name),\n            from: node\n          });\n        } catch (_) {\n          arrayPush(DOMPurify.removed, {\n            attribute: null,\n            from: node\n          });\n        }\n        node.removeAttribute(name);\n        if (name === 'is' && !ALLOWED_ATTR[name]) {\n          if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n            try {\n              _forceRemove(node);\n            } catch (_) {\n            }\n          } else {\n            try {\n              node.setAttribute(name, '');\n            } catch (_) {\n            }\n          }\n        }\n      };\n      var _initDocument = function _initDocument(dirty) {\n        var doc;\n        var leadingWhitespace;\n        if (FORCE_BODY) {\n          dirty = '<remove></remove>' + dirty;\n        } else {\n          var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n          leadingWhitespace = matches && matches[0];\n        }\n        if (PARSER_MEDIA_TYPE === 'application/xhtml+xml') {\n          dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n        }\n        var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        if (NAMESPACE === HTML_NAMESPACE) {\n          try {\n            doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n          } catch (_) {\n          }\n        }\n        if (!doc || !doc.documentElement) {\n          doc = implementation.createDocument(NAMESPACE, 'template', null);\n          try {\n            doc.documentElement.innerHTML = IS_EMPTY_INPUT ? '' : dirtyPayload;\n          } catch (_) {\n          }\n        }\n        var body = doc.body || doc.documentElement;\n        if (dirty && leadingWhitespace) {\n          body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n        }\n        if (NAMESPACE === HTML_NAMESPACE) {\n          return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n        }\n        return WHOLE_DOCUMENT ? doc.documentElement : body;\n      };\n      var _createIterator = function _createIterator(root) {\n        return createNodeIterator.call(root.ownerDocument || root, root, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n      };\n      var _isClobbered = function _isClobbered(elm) {\n        return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function');\n      };\n      var _isNode = function _isNode(object) {\n        return _typeof(Node) === 'object' ? object instanceof Node : object && _typeof(object) === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n      };\n      var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n        if (!hooks[entryPoint]) {\n          return;\n        }\n        arrayForEach(hooks[entryPoint], function (hook) {\n          hook.call(DOMPurify, currentNode, data, CONFIG);\n        });\n      };\n      var _sanitizeElements = function _sanitizeElements(currentNode) {\n        var content;\n        _executeHook('beforeSanitizeElements', currentNode, null);\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (regExpTest(/[\\u0080-\\uFFFF]/, currentNode.nodeName)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        var tagName = transformCaseFunc(currentNode.nodeName);\n        _executeHook('uponSanitizeElement', currentNode, {\n          tagName: tagName,\n          allowedTags: ALLOWED_TAGS\n        });\n        if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (tagName === 'select' && regExpTest(/<template/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName))\n              return false;\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName))\n              return false;\n          }\n          if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n            var parentNode = getParentNode(currentNode) || currentNode.parentNode;\n            var childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n            if (childNodes && parentNode) {\n              var childCount = childNodes.length;\n              for (var i = childCount - 1; i >= 0; --i) {\n                parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n              }\n            }\n          }\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if ((tagName === 'noscript' || tagName === 'noembed') && regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n          content = currentNode.textContent;\n          content = stringReplace(content, MUSTACHE_EXPR$1, ' ');\n          content = stringReplace(content, ERB_EXPR$1, ' ');\n          if (currentNode.textContent !== content) {\n            arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n            currentNode.textContent = content;\n          }\n        }\n        _executeHook('afterSanitizeElements', currentNode, null);\n        return false;\n      };\n      var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n        if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n          return false;\n        }\n        if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR$1, lcName));\n        else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$1, lcName));\n        else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n          if (_basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) || lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value)));\n          else {\n            return false;\n          }\n        } else if (URI_SAFE_ATTRIBUTES[lcName]);\n        else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE$1, '')));\n        else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]);\n        else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$1, stringReplace(value, ATTR_WHITESPACE$1, '')));\n        else if (!value);\n        else {\n          return false;\n        }\n        return true;\n      };\n      var _basicCustomElementTest = function _basicCustomElementTest(tagName) {\n        return tagName.indexOf('-') > 0;\n      };\n      var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n        var attr;\n        var value;\n        var lcName;\n        var l;\n        _executeHook('beforeSanitizeAttributes', currentNode, null);\n        var attributes = currentNode.attributes;\n        if (!attributes) {\n          return;\n        }\n        var hookEvent = {\n          attrName: '',\n          attrValue: '',\n          keepAttr: true,\n          allowedAttributes: ALLOWED_ATTR\n        };\n        l = attributes.length;\n        while (l--) {\n          attr = attributes[l];\n          var _attr = attr, name = _attr.name, namespaceURI = _attr.namespaceURI;\n          value = name === 'value' ? attr.value : stringTrim(attr.value);\n          lcName = transformCaseFunc(name);\n          var initValue = value;\n          hookEvent.attrName = lcName;\n          hookEvent.attrValue = value;\n          hookEvent.keepAttr = true;\n          hookEvent.forceKeepAttr = undefined;\n          _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n          value = hookEvent.attrValue;\n          if (hookEvent.forceKeepAttr) {\n            continue;\n          }\n          if (!hookEvent.keepAttr) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (regExpTest(/\\/>/i, value)) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (SAFE_FOR_TEMPLATES) {\n            value = stringReplace(value, MUSTACHE_EXPR$1, ' ');\n            value = stringReplace(value, ERB_EXPR$1, ' ');\n          }\n          var lcTag = transformCaseFunc(currentNode.nodeName);\n          if (!_isValidAttribute(lcTag, lcName, value)) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (value !== initValue) {\n            try {\n              if (namespaceURI) {\n                currentNode.setAttributeNS(namespaceURI, name, value);\n              } else {\n                currentNode.setAttribute(name, value);\n              }\n            } catch (_) {\n              _removeAttribute(name, currentNode);\n            }\n          }\n        }\n        _executeHook('afterSanitizeAttributes', currentNode, null);\n      };\n      var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n        var shadowNode;\n        var shadowIterator = _createIterator(fragment);\n        _executeHook('beforeSanitizeShadowDOM', fragment, null);\n        while (shadowNode = shadowIterator.nextNode()) {\n          _executeHook('uponSanitizeShadowNode', shadowNode, null);\n          if (_sanitizeElements(shadowNode)) {\n            continue;\n          }\n          if (shadowNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(shadowNode.content);\n          }\n          _sanitizeAttributes(shadowNode);\n        }\n        _executeHook('afterSanitizeShadowDOM', fragment, null);\n      };\n      DOMPurify.sanitize = function (dirty, cfg) {\n        var body;\n        var importedNode;\n        var currentNode;\n        var oldNode;\n        var returnNode;\n        IS_EMPTY_INPUT = !dirty;\n        if (IS_EMPTY_INPUT) {\n          dirty = '<!-->';\n        }\n        if (typeof dirty !== 'string' && !_isNode(dirty)) {\n          if (typeof dirty.toString !== 'function') {\n            throw typeErrorCreate('toString is not a function');\n          } else {\n            dirty = dirty.toString();\n            if (typeof dirty !== 'string') {\n              throw typeErrorCreate('dirty is not a string, aborting');\n            }\n          }\n        }\n        if (!DOMPurify.isSupported) {\n          if (_typeof(window.toStaticHTML) === 'object' || typeof window.toStaticHTML === 'function') {\n            if (typeof dirty === 'string') {\n              return window.toStaticHTML(dirty);\n            }\n            if (_isNode(dirty)) {\n              return window.toStaticHTML(dirty.outerHTML);\n            }\n          }\n          return dirty;\n        }\n        if (!SET_CONFIG) {\n          _parseConfig(cfg);\n        }\n        DOMPurify.removed = [];\n        if (typeof dirty === 'string') {\n          IN_PLACE = false;\n        }\n        if (IN_PLACE) {\n          if (dirty.nodeName) {\n            var tagName = transformCaseFunc(dirty.nodeName);\n            if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n              throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n            }\n          }\n        } else if (dirty instanceof Node) {\n          body = _initDocument('<!---->');\n          importedNode = body.ownerDocument.importNode(dirty, true);\n          if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n            body = importedNode;\n          } else if (importedNode.nodeName === 'HTML') {\n            body = importedNode;\n          } else {\n            body.appendChild(importedNode);\n          }\n        } else {\n          if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && dirty.indexOf('<') === -1) {\n            return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n          }\n          body = _initDocument(dirty);\n          if (!body) {\n            return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n          }\n        }\n        if (body && FORCE_BODY) {\n          _forceRemove(body.firstChild);\n        }\n        var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n        while (currentNode = nodeIterator.nextNode()) {\n          if (currentNode.nodeType === 3 && currentNode === oldNode) {\n            continue;\n          }\n          if (_sanitizeElements(currentNode)) {\n            continue;\n          }\n          if (currentNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(currentNode.content);\n          }\n          _sanitizeAttributes(currentNode);\n          oldNode = currentNode;\n        }\n        oldNode = null;\n        if (IN_PLACE) {\n          return dirty;\n        }\n        if (RETURN_DOM) {\n          if (RETURN_DOM_FRAGMENT) {\n            returnNode = createDocumentFragment.call(body.ownerDocument);\n            while (body.firstChild) {\n              returnNode.appendChild(body.firstChild);\n            }\n          } else {\n            returnNode = body;\n          }\n          if (ALLOWED_ATTR.shadowroot) {\n            returnNode = importNode.call(originalDocument, returnNode, true);\n          }\n          return returnNode;\n        }\n        var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n        if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n          serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n        }\n        if (SAFE_FOR_TEMPLATES) {\n          serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$1, ' ');\n          serializedHTML = stringReplace(serializedHTML, ERB_EXPR$1, ' ');\n        }\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n      };\n      DOMPurify.setConfig = function (cfg) {\n        _parseConfig(cfg);\n        SET_CONFIG = true;\n      };\n      DOMPurify.clearConfig = function () {\n        CONFIG = null;\n        SET_CONFIG = false;\n      };\n      DOMPurify.isValidAttribute = function (tag, attr, value) {\n        if (!CONFIG) {\n          _parseConfig({});\n        }\n        var lcTag = transformCaseFunc(tag);\n        var lcName = transformCaseFunc(attr);\n        return _isValidAttribute(lcTag, lcName, value);\n      };\n      DOMPurify.addHook = function (entryPoint, hookFunction) {\n        if (typeof hookFunction !== 'function') {\n          return;\n        }\n        hooks[entryPoint] = hooks[entryPoint] || [];\n        arrayPush(hooks[entryPoint], hookFunction);\n      };\n      DOMPurify.removeHook = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          return arrayPop(hooks[entryPoint]);\n        }\n      };\n      DOMPurify.removeHooks = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          hooks[entryPoint] = [];\n        }\n      };\n      DOMPurify.removeAllHooks = function () {\n        hooks = {};\n      };\n      return DOMPurify;\n    }\n    var purify = createDOMPurify();\n\n    const sanitizeHtmlString = html => purify().sanitize(html);\n\n    const isTouch = global$5.deviceType.isTouch();\n    const hiddenHeader = (title, close) => ({\n      dom: {\n        tag: 'div',\n        styles: { display: 'none' },\n        classes: ['tox-dialog__header']\n      },\n      components: [\n        title,\n        close\n      ]\n    });\n    const pClose = (onClose, providersBackstage) => ModalDialog.parts.close(Button.sketch({\n      dom: {\n        tag: 'button',\n        classes: [\n          'tox-button',\n          'tox-button--icon',\n          'tox-button--naked'\n        ],\n        attributes: {\n          'type': 'button',\n          'aria-label': providersBackstage.translate('Close')\n        }\n      },\n      action: onClose,\n      buttonBehaviours: derive$1([Tabstopping.config({})])\n    }));\n    const pUntitled = () => ModalDialog.parts.title({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__title'],\n        innerHtml: '',\n        styles: { display: 'none' }\n      }\n    });\n    const pBodyMessage = (message, providersBackstage) => ModalDialog.parts.body({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__body']\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-content']\n          },\n          components: [{ dom: fromHtml(`<p>${ sanitizeHtmlString(providersBackstage.translate(message)) }</p>`) }]\n        }]\n    });\n    const pFooter = buttons => ModalDialog.parts.footer({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__footer']\n      },\n      components: buttons\n    });\n    const pFooterGroup = (startButtons, endButtons) => [\n      Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer-start']\n        },\n        components: startButtons\n      }),\n      Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer-end']\n        },\n        components: endButtons\n      })\n    ];\n    const renderDialog$1 = spec => {\n      const dialogClass = 'tox-dialog';\n      const blockerClass = dialogClass + '-wrap';\n      const blockerBackdropClass = blockerClass + '__backdrop';\n      const scrollLockClass = dialogClass + '__disable-scroll';\n      return ModalDialog.sketch({\n        lazySink: spec.lazySink,\n        onEscape: comp => {\n          spec.onEscape(comp);\n          return Optional.some(true);\n        },\n        useTabstopAt: elem => !isPseudoStop(elem),\n        firstTabstop: spec.firstTabstop,\n        dom: {\n          tag: 'div',\n          classes: [dialogClass].concat(spec.extraClasses),\n          styles: {\n            position: 'relative',\n            ...spec.extraStyles\n          }\n        },\n        components: [\n          spec.header,\n          spec.body,\n          ...spec.footer.toArray()\n        ],\n        parts: {\n          blocker: {\n            dom: fromHtml(`<div class=\"${ blockerClass }\"></div>`),\n            components: [{\n                dom: {\n                  tag: 'div',\n                  classes: isTouch ? [\n                    blockerBackdropClass,\n                    blockerBackdropClass + '--opaque'\n                  ] : [blockerBackdropClass]\n                }\n              }]\n          }\n        },\n        dragBlockClass: blockerClass,\n        modalBehaviours: derive$1([\n          Focusing.config({}),\n          config('dialog-events', spec.dialogEvents.concat([runOnSource(focusin(), (comp, _se) => {\n              Keying.focusIn(comp);\n            })])),\n          config('scroll-lock', [\n            runOnAttached(() => {\n              add$2(body(), scrollLockClass);\n            }),\n            runOnDetached(() => {\n              remove$2(body(), scrollLockClass);\n            })\n          ]),\n          ...spec.extraBehaviours\n        ]),\n        eventOrder: {\n          [execute$5()]: ['dialog-events'],\n          [attachedToDom()]: [\n            'scroll-lock',\n            'dialog-events',\n            'alloy.base.behaviour'\n          ],\n          [detachedFromDom()]: [\n            'alloy.base.behaviour',\n            'dialog-events',\n            'scroll-lock'\n          ],\n          ...spec.eventOrder\n        }\n      });\n    };\n\n    const renderClose = providersBackstage => Button.sketch({\n      dom: {\n        tag: 'button',\n        classes: [\n          'tox-button',\n          'tox-button--icon',\n          'tox-button--naked'\n        ],\n        attributes: {\n          'type': 'button',\n          'aria-label': providersBackstage.translate('Close'),\n          'title': providersBackstage.translate('Close')\n        }\n      },\n      buttonBehaviours: derive$1([Tabstopping.config({})]),\n      components: [render$3('close', {\n          tag: 'div',\n          classes: ['tox-icon']\n        }, providersBackstage.icons)],\n      action: comp => {\n        emit(comp, formCancelEvent);\n      }\n    });\n    const renderTitle = (spec, dialogId, titleId, providersBackstage) => {\n      const renderComponents = data => [text$2(providersBackstage.translate(data.title))];\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__title'],\n          attributes: { ...titleId.map(x => ({ id: x })).getOr({}) }\n        },\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: `${ titleChannel }-${ dialogId }`,\n            initialData: spec,\n            renderComponents\n          })])\n      };\n    };\n    const renderDragHandle = () => ({ dom: fromHtml('<div class=\"tox-dialog__draghandle\"></div>') });\n    const renderInlineHeader = (spec, dialogId, titleId, providersBackstage) => Container.sketch({\n      dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n      components: [\n        renderTitle(spec, dialogId, Optional.some(titleId), providersBackstage),\n        renderDragHandle(),\n        renderClose(providersBackstage)\n      ],\n      containerBehaviours: derive$1([Dragging.config({\n          mode: 'mouse',\n          blockerClass: 'blocker',\n          getTarget: handle => {\n            return closest$1(handle, '[role=\"dialog\"]').getOrDie();\n          },\n          snaps: {\n            getSnapPoints: () => [],\n            leftAttr: 'data-drag-left',\n            topAttr: 'data-drag-top'\n          }\n        })])\n    });\n    const renderModalHeader = (spec, dialogId, providersBackstage) => {\n      const pTitle = ModalDialog.parts.title(renderTitle(spec, dialogId, Optional.none(), providersBackstage));\n      const pHandle = ModalDialog.parts.draghandle(renderDragHandle());\n      const pClose = ModalDialog.parts.close(renderClose(providersBackstage));\n      const components = [pTitle].concat(spec.draggable ? [pHandle] : []).concat([pClose]);\n      return Container.sketch({\n        dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n        components\n      });\n    };\n\n    const getHeader = (title, dialogId, backstage) => renderModalHeader({\n      title: backstage.shared.providers.translate(title),\n      draggable: backstage.dialog.isDraggableModal()\n    }, dialogId, backstage.shared.providers);\n    const getBusySpec = (message, bs, providers) => ({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__busy-spinner'],\n        attributes: { 'aria-label': providers.translate(message) },\n        styles: {\n          left: '0px',\n          right: '0px',\n          bottom: '0px',\n          top: '0px',\n          position: 'absolute'\n        }\n      },\n      behaviours: bs,\n      components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n    });\n    const getEventExtras = (lazyDialog, providers, extra) => ({\n      onClose: () => extra.closeWindow(),\n      onBlock: blockEvent => {\n        ModalDialog.setBusy(lazyDialog(), (_comp, bs) => getBusySpec(blockEvent.message, bs, providers));\n      },\n      onUnblock: () => {\n        ModalDialog.setIdle(lazyDialog());\n      }\n    });\n    const renderModalDialog = (spec, initialData, dialogEvents, backstage) => {\n      const updateState = (_comp, incoming) => Optional.some(incoming);\n      return build$1(renderDialog$1({\n        ...spec,\n        firstTabstop: 1,\n        lazySink: backstage.shared.getSink,\n        extraBehaviours: [\n          Reflecting.config({\n            channel: `${ dialogChannel }-${ spec.id }`,\n            updateState,\n            initialData\n          }),\n          RepresentingConfigs.memory({}),\n          ...spec.extraBehaviours\n        ],\n        onEscape: comp => {\n          emit(comp, formCancelEvent);\n        },\n        dialogEvents,\n        eventOrder: {\n          [receive()]: [\n            Reflecting.name(),\n            Receiving.name()\n          ],\n          [attachedToDom()]: [\n            'scroll-lock',\n            Reflecting.name(),\n            'messages',\n            'dialog-events',\n            'alloy.base.behaviour'\n          ],\n          [detachedFromDom()]: [\n            'alloy.base.behaviour',\n            'dialog-events',\n            'messages',\n            Reflecting.name(),\n            'scroll-lock'\n          ]\n        }\n      }));\n    };\n    const mapMenuButtons = (buttons, menuItemStates = {}) => {\n      const mapItems = button => {\n        const items = map$2(button.items, item => {\n          const cell = get$g(menuItemStates, item.name).getOr(Cell(false));\n          return {\n            ...item,\n            storage: cell\n          };\n        });\n        return {\n          ...button,\n          items\n        };\n      };\n      return map$2(buttons, button => {\n        return button.type === 'menu' ? mapItems(button) : button;\n      });\n    };\n    const extractCellsToObject = buttons => foldl(buttons, (acc, button) => {\n      if (button.type === 'menu') {\n        const menuButton = button;\n        return foldl(menuButton.items, (innerAcc, item) => {\n          innerAcc[item.name] = item.storage;\n          return innerAcc;\n        }, acc);\n      }\n      return acc;\n    }, {});\n\n    const initCommonEvents = (fireApiEvent, extras) => [\n      runWithTarget(focusin(), onFocus),\n      fireApiEvent(formCloseEvent, (_api, spec, _event, self) => {\n        active$1(getRootNode(self.element)).fold(noop, blur$1);\n        extras.onClose();\n        spec.onClose();\n      }),\n      fireApiEvent(formCancelEvent, (api, spec, _event, self) => {\n        spec.onCancel(api);\n        emit(self, formCloseEvent);\n      }),\n      run$1(formUnblockEvent, (_c, _se) => extras.onUnblock()),\n      run$1(formBlockEvent, (_c, se) => extras.onBlock(se.event))\n    ];\n    const initUrlDialog = (getInstanceApi, extras) => {\n      const fireApiEvent = (eventName, f) => run$1(eventName, (c, se) => {\n        withSpec(c, (spec, _c) => {\n          f(getInstanceApi(), spec, se.event, c);\n        });\n      });\n      const withSpec = (c, f) => {\n        Reflecting.getState(c).get().each(currentDialog => {\n          f(currentDialog, c);\n        });\n      };\n      return [\n        ...initCommonEvents(fireApiEvent, extras),\n        fireApiEvent(formActionEvent, (api, spec, event) => {\n          spec.onAction(api, { name: event.name });\n        })\n      ];\n    };\n    const initDialog = (getInstanceApi, extras, getSink) => {\n      const fireApiEvent = (eventName, f) => run$1(eventName, (c, se) => {\n        withSpec(c, (spec, _c) => {\n          f(getInstanceApi(), spec, se.event, c);\n        });\n      });\n      const withSpec = (c, f) => {\n        Reflecting.getState(c).get().each(currentDialogInit => {\n          f(currentDialogInit.internalDialog, c);\n        });\n      };\n      return [\n        ...initCommonEvents(fireApiEvent, extras),\n        fireApiEvent(formSubmitEvent, (api, spec) => spec.onSubmit(api)),\n        fireApiEvent(formChangeEvent, (api, spec, event) => {\n          spec.onChange(api, { name: event.name });\n        }),\n        fireApiEvent(formActionEvent, (api, spec, event, component) => {\n          const focusIn = () => Keying.focusIn(component);\n          const isDisabled = focused => has$1(focused, 'disabled') || getOpt(focused, 'aria-disabled').exists(val => val === 'true');\n          const rootNode = getRootNode(component.element);\n          const current = active$1(rootNode);\n          spec.onAction(api, {\n            name: event.name,\n            value: event.value\n          });\n          active$1(rootNode).fold(focusIn, focused => {\n            if (isDisabled(focused)) {\n              focusIn();\n            } else if (current.exists(cur => contains(focused, cur) && isDisabled(cur))) {\n              focusIn();\n            } else {\n              getSink().toOptional().filter(sink => !contains(sink.element, focused)).each(focusIn);\n            }\n          });\n        }),\n        fireApiEvent(formTabChangeEvent, (api, spec, event) => {\n          spec.onTabChange(api, {\n            newTabName: event.name,\n            oldTabName: event.oldName\n          });\n        }),\n        runOnDetached(component => {\n          const api = getInstanceApi();\n          Representing.setValue(component, api.getData());\n        })\n      ];\n    };\n    const SilverDialogEvents = {\n      initUrlDialog,\n      initDialog\n    };\n\n    const makeButton = (button, backstage) => renderFooterButton(button, button.type, backstage);\n    const lookup = (compInSystem, footerButtons, buttonName) => find$5(footerButtons, button => button.name === buttonName).bind(memButton => memButton.memento.getOpt(compInSystem));\n    const renderComponents = (_data, state) => {\n      const footerButtons = state.map(s => s.footerButtons).getOr([]);\n      const buttonGroups = partition$3(footerButtons, button => button.align === 'start');\n      const makeGroup = (edge, buttons) => Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: [`tox-dialog__footer-${ edge }`]\n        },\n        components: map$2(buttons, button => button.memento.asSpec())\n      });\n      const startButtons = makeGroup('start', buttonGroups.pass);\n      const endButtons = makeGroup('end', buttonGroups.fail);\n      return [\n        startButtons,\n        endButtons\n      ];\n    };\n    const renderFooter = (initSpec, dialogId, backstage) => {\n      const updateState = (comp, data) => {\n        const footerButtons = map$2(data.buttons, button => {\n          const memButton = record(makeButton(button, backstage));\n          return {\n            name: button.name,\n            align: button.align,\n            memento: memButton\n          };\n        });\n        const lookupByName = buttonName => lookup(comp, footerButtons, buttonName);\n        return Optional.some({\n          lookupByName,\n          footerButtons\n        });\n      };\n      return {\n        dom: fromHtml('<div class=\"tox-dialog__footer\"></div>'),\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: `${ footerChannel }-${ dialogId }`,\n            initialData: initSpec,\n            updateState,\n            renderComponents\n          })])\n      };\n    };\n    const renderInlineFooter = (initSpec, dialogId, backstage) => renderFooter(initSpec, dialogId, backstage);\n    const renderModalFooter = (initSpec, dialogId, backstage) => ModalDialog.parts.footer(renderFooter(initSpec, dialogId, backstage));\n\n    const getCompByName = (access, name) => {\n      const root = access.getRoot();\n      if (root.getSystem().isConnected()) {\n        const form = Composing.getCurrent(access.getFormWrapper()).getOr(access.getFormWrapper());\n        return Form.getField(form, name).orThunk(() => {\n          const footer = access.getFooter();\n          const footerState = Reflecting.getState(footer).get();\n          return footerState.bind(f => f.lookupByName(name));\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const validateData$1 = (access, data) => {\n      const root = access.getRoot();\n      return Reflecting.getState(root).get().map(dialogState => getOrDie(asRaw('data', dialogState.dataValidator, data))).getOr(data);\n    };\n    const getDialogApi = (access, doRedial, menuItemStates) => {\n      const withRoot = f => {\n        const root = access.getRoot();\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      const getData = () => {\n        const root = access.getRoot();\n        const valueComp = root.getSystem().isConnected() ? access.getFormWrapper() : root;\n        const representedValues = Representing.getValue(valueComp);\n        const menuItemCurrentState = map$1(menuItemStates, cell => cell.get());\n        return {\n          ...representedValues,\n          ...menuItemCurrentState\n        };\n      };\n      const setData = newData => {\n        withRoot(_ => {\n          const prevData = instanceApi.getData();\n          const mergedData = deepMerge(prevData, newData);\n          const newInternalData = validateData$1(access, mergedData);\n          const form = access.getFormWrapper();\n          Representing.setValue(form, newInternalData);\n          each(menuItemStates, (v, k) => {\n            if (has$2(mergedData, k)) {\n              v.set(mergedData[k]);\n            }\n          });\n        });\n      };\n      const setEnabled = (name, state) => {\n        getCompByName(access, name).each(state ? Disabling.enable : Disabling.disable);\n      };\n      const focus = name => {\n        getCompByName(access, name).each(Focusing.focus);\n      };\n      const block = message => {\n        if (!isString(message)) {\n          throw new Error('The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(root => {\n          emitWith(root, formBlockEvent, { message });\n        });\n      };\n      const unblock = () => {\n        withRoot(root => {\n          emit(root, formUnblockEvent);\n        });\n      };\n      const showTab = name => {\n        withRoot(_ => {\n          const body = access.getBody();\n          const bodyState = Reflecting.getState(body);\n          if (bodyState.get().exists(b => b.isTabPanel())) {\n            Composing.getCurrent(body).each(tabSection => {\n              TabSection.showTab(tabSection, name);\n            });\n          }\n        });\n      };\n      const redial = d => {\n        withRoot(root => {\n          const id = access.getId();\n          const dialogInit = doRedial(d);\n          const storedMenuButtons = mapMenuButtons(dialogInit.internalDialog.buttons, menuItemStates);\n          root.getSystem().broadcastOn([`${ dialogChannel }-${ id }`], dialogInit);\n          root.getSystem().broadcastOn([`${ titleChannel }-${ id }`], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([`${ bodyChannel }-${ id }`], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([`${ footerChannel }-${ id }`], {\n            ...dialogInit.internalDialog,\n            buttons: storedMenuButtons\n          });\n          instanceApi.setData(dialogInit.initialData);\n        });\n      };\n      const close = () => {\n        withRoot(root => {\n          emit(root, formCloseEvent);\n        });\n      };\n      const instanceApi = {\n        getData,\n        setData,\n        setEnabled,\n        focus,\n        block,\n        unblock,\n        showTab,\n        redial,\n        close,\n        toggleFullscreen: access.toggleFullscreen\n      };\n      return instanceApi;\n    };\n\n    const getDialogSizeClasses = size => {\n      switch (size) {\n      case 'large':\n        return ['tox-dialog--width-lg'];\n      case 'medium':\n        return ['tox-dialog--width-md'];\n      default:\n        return [];\n      }\n    };\n    const renderDialog = (dialogInit, extra, backstage) => {\n      const dialogId = generate$6('dialog');\n      const internalDialog = dialogInit.internalDialog;\n      const header = getHeader(internalDialog.title, dialogId, backstage);\n      const body = renderModalBody({\n        body: internalDialog.body,\n        initialData: internalDialog.initialData\n      }, dialogId, backstage);\n      const storedMenuButtons = mapMenuButtons(internalDialog.buttons);\n      const objOfCells = extractCellsToObject(storedMenuButtons);\n      const footer = renderModalFooter({ buttons: storedMenuButtons }, dialogId, backstage);\n      const dialogEvents = SilverDialogEvents.initDialog(() => instanceApi, getEventExtras(() => dialog, backstage.shared.providers, extra), backstage.shared.getSink);\n      const dialogSize = getDialogSizeClasses(internalDialog.size);\n      const spec = {\n        id: dialogId,\n        header,\n        body,\n        footer: Optional.some(footer),\n        extraClasses: dialogSize,\n        extraBehaviours: [],\n        extraStyles: {}\n      };\n      const dialog = renderModalDialog(spec, dialogInit, dialogEvents, backstage);\n      const modalAccess = (() => {\n        const getForm = () => {\n          const outerForm = ModalDialog.getBody(dialog);\n          return Composing.getCurrent(outerForm).getOr(outerForm);\n        };\n        const toggleFullscreen = () => {\n          const fullscreenClass = 'tox-dialog--fullscreen';\n          const sugarBody = SugarElement.fromDom(dialog.element.dom);\n          if (!has(sugarBody, fullscreenClass)) {\n            remove$1(sugarBody, dialogSize);\n            add$2(sugarBody, fullscreenClass);\n          } else {\n            remove$2(sugarBody, fullscreenClass);\n            add$1(sugarBody, dialogSize);\n          }\n        };\n        return {\n          getId: constant$1(dialogId),\n          getRoot: constant$1(dialog),\n          getBody: () => ModalDialog.getBody(dialog),\n          getFooter: () => ModalDialog.getFooter(dialog),\n          getFormWrapper: getForm,\n          toggleFullscreen\n        };\n      })();\n      const instanceApi = getDialogApi(modalAccess, extra.redial, objOfCells);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    const renderInlineDialog = (dialogInit, extra, backstage, ariaAttrs) => {\n      const dialogId = generate$6('dialog');\n      const dialogLabelId = generate$6('dialog-label');\n      const dialogContentId = generate$6('dialog-content');\n      const internalDialog = dialogInit.internalDialog;\n      const updateState = (_comp, incoming) => Optional.some(incoming);\n      const memHeader = record(renderInlineHeader({\n        title: internalDialog.title,\n        draggable: true\n      }, dialogId, dialogLabelId, backstage.shared.providers));\n      const memBody = record(renderInlineBody({\n        body: internalDialog.body,\n        initialData: internalDialog.initialData\n      }, dialogId, dialogContentId, backstage, ariaAttrs));\n      const storagedMenuButtons = mapMenuButtons(internalDialog.buttons);\n      const objOfCells = extractCellsToObject(storagedMenuButtons);\n      const memFooter = record(renderInlineFooter({ buttons: storagedMenuButtons }, dialogId, backstage));\n      const dialogEvents = SilverDialogEvents.initDialog(() => instanceApi, {\n        onBlock: event => {\n          Blocking.block(dialog, (_comp, bs) => getBusySpec(event.message, bs, backstage.shared.providers));\n        },\n        onUnblock: () => {\n          Blocking.unblock(dialog);\n        },\n        onClose: () => extra.closeWindow()\n      }, backstage.shared.getSink);\n      const inlineClass = 'tox-dialog-inline';\n      const dialog = build$1({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-dialog',\n            inlineClass\n          ],\n          attributes: {\n            role: 'dialog',\n            ['aria-labelledby']: dialogLabelId,\n            ['aria-describedby']: dialogContentId\n          }\n        },\n        eventOrder: {\n          [receive()]: [\n            Reflecting.name(),\n            Receiving.name()\n          ],\n          [execute$5()]: ['execute-on-form'],\n          [attachedToDom()]: [\n            'reflecting',\n            'execute-on-form'\n          ]\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'cyclic',\n            onEscape: c => {\n              emit(c, formCloseEvent);\n              return Optional.some(true);\n            },\n            useTabstopAt: elem => !isPseudoStop(elem) && (name$3(elem) !== 'button' || get$f(elem, 'disabled') !== 'disabled'),\n            firstTabstop: 1\n          }),\n          Reflecting.config({\n            channel: `${ dialogChannel }-${ dialogId }`,\n            updateState,\n            initialData: dialogInit\n          }),\n          Focusing.config({}),\n          config('execute-on-form', dialogEvents.concat([runOnSource(focusin(), (comp, _se) => {\n              Keying.focusIn(comp);\n            })])),\n          Blocking.config({ getRoot: () => Optional.some(dialog) }),\n          Replacing.config({}),\n          RepresentingConfigs.memory({})\n        ]),\n        components: [\n          memHeader.asSpec(),\n          memBody.asSpec(),\n          memFooter.asSpec()\n        ]\n      });\n      const toggleFullscreen = () => {\n        const fullscreenClass = 'tox-dialog--fullscreen';\n        const sugarBody = SugarElement.fromDom(dialog.element.dom);\n        if (!hasAll(sugarBody, [fullscreenClass])) {\n          remove$1(sugarBody, [inlineClass]);\n          add$1(sugarBody, [fullscreenClass]);\n        } else {\n          remove$1(sugarBody, [fullscreenClass]);\n          add$1(sugarBody, [inlineClass]);\n        }\n      };\n      const instanceApi = getDialogApi({\n        getId: constant$1(dialogId),\n        getRoot: constant$1(dialog),\n        getFooter: () => memFooter.get(dialog),\n        getBody: () => memBody.get(dialog),\n        getFormWrapper: () => {\n          const body = memBody.get(dialog);\n          return Composing.getCurrent(body).getOr(body);\n        },\n        toggleFullscreen\n      }, extra.redial, objOfCells);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    const getUrlDialogApi = root => {\n      const withRoot = f => {\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      const block = message => {\n        if (!isString(message)) {\n          throw new Error('The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(root => {\n          emitWith(root, formBlockEvent, { message });\n        });\n      };\n      const unblock = () => {\n        withRoot(root => {\n          emit(root, formUnblockEvent);\n        });\n      };\n      const close = () => {\n        withRoot(root => {\n          emit(root, formCloseEvent);\n        });\n      };\n      const sendMessage = data => {\n        withRoot(root => {\n          root.getSystem().broadcastOn([bodySendMessageChannel], data);\n        });\n      };\n      return {\n        block,\n        unblock,\n        close,\n        sendMessage\n      };\n    };\n\n    const SUPPORTED_MESSAGE_ACTIONS = [\n      'insertContent',\n      'setContent',\n      'execCommand',\n      'close',\n      'block',\n      'unblock'\n    ];\n    const isSupportedMessage = data => isObject(data) && SUPPORTED_MESSAGE_ACTIONS.indexOf(data.mceAction) !== -1;\n    const isCustomMessage = data => !isSupportedMessage(data) && isObject(data) && has$2(data, 'mceAction');\n    const handleMessage = (editor, api, data) => {\n      switch (data.mceAction) {\n      case 'insertContent':\n        editor.insertContent(data.content);\n        break;\n      case 'setContent':\n        editor.setContent(data.content);\n        break;\n      case 'execCommand':\n        const ui = isBoolean(data.ui) ? data.ui : false;\n        editor.execCommand(data.cmd, ui, data.value);\n        break;\n      case 'close':\n        api.close();\n        break;\n      case 'block':\n        api.block(data.message);\n        break;\n      case 'unblock':\n        api.unblock();\n        break;\n      }\n    };\n    const renderUrlDialog = (internalDialog, extra, editor, backstage) => {\n      const dialogId = generate$6('dialog');\n      const header = getHeader(internalDialog.title, dialogId, backstage);\n      const body = renderIframeBody(internalDialog);\n      const footer = internalDialog.buttons.bind(buttons => {\n        if (buttons.length === 0) {\n          return Optional.none();\n        } else {\n          return Optional.some(renderModalFooter({ buttons }, dialogId, backstage));\n        }\n      });\n      const dialogEvents = SilverDialogEvents.initUrlDialog(() => instanceApi, getEventExtras(() => dialog, backstage.shared.providers, extra));\n      const styles = {\n        ...internalDialog.height.fold(() => ({}), height => ({\n          'height': height + 'px',\n          'max-height': height + 'px'\n        })),\n        ...internalDialog.width.fold(() => ({}), width => ({\n          'width': width + 'px',\n          'max-width': width + 'px'\n        }))\n      };\n      const classes = internalDialog.width.isNone() && internalDialog.height.isNone() ? ['tox-dialog--width-lg'] : [];\n      const iframeUri = new global(internalDialog.url, { base_uri: new global(window.location.href) });\n      const iframeDomain = `${ iframeUri.protocol }://${ iframeUri.host }${ iframeUri.port ? ':' + iframeUri.port : '' }`;\n      const messageHandlerUnbinder = unbindable();\n      const extraBehaviours = [\n        config('messages', [\n          runOnAttached(() => {\n            const unbind = bind(SugarElement.fromDom(window), 'message', e => {\n              if (iframeUri.isSameOrigin(new global(e.raw.origin))) {\n                const data = e.raw.data;\n                if (isSupportedMessage(data)) {\n                  handleMessage(editor, instanceApi, data);\n                } else if (isCustomMessage(data)) {\n                  internalDialog.onMessage(instanceApi, data);\n                }\n              }\n            });\n            messageHandlerUnbinder.set(unbind);\n          }),\n          runOnDetached(messageHandlerUnbinder.clear)\n        ]),\n        Receiving.config({\n          channels: {\n            [bodySendMessageChannel]: {\n              onReceive: (comp, data) => {\n                descendant(comp.element, 'iframe').each(iframeEle => {\n                  const iframeWin = iframeEle.dom.contentWindow;\n                  if (isNonNullable(iframeWin)) {\n                    iframeWin.postMessage(data, iframeDomain);\n                  }\n                });\n              }\n            }\n          }\n        })\n      ];\n      const spec = {\n        id: dialogId,\n        header,\n        body,\n        footer,\n        extraClasses: classes,\n        extraBehaviours,\n        extraStyles: styles\n      };\n      const dialog = renderModalDialog(spec, internalDialog, dialogEvents, backstage);\n      const instanceApi = getUrlDialogApi(dialog);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    const setup$2 = backstage => {\n      const sharedBackstage = backstage.shared;\n      const open = (message, callback) => {\n        const closeDialog = () => {\n          ModalDialog.hide(alertDialog);\n          callback();\n        };\n        const memFooterClose = record(renderFooterButton({\n          name: 'close-alert',\n          text: 'OK',\n          primary: true,\n          buttonType: Optional.some('primary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'cancel', backstage));\n        const titleSpec = pUntitled();\n        const closeSpec = pClose(closeDialog, sharedBackstage.providers);\n        const alertDialog = build$1(renderDialog$1({\n          lazySink: () => sharedBackstage.getSink(),\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [memFooterClose.asSpec()]))),\n          onEscape: closeDialog,\n          extraClasses: ['tox-alert-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [run$1(formCancelEvent, closeDialog)],\n          eventOrder: {}\n        }));\n        ModalDialog.show(alertDialog);\n        const footerCloseButton = memFooterClose.get(alertDialog);\n        Focusing.focus(footerCloseButton);\n      };\n      return { open };\n    };\n\n    const setup$1 = backstage => {\n      const sharedBackstage = backstage.shared;\n      const open = (message, callback) => {\n        const closeDialog = state => {\n          ModalDialog.hide(confirmDialog);\n          callback(state);\n        };\n        const memFooterYes = record(renderFooterButton({\n          name: 'yes',\n          text: 'Yes',\n          primary: true,\n          buttonType: Optional.some('primary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'submit', backstage));\n        const footerNo = renderFooterButton({\n          name: 'no',\n          text: 'No',\n          primary: false,\n          buttonType: Optional.some('secondary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'cancel', backstage);\n        const titleSpec = pUntitled();\n        const closeSpec = pClose(() => closeDialog(false), sharedBackstage.providers);\n        const confirmDialog = build$1(renderDialog$1({\n          lazySink: () => sharedBackstage.getSink(),\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [\n            footerNo,\n            memFooterYes.asSpec()\n          ]))),\n          onEscape: () => closeDialog(false),\n          extraClasses: ['tox-confirm-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [\n            run$1(formCancelEvent, () => closeDialog(false)),\n            run$1(formSubmitEvent, () => closeDialog(true))\n          ],\n          eventOrder: {}\n        }));\n        ModalDialog.show(confirmDialog);\n        const footerYesButton = memFooterYes.get(confirmDialog);\n        Focusing.focus(footerYesButton);\n      };\n      return { open };\n    };\n\n    const validateData = (data, validator) => getOrDie(asRaw('data', validator, data));\n    const isAlertOrConfirmDialog = target => closest(target, '.tox-alert-dialog') || closest(target, '.tox-confirm-dialog');\n    const inlineAdditionalBehaviours = (editor, isStickyToolbar, isToolbarLocationTop) => {\n      if (isStickyToolbar && isToolbarLocationTop) {\n        return [];\n      } else {\n        return [Docking.config({\n            contextual: {\n              lazyContext: () => Optional.some(box$1(SugarElement.fromDom(editor.getContentAreaContainer()))),\n              fadeInClass: 'tox-dialog-dock-fadein',\n              fadeOutClass: 'tox-dialog-dock-fadeout',\n              transitionClass: 'tox-dialog-dock-transition'\n            },\n            modes: ['top'],\n            lazyViewport: comp => {\n              const optScrollingContext = detectWhenSplitUiMode(editor, comp.element);\n              return optScrollingContext.map(sc => {\n                const combinedBounds = getBoundsFrom(sc);\n                return {\n                  bounds: combinedBounds,\n                  optScrollEnv: Optional.some({\n                    currentScrollTop: sc.element.dom.scrollTop,\n                    scrollElmTop: absolute$3(sc.element).top\n                  })\n                };\n              }).getOrThunk(() => ({\n                bounds: win(),\n                optScrollEnv: Optional.none()\n              }));\n            }\n          })];\n      }\n    };\n    const setup = extras => {\n      const editor = extras.editor;\n      const isStickyToolbar$1 = isStickyToolbar(editor);\n      const alertDialog = setup$2(extras.backstages.dialog);\n      const confirmDialog = setup$1(extras.backstages.dialog);\n      const open = (config, params, closeWindow) => {\n        if (params !== undefined && params.inline === 'toolbar') {\n          return openInlineDialog(config, extras.backstages.popup.shared.anchors.inlineDialog(), closeWindow, params.ariaAttrs);\n        } else if (params !== undefined && params.inline === 'cursor') {\n          return openInlineDialog(config, extras.backstages.popup.shared.anchors.cursor(), closeWindow, params.ariaAttrs);\n        } else {\n          return openModalDialog(config, closeWindow);\n        }\n      };\n      const openUrl = (config, closeWindow) => openModalUrlDialog(config, closeWindow);\n      const openModalUrlDialog = (config, closeWindow) => {\n        const factory = contents => {\n          const dialog = renderUrlDialog(contents, {\n            closeWindow: () => {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, editor, extras.backstages.dialog);\n          ModalDialog.show(dialog.dialog);\n          return dialog.instanceApi;\n        };\n        return DialogManager.openUrl(factory, config);\n      };\n      const openModalDialog = (config, closeWindow) => {\n        const factory = (contents, internalInitialData, dataValidator) => {\n          const initialData = internalInitialData;\n          const dialogInit = {\n            dataValidator,\n            initialData,\n            internalDialog: contents\n          };\n          const dialog = renderDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: () => {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, extras.backstages.dialog);\n          ModalDialog.show(dialog.dialog);\n          dialog.instanceApi.setData(initialData);\n          return dialog.instanceApi;\n        };\n        return DialogManager.open(factory, config);\n      };\n      const openInlineDialog = (config$1, anchor, closeWindow, ariaAttrs = false) => {\n        const factory = (contents, internalInitialData, dataValidator) => {\n          const initialData = validateData(internalInitialData, dataValidator);\n          const inlineDialog = value$2();\n          const isToolbarLocationTop = extras.backstages.popup.shared.header.isPositionedAtTop();\n          const dialogInit = {\n            dataValidator,\n            initialData,\n            internalDialog: contents\n          };\n          const refreshDocking = () => inlineDialog.on(dialog => {\n            InlineView.reposition(dialog);\n            Docking.refresh(dialog);\n          });\n          const dialogUi = renderInlineDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: () => {\n              inlineDialog.on(InlineView.hide);\n              editor.off('ResizeEditor', refreshDocking);\n              inlineDialog.clear();\n              closeWindow(dialogUi.instanceApi);\n            }\n          }, extras.backstages.popup, ariaAttrs);\n          const inlineDialogComp = build$1(InlineView.sketch({\n            lazySink: extras.backstages.popup.shared.getSink,\n            dom: {\n              tag: 'div',\n              classes: []\n            },\n            fireDismissalEventInstead: {},\n            ...isToolbarLocationTop ? {} : { fireRepositionEventInstead: {} },\n            inlineBehaviours: derive$1([\n              config('window-manager-inline-events', [run$1(dismissRequested(), (_comp, _se) => {\n                  emit(dialogUi.dialog, formCancelEvent);\n                })]),\n              ...inlineAdditionalBehaviours(editor, isStickyToolbar$1, isToolbarLocationTop)\n            ]),\n            isExtraPart: (_comp, target) => isAlertOrConfirmDialog(target)\n          }));\n          inlineDialog.set(inlineDialogComp);\n          const getInlineDialogBounds = () => {\n            const elem = editor.inline ? body() : SugarElement.fromDom(editor.getContainer());\n            const bounds = box$1(elem);\n            return Optional.some(bounds);\n          };\n          InlineView.showWithinBounds(inlineDialogComp, premade(dialogUi.dialog), { anchor }, getInlineDialogBounds);\n          if (!isStickyToolbar$1 || !isToolbarLocationTop) {\n            Docking.refresh(inlineDialogComp);\n            editor.on('ResizeEditor', refreshDocking);\n          }\n          dialogUi.instanceApi.setData(initialData);\n          Keying.focusIn(dialogUi.dialog);\n          return dialogUi.instanceApi;\n        };\n        return DialogManager.open(factory, config$1);\n      };\n      const confirm = (message, callback) => {\n        confirmDialog.open(message, callback);\n      };\n      const alert = (message, callback) => {\n        alertDialog.open(message, callback);\n      };\n      const close = instanceApi => {\n        instanceApi.close();\n      };\n      return {\n        open,\n        openUrl,\n        alert,\n        close,\n        confirm\n      };\n    };\n\n    const registerOptions = editor => {\n      register$e(editor);\n      register$d(editor);\n      register(editor);\n    };\n    var Theme = () => {\n      global$a.add('silver', editor => {\n        registerOptions(editor);\n        let popupSinkBounds = () => win();\n        const {\n          dialogs,\n          popups,\n          renderUI: renderModeUI\n        } = setup$3(editor, { getPopupSinkBounds: () => popupSinkBounds() });\n        const renderUI = async () => {\n          const renderResult = await renderModeUI();\n          const optScrollingContext = detectWhenSplitUiMode(editor, popups.getMothership().element);\n          optScrollingContext.each(sc => {\n            popupSinkBounds = () => {\n              return getBoundsFrom(sc);\n            };\n          });\n          return renderResult;\n        };\n        Autocompleter.register(editor, popups.backstage.shared);\n        const windowMgr = setup({\n          editor,\n          backstages: {\n            popup: popups.backstage,\n            dialog: dialogs.backstage\n          }\n        });\n        const getNotificationManagerImpl = () => NotificationManagerImpl(editor, { backstage: popups.backstage }, popups.getMothership());\n        return {\n          renderUI,\n          getWindowManagerImpl: constant$1(windowMgr),\n          getNotificationManagerImpl\n        };\n      });\n    };\n\n    Theme();\n\n})();\n","// Exports the \"dom\" model for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/models/dom')\n//   ES2015:\n//     import 'tinymce/models/dom'\nrequire('./model.js');","/**\n * TinyMCE version 6.4.1 (2023-03-29)\n */\n\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.ModelManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$2 = t => a => t === a;\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isArray = isType$1('array');\n    const isNull = eq$2(null);\n    const isBoolean = isSimpleType('boolean');\n    const isUndefined = eq$2(undefined);\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n\n    const noop = () => {\n    };\n    const compose = (fa, fb) => {\n      return (...args) => {\n        return fa(fb.apply(null, args));\n      };\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const not = f => t => !f(t);\n    const die = msg => {\n      return () => {\n        throw new Error(msg);\n      };\n    };\n    const apply = f => {\n      return f();\n    };\n    const never = constant(false);\n    const always = constant(true);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains$2 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const range$1 = (num, f) => {\n      const r = [];\n      for (let i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    const map$1 = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$2 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter$2 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each$2(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find$1 = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const findIndex = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind$2 = (xs, f) => flatten(map$1(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const sort$1 = (xs, comparator) => {\n      const copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    const get$d = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$d(xs, 0);\n    const last$2 = xs => get$d(xs, xs.length - 1);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each$1 = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const map = (obj, f) => {\n      return tupleMap(obj, (x, i) => ({\n        k: i,\n        v: f(x, i)\n      }));\n    };\n    const tupleMap = (obj, f) => {\n      const r = {};\n      each$1(obj, (x, i) => {\n        const tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each$1(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const filter$1 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each$1(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const get$c = (obj, key) => {\n      return has$1(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has$1 = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has$1(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    const isEmpty = r => {\n      for (const x in r) {\n        if (hasOwnProperty.call(r, x)) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    const Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const path = (parts, scope) => {\n      let o = scope !== undefined && scope !== null ? scope : Global;\n      for (let i = 0; i < parts.length && o !== undefined && o !== null; ++i) {\n        o = o[parts[i]];\n      }\n      return o;\n    };\n    const resolve$2 = (p, scope) => {\n      const parts = p.split('.');\n      return path(parts, scope);\n    };\n\n    const unsafe = (name, scope) => {\n      return resolve$2(name, scope);\n    };\n    const getOrDie = (name, scope) => {\n      const actual = unsafe(name, scope);\n      if (actual === undefined || actual === null) {\n        throw new Error(name + ' not available on this browser');\n      }\n      return actual;\n    };\n\n    const getPrototypeOf = Object.getPrototypeOf;\n    const sandHTMLElement = scope => {\n      return getOrDie('HTMLElement', scope);\n    };\n    const isPrototypeOf = x => {\n      const scope = resolve$2('ownerDocument.defaultView', x);\n      return isObject(x) && (sandHTMLElement(scope).prototype.isPrototypeOf(x) || /^HTML\\w*Element$/.test(getPrototypeOf(x).constructor.name));\n    };\n\n    const COMMENT = 8;\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const name = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type = element => element.dom.nodeType;\n    const isType = t => element => type(element) === t;\n    const isComment = element => type(element) === COMMENT || name(element) === '#comment';\n    const isHTMLElement = element => isElement(element) && isPrototypeOf(element.dom);\n    const isElement = isType(ELEMENT);\n    const isText = isType(TEXT);\n    const isDocument = isType(DOCUMENT);\n    const isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement(e) && name(e) === tag;\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$2 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll$1 = (element, attrs) => {\n      const dom = element.dom;\n      each$1(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const setOptions = (element, attrs) => {\n      each$1(attrs, (v, k) => {\n        v.fold(() => {\n          remove$7(element, k);\n        }, value => {\n          rawSet(element.dom, k, value);\n        });\n      });\n    };\n    const get$b = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$b(element, key));\n    const remove$7 = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const clone$2 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const fromHtml$1 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom$1(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom$1(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom$1(node);\n    };\n    const fromDom$1 = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint$1 = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$1);\n    const SugarElement = {\n      fromHtml: fromHtml$1,\n      fromTag,\n      fromText,\n      fromDom: fromDom$1,\n      fromPoint: fromPoint$1\n    };\n\n    const is$2 = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all$1 = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$1(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq$1 = (e1, e2) => e1.dom === e2.dom;\n    const contains$1 = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    const is$1 = is$2;\n\n    const owner = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument(dos) ? dos : owner(dos);\n    const documentElement = element => SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    const defaultView = element => SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parentElement = element => Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    const parents = (element, isRoot) => {\n      const stop = isFunction(isRoot) ? isRoot : never;\n      let dom = element.dom;\n      const ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        const rawParent = dom.parentNode;\n        const p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    const prevSibling = element => Optional.from(element.dom.previousSibling).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children$2 = element => map$1(element.dom.childNodes, SugarElement.fromDom);\n    const child$2 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$2(element, 0);\n\n    const before$3 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$5 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$1(v, element);\n        });\n      }, v => {\n        before$3(v, element);\n      });\n    };\n    const prepend = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$1(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$1 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const appendAt = (parent, element, index) => {\n      child$2(parent, index).fold(() => {\n        append$1(parent, element);\n      }, v => {\n        before$3(v, element);\n      });\n    };\n    const wrap = (element, wrapper) => {\n      before$3(element, wrapper);\n      append$1(wrapper, element);\n    };\n\n    const after$4 = (marker, elements) => {\n      each$2(elements, (x, i) => {\n        const e = i === 0 ? marker : elements[i - 1];\n        after$5(e, x);\n      });\n    };\n    const append = (parent, elements) => {\n      each$2(elements, x => {\n        append$1(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$2(children$2(element), rogue => {\n        remove$6(rogue);\n      });\n    };\n    const remove$6 = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    const unwrap = wrapper => {\n      const children = children$2(wrapper);\n      if (children.length > 0) {\n        after$4(wrapper, children);\n      }\n      remove$6(wrapper);\n    };\n\n    const clone$1 = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const shallow = original => clone$1(original, false);\n    const deep = original => clone$1(original, true);\n    const shallowAs = (original, tag) => {\n      const nu = SugarElement.fromTag(tag);\n      const attributes = clone$2(original);\n      setAll$1(nu, attributes);\n      return nu;\n    };\n    const copy$2 = (original, tag) => {\n      const nu = shallowAs(original, tag);\n      const cloneChildren = children$2(deep(original));\n      append(nu, cloneChildren);\n      return nu;\n    };\n    const mutate$1 = (original, tag) => {\n      const nu = shallowAs(original, tag);\n      after$5(original, nu);\n      const children = children$2(original);\n      append(nu, children);\n      remove$6(original);\n      return nu;\n    };\n\n    const validSectionList = [\n      'tfoot',\n      'thead',\n      'tbody',\n      'colgroup'\n    ];\n    const isValidSection = parentName => contains$2(validSectionList, parentName);\n    const grid = (rows, columns) => ({\n      rows,\n      columns\n    });\n    const address = (row, column) => ({\n      row,\n      column\n    });\n    const detail = (element, rowspan, colspan) => ({\n      element,\n      rowspan,\n      colspan\n    });\n    const detailnew = (element, rowspan, colspan, isNew) => ({\n      element,\n      rowspan,\n      colspan,\n      isNew\n    });\n    const extended = (element, rowspan, colspan, row, column, isLocked) => ({\n      element,\n      rowspan,\n      colspan,\n      row,\n      column,\n      isLocked\n    });\n    const rowdetail = (element, cells, section) => ({\n      element,\n      cells,\n      section\n    });\n    const rowdetailnew = (element, cells, section, isNew) => ({\n      element,\n      cells,\n      section,\n      isNew\n    });\n    const elementnew = (element, isNew, isLocked) => ({\n      element,\n      isNew,\n      isLocked\n    });\n    const rowcells = (element, cells, section, isNew) => ({\n      element,\n      cells,\n      section,\n      isNew\n    });\n    const bounds = (startRow, startCol, finishRow, finishCol) => ({\n      startRow,\n      startCol,\n      finishRow,\n      finishCol\n    });\n    const columnext = (element, colspan, column) => ({\n      element,\n      colspan,\n      column\n    });\n    const colgroup = (element, columns) => ({\n      element,\n      columns\n    });\n\n    const isShadowRoot = dos => isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    const supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    const isSupported$1 = constant(supported);\n    const getRootNode = supported ? e => SugarElement.fromDom(e.dom.getRootNode()) : documentOrOwner;\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n    const getOriginalEventTarget = event => {\n      if (isSupported$1() && isNonNullable(event.target)) {\n        const el = SugarElement.fromDom(event.target);\n        if (isElement(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            const composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    const isOpenShadowHost = element => isNonNullable(element.dom.shadowRoot);\n\n    const inBody = element => {\n      const dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n    const body$1 = () => getBody$1(SugarElement.fromDom(document));\n    const getBody$1 = doc => {\n      const b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    const ancestors$4 = (scope, predicate, isRoot) => filter$2(parents(scope, isRoot), predicate);\n    const children$1 = (scope, predicate) => filter$2(children$2(scope), predicate);\n    const descendants$1 = (scope, predicate) => {\n      let result = [];\n      each$2(children$2(scope), x => {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants$1(x, predicate));\n      });\n      return result;\n    };\n\n    const ancestors$3 = (scope, selector, isRoot) => ancestors$4(scope, e => is$2(e, selector), isRoot);\n    const children = (scope, selector) => children$1(scope, e => is$2(e, selector));\n    const descendants = (scope, selector) => all$1(selector, scope);\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$2 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$2 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$2, scope, predicate, isRoot);\n    };\n    const child$1 = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find$1(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    const descendant$1 = (scope, predicate) => {\n      const descend = node => {\n        for (let i = 0; i < node.childNodes.length; i++) {\n          const child = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    const ancestor$1 = (scope, selector, isRoot) => ancestor$2(scope, e => is$2(e, selector), isRoot);\n    const child = (scope, selector) => child$1(scope, e => is$2(e, selector));\n    const descendant = (scope, selector) => one(selector, scope);\n    const closest$1 = (scope, selector, isRoot) => {\n      const is = (element, selector) => is$2(element, selector);\n      return ClosestOrAncestor(is, ancestor$1, scope, selector, isRoot);\n    };\n\n    const is = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const bindFrom = (a, f) => a !== undefined && a !== null ? f(a) : Optional.none();\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const contains = (str, substr, start = 0, end) => {\n      const idx = str.indexOf(substr, start);\n      if (idx !== -1) {\n        return isUndefined(end) ? true : idx + substr.length <= end;\n      } else {\n        return false;\n      }\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const endsWith = (str, suffix) => {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const toFloat = value => {\n      const num = parseFloat(value);\n      return isNaN(num) ? Optional.none() : Optional.some(num);\n    };\n\n    const isSupported = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$1 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const setAll = (element, css) => {\n      const dom = element.dom;\n      each$1(css, (v, k) => {\n        internalSet(dom, k, v);\n      });\n    };\n    const get$a = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw$2 = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const remove$5 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is(getOpt(element, 'style').map(trim), '')) {\n        remove$7(element, 'style');\n      }\n    };\n    const copy$1 = (source, target) => {\n      const sourceDom = source.dom;\n      const targetDom = target.dom;\n      if (isSupported(sourceDom) && isSupported(targetDom)) {\n        targetDom.style.cssText = sourceDom.style.cssText;\n      }\n    };\n\n    const getAttrValue = (cell, name, fallback = 0) => getOpt(cell, name).map(value => parseInt(value, 10)).getOr(fallback);\n    const getSpan = (cell, type) => getAttrValue(cell, type, 1);\n    const hasColspan = cellOrCol => {\n      if (isTag('col')(cellOrCol)) {\n        return getAttrValue(cellOrCol, 'span', 1) > 1;\n      } else {\n        return getSpan(cellOrCol, 'colspan') > 1;\n      }\n    };\n    const hasRowspan = cell => getSpan(cell, 'rowspan') > 1;\n    const getCssValue = (element, property) => parseInt(get$a(element, property), 10);\n    const minWidth = constant(10);\n    const minHeight = constant(10);\n\n    const firstLayer = (scope, selector) => {\n      return filterFirstLayer(scope, selector, always);\n    };\n    const filterFirstLayer = (scope, selector, predicate) => {\n      return bind$2(children$2(scope), x => {\n        if (is$2(x, selector)) {\n          return predicate(x) ? [x] : [];\n        } else {\n          return filterFirstLayer(x, selector, predicate);\n        }\n      });\n    };\n\n    const lookup = (tags, element, isRoot = never) => {\n      if (isRoot(element)) {\n        return Optional.none();\n      }\n      if (contains$2(tags, name(element))) {\n        return Optional.some(element);\n      }\n      const isRootOrUpperTable = elm => is$2(elm, 'table') || isRoot(elm);\n      return ancestor$1(element, tags.join(','), isRootOrUpperTable);\n    };\n    const cell = (element, isRoot) => lookup([\n      'td',\n      'th'\n    ], element, isRoot);\n    const cells$1 = ancestor => firstLayer(ancestor, 'th,td');\n    const columns$1 = ancestor => {\n      if (is$2(ancestor, 'colgroup')) {\n        return children(ancestor, 'col');\n      } else {\n        return bind$2(columnGroups(ancestor), columnGroup => children(columnGroup, 'col'));\n      }\n    };\n    const table = (element, isRoot) => closest$1(element, 'table', isRoot);\n    const rows$1 = ancestor => firstLayer(ancestor, 'tr');\n    const columnGroups = ancestor => table(ancestor).fold(constant([]), table => children(table, 'colgroup'));\n\n    const fromRowsOrColGroups = (elems, getSection) => map$1(elems, row => {\n      if (name(row) === 'colgroup') {\n        const cells = map$1(columns$1(row), column => {\n          const colspan = getAttrValue(column, 'span', 1);\n          return detail(column, 1, colspan);\n        });\n        return rowdetail(row, cells, 'colgroup');\n      } else {\n        const cells = map$1(cells$1(row), cell => {\n          const rowspan = getAttrValue(cell, 'rowspan', 1);\n          const colspan = getAttrValue(cell, 'colspan', 1);\n          return detail(cell, rowspan, colspan);\n        });\n        return rowdetail(row, cells, getSection(row));\n      }\n    });\n    const getParentSection = group => parent(group).map(parent => {\n      const parentName = name(parent);\n      return isValidSection(parentName) ? parentName : 'tbody';\n    }).getOr('tbody');\n    const fromTable$1 = table => {\n      const rows = rows$1(table);\n      const columnGroups$1 = columnGroups(table);\n      const elems = [\n        ...columnGroups$1,\n        ...rows\n      ];\n      return fromRowsOrColGroups(elems, getParentSection);\n    };\n    const fromPastedRows = (elems, section) => fromRowsOrColGroups(elems, () => section);\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const DeviceType = (os, browser, userAgent, mediaMatch) => {\n      const isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      const isiPhone = os.isiOS() && !isiPad;\n      const isMobile = os.isiOS() || os.isAndroid();\n      const isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      const isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      const isPhone = isiPhone || isMobile && !isTablet;\n      const iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      const isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview),\n        isDesktop: constant(isDesktop)\n      };\n    };\n\n    const firstMatch = (regexes, s) => {\n      for (let i = 0; i < regexes.length; i++) {\n        const x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    const find = (regexes, agent) => {\n      const r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      const group = i => {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$2(group(1), group(2));\n    };\n    const detect$5 = (versionRegexes, agent) => {\n      const cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$2();\n      }\n      return find(versionRegexes, cleanedAgent);\n    };\n    const unknown$2 = () => {\n      return nu$2(0, 0);\n    };\n    const nu$2 = (major, minor) => {\n      return {\n        major,\n        minor\n      };\n    };\n    const Version = {\n      nu: nu$2,\n      detect: detect$5,\n      unknown: unknown$2\n    };\n\n    const detectBrowser$1 = (browsers, userAgentData) => {\n      return findMap(userAgentData.brands, uaBrand => {\n        const lcBrand = uaBrand.brand.toLowerCase();\n        return find$1(browsers, browser => {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(info => ({\n          current: info.name,\n          version: Version.nu(parseInt(uaBrand.version, 10), 0)\n        }));\n      });\n    };\n\n    const detect$4 = (candidates, userAgent) => {\n      const agent = String(userAgent).toLowerCase();\n      return find$1(candidates, candidate => {\n        return candidate.search(agent);\n      });\n    };\n    const detectBrowser = (browsers, userAgent) => {\n      return detect$4(browsers, userAgent).map(browser => {\n        const version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version\n        };\n      });\n    };\n    const detectOs = (oses, userAgent) => {\n      return detect$4(oses, userAgent).map(os => {\n        const version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version\n        };\n      });\n    };\n\n    const normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    const checkContains = target => {\n      return uastring => {\n        return contains(uastring, target);\n      };\n    };\n    const browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: uastring => {\n          return contains(uastring, 'edge/') && contains(uastring, 'chrome') && contains(uastring, 'safari') && contains(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chromium',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: uastring => {\n          return contains(uastring, 'chrome') && !contains(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: uastring => {\n          return contains(uastring, 'msie') || contains(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: uastring => {\n          return (contains(uastring, 'safari') || contains(uastring, 'mobile/')) && contains(uastring, 'applewebkit');\n        }\n      }\n    ];\n    const oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: uastring => {\n          return contains(uastring, 'iphone') || contains(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'macOS',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    const PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    const edge = 'Edge';\n    const chromium = 'Chromium';\n    const ie = 'IE';\n    const opera = 'Opera';\n    const firefox = 'Firefox';\n    const safari = 'Safari';\n    const unknown$1 = () => {\n      return nu$1({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$1 = info => {\n      const current = info.current;\n      const version = info.version;\n      const isBrowser = name => () => current === name;\n      return {\n        current,\n        version,\n        isEdge: isBrowser(edge),\n        isChromium: isBrowser(chromium),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    const Browser = {\n      unknown: unknown$1,\n      nu: nu$1,\n      edge: constant(edge),\n      chromium: constant(chromium),\n      ie: constant(ie),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    const windows = 'Windows';\n    const ios = 'iOS';\n    const android = 'Android';\n    const linux = 'Linux';\n    const macos = 'macOS';\n    const solaris = 'Solaris';\n    const freebsd = 'FreeBSD';\n    const chromeos = 'ChromeOS';\n    const unknown = () => {\n      return nu({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu = info => {\n      const current = info.current;\n      const version = info.version;\n      const isOS = name => () => current === name;\n      return {\n        current,\n        version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isMacOS: isOS(macos),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    const OperatingSystem = {\n      unknown,\n      nu,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      macos: constant(macos),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd),\n      chromeos: constant(chromeos)\n    };\n\n    const detect$3 = (userAgent, userAgentDataOpt, mediaMatch) => {\n      const browsers = PlatformInfo.browsers();\n      const oses = PlatformInfo.oses();\n      const browser = userAgentDataOpt.bind(userAgentData => detectBrowser$1(browsers, userAgentData)).orThunk(() => detectBrowser(browsers, userAgent)).fold(Browser.unknown, Browser.nu);\n      const os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      const deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser,\n        os,\n        deviceType\n      };\n    };\n    const PlatformDetection = { detect: detect$3 };\n\n    const mediaMatch = query => window.matchMedia(query).matches;\n    let platform = cached(() => PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch));\n    const detect$2 = () => platform();\n\n    const Dimension = (name, getOffset) => {\n      const set = (element, h) => {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        const dom = element.dom;\n        if (isSupported(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      const get = element => {\n        const r = getOffset(element);\n        if (r <= 0 || r === null) {\n          const css = get$a(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      const getOuter = get;\n      const aggregate = (element, properties) => foldl(properties, (acc, property) => {\n        const val = get$a(element, property);\n        const value = val === undefined ? 0 : parseInt(val, 10);\n        return isNaN(value) ? acc : acc + value;\n      }, 0);\n      const max = (element, value, properties) => {\n        const cumulativeInclusions = aggregate(element, properties);\n        const absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set,\n        get,\n        getOuter,\n        aggregate,\n        max\n      };\n    };\n\n    const toNumber = (px, fallback) => toFloat(px).getOr(fallback);\n    const getProp = (element, name, fallback) => toNumber(get$a(element, name), fallback);\n    const calcContentBoxSize = (element, size, upper, lower) => {\n      const paddingUpper = getProp(element, `padding-${ upper }`, 0);\n      const paddingLower = getProp(element, `padding-${ lower }`, 0);\n      const borderUpper = getProp(element, `border-${ upper }-width`, 0);\n      const borderLower = getProp(element, `border-${ lower }-width`, 0);\n      return size - paddingUpper - paddingLower - borderUpper - borderLower;\n    };\n    const getCalculatedWidth = (element, boxSizing) => {\n      const dom = element.dom;\n      const width = dom.getBoundingClientRect().width || dom.offsetWidth;\n      return boxSizing === 'border-box' ? width : calcContentBoxSize(element, width, 'left', 'right');\n    };\n    const getHeight$1 = element => getProp(element, 'height', element.dom.offsetHeight);\n    const getWidth = element => getProp(element, 'width', element.dom.offsetWidth);\n    const getInnerWidth = element => getCalculatedWidth(element, 'content-box');\n\n    const api$2 = Dimension('width', element => element.dom.offsetWidth);\n    const get$9 = element => api$2.get(element);\n    const getOuter$2 = element => api$2.getOuter(element);\n    const getInner = getInnerWidth;\n    const getRuntime$1 = getWidth;\n\n    const addCells = (gridRow, index, cells) => {\n      const existingCells = gridRow.cells;\n      const before = existingCells.slice(0, index);\n      const after = existingCells.slice(index);\n      const newCells = before.concat(cells).concat(after);\n      return setCells(gridRow, newCells);\n    };\n    const addCell = (gridRow, index, cell) => addCells(gridRow, index, [cell]);\n    const mutateCell = (gridRow, index, cell) => {\n      const cells = gridRow.cells;\n      cells[index] = cell;\n    };\n    const setCells = (gridRow, cells) => rowcells(gridRow.element, cells, gridRow.section, gridRow.isNew);\n    const mapCells = (gridRow, f) => {\n      const cells = gridRow.cells;\n      const r = map$1(cells, f);\n      return rowcells(gridRow.element, r, gridRow.section, gridRow.isNew);\n    };\n    const getCell = (gridRow, index) => gridRow.cells[index];\n    const getCellElement = (gridRow, index) => getCell(gridRow, index).element;\n    const cellLength = gridRow => gridRow.cells.length;\n    const extractGridDetails = grid => {\n      const result = partition(grid, row => row.section === 'colgroup');\n      return {\n        rows: result.fail,\n        cols: result.pass\n      };\n    };\n    const clone = (gridRow, cloneRow, cloneCell) => {\n      const newCells = map$1(gridRow.cells, cloneCell);\n      return rowcells(cloneRow(gridRow.element), newCells, gridRow.section, true);\n    };\n\n    const LOCKED_COL_ATTR = 'data-snooker-locked-cols';\n    const getLockedColumnsFromTable = table => getOpt(table, LOCKED_COL_ATTR).bind(lockedColStr => Optional.from(lockedColStr.match(/\\d+/g))).map(lockedCols => mapToObject(lockedCols, always));\n    const getLockedColumnsFromGrid = grid => {\n      const locked = foldl(extractGridDetails(grid).rows, (acc, row) => {\n        each$2(row.cells, (cell, idx) => {\n          if (cell.isLocked) {\n            acc[idx] = true;\n          }\n        });\n        return acc;\n      }, {});\n      const lockedArr = mapToArray(locked, (_val, key) => parseInt(key, 10));\n      return sort$1(lockedArr);\n    };\n\n    const key = (row, column) => {\n      return row + ',' + column;\n    };\n    const getAt = (warehouse, row, column) => Optional.from(warehouse.access[key(row, column)]);\n    const findItem = (warehouse, item, comparator) => {\n      const filtered = filterItems(warehouse, detail => {\n        return comparator(item, detail.element);\n      });\n      return filtered.length > 0 ? Optional.some(filtered[0]) : Optional.none();\n    };\n    const filterItems = (warehouse, predicate) => {\n      const all = bind$2(warehouse.all, r => {\n        return r.cells;\n      });\n      return filter$2(all, predicate);\n    };\n    const generateColumns = rowData => {\n      const columnsGroup = {};\n      let index = 0;\n      each$2(rowData.cells, column => {\n        const colspan = column.colspan;\n        range$1(colspan, columnIndex => {\n          const colIndex = index + columnIndex;\n          columnsGroup[colIndex] = columnext(column.element, colspan, colIndex);\n        });\n        index += colspan;\n      });\n      return columnsGroup;\n    };\n    const generate$1 = list => {\n      const access = {};\n      const cells = [];\n      const tableOpt = head(list).map(rowData => rowData.element).bind(table);\n      const lockedColumns = tableOpt.bind(getLockedColumnsFromTable).getOr({});\n      let maxRows = 0;\n      let maxColumns = 0;\n      let rowCount = 0;\n      const {\n        pass: colgroupRows,\n        fail: rows\n      } = partition(list, rowData => rowData.section === 'colgroup');\n      each$2(rows, rowData => {\n        const currentRow = [];\n        each$2(rowData.cells, rowCell => {\n          let start = 0;\n          while (access[key(rowCount, start)] !== undefined) {\n            start++;\n          }\n          const isLocked = hasNonNullableKey(lockedColumns, start.toString());\n          const current = extended(rowCell.element, rowCell.rowspan, rowCell.colspan, rowCount, start, isLocked);\n          for (let occupiedColumnPosition = 0; occupiedColumnPosition < rowCell.colspan; occupiedColumnPosition++) {\n            for (let occupiedRowPosition = 0; occupiedRowPosition < rowCell.rowspan; occupiedRowPosition++) {\n              const rowPosition = rowCount + occupiedRowPosition;\n              const columnPosition = start + occupiedColumnPosition;\n              const newpos = key(rowPosition, columnPosition);\n              access[newpos] = current;\n              maxColumns = Math.max(maxColumns, columnPosition + 1);\n            }\n          }\n          currentRow.push(current);\n        });\n        maxRows++;\n        cells.push(rowdetail(rowData.element, currentRow, rowData.section));\n        rowCount++;\n      });\n      const {columns, colgroups} = last$2(colgroupRows).map(rowData => {\n        const columns = generateColumns(rowData);\n        const colgroup$1 = colgroup(rowData.element, values(columns));\n        return {\n          colgroups: [colgroup$1],\n          columns\n        };\n      }).getOrThunk(() => ({\n        colgroups: [],\n        columns: {}\n      }));\n      const grid$1 = grid(maxRows, maxColumns);\n      return {\n        grid: grid$1,\n        access,\n        all: cells,\n        columns,\n        colgroups\n      };\n    };\n    const fromTable = table => {\n      const list = fromTable$1(table);\n      return generate$1(list);\n    };\n    const justCells = warehouse => bind$2(warehouse.all, w => w.cells);\n    const justColumns = warehouse => values(warehouse.columns);\n    const hasColumns = warehouse => keys(warehouse.columns).length > 0;\n    const getColumnAt = (warehouse, columnIndex) => Optional.from(warehouse.columns[columnIndex]);\n    const Warehouse = {\n      fromTable,\n      generate: generate$1,\n      getAt,\n      findItem,\n      filterItems,\n      justCells,\n      justColumns,\n      hasColumns,\n      getColumnAt\n    };\n\n    const columns = (warehouse, isValidCell = always) => {\n      const grid = warehouse.grid;\n      const cols = range$1(grid.columns, identity);\n      const rowsArr = range$1(grid.rows, identity);\n      return map$1(cols, col => {\n        const getBlock = () => bind$2(rowsArr, r => Warehouse.getAt(warehouse, r, col).filter(detail => detail.column === col).toArray());\n        const isValid = detail => detail.colspan === 1 && isValidCell(detail.element);\n        const getFallback = () => Warehouse.getAt(warehouse, 0, col);\n        return decide(getBlock, isValid, getFallback);\n      });\n    };\n    const decide = (getBlock, isValid, getFallback) => {\n      const inBlock = getBlock();\n      const validInBlock = find$1(inBlock, isValid);\n      const detailOption = validInBlock.orThunk(() => Optional.from(inBlock[0]).orThunk(getFallback));\n      return detailOption.map(detail => detail.element);\n    };\n    const rows = warehouse => {\n      const grid = warehouse.grid;\n      const rowsArr = range$1(grid.rows, identity);\n      const cols = range$1(grid.columns, identity);\n      return map$1(rowsArr, row => {\n        const getBlock = () => bind$2(cols, c => Warehouse.getAt(warehouse, row, c).filter(detail => detail.row === row).fold(constant([]), detail => [detail]));\n        const isSingle = detail => detail.rowspan === 1;\n        const getFallback = () => Warehouse.getAt(warehouse, row, 0);\n        return decide(getBlock, isSingle, getFallback);\n      });\n    };\n\n    const deduce = (xs, index) => {\n      if (index < 0 || index >= xs.length - 1) {\n        return Optional.none();\n      }\n      const current = xs[index].fold(() => {\n        const rest = reverse(xs.slice(0, index));\n        return findMap(rest, (a, i) => a.map(aa => ({\n          value: aa,\n          delta: i + 1\n        })));\n      }, c => Optional.some({\n        value: c,\n        delta: 0\n      }));\n      const next = xs[index + 1].fold(() => {\n        const rest = xs.slice(index + 1);\n        return findMap(rest, (a, i) => a.map(aa => ({\n          value: aa,\n          delta: i + 1\n        })));\n      }, n => Optional.some({\n        value: n,\n        delta: 1\n      }));\n      return current.bind(c => next.map(n => {\n        const extras = n.delta + c.delta;\n        return Math.abs(n.value - c.value) / extras;\n      }));\n    };\n\n    const onDirection = (isLtr, isRtl) => element => getDirection(element) === 'rtl' ? isRtl : isLtr;\n    const getDirection = element => get$a(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n\n    const api$1 = Dimension('height', element => {\n      const dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    const get$8 = element => api$1.get(element);\n    const getOuter$1 = element => api$1.getOuter(element);\n    const getRuntime = getHeight$1;\n\n    const r = (left, top) => {\n      const translate = (x, y) => r(left + x, top + y);\n      return {\n        left,\n        top,\n        translate\n      };\n    };\n    const SugarPosition = r;\n\n    const boxPosition = dom => {\n      const box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    const firstDefinedOrZero = (a, b) => {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    const absolute = element => {\n      const doc = element.dom.ownerDocument;\n      const body = doc.body;\n      const win = doc.defaultView;\n      const html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      const scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      const scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      const clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      const clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    const viewport = element => {\n      const dom = element.dom;\n      const doc = dom.ownerDocument;\n      const body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    const rowInfo = (row, y) => ({\n      row,\n      y\n    });\n    const colInfo = (col, x) => ({\n      col,\n      x\n    });\n    const rtlEdge = cell => {\n      const pos = absolute(cell);\n      return pos.left + getOuter$2(cell);\n    };\n    const ltrEdge = cell => {\n      return absolute(cell).left;\n    };\n    const getLeftEdge = (index, cell) => {\n      return colInfo(index, ltrEdge(cell));\n    };\n    const getRightEdge = (index, cell) => {\n      return colInfo(index, rtlEdge(cell));\n    };\n    const getTop$1 = cell => {\n      return absolute(cell).top;\n    };\n    const getTopEdge = (index, cell) => {\n      return rowInfo(index, getTop$1(cell));\n    };\n    const getBottomEdge = (index, cell) => {\n      return rowInfo(index, getTop$1(cell) + getOuter$1(cell));\n    };\n    const findPositions = (getInnerEdge, getOuterEdge, array) => {\n      if (array.length === 0) {\n        return [];\n      }\n      const lines = map$1(array.slice(1), (cellOption, index) => {\n        return cellOption.map(cell => {\n          return getInnerEdge(index, cell);\n        });\n      });\n      const lastLine = array[array.length - 1].map(cell => {\n        return getOuterEdge(array.length - 1, cell);\n      });\n      return lines.concat([lastLine]);\n    };\n    const negate = step => {\n      return -step;\n    };\n    const height = {\n      delta: identity,\n      positions: optElements => findPositions(getTopEdge, getBottomEdge, optElements),\n      edge: getTop$1\n    };\n    const ltr$1 = {\n      delta: identity,\n      edge: ltrEdge,\n      positions: optElements => findPositions(getLeftEdge, getRightEdge, optElements)\n    };\n    const rtl$1 = {\n      delta: negate,\n      edge: rtlEdge,\n      positions: optElements => findPositions(getRightEdge, getLeftEdge, optElements)\n    };\n    const detect$1 = onDirection(ltr$1, rtl$1);\n    const width = {\n      delta: (amount, table) => detect$1(table).delta(amount, table),\n      positions: (cols, table) => detect$1(table).positions(cols, table),\n      edge: cell => detect$1(cell).edge(cell)\n    };\n\n    const units = {\n      unsupportedLength: [\n        'em',\n        'ex',\n        'cap',\n        'ch',\n        'ic',\n        'rem',\n        'lh',\n        'rlh',\n        'vw',\n        'vh',\n        'vi',\n        'vb',\n        'vmin',\n        'vmax',\n        'cm',\n        'mm',\n        'Q',\n        'in',\n        'pc',\n        'pt',\n        'px'\n      ],\n      fixed: [\n        'px',\n        'pt'\n      ],\n      relative: ['%'],\n      empty: ['']\n    };\n    const pattern = (() => {\n      const decimalDigits = '[0-9]+';\n      const signedInteger = '[+-]?' + decimalDigits;\n      const exponentPart = '[eE]' + signedInteger;\n      const dot = '\\\\.';\n      const opt = input => `(?:${ input })?`;\n      const unsignedDecimalLiteral = [\n        'Infinity',\n        decimalDigits + dot + opt(decimalDigits) + opt(exponentPart),\n        dot + decimalDigits + opt(exponentPart),\n        decimalDigits + opt(exponentPart)\n      ].join('|');\n      const float = `[+-]?(?:${ unsignedDecimalLiteral })`;\n      return new RegExp(`^(${ float })(.*)$`);\n    })();\n    const isUnit = (unit, accepted) => exists(accepted, acc => exists(units[acc], check => unit === check));\n    const parse = (input, accepted) => {\n      const match = Optional.from(pattern.exec(input));\n      return match.bind(array => {\n        const value = Number(array[1]);\n        const unitRaw = array[2];\n        if (isUnit(unitRaw, accepted)) {\n          return Optional.some({\n            value,\n            unit: unitRaw\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n\n    const rPercentageBasedSizeRegex = /(\\d+(\\.\\d+)?)%/;\n    const rPixelBasedSizeRegex = /(\\d+(\\.\\d+)?)px|em/;\n    const isCol$2 = isTag('col');\n    const getPercentSize = (elm, outerGetter, innerGetter) => {\n      const relativeParent = parentElement(elm).getOrThunk(() => getBody$1(owner(elm)));\n      return outerGetter(elm) / innerGetter(relativeParent) * 100;\n    };\n    const setPixelWidth = (cell, amount) => {\n      set$1(cell, 'width', amount + 'px');\n    };\n    const setPercentageWidth = (cell, amount) => {\n      set$1(cell, 'width', amount + '%');\n    };\n    const setHeight = (cell, amount) => {\n      set$1(cell, 'height', amount + 'px');\n    };\n    const getHeightValue = cell => getRuntime(cell) + 'px';\n    const convert = (cell, number, getter, setter) => {\n      const newSize = table(cell).map(table => {\n        const total = getter(table);\n        return Math.floor(number / 100 * total);\n      }).getOr(number);\n      setter(cell, newSize);\n      return newSize;\n    };\n    const normalizePixelSize = (value, cell, getter, setter) => {\n      const number = parseFloat(value);\n      return endsWith(value, '%') && name(cell) !== 'table' ? convert(cell, number, getter, setter) : number;\n    };\n    const getTotalHeight = cell => {\n      const value = getHeightValue(cell);\n      if (!value) {\n        return get$8(cell);\n      }\n      return normalizePixelSize(value, cell, get$8, setHeight);\n    };\n    const get$7 = (cell, type, f) => {\n      const v = f(cell);\n      const span = getSpan(cell, type);\n      return v / span;\n    };\n    const getRaw$1 = (element, prop) => {\n      return getRaw$2(element, prop).orThunk(() => {\n        return getOpt(element, prop).map(val => val + 'px');\n      });\n    };\n    const getRawWidth$1 = element => getRaw$1(element, 'width');\n    const getRawHeight = element => getRaw$1(element, 'height');\n    const getPercentageWidth = cell => getPercentSize(cell, get$9, getInner);\n    const getPixelWidth$1 = cell => isCol$2(cell) ? get$9(cell) : getRuntime$1(cell);\n    const getHeight = cell => {\n      return get$7(cell, 'rowspan', getTotalHeight);\n    };\n    const getGenericWidth = cell => {\n      const width = getRawWidth$1(cell);\n      return width.bind(w => parse(w, [\n        'fixed',\n        'relative',\n        'empty'\n      ]));\n    };\n    const setGenericWidth = (cell, amount, unit) => {\n      set$1(cell, 'width', amount + unit);\n    };\n    const getPixelTableWidth = table => get$9(table) + 'px';\n    const getPercentTableWidth = table => getPercentSize(table, get$9, getInner) + '%';\n    const isPercentSizing$1 = table => getRawWidth$1(table).exists(size => rPercentageBasedSizeRegex.test(size));\n    const isPixelSizing$1 = table => getRawWidth$1(table).exists(size => rPixelBasedSizeRegex.test(size));\n    const isNoneSizing$1 = table => getRawWidth$1(table).isNone();\n    const percentageBasedSizeRegex = constant(rPercentageBasedSizeRegex);\n\n    const isCol$1 = isTag('col');\n    const getRawW = cell => {\n      return getRawWidth$1(cell).getOrThunk(() => getPixelWidth$1(cell) + 'px');\n    };\n    const getRawH = cell => {\n      return getRawHeight(cell).getOrThunk(() => getHeight(cell) + 'px');\n    };\n    const justCols = warehouse => map$1(Warehouse.justColumns(warehouse), column => Optional.from(column.element));\n    const isValidColumn = cell => {\n      const browser = detect$2().browser;\n      const supportsColWidths = browser.isChromium() || browser.isFirefox();\n      return isCol$1(cell) ? supportsColWidths : true;\n    };\n    const getDimension = (cellOpt, index, backups, filter, getter, fallback) => cellOpt.filter(filter).fold(() => fallback(deduce(backups, index)), cell => getter(cell));\n    const getWidthFrom = (warehouse, table, getWidth, fallback) => {\n      const columnCells = columns(warehouse);\n      const columns$1 = Warehouse.hasColumns(warehouse) ? justCols(warehouse) : columnCells;\n      const backups = [Optional.some(width.edge(table))].concat(map$1(width.positions(columnCells, table), pos => pos.map(p => p.x)));\n      const colFilter = not(hasColspan);\n      return map$1(columns$1, (cellOption, c) => {\n        return getDimension(cellOption, c, backups, colFilter, column => {\n          if (isValidColumn(column)) {\n            return getWidth(column);\n          } else {\n            const cell = bindFrom(columnCells[c], identity);\n            return getDimension(cell, c, backups, colFilter, cell => fallback(Optional.some(get$9(cell))), fallback);\n          }\n        }, fallback);\n      });\n    };\n    const getDeduced = deduced => {\n      return deduced.map(d => {\n        return d + 'px';\n      }).getOr('');\n    };\n    const getRawWidths = (warehouse, table) => {\n      return getWidthFrom(warehouse, table, getRawW, getDeduced);\n    };\n    const getPercentageWidths = (warehouse, table, tableSize) => {\n      return getWidthFrom(warehouse, table, getPercentageWidth, deduced => {\n        return deduced.fold(() => {\n          return tableSize.minCellWidth();\n        }, cellWidth => {\n          return cellWidth / tableSize.pixelWidth() * 100;\n        });\n      });\n    };\n    const getPixelWidths = (warehouse, table, tableSize) => {\n      return getWidthFrom(warehouse, table, getPixelWidth$1, deduced => {\n        return deduced.getOrThunk(tableSize.minCellWidth);\n      });\n    };\n    const getHeightFrom = (warehouse, table, direction, getHeight, fallback) => {\n      const rows$1 = rows(warehouse);\n      const backups = [Optional.some(direction.edge(table))].concat(map$1(direction.positions(rows$1, table), pos => pos.map(p => p.y)));\n      return map$1(rows$1, (cellOption, c) => {\n        return getDimension(cellOption, c, backups, not(hasRowspan), getHeight, fallback);\n      });\n    };\n    const getPixelHeights = (warehouse, table, direction) => {\n      return getHeightFrom(warehouse, table, direction, getHeight, deduced => {\n        return deduced.getOrThunk(minHeight);\n      });\n    };\n    const getRawHeights = (warehouse, table, direction) => {\n      return getHeightFrom(warehouse, table, direction, getRawH, getDeduced);\n    };\n\n    const widthLookup = (table, getter) => () => {\n      if (inBody(table)) {\n        return getter(table);\n      } else {\n        return parseFloat(getRaw$2(table, 'width').getOr('0'));\n      }\n    };\n    const noneSize = table => {\n      const getWidth = widthLookup(table, get$9);\n      const zero = constant(0);\n      const getWidths = (warehouse, tableSize) => getPixelWidths(warehouse, table, tableSize);\n      return {\n        width: getWidth,\n        pixelWidth: getWidth,\n        getWidths,\n        getCellDelta: zero,\n        singleColumnWidth: constant([0]),\n        minCellWidth: zero,\n        setElementWidth: noop,\n        adjustTableWidth: noop,\n        isRelative: true,\n        label: 'none'\n      };\n    };\n    const percentageSize = table => {\n      const getFloatWidth = widthLookup(table, elem => parseFloat(getPercentTableWidth(elem)));\n      const getWidth = widthLookup(table, get$9);\n      const getCellDelta = delta => delta / getWidth() * 100;\n      const singleColumnWidth = (w, _delta) => [100 - w];\n      const minCellWidth = () => minWidth() / getWidth() * 100;\n      const adjustTableWidth = delta => {\n        const currentWidth = getFloatWidth();\n        const change = delta / 100 * currentWidth;\n        const newWidth = currentWidth + change;\n        setPercentageWidth(table, newWidth);\n      };\n      const getWidths = (warehouse, tableSize) => getPercentageWidths(warehouse, table, tableSize);\n      return {\n        width: getFloatWidth,\n        pixelWidth: getWidth,\n        getWidths,\n        getCellDelta,\n        singleColumnWidth,\n        minCellWidth,\n        setElementWidth: setPercentageWidth,\n        adjustTableWidth,\n        isRelative: true,\n        label: 'percent'\n      };\n    };\n    const pixelSize = table => {\n      const getWidth = widthLookup(table, get$9);\n      const getCellDelta = identity;\n      const singleColumnWidth = (w, delta) => {\n        const newNext = Math.max(minWidth(), w + delta);\n        return [newNext - w];\n      };\n      const adjustTableWidth = delta => {\n        const newWidth = getWidth() + delta;\n        setPixelWidth(table, newWidth);\n      };\n      const getWidths = (warehouse, tableSize) => getPixelWidths(warehouse, table, tableSize);\n      return {\n        width: getWidth,\n        pixelWidth: getWidth,\n        getWidths,\n        getCellDelta,\n        singleColumnWidth,\n        minCellWidth: minWidth,\n        setElementWidth: setPixelWidth,\n        adjustTableWidth,\n        isRelative: false,\n        label: 'pixel'\n      };\n    };\n    const chooseSize = (element, width) => {\n      const percentMatch = percentageBasedSizeRegex().exec(width);\n      if (percentMatch !== null) {\n        return percentageSize(element);\n      } else {\n        return pixelSize(element);\n      }\n    };\n    const getTableSize = table => {\n      const width = getRawWidth$1(table);\n      return width.fold(() => noneSize(table), w => chooseSize(table, w));\n    };\n    const TableSize = {\n      getTableSize,\n      pixelSize,\n      percentageSize,\n      noneSize\n    };\n\n    const statsStruct = (minRow, minCol, maxRow, maxCol, allCells, selectedCells) => ({\n      minRow,\n      minCol,\n      maxRow,\n      maxCol,\n      allCells,\n      selectedCells\n    });\n    const findSelectedStats = (house, isSelected) => {\n      const totalColumns = house.grid.columns;\n      const totalRows = house.grid.rows;\n      let minRow = totalRows;\n      let minCol = totalColumns;\n      let maxRow = 0;\n      let maxCol = 0;\n      const allCells = [];\n      const selectedCells = [];\n      each$1(house.access, detail => {\n        allCells.push(detail);\n        if (isSelected(detail)) {\n          selectedCells.push(detail);\n          const startRow = detail.row;\n          const endRow = startRow + detail.rowspan - 1;\n          const startCol = detail.column;\n          const endCol = startCol + detail.colspan - 1;\n          if (startRow < minRow) {\n            minRow = startRow;\n          } else if (endRow > maxRow) {\n            maxRow = endRow;\n          }\n          if (startCol < minCol) {\n            minCol = startCol;\n          } else if (endCol > maxCol) {\n            maxCol = endCol;\n          }\n        }\n      });\n      return statsStruct(minRow, minCol, maxRow, maxCol, allCells, selectedCells);\n    };\n    const makeCell = (list, seenSelected, rowIndex) => {\n      const row = list[rowIndex].element;\n      const td = SugarElement.fromTag('td');\n      append$1(td, SugarElement.fromTag('br'));\n      const f = seenSelected ? append$1 : prepend;\n      f(row, td);\n    };\n    const fillInGaps = (list, house, stats, isSelected) => {\n      const rows = filter$2(list, row => row.section !== 'colgroup');\n      const totalColumns = house.grid.columns;\n      const totalRows = house.grid.rows;\n      for (let i = 0; i < totalRows; i++) {\n        let seenSelected = false;\n        for (let j = 0; j < totalColumns; j++) {\n          if (!(i < stats.minRow || i > stats.maxRow || j < stats.minCol || j > stats.maxCol)) {\n            const needCell = Warehouse.getAt(house, i, j).filter(isSelected).isNone();\n            if (needCell) {\n              makeCell(rows, seenSelected, i);\n            } else {\n              seenSelected = true;\n            }\n          }\n        }\n      }\n    };\n    const clean = (replica, stats, house, widthDelta) => {\n      each$1(house.columns, col => {\n        if (col.column < stats.minCol || col.column > stats.maxCol) {\n          remove$6(col.element);\n        }\n      });\n      const emptyRows = filter$2(firstLayer(replica, 'tr'), row => row.dom.childElementCount === 0);\n      each$2(emptyRows, remove$6);\n      if (stats.minCol === stats.maxCol || stats.minRow === stats.maxRow) {\n        each$2(firstLayer(replica, 'th,td'), cell => {\n          remove$7(cell, 'rowspan');\n          remove$7(cell, 'colspan');\n        });\n      }\n      remove$7(replica, LOCKED_COL_ATTR);\n      remove$7(replica, 'data-snooker-col-series');\n      const tableSize = TableSize.getTableSize(replica);\n      tableSize.adjustTableWidth(widthDelta);\n    };\n    const getTableWidthDelta = (table, warehouse, tableSize, stats) => {\n      if (stats.minCol === 0 && warehouse.grid.columns === stats.maxCol + 1) {\n        return 0;\n      }\n      const colWidths = getPixelWidths(warehouse, table, tableSize);\n      const allColsWidth = foldl(colWidths, (acc, width) => acc + width, 0);\n      const selectedColsWidth = foldl(colWidths.slice(stats.minCol, stats.maxCol + 1), (acc, width) => acc + width, 0);\n      const newWidth = selectedColsWidth / allColsWidth * tableSize.pixelWidth();\n      const delta = newWidth - tableSize.pixelWidth();\n      return tableSize.getCellDelta(delta);\n    };\n    const extract$1 = (table, selectedSelector) => {\n      const isSelected = detail => is$2(detail.element, selectedSelector);\n      const replica = deep(table);\n      const list = fromTable$1(replica);\n      const tableSize = TableSize.getTableSize(table);\n      const replicaHouse = Warehouse.generate(list);\n      const replicaStats = findSelectedStats(replicaHouse, isSelected);\n      const selector = 'th:not(' + selectedSelector + ')' + ',td:not(' + selectedSelector + ')';\n      const unselectedCells = filterFirstLayer(replica, 'th,td', cell => is$2(cell, selector));\n      each$2(unselectedCells, remove$6);\n      fillInGaps(list, replicaHouse, replicaStats, isSelected);\n      const house = Warehouse.fromTable(table);\n      const widthDelta = getTableWidthDelta(table, house, tableSize, replicaStats);\n      clean(replica, replicaStats, replicaHouse, widthDelta);\n      return replica;\n    };\n\n    const nbsp = '\\xA0';\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api = NodeValue(isText, 'text');\n    const get$6 = element => api.get(element);\n    const getOption = element => api.getOption(element);\n    const set = (element, value) => api.set(element, value);\n\n    const getEnd = element => name(element) === 'img' ? 1 : getOption(element).fold(() => children$2(element).length, v => v.length);\n    const isTextNodeWithCursorPosition = el => getOption(el).filter(text => text.trim().length !== 0 || text.indexOf(nbsp) > -1).isSome();\n    const isContentEditableFalse = elem => isHTMLElement(elem) && get$b(elem, 'contenteditable') === 'false';\n    const elementsWithCursorPosition = [\n      'img',\n      'br'\n    ];\n    const isCursorPosition = elem => {\n      const hasCursorPosition = isTextNodeWithCursorPosition(elem);\n      return hasCursorPosition || contains$2(elementsWithCursorPosition, name(elem)) || isContentEditableFalse(elem);\n    };\n\n    const first = element => descendant$1(element, isCursorPosition);\n    const last$1 = element => descendantRtl(element, isCursorPosition);\n    const descendantRtl = (scope, predicate) => {\n      const descend = element => {\n        const children = children$2(element);\n        for (let i = children.length - 1; i >= 0; i--) {\n          const child = children[i];\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(child);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope);\n    };\n\n    const transferableAttributes = {\n      scope: [\n        'row',\n        'col'\n      ]\n    };\n    const createCell = doc => () => {\n      const td = SugarElement.fromTag('td', doc.dom);\n      append$1(td, SugarElement.fromTag('br', doc.dom));\n      return td;\n    };\n    const createCol = doc => () => {\n      return SugarElement.fromTag('col', doc.dom);\n    };\n    const createColgroup = doc => () => {\n      return SugarElement.fromTag('colgroup', doc.dom);\n    };\n    const createRow$1 = doc => () => {\n      return SugarElement.fromTag('tr', doc.dom);\n    };\n    const replace$1 = (cell, tag, attrs) => {\n      const replica = copy$2(cell, tag);\n      each$1(attrs, (v, k) => {\n        if (v === null) {\n          remove$7(replica, k);\n        } else {\n          set$2(replica, k, v);\n        }\n      });\n      return replica;\n    };\n    const pasteReplace = cell => {\n      return cell;\n    };\n    const cloneFormats = (oldCell, newCell, formats) => {\n      const first$1 = first(oldCell);\n      return first$1.map(firstText => {\n        const formatSelector = formats.join(',');\n        const parents = ancestors$3(firstText, formatSelector, element => {\n          return eq$1(element, oldCell);\n        });\n        return foldr(parents, (last, parent) => {\n          const clonedFormat = shallow(parent);\n          append$1(last, clonedFormat);\n          return clonedFormat;\n        }, newCell);\n      }).getOr(newCell);\n    };\n    const cloneAppropriateAttributes = (original, clone) => {\n      each$1(transferableAttributes, (validAttributes, attributeName) => getOpt(original, attributeName).filter(attribute => contains$2(validAttributes, attribute)).each(attribute => set$2(clone, attributeName, attribute)));\n    };\n    const cellOperations = (mutate, doc, formatsToClone) => {\n      const cloneCss = (prev, clone) => {\n        copy$1(prev.element, clone);\n        remove$5(clone, 'height');\n        if (prev.colspan !== 1) {\n          remove$5(clone, 'width');\n        }\n      };\n      const newCell = prev => {\n        const td = SugarElement.fromTag(name(prev.element), doc.dom);\n        const formats = formatsToClone.getOr([\n          'strong',\n          'em',\n          'b',\n          'i',\n          'span',\n          'font',\n          'h1',\n          'h2',\n          'h3',\n          'h4',\n          'h5',\n          'h6',\n          'p',\n          'div'\n        ]);\n        const lastNode = formats.length > 0 ? cloneFormats(prev.element, td, formats) : td;\n        append$1(lastNode, SugarElement.fromTag('br'));\n        cloneCss(prev, td);\n        cloneAppropriateAttributes(prev.element, td);\n        mutate(prev.element, td);\n        return td;\n      };\n      const newCol = prev => {\n        const col = SugarElement.fromTag(name(prev.element), doc.dom);\n        cloneCss(prev, col);\n        mutate(prev.element, col);\n        return col;\n      };\n      return {\n        col: newCol,\n        colgroup: createColgroup(doc),\n        row: createRow$1(doc),\n        cell: newCell,\n        replace: replace$1,\n        colGap: createCol(doc),\n        gap: createCell(doc)\n      };\n    };\n    const paste$1 = doc => {\n      return {\n        col: createCol(doc),\n        colgroup: createColgroup(doc),\n        row: createRow$1(doc),\n        cell: createCell(doc),\n        replace: pasteReplace,\n        colGap: createCol(doc),\n        gap: createCell(doc)\n      };\n    };\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      return children$2(SugarElement.fromDom(div));\n    };\n    const fromDom = nodes => map$1(nodes, SugarElement.fromDom);\n\n    const closest = target => closest$1(target, '[contenteditable]');\n    const isEditable$1 = (element, assumeEditable = false) => {\n      if (inBody(element)) {\n        return element.dom.isContentEditable;\n      } else {\n        return closest(element).fold(constant(assumeEditable), editable => getRaw(editable) === 'true');\n      }\n    };\n    const getRaw = element => element.dom.contentEditable;\n\n    const getBody = editor => SugarElement.fromDom(editor.getBody());\n    const getIsRoot = editor => element => eq$1(element, getBody(editor));\n    const removeDataStyle = table => {\n      remove$7(table, 'data-mce-style');\n      const removeStyleAttribute = element => remove$7(element, 'data-mce-style');\n      each$2(cells$1(table), removeStyleAttribute);\n      each$2(columns$1(table), removeStyleAttribute);\n      each$2(rows$1(table), removeStyleAttribute);\n    };\n    const getSelectionStart = editor => SugarElement.fromDom(editor.selection.getStart());\n    const getPixelWidth = elm => elm.getBoundingClientRect().width;\n    const getPixelHeight = elm => elm.getBoundingClientRect().height;\n    const getRawWidth = (editor, elm) => {\n      const raw = editor.dom.getStyle(elm, 'width') || editor.dom.getAttrib(elm, 'width');\n      return Optional.from(raw).filter(isNotEmpty);\n    };\n    const isPercentage$1 = value => /^(\\d+(\\.\\d+)?)%$/.test(value);\n    const isPixel = value => /^(\\d+(\\.\\d+)?)px$/.test(value);\n    const isInEditableContext$1 = cell => closest$2(cell, isTag('table')).exists(isEditable$1);\n\n    const inSelection = (bounds, detail) => {\n      const leftEdge = detail.column;\n      const rightEdge = detail.column + detail.colspan - 1;\n      const topEdge = detail.row;\n      const bottomEdge = detail.row + detail.rowspan - 1;\n      return leftEdge <= bounds.finishCol && rightEdge >= bounds.startCol && (topEdge <= bounds.finishRow && bottomEdge >= bounds.startRow);\n    };\n    const isWithin = (bounds, detail) => {\n      return detail.column >= bounds.startCol && detail.column + detail.colspan - 1 <= bounds.finishCol && detail.row >= bounds.startRow && detail.row + detail.rowspan - 1 <= bounds.finishRow;\n    };\n    const isRectangular = (warehouse, bounds) => {\n      let isRect = true;\n      const detailIsWithin = curry(isWithin, bounds);\n      for (let i = bounds.startRow; i <= bounds.finishRow; i++) {\n        for (let j = bounds.startCol; j <= bounds.finishCol; j++) {\n          isRect = isRect && Warehouse.getAt(warehouse, i, j).exists(detailIsWithin);\n        }\n      }\n      return isRect ? Optional.some(bounds) : Optional.none();\n    };\n\n    const getBounds = (detailA, detailB) => {\n      return bounds(Math.min(detailA.row, detailB.row), Math.min(detailA.column, detailB.column), Math.max(detailA.row + detailA.rowspan - 1, detailB.row + detailB.rowspan - 1), Math.max(detailA.column + detailA.colspan - 1, detailB.column + detailB.colspan - 1));\n    };\n    const getAnyBox = (warehouse, startCell, finishCell) => {\n      const startCoords = Warehouse.findItem(warehouse, startCell, eq$1);\n      const finishCoords = Warehouse.findItem(warehouse, finishCell, eq$1);\n      return startCoords.bind(sc => {\n        return finishCoords.map(fc => {\n          return getBounds(sc, fc);\n        });\n      });\n    };\n    const getBox$1 = (warehouse, startCell, finishCell) => {\n      return getAnyBox(warehouse, startCell, finishCell).bind(bounds => {\n        return isRectangular(warehouse, bounds);\n      });\n    };\n\n    const moveBy$1 = (warehouse, cell, row, column) => {\n      return Warehouse.findItem(warehouse, cell, eq$1).bind(detail => {\n        const startRow = row > 0 ? detail.row + detail.rowspan - 1 : detail.row;\n        const startCol = column > 0 ? detail.column + detail.colspan - 1 : detail.column;\n        const dest = Warehouse.getAt(warehouse, startRow + row, startCol + column);\n        return dest.map(d => {\n          return d.element;\n        });\n      });\n    };\n    const intercepts$1 = (warehouse, start, finish) => {\n      return getAnyBox(warehouse, start, finish).map(bounds => {\n        const inside = Warehouse.filterItems(warehouse, curry(inSelection, bounds));\n        return map$1(inside, detail => {\n          return detail.element;\n        });\n      });\n    };\n    const parentCell = (warehouse, innerCell) => {\n      const isContainedBy = (c1, c2) => {\n        return contains$1(c2, c1);\n      };\n      return Warehouse.findItem(warehouse, innerCell, isContainedBy).map(detail => {\n        return detail.element;\n      });\n    };\n\n    const moveBy = (cell, deltaRow, deltaColumn) => {\n      return table(cell).bind(table => {\n        const warehouse = getWarehouse(table);\n        return moveBy$1(warehouse, cell, deltaRow, deltaColumn);\n      });\n    };\n    const intercepts = (table, first, last) => {\n      const warehouse = getWarehouse(table);\n      return intercepts$1(warehouse, first, last);\n    };\n    const nestedIntercepts = (table, first, firstTable, last, lastTable) => {\n      const warehouse = getWarehouse(table);\n      const optStartCell = eq$1(table, firstTable) ? Optional.some(first) : parentCell(warehouse, first);\n      const optLastCell = eq$1(table, lastTable) ? Optional.some(last) : parentCell(warehouse, last);\n      return optStartCell.bind(startCell => optLastCell.bind(lastCell => intercepts$1(warehouse, startCell, lastCell)));\n    };\n    const getBox = (table, first, last) => {\n      const warehouse = getWarehouse(table);\n      return getBox$1(warehouse, first, last);\n    };\n    const getWarehouse = Warehouse.fromTable;\n\n    var TagBoundaries = [\n      'body',\n      'p',\n      'div',\n      'article',\n      'aside',\n      'figcaption',\n      'figure',\n      'footer',\n      'header',\n      'nav',\n      'section',\n      'ol',\n      'ul',\n      'li',\n      'table',\n      'thead',\n      'tbody',\n      'tfoot',\n      'caption',\n      'tr',\n      'td',\n      'th',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'blockquote',\n      'pre',\n      'address'\n    ];\n\n    var DomUniverse = () => {\n      const clone = element => {\n        return SugarElement.fromDom(element.dom.cloneNode(false));\n      };\n      const document = element => documentOrOwner(element).dom;\n      const isBoundary = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        if (name(element) === 'body') {\n          return true;\n        }\n        return contains$2(TagBoundaries, name(element));\n      };\n      const isEmptyTag = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        return contains$2([\n          'br',\n          'img',\n          'hr',\n          'input'\n        ], name(element));\n      };\n      const isNonEditable = element => isElement(element) && get$b(element, 'contenteditable') === 'false';\n      const comparePosition = (element, other) => {\n        return element.dom.compareDocumentPosition(other.dom);\n      };\n      const copyAttributesTo = (source, destination) => {\n        const as = clone$2(source);\n        setAll$1(destination, as);\n      };\n      const isSpecial = element => {\n        const tag = name(element);\n        return contains$2([\n          'script',\n          'noscript',\n          'iframe',\n          'noframes',\n          'noembed',\n          'title',\n          'style',\n          'textarea',\n          'xmp'\n        ], tag);\n      };\n      const getLanguage = element => isElement(element) ? getOpt(element, 'lang') : Optional.none();\n      return {\n        up: constant({\n          selector: ancestor$1,\n          closest: closest$1,\n          predicate: ancestor$2,\n          all: parents\n        }),\n        down: constant({\n          selector: descendants,\n          predicate: descendants$1\n        }),\n        styles: constant({\n          get: get$a,\n          getRaw: getRaw$2,\n          set: set$1,\n          remove: remove$5\n        }),\n        attrs: constant({\n          get: get$b,\n          set: set$2,\n          remove: remove$7,\n          copyTo: copyAttributesTo\n        }),\n        insert: constant({\n          before: before$3,\n          after: after$5,\n          afterAll: after$4,\n          append: append$1,\n          appendAll: append,\n          prepend: prepend,\n          wrap: wrap\n        }),\n        remove: constant({\n          unwrap: unwrap,\n          remove: remove$6\n        }),\n        create: constant({\n          nu: SugarElement.fromTag,\n          clone,\n          text: SugarElement.fromText\n        }),\n        query: constant({\n          comparePosition,\n          prevSibling: prevSibling,\n          nextSibling: nextSibling\n        }),\n        property: constant({\n          children: children$2,\n          name: name,\n          parent: parent,\n          document,\n          isText: isText,\n          isComment: isComment,\n          isElement: isElement,\n          isSpecial,\n          getLanguage,\n          getText: get$6,\n          setText: set,\n          isBoundary,\n          isEmptyTag,\n          isNonEditable\n        }),\n        eq: eq$1,\n        is: is$1\n      };\n    };\n\n    const all = (universe, look, elements, f) => {\n      const head = elements[0];\n      const tail = elements.slice(1);\n      return f(universe, look, head, tail);\n    };\n    const oneAll = (universe, look, elements) => {\n      return elements.length > 0 ? all(universe, look, elements, unsafeOne) : Optional.none();\n    };\n    const unsafeOne = (universe, look, head, tail) => {\n      const start = look(universe, head);\n      return foldr(tail, (b, a) => {\n        const current = look(universe, a);\n        return commonElement(universe, b, current);\n      }, start);\n    };\n    const commonElement = (universe, start, end) => {\n      return start.bind(s => {\n        return end.filter(curry(universe.eq, s));\n      });\n    };\n\n    const eq = (universe, item) => {\n      return curry(universe.eq, item);\n    };\n    const ancestors$2 = (universe, start, end, isRoot = never) => {\n      const ps1 = [start].concat(universe.up().all(start));\n      const ps2 = [end].concat(universe.up().all(end));\n      const prune = path => {\n        const index = findIndex(path, isRoot);\n        return index.fold(() => {\n          return path;\n        }, ind => {\n          return path.slice(0, ind + 1);\n        });\n      };\n      const pruned1 = prune(ps1);\n      const pruned2 = prune(ps2);\n      const shared = find$1(pruned1, x => {\n        return exists(pruned2, eq(universe, x));\n      });\n      return {\n        firstpath: pruned1,\n        secondpath: pruned2,\n        shared\n      };\n    };\n\n    const sharedOne$1 = oneAll;\n    const ancestors$1 = ancestors$2;\n\n    const universe$3 = DomUniverse();\n    const sharedOne = (look, elements) => {\n      return sharedOne$1(universe$3, (_universe, element) => {\n        return look(element);\n      }, elements);\n    };\n    const ancestors = (start, finish, isRoot) => {\n      return ancestors$1(universe$3, start, finish, isRoot);\n    };\n\n    const lookupTable = container => {\n      return ancestor$1(container, 'table');\n    };\n    const identify = (start, finish, isRoot) => {\n      const getIsRoot = rootTable => {\n        return element => {\n          return isRoot !== undefined && isRoot(element) || eq$1(element, rootTable);\n        };\n      };\n      if (eq$1(start, finish)) {\n        return Optional.some({\n          boxes: Optional.some([start]),\n          start,\n          finish\n        });\n      } else {\n        return lookupTable(start).bind(startTable => {\n          return lookupTable(finish).bind(finishTable => {\n            if (eq$1(startTable, finishTable)) {\n              return Optional.some({\n                boxes: intercepts(startTable, start, finish),\n                start,\n                finish\n              });\n            } else if (contains$1(startTable, finishTable)) {\n              const ancestorCells = ancestors$3(finish, 'td,th', getIsRoot(startTable));\n              const finishCell = ancestorCells.length > 0 ? ancestorCells[ancestorCells.length - 1] : finish;\n              return Optional.some({\n                boxes: nestedIntercepts(startTable, start, startTable, finish, finishTable),\n                start,\n                finish: finishCell\n              });\n            } else if (contains$1(finishTable, startTable)) {\n              const ancestorCells = ancestors$3(start, 'td,th', getIsRoot(finishTable));\n              const startCell = ancestorCells.length > 0 ? ancestorCells[ancestorCells.length - 1] : start;\n              return Optional.some({\n                boxes: nestedIntercepts(finishTable, start, startTable, finish, finishTable),\n                start,\n                finish: startCell\n              });\n            } else {\n              return ancestors(start, finish).shared.bind(lca => {\n                return closest$1(lca, 'table', isRoot).bind(lcaTable => {\n                  const finishAncestorCells = ancestors$3(finish, 'td,th', getIsRoot(lcaTable));\n                  const finishCell = finishAncestorCells.length > 0 ? finishAncestorCells[finishAncestorCells.length - 1] : finish;\n                  const startAncestorCells = ancestors$3(start, 'td,th', getIsRoot(lcaTable));\n                  const startCell = startAncestorCells.length > 0 ? startAncestorCells[startAncestorCells.length - 1] : start;\n                  return Optional.some({\n                    boxes: nestedIntercepts(lcaTable, start, startTable, finish, finishTable),\n                    start: startCell,\n                    finish: finishCell\n                  });\n                });\n              });\n            }\n          });\n        });\n      }\n    };\n    const retrieve$1 = (container, selector) => {\n      const sels = descendants(container, selector);\n      return sels.length > 0 ? Optional.some(sels) : Optional.none();\n    };\n    const getLast = (boxes, lastSelectedSelector) => {\n      return find$1(boxes, box => {\n        return is$2(box, lastSelectedSelector);\n      });\n    };\n    const getEdges = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return descendant(container, firstSelectedSelector).bind(first => {\n        return descendant(container, lastSelectedSelector).bind(last => {\n          return sharedOne(lookupTable, [\n            first,\n            last\n          ]).map(table => {\n            return {\n              first,\n              last,\n              table\n            };\n          });\n        });\n      });\n    };\n    const expandTo = (finish, firstSelectedSelector) => {\n      return ancestor$1(finish, 'table').bind(table => {\n        return descendant(table, firstSelectedSelector).bind(start => {\n          return identify(start, finish).bind(identified => {\n            return identified.boxes.map(boxes => {\n              return {\n                boxes,\n                start: identified.start,\n                finish: identified.finish\n              };\n            });\n          });\n        });\n      });\n    };\n    const shiftSelection = (boxes, deltaRow, deltaColumn, firstSelectedSelector, lastSelectedSelector) => {\n      return getLast(boxes, lastSelectedSelector).bind(last => {\n        return moveBy(last, deltaRow, deltaColumn).bind(finish => {\n          return expandTo(finish, firstSelectedSelector);\n        });\n      });\n    };\n\n    const retrieve = (container, selector) => {\n      return retrieve$1(container, selector);\n    };\n    const retrieveBox = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return getEdges(container, firstSelectedSelector, lastSelectedSelector).bind(edges => {\n        const isRoot = ancestor => {\n          return eq$1(container, ancestor);\n        };\n        const sectionSelector = 'thead,tfoot,tbody,table';\n        const firstAncestor = ancestor$1(edges.first, sectionSelector, isRoot);\n        const lastAncestor = ancestor$1(edges.last, sectionSelector, isRoot);\n        return firstAncestor.bind(fA => {\n          return lastAncestor.bind(lA => {\n            return eq$1(fA, lA) ? getBox(edges.table, edges.first, edges.last) : Optional.none();\n          });\n        });\n      });\n    };\n\n    const selection = identity;\n    const unmergable = selectedCells => {\n      const hasSpan = (elem, type) => getOpt(elem, type).exists(span => parseInt(span, 10) > 1);\n      const hasRowOrColSpan = elem => hasSpan(elem, 'rowspan') || hasSpan(elem, 'colspan');\n      return selectedCells.length > 0 && forall(selectedCells, hasRowOrColSpan) ? Optional.some(selectedCells) : Optional.none();\n    };\n    const mergable = (table, selectedCells, ephemera) => {\n      if (selectedCells.length <= 1) {\n        return Optional.none();\n      } else {\n        return retrieveBox(table, ephemera.firstSelectedSelector, ephemera.lastSelectedSelector).map(bounds => ({\n          bounds,\n          cells: selectedCells\n        }));\n      }\n    };\n\n    const strSelected = 'data-mce-selected';\n    const strSelectedSelector = 'td[' + strSelected + '],th[' + strSelected + ']';\n    const strAttributeSelector = '[' + strSelected + ']';\n    const strFirstSelected = 'data-mce-first-selected';\n    const strFirstSelectedSelector = 'td[' + strFirstSelected + '],th[' + strFirstSelected + ']';\n    const strLastSelected = 'data-mce-last-selected';\n    const strLastSelectedSelector = 'td[' + strLastSelected + '],th[' + strLastSelected + ']';\n    const attributeSelector = strAttributeSelector;\n    const ephemera = {\n      selected: strSelected,\n      selectedSelector: strSelectedSelector,\n      firstSelected: strFirstSelected,\n      firstSelectedSelector: strFirstSelectedSelector,\n      lastSelected: strLastSelected,\n      lastSelectedSelector: strLastSelectedSelector\n    };\n\n    const forMenu = (selectedCells, table, cell) => ({\n      element: cell,\n      mergable: mergable(table, selectedCells, ephemera),\n      unmergable: unmergable(selectedCells),\n      selection: selection(selectedCells)\n    });\n    const paste = (element, clipboard, generators) => ({\n      element,\n      clipboard,\n      generators\n    });\n    const pasteRows = (selectedCells, _cell, clipboard, generators) => ({\n      selection: selection(selectedCells),\n      clipboard,\n      generators\n    });\n\n    const getSelectionCellFallback = element => table(element).bind(table => retrieve(table, ephemera.firstSelectedSelector)).fold(constant(element), cells => cells[0]);\n    const getSelectionFromSelector = selector => (initCell, isRoot) => {\n      const cellName = name(initCell);\n      const cell = cellName === 'col' || cellName === 'colgroup' ? getSelectionCellFallback(initCell) : initCell;\n      return closest$1(cell, selector, isRoot);\n    };\n    const getSelectionCellOrCaption = getSelectionFromSelector('th,td,caption');\n    const getSelectionCell = getSelectionFromSelector('th,td');\n    const getCellsFromSelection = editor => fromDom(editor.model.table.getSelectedCells());\n    const getCellsFromFakeSelection = editor => filter$2(getCellsFromSelection(editor), cell => is$2(cell, ephemera.selectedSelector));\n\n    const extractSelected = cells => {\n      return table(cells[0]).map(table => {\n        const replica = extract$1(table, attributeSelector);\n        removeDataStyle(replica);\n        return [replica];\n      });\n    };\n    const serializeElements = (editor, elements) => map$1(elements, elm => editor.selection.serializer.serialize(elm.dom, {})).join('');\n    const getTextContent = elements => map$1(elements, element => element.dom.innerText).join('');\n    const registerEvents = (editor, actions) => {\n      editor.on('BeforeGetContent', e => {\n        const multiCellContext = cells => {\n          e.preventDefault();\n          extractSelected(cells).each(elements => {\n            e.content = e.format === 'text' ? getTextContent(elements) : serializeElements(editor, elements);\n          });\n        };\n        if (e.selection === true) {\n          const cells = getCellsFromFakeSelection(editor);\n          if (cells.length >= 1) {\n            multiCellContext(cells);\n          }\n        }\n      });\n      editor.on('BeforeSetContent', e => {\n        if (e.selection === true && e.paste === true) {\n          const selectedCells = getCellsFromSelection(editor);\n          head(selectedCells).each(cell => {\n            table(cell).each(table => {\n              const elements = filter$2(fromHtml(e.content), content => {\n                return name(content) !== 'meta';\n              });\n              const isTable = isTag('table');\n              if (elements.length === 1 && isTable(elements[0])) {\n                e.preventDefault();\n                const doc = SugarElement.fromDom(editor.getDoc());\n                const generators = paste$1(doc);\n                const targets = paste(cell, elements[0], generators);\n                actions.pasteCells(table, targets).each(() => {\n                  editor.focus();\n                });\n              }\n            });\n          });\n        }\n      });\n    };\n\n    const point = (element, offset) => ({\n      element,\n      offset\n    });\n\n    const scan$1 = (universe, element, direction) => {\n      if (universe.property().isText(element) && universe.property().getText(element).trim().length === 0 || universe.property().isComment(element)) {\n        return direction(element).bind(elem => {\n          return scan$1(universe, elem, direction).orThunk(() => {\n            return Optional.some(elem);\n          });\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const toEnd = (universe, element) => {\n      if (universe.property().isText(element)) {\n        return universe.property().getText(element).length;\n      }\n      const children = universe.property().children(element);\n      return children.length;\n    };\n    const freefallRtl$2 = (universe, element) => {\n      const candidate = scan$1(universe, element, universe.query().prevSibling).getOr(element);\n      if (universe.property().isText(candidate)) {\n        return point(candidate, toEnd(universe, candidate));\n      }\n      const children = universe.property().children(candidate);\n      return children.length > 0 ? freefallRtl$2(universe, children[children.length - 1]) : point(candidate, toEnd(universe, candidate));\n    };\n\n    const freefallRtl$1 = freefallRtl$2;\n\n    const universe$2 = DomUniverse();\n    const freefallRtl = element => {\n      return freefallRtl$1(universe$2, element);\n    };\n\n    const halve = (main, other) => {\n      if (!hasColspan(main)) {\n        const width = getGenericWidth(main);\n        width.each(w => {\n          const newWidth = w.value / 2;\n          setGenericWidth(main, newWidth, w.unit);\n          setGenericWidth(other, newWidth, w.unit);\n        });\n      }\n    };\n\n    const zero = array => map$1(array, constant(0));\n    const surround = (sizes, startIndex, endIndex, results, f) => f(sizes.slice(0, startIndex)).concat(results).concat(f(sizes.slice(endIndex)));\n    const clampDeltaHelper = predicate => (sizes, index, delta, minCellSize) => {\n      if (!predicate(delta)) {\n        return delta;\n      } else {\n        const newSize = Math.max(minCellSize, sizes[index] - Math.abs(delta));\n        const diff = Math.abs(newSize - sizes[index]);\n        return delta >= 0 ? diff : -diff;\n      }\n    };\n    const clampNegativeDelta = clampDeltaHelper(delta => delta < 0);\n    const clampDelta = clampDeltaHelper(always);\n    const resizeTable = () => {\n      const calcFixedDeltas = (sizes, index, next, delta, minCellSize) => {\n        const clampedDelta = clampNegativeDelta(sizes, index, delta, minCellSize);\n        return surround(sizes, index, next + 1, [\n          clampedDelta,\n          0\n        ], zero);\n      };\n      const calcRelativeDeltas = (sizes, index, delta, minCellSize) => {\n        const ratio = (100 + delta) / 100;\n        const newThis = Math.max(minCellSize, (sizes[index] + delta) / ratio);\n        return map$1(sizes, (size, idx) => {\n          const newSize = idx === index ? newThis : size / ratio;\n          return newSize - size;\n        });\n      };\n      const calcLeftEdgeDeltas = (sizes, index, next, delta, minCellSize, isRelative) => {\n        if (isRelative) {\n          return calcRelativeDeltas(sizes, index, delta, minCellSize);\n        } else {\n          return calcFixedDeltas(sizes, index, next, delta, minCellSize);\n        }\n      };\n      const calcMiddleDeltas = (sizes, _prev, index, next, delta, minCellSize, isRelative) => calcLeftEdgeDeltas(sizes, index, next, delta, minCellSize, isRelative);\n      const resizeTable = (resizer, delta) => resizer(delta);\n      const calcRightEdgeDeltas = (sizes, _prev, index, delta, minCellSize, isRelative) => {\n        if (isRelative) {\n          return calcRelativeDeltas(sizes, index, delta, minCellSize);\n        } else {\n          const clampedDelta = clampNegativeDelta(sizes, index, delta, minCellSize);\n          return zero(sizes.slice(0, index)).concat([clampedDelta]);\n        }\n      };\n      const calcRedestributedWidths = (sizes, totalWidth, pixelDelta, isRelative) => {\n        if (isRelative) {\n          const tableWidth = totalWidth + pixelDelta;\n          const ratio = tableWidth / totalWidth;\n          const newSizes = map$1(sizes, size => size / ratio);\n          return {\n            delta: ratio * 100 - 100,\n            newSizes\n          };\n        } else {\n          return {\n            delta: pixelDelta,\n            newSizes: sizes\n          };\n        }\n      };\n      return {\n        resizeTable,\n        clampTableDelta: clampNegativeDelta,\n        calcLeftEdgeDeltas,\n        calcMiddleDeltas,\n        calcRightEdgeDeltas,\n        calcRedestributedWidths\n      };\n    };\n    const preserveTable = () => {\n      const calcLeftEdgeDeltas = (sizes, index, next, delta, minCellSize) => {\n        const idx = delta >= 0 ? next : index;\n        const clampedDelta = clampDelta(sizes, idx, delta, minCellSize);\n        return surround(sizes, index, next + 1, [\n          clampedDelta,\n          -clampedDelta\n        ], zero);\n      };\n      const calcMiddleDeltas = (sizes, _prev, index, next, delta, minCellSize) => calcLeftEdgeDeltas(sizes, index, next, delta, minCellSize);\n      const resizeTable = (resizer, delta, isLastColumn) => {\n        if (isLastColumn) {\n          resizer(delta);\n        }\n      };\n      const calcRightEdgeDeltas = (sizes, _prev, _index, delta, _minCellSize, isRelative) => {\n        if (isRelative) {\n          return zero(sizes);\n        } else {\n          const diff = delta / sizes.length;\n          return map$1(sizes, constant(diff));\n        }\n      };\n      const clampTableDelta = (sizes, index, delta, minCellSize, isLastColumn) => {\n        if (isLastColumn) {\n          if (delta >= 0) {\n            return delta;\n          } else {\n            const maxDelta = foldl(sizes, (a, b) => a + b - minCellSize, 0);\n            return Math.max(-maxDelta, delta);\n          }\n        } else {\n          return clampNegativeDelta(sizes, index, delta, minCellSize);\n        }\n      };\n      const calcRedestributedWidths = (sizes, _totalWidth, _pixelDelta, _isRelative) => ({\n        delta: 0,\n        newSizes: sizes\n      });\n      return {\n        resizeTable,\n        clampTableDelta,\n        calcLeftEdgeDeltas,\n        calcMiddleDeltas,\n        calcRightEdgeDeltas,\n        calcRedestributedWidths\n      };\n    };\n\n    const getGridSize = table => {\n      const warehouse = Warehouse.fromTable(table);\n      return warehouse.grid;\n    };\n\n    const isHeaderCell = isTag('th');\n    const isHeaderCells = cells => forall(cells, cell => isHeaderCell(cell.element));\n    const getRowHeaderType = (isHeaderRow, isHeaderCells) => {\n      if (isHeaderRow && isHeaderCells) {\n        return 'sectionCells';\n      } else if (isHeaderRow) {\n        return 'section';\n      } else {\n        return 'cells';\n      }\n    };\n    const getRowType = row => {\n      const isHeaderRow = row.section === 'thead';\n      const isHeaderCells = is(findCommonCellType(row.cells), 'th');\n      if (row.section === 'tfoot') {\n        return { type: 'footer' };\n      } else if (isHeaderRow || isHeaderCells) {\n        return {\n          type: 'header',\n          subType: getRowHeaderType(isHeaderRow, isHeaderCells)\n        };\n      } else {\n        return { type: 'body' };\n      }\n    };\n    const findCommonCellType = cells => {\n      const headerCells = filter$2(cells, cell => isHeaderCell(cell.element));\n      if (headerCells.length === 0) {\n        return Optional.some('td');\n      } else if (headerCells.length === cells.length) {\n        return Optional.some('th');\n      } else {\n        return Optional.none();\n      }\n    };\n    const findCommonRowType = rows => {\n      const rowTypes = map$1(rows, row => getRowType(row).type);\n      const hasHeader = contains$2(rowTypes, 'header');\n      const hasFooter = contains$2(rowTypes, 'footer');\n      if (!hasHeader && !hasFooter) {\n        return Optional.some('body');\n      } else {\n        const hasBody = contains$2(rowTypes, 'body');\n        if (hasHeader && !hasBody && !hasFooter) {\n          return Optional.some('header');\n        } else if (!hasHeader && !hasBody && hasFooter) {\n          return Optional.some('footer');\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n    const findTableRowHeaderType = warehouse => findMap(warehouse.all, row => {\n      const rowType = getRowType(row);\n      return rowType.type === 'header' ? Optional.from(rowType.subType) : Optional.none();\n    });\n\n    const transformCell = (cell, comparator, substitution) => elementnew(substitution(cell.element, comparator), true, cell.isLocked);\n    const transformRow = (row, section) => row.section !== section ? rowcells(row.element, row.cells, section, row.isNew) : row;\n    const section = () => ({\n      transformRow,\n      transformCell: (cell, comparator, substitution) => {\n        const newCell = substitution(cell.element, comparator);\n        const fixedCell = name(newCell) !== 'td' ? mutate$1(newCell, 'td') : newCell;\n        return elementnew(fixedCell, cell.isNew, cell.isLocked);\n      }\n    });\n    const sectionCells = () => ({\n      transformRow,\n      transformCell\n    });\n    const cells = () => ({\n      transformRow: (row, section) => {\n        const newSection = section === 'thead' ? 'tbody' : section;\n        return transformRow(row, newSection);\n      },\n      transformCell\n    });\n    const fallback = () => ({\n      transformRow: identity,\n      transformCell\n    });\n    const getTableSectionType = (table, fallback) => {\n      const warehouse = Warehouse.fromTable(table);\n      const type = findTableRowHeaderType(warehouse).getOr(fallback);\n      switch (type) {\n      case 'section':\n        return section();\n      case 'sectionCells':\n        return sectionCells();\n      case 'cells':\n        return cells();\n      }\n    };\n    const TableSection = {\n      getTableSectionType,\n      section,\n      sectionCells,\n      cells,\n      fallback\n    };\n\n    const setIfNot = (element, property, value, ignore) => {\n      if (value === ignore) {\n        remove$7(element, property);\n      } else {\n        set$2(element, property, value);\n      }\n    };\n    const insert$1 = (table, selector, element) => {\n      last$2(children(table, selector)).fold(() => prepend(table, element), child => after$5(child, element));\n    };\n    const generateSection = (table, sectionName) => {\n      const section = child(table, sectionName).getOrThunk(() => {\n        const newSection = SugarElement.fromTag(sectionName, owner(table).dom);\n        if (sectionName === 'thead') {\n          insert$1(table, 'caption,colgroup', newSection);\n        } else if (sectionName === 'colgroup') {\n          insert$1(table, 'caption', newSection);\n        } else {\n          append$1(table, newSection);\n        }\n        return newSection;\n      });\n      empty(section);\n      return section;\n    };\n    const render$1 = (table, grid) => {\n      const newRows = [];\n      const newCells = [];\n      const syncRows = gridSection => map$1(gridSection, row => {\n        if (row.isNew) {\n          newRows.push(row.element);\n        }\n        const tr = row.element;\n        empty(tr);\n        each$2(row.cells, cell => {\n          if (cell.isNew) {\n            newCells.push(cell.element);\n          }\n          setIfNot(cell.element, 'colspan', cell.colspan, 1);\n          setIfNot(cell.element, 'rowspan', cell.rowspan, 1);\n          append$1(tr, cell.element);\n        });\n        return tr;\n      });\n      const syncColGroup = gridSection => bind$2(gridSection, colGroup => map$1(colGroup.cells, col => {\n        setIfNot(col.element, 'span', col.colspan, 1);\n        return col.element;\n      }));\n      const renderSection = (gridSection, sectionName) => {\n        const section = generateSection(table, sectionName);\n        const sync = sectionName === 'colgroup' ? syncColGroup : syncRows;\n        const sectionElems = sync(gridSection);\n        append(section, sectionElems);\n      };\n      const removeSection = sectionName => {\n        child(table, sectionName).each(remove$6);\n      };\n      const renderOrRemoveSection = (gridSection, sectionName) => {\n        if (gridSection.length > 0) {\n          renderSection(gridSection, sectionName);\n        } else {\n          removeSection(sectionName);\n        }\n      };\n      const headSection = [];\n      const bodySection = [];\n      const footSection = [];\n      const columnGroupsSection = [];\n      each$2(grid, row => {\n        switch (row.section) {\n        case 'thead':\n          headSection.push(row);\n          break;\n        case 'tbody':\n          bodySection.push(row);\n          break;\n        case 'tfoot':\n          footSection.push(row);\n          break;\n        case 'colgroup':\n          columnGroupsSection.push(row);\n          break;\n        }\n      });\n      renderOrRemoveSection(columnGroupsSection, 'colgroup');\n      renderOrRemoveSection(headSection, 'thead');\n      renderOrRemoveSection(bodySection, 'tbody');\n      renderOrRemoveSection(footSection, 'tfoot');\n      return {\n        newRows,\n        newCells\n      };\n    };\n    const copy = grid => map$1(grid, row => {\n      const tr = shallow(row.element);\n      each$2(row.cells, cell => {\n        const clonedCell = deep(cell.element);\n        setIfNot(clonedCell, 'colspan', cell.colspan, 1);\n        setIfNot(clonedCell, 'rowspan', cell.rowspan, 1);\n        append$1(tr, clonedCell);\n      });\n      return tr;\n    });\n\n    const getColumn = (grid, index) => {\n      return map$1(grid, row => {\n        return getCell(row, index);\n      });\n    };\n    const getRow = (grid, index) => {\n      return grid[index];\n    };\n    const findDiff = (xs, comp) => {\n      if (xs.length === 0) {\n        return 0;\n      }\n      const first = xs[0];\n      const index = findIndex(xs, x => {\n        return !comp(first.element, x.element);\n      });\n      return index.getOr(xs.length);\n    };\n    const subgrid = (grid, row, column, comparator) => {\n      const gridRow = getRow(grid, row);\n      const isColRow = gridRow.section === 'colgroup';\n      const colspan = findDiff(gridRow.cells.slice(column), comparator);\n      const rowspan = isColRow ? 1 : findDiff(getColumn(grid.slice(row), column), comparator);\n      return {\n        colspan,\n        rowspan\n      };\n    };\n\n    const toDetails = (grid, comparator) => {\n      const seen = map$1(grid, row => map$1(row.cells, never));\n      const updateSeen = (rowIndex, columnIndex, rowspan, colspan) => {\n        for (let row = rowIndex; row < rowIndex + rowspan; row++) {\n          for (let column = columnIndex; column < columnIndex + colspan; column++) {\n            seen[row][column] = true;\n          }\n        }\n      };\n      return map$1(grid, (row, rowIndex) => {\n        const details = bind$2(row.cells, (cell, columnIndex) => {\n          if (seen[rowIndex][columnIndex] === false) {\n            const result = subgrid(grid, rowIndex, columnIndex, comparator);\n            updateSeen(rowIndex, columnIndex, result.rowspan, result.colspan);\n            return [detailnew(cell.element, result.rowspan, result.colspan, cell.isNew)];\n          } else {\n            return [];\n          }\n        });\n        return rowdetailnew(row.element, details, row.section, row.isNew);\n      });\n    };\n    const toGrid = (warehouse, generators, isNew) => {\n      const grid = [];\n      each$2(warehouse.colgroups, colgroup => {\n        const colgroupCols = [];\n        for (let columnIndex = 0; columnIndex < warehouse.grid.columns; columnIndex++) {\n          const element = Warehouse.getColumnAt(warehouse, columnIndex).map(column => elementnew(column.element, isNew, false)).getOrThunk(() => elementnew(generators.colGap(), true, false));\n          colgroupCols.push(element);\n        }\n        grid.push(rowcells(colgroup.element, colgroupCols, 'colgroup', isNew));\n      });\n      for (let rowIndex = 0; rowIndex < warehouse.grid.rows; rowIndex++) {\n        const rowCells = [];\n        for (let columnIndex = 0; columnIndex < warehouse.grid.columns; columnIndex++) {\n          const element = Warehouse.getAt(warehouse, rowIndex, columnIndex).map(item => elementnew(item.element, isNew, item.isLocked)).getOrThunk(() => elementnew(generators.gap(), true, false));\n          rowCells.push(element);\n        }\n        const rowDetail = warehouse.all[rowIndex];\n        const row = rowcells(rowDetail.element, rowCells, rowDetail.section, isNew);\n        grid.push(row);\n      }\n      return grid;\n    };\n\n    const fromWarehouse = (warehouse, generators) => toGrid(warehouse, generators, false);\n    const toDetailList = grid => toDetails(grid, eq$1);\n    const findInWarehouse = (warehouse, element) => findMap(warehouse.all, r => find$1(r.cells, e => eq$1(element, e.element)));\n    const extractCells = (warehouse, target, predicate) => {\n      const details = map$1(target.selection, cell$1 => {\n        return cell(cell$1).bind(lc => findInWarehouse(warehouse, lc)).filter(predicate);\n      });\n      const cells = cat(details);\n      return someIf(cells.length > 0, cells);\n    };\n    const run = (operation, extract, adjustment, postAction, genWrappers) => (table, target, generators, behaviours) => {\n      const warehouse = Warehouse.fromTable(table);\n      const tableSection = Optional.from(behaviours === null || behaviours === void 0 ? void 0 : behaviours.section).getOrThunk(TableSection.fallback);\n      const output = extract(warehouse, target).map(info => {\n        const model = fromWarehouse(warehouse, generators);\n        const result = operation(model, info, eq$1, genWrappers(generators), tableSection);\n        const lockedColumns = getLockedColumnsFromGrid(result.grid);\n        const grid = toDetailList(result.grid);\n        return {\n          info,\n          grid,\n          cursor: result.cursor,\n          lockedColumns\n        };\n      });\n      return output.bind(out => {\n        const newElements = render$1(table, out.grid);\n        const tableSizing = Optional.from(behaviours === null || behaviours === void 0 ? void 0 : behaviours.sizing).getOrThunk(() => TableSize.getTableSize(table));\n        const resizing = Optional.from(behaviours === null || behaviours === void 0 ? void 0 : behaviours.resize).getOrThunk(preserveTable);\n        adjustment(table, out.grid, out.info, {\n          sizing: tableSizing,\n          resize: resizing,\n          section: tableSection\n        });\n        postAction(table);\n        remove$7(table, LOCKED_COL_ATTR);\n        if (out.lockedColumns.length > 0) {\n          set$2(table, LOCKED_COL_ATTR, out.lockedColumns.join(','));\n        }\n        return Optional.some({\n          cursor: out.cursor,\n          newRows: newElements.newRows,\n          newCells: newElements.newCells\n        });\n      });\n    };\n    const onPaste = (warehouse, target) => cell(target.element).bind(cell => findInWarehouse(warehouse, cell).map(details => {\n      const value = {\n        ...details,\n        generators: target.generators,\n        clipboard: target.clipboard\n      };\n      return value;\n    }));\n    const onPasteByEditor = (warehouse, target) => extractCells(warehouse, target, always).map(cells => ({\n      cells,\n      generators: target.generators,\n      clipboard: target.clipboard\n    }));\n    const onMergable = (_warehouse, target) => target.mergable;\n    const onUnmergable = (_warehouse, target) => target.unmergable;\n    const onCells = (warehouse, target) => extractCells(warehouse, target, always);\n    const onUnlockedCells = (warehouse, target) => extractCells(warehouse, target, detail => !detail.isLocked);\n    const isUnlockedTableCell = (warehouse, cell) => findInWarehouse(warehouse, cell).exists(detail => !detail.isLocked);\n    const allUnlocked = (warehouse, cells) => forall(cells, cell => isUnlockedTableCell(warehouse, cell));\n    const onUnlockedMergable = (warehouse, target) => onMergable(warehouse, target).filter(mergeable => allUnlocked(warehouse, mergeable.cells));\n    const onUnlockedUnmergable = (warehouse, target) => onUnmergable(warehouse, target).filter(cells => allUnlocked(warehouse, cells));\n\n    const merge$2 = (grid, bounds, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      if (rows.length === 0) {\n        return grid;\n      }\n      for (let i = bounds.startRow; i <= bounds.finishRow; i++) {\n        for (let j = bounds.startCol; j <= bounds.finishCol; j++) {\n          const row = rows[i];\n          const isLocked = getCell(row, j).isLocked;\n          mutateCell(row, j, elementnew(substitution(), false, isLocked));\n        }\n      }\n      return grid;\n    };\n    const unmerge = (grid, target, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      let first = true;\n      for (let i = 0; i < rows.length; i++) {\n        for (let j = 0; j < cellLength(rows[0]); j++) {\n          const row = rows[i];\n          const currentCell = getCell(row, j);\n          const currentCellElm = currentCell.element;\n          const isToReplace = comparator(currentCellElm, target);\n          if (isToReplace && !first) {\n            mutateCell(row, j, elementnew(substitution(), true, currentCell.isLocked));\n          } else if (isToReplace) {\n            first = false;\n          }\n        }\n      }\n      return grid;\n    };\n    const uniqueCells = (row, comparator) => {\n      return foldl(row, (rest, cell) => {\n        return exists(rest, currentCell => {\n          return comparator(currentCell.element, cell.element);\n        }) ? rest : rest.concat([cell]);\n      }, []);\n    };\n    const splitCols = (grid, index, comparator, substitution) => {\n      if (index > 0 && index < grid[0].cells.length) {\n        each$2(grid, row => {\n          const prevCell = row.cells[index - 1];\n          let offset = 0;\n          const substitute = substitution();\n          while (row.cells.length > index + offset && comparator(prevCell.element, row.cells[index + offset].element)) {\n            mutateCell(row, index + offset, elementnew(substitute, true, row.cells[index + offset].isLocked));\n            offset++;\n          }\n        });\n      }\n      return grid;\n    };\n    const splitRows = (grid, index, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      if (index > 0 && index < rows.length) {\n        const rowPrevCells = rows[index - 1].cells;\n        const cells = uniqueCells(rowPrevCells, comparator);\n        each$2(cells, cell => {\n          let replacement = Optional.none();\n          for (let i = index; i < rows.length; i++) {\n            for (let j = 0; j < cellLength(rows[0]); j++) {\n              const row = rows[i];\n              const current = getCell(row, j);\n              const isToReplace = comparator(current.element, cell.element);\n              if (isToReplace) {\n                if (replacement.isNone()) {\n                  replacement = Optional.some(substitution());\n                }\n                replacement.each(sub => {\n                  mutateCell(row, j, elementnew(sub, true, current.isLocked));\n                });\n              }\n            }\n          }\n        });\n      }\n      return grid;\n    };\n\n    const value$1 = value => {\n      const applyHelper = fn => fn(value);\n      const constHelper = constant(value);\n      const outputHelper = () => output;\n      const output = {\n        tag: true,\n        inner: value,\n        fold: (_onError, onValue) => onValue(value),\n        isValue: always,\n        isError: never,\n        map: mapper => Result.value(mapper(value)),\n        mapError: outputHelper,\n        bind: applyHelper,\n        exists: applyHelper,\n        forall: applyHelper,\n        getOr: constHelper,\n        or: outputHelper,\n        getOrThunk: constHelper,\n        orThunk: outputHelper,\n        getOrDie: constHelper,\n        each: fn => {\n          fn(value);\n        },\n        toOptional: () => Optional.some(value)\n      };\n      return output;\n    };\n    const error = error => {\n      const outputHelper = () => output;\n      const output = {\n        tag: false,\n        inner: error,\n        fold: (onError, _onValue) => onError(error),\n        isValue: never,\n        isError: always,\n        map: outputHelper,\n        mapError: mapper => Result.error(mapper(error)),\n        bind: outputHelper,\n        exists: never,\n        forall: always,\n        getOr: identity,\n        or: identity,\n        getOrThunk: apply,\n        orThunk: apply,\n        getOrDie: die(String(error)),\n        each: noop,\n        toOptional: Optional.none\n      };\n      return output;\n    };\n    const fromOption = (optional, err) => optional.fold(() => error(err), value$1);\n    const Result = {\n      value: value$1,\n      error,\n      fromOption\n    };\n\n    const measure = (startAddress, gridA, gridB) => {\n      if (startAddress.row >= gridA.length || startAddress.column > cellLength(gridA[0])) {\n        return Result.error('invalid start address out of table bounds, row: ' + startAddress.row + ', column: ' + startAddress.column);\n      }\n      const rowRemainder = gridA.slice(startAddress.row);\n      const colRemainder = rowRemainder[0].cells.slice(startAddress.column);\n      const colRequired = cellLength(gridB[0]);\n      const rowRequired = gridB.length;\n      return Result.value({\n        rowDelta: rowRemainder.length - rowRequired,\n        colDelta: colRemainder.length - colRequired\n      });\n    };\n    const measureWidth = (gridA, gridB) => {\n      const colLengthA = cellLength(gridA[0]);\n      const colLengthB = cellLength(gridB[0]);\n      return {\n        rowDelta: 0,\n        colDelta: colLengthA - colLengthB\n      };\n    };\n    const measureHeight = (gridA, gridB) => {\n      const rowLengthA = gridA.length;\n      const rowLengthB = gridB.length;\n      return {\n        rowDelta: rowLengthA - rowLengthB,\n        colDelta: 0\n      };\n    };\n    const generateElements = (amount, row, generators, isLocked) => {\n      const generator = row.section === 'colgroup' ? generators.col : generators.cell;\n      return range$1(amount, idx => elementnew(generator(), true, isLocked(idx)));\n    };\n    const rowFill = (grid, amount, generators, lockedColumns) => {\n      const exampleRow = grid[grid.length - 1];\n      return grid.concat(range$1(amount, () => {\n        const generator = exampleRow.section === 'colgroup' ? generators.colgroup : generators.row;\n        const row = clone(exampleRow, generator, identity);\n        const elements = generateElements(row.cells.length, row, generators, idx => has$1(lockedColumns, idx.toString()));\n        return setCells(row, elements);\n      }));\n    };\n    const colFill = (grid, amount, generators, startIndex) => map$1(grid, row => {\n      const newChildren = generateElements(amount, row, generators, never);\n      return addCells(row, startIndex, newChildren);\n    });\n    const lockedColFill = (grid, generators, lockedColumns) => map$1(grid, row => {\n      return foldl(lockedColumns, (acc, colNum) => {\n        const newChild = generateElements(1, row, generators, always)[0];\n        return addCell(acc, colNum, newChild);\n      }, row);\n    });\n    const tailor = (gridA, delta, generators) => {\n      const fillCols = delta.colDelta < 0 ? colFill : identity;\n      const fillRows = delta.rowDelta < 0 ? rowFill : identity;\n      const lockedColumns = getLockedColumnsFromGrid(gridA);\n      const gridWidth = cellLength(gridA[0]);\n      const isLastColLocked = exists(lockedColumns, locked => locked === gridWidth - 1);\n      const modifiedCols = fillCols(gridA, Math.abs(delta.colDelta), generators, isLastColLocked ? gridWidth - 1 : gridWidth);\n      const newLockedColumns = getLockedColumnsFromGrid(modifiedCols);\n      return fillRows(modifiedCols, Math.abs(delta.rowDelta), generators, mapToObject(newLockedColumns, always));\n    };\n\n    const isSpanning = (grid, row, col, comparator) => {\n      const candidate = getCell(grid[row], col);\n      const matching = curry(comparator, candidate.element);\n      const currentRow = grid[row];\n      return grid.length > 1 && cellLength(currentRow) > 1 && (col > 0 && matching(getCellElement(currentRow, col - 1)) || col < currentRow.cells.length - 1 && matching(getCellElement(currentRow, col + 1)) || row > 0 && matching(getCellElement(grid[row - 1], col)) || row < grid.length - 1 && matching(getCellElement(grid[row + 1], col)));\n    };\n    const mergeTables = (startAddress, gridA, gridBRows, generator, comparator, lockedColumns) => {\n      const startRow = startAddress.row;\n      const startCol = startAddress.column;\n      const mergeHeight = gridBRows.length;\n      const mergeWidth = cellLength(gridBRows[0]);\n      const endRow = startRow + mergeHeight;\n      const endCol = startCol + mergeWidth + lockedColumns.length;\n      const lockedColumnObj = mapToObject(lockedColumns, always);\n      for (let r = startRow; r < endRow; r++) {\n        let skippedCol = 0;\n        for (let c = startCol; c < endCol; c++) {\n          if (lockedColumnObj[c]) {\n            skippedCol++;\n            continue;\n          }\n          if (isSpanning(gridA, r, c, comparator)) {\n            unmerge(gridA, getCellElement(gridA[r], c), comparator, generator.cell);\n          }\n          const gridBColIndex = c - startCol - skippedCol;\n          const newCell = getCell(gridBRows[r - startRow], gridBColIndex);\n          const newCellElm = newCell.element;\n          const replacement = generator.replace(newCellElm);\n          mutateCell(gridA[r], c, elementnew(replacement, true, newCell.isLocked));\n        }\n      }\n      return gridA;\n    };\n    const getValidStartAddress = (currentStartAddress, grid, lockedColumns) => {\n      const gridColLength = cellLength(grid[0]);\n      const adjustedRowAddress = extractGridDetails(grid).cols.length + currentStartAddress.row;\n      const possibleColAddresses = range$1(gridColLength - currentStartAddress.column, num => num + currentStartAddress.column);\n      const validColAddress = find$1(possibleColAddresses, num => forall(lockedColumns, col => col !== num)).getOr(gridColLength - 1);\n      return {\n        row: adjustedRowAddress,\n        column: validColAddress\n      };\n    };\n    const getLockedColumnsWithinBounds = (startAddress, rows, lockedColumns) => filter$2(lockedColumns, colNum => colNum >= startAddress.column && colNum <= cellLength(rows[0]) + startAddress.column);\n    const merge$1 = (startAddress, gridA, gridB, generator, comparator) => {\n      const lockedColumns = getLockedColumnsFromGrid(gridA);\n      const validStartAddress = getValidStartAddress(startAddress, gridA, lockedColumns);\n      const gridBRows = extractGridDetails(gridB).rows;\n      const lockedColumnsWithinBounds = getLockedColumnsWithinBounds(validStartAddress, gridBRows, lockedColumns);\n      const result = measure(validStartAddress, gridA, gridBRows);\n      return result.map(diff => {\n        const delta = {\n          ...diff,\n          colDelta: diff.colDelta - lockedColumnsWithinBounds.length\n        };\n        const fittedGrid = tailor(gridA, delta, generator);\n        const newLockedColumns = getLockedColumnsFromGrid(fittedGrid);\n        const newLockedColumnsWithinBounds = getLockedColumnsWithinBounds(validStartAddress, gridBRows, newLockedColumns);\n        return mergeTables(validStartAddress, fittedGrid, gridBRows, generator, comparator, newLockedColumnsWithinBounds);\n      });\n    };\n    const insertCols = (index, gridA, gridB, generator, comparator) => {\n      splitCols(gridA, index, comparator, generator.cell);\n      const delta = measureHeight(gridB, gridA);\n      const fittedNewGrid = tailor(gridB, delta, generator);\n      const secondDelta = measureHeight(gridA, fittedNewGrid);\n      const fittedOldGrid = tailor(gridA, secondDelta, generator);\n      return map$1(fittedOldGrid, (gridRow, i) => {\n        return addCells(gridRow, index, fittedNewGrid[i].cells);\n      });\n    };\n    const insertRows = (index, gridA, gridB, generator, comparator) => {\n      splitRows(gridA, index, comparator, generator.cell);\n      const locked = getLockedColumnsFromGrid(gridA);\n      const diff = measureWidth(gridA, gridB);\n      const delta = {\n        ...diff,\n        colDelta: diff.colDelta - locked.length\n      };\n      const fittedOldGrid = tailor(gridA, delta, generator);\n      const {\n        cols: oldCols,\n        rows: oldRows\n      } = extractGridDetails(fittedOldGrid);\n      const newLocked = getLockedColumnsFromGrid(fittedOldGrid);\n      const secondDiff = measureWidth(gridB, gridA);\n      const secondDelta = {\n        ...secondDiff,\n        colDelta: secondDiff.colDelta + newLocked.length\n      };\n      const fittedGridB = lockedColFill(gridB, generator, newLocked);\n      const fittedNewGrid = tailor(fittedGridB, secondDelta, generator);\n      return [\n        ...oldCols,\n        ...oldRows.slice(0, index),\n        ...fittedNewGrid,\n        ...oldRows.slice(index, oldRows.length)\n      ];\n    };\n\n    const cloneRow = (row, cloneCell, comparator, substitution) => clone(row, elem => substitution(elem, comparator), cloneCell);\n    const insertRowAt = (grid, index, example, comparator, substitution) => {\n      const {rows, cols} = extractGridDetails(grid);\n      const before = rows.slice(0, index);\n      const after = rows.slice(index);\n      const newRow = cloneRow(rows[example], (ex, c) => {\n        const withinSpan = index > 0 && index < rows.length && comparator(getCellElement(rows[index - 1], c), getCellElement(rows[index], c));\n        const ret = withinSpan ? getCell(rows[index], c) : elementnew(substitution(ex.element, comparator), true, ex.isLocked);\n        return ret;\n      }, comparator, substitution);\n      return [\n        ...cols,\n        ...before,\n        newRow,\n        ...after\n      ];\n    };\n    const getElementFor = (row, column, section, withinSpan, example, comparator, substitution) => {\n      if (section === 'colgroup' || !withinSpan) {\n        const cell = getCell(row, example);\n        return elementnew(substitution(cell.element, comparator), true, false);\n      } else {\n        return getCell(row, column);\n      }\n    };\n    const insertColumnAt = (grid, index, example, comparator, substitution) => map$1(grid, row => {\n      const withinSpan = index > 0 && index < cellLength(row) && comparator(getCellElement(row, index - 1), getCellElement(row, index));\n      const sub = getElementFor(row, index, row.section, withinSpan, example, comparator, substitution);\n      return addCell(row, index, sub);\n    });\n    const deleteColumnsAt = (grid, columns) => bind$2(grid, row => {\n      const existingCells = row.cells;\n      const cells = foldr(columns, (acc, column) => column >= 0 && column < acc.length ? acc.slice(0, column).concat(acc.slice(column + 1)) : acc, existingCells);\n      return cells.length > 0 ? [rowcells(row.element, cells, row.section, row.isNew)] : [];\n    });\n    const deleteRowsAt = (grid, start, finish) => {\n      const {rows, cols} = extractGridDetails(grid);\n      return [\n        ...cols,\n        ...rows.slice(0, start),\n        ...rows.slice(finish + 1)\n      ];\n    };\n\n    const notInStartRow = (grid, rowIndex, colIndex, comparator) => getCellElement(grid[rowIndex], colIndex) !== undefined && (rowIndex > 0 && comparator(getCellElement(grid[rowIndex - 1], colIndex), getCellElement(grid[rowIndex], colIndex)));\n    const notInStartColumn = (row, index, comparator) => index > 0 && comparator(getCellElement(row, index - 1), getCellElement(row, index));\n    const isDuplicatedCell = (grid, rowIndex, colIndex, comparator) => notInStartRow(grid, rowIndex, colIndex, comparator) || notInStartColumn(grid[rowIndex], colIndex, comparator);\n    const rowReplacerPredicate = (targetRow, columnHeaders) => {\n      const entireTableIsHeader = forall(columnHeaders, identity) && isHeaderCells(targetRow.cells);\n      return entireTableIsHeader ? always : (cell, _rowIndex, colIndex) => {\n        const type = name(cell.element);\n        return !(type === 'th' && columnHeaders[colIndex]);\n      };\n    };\n    const columnReplacePredicate = (targetColumn, rowHeaders) => {\n      const entireTableIsHeader = forall(rowHeaders, identity) && isHeaderCells(targetColumn);\n      return entireTableIsHeader ? always : (cell, rowIndex, _colIndex) => {\n        const type = name(cell.element);\n        return !(type === 'th' && rowHeaders[rowIndex]);\n      };\n    };\n    const determineScope = (applyScope, cell, newScope, isInHeader) => {\n      const hasSpan = scope => scope === 'row' ? hasRowspan(cell) : hasColspan(cell);\n      const getScope = scope => hasSpan(scope) ? `${ scope }group` : scope;\n      if (applyScope) {\n        return isHeaderCell(cell) ? getScope(newScope) : null;\n      } else if (isInHeader && isHeaderCell(cell)) {\n        const oppositeScope = newScope === 'row' ? 'col' : 'row';\n        return getScope(oppositeScope);\n      } else {\n        return null;\n      }\n    };\n    const rowScopeGenerator = (applyScope, columnHeaders) => (cell, rowIndex, columnIndex) => Optional.some(determineScope(applyScope, cell.element, 'col', columnHeaders[columnIndex]));\n    const columnScopeGenerator = (applyScope, rowHeaders) => (cell, rowIndex) => Optional.some(determineScope(applyScope, cell.element, 'row', rowHeaders[rowIndex]));\n    const replace = (cell, comparator, substitute) => elementnew(substitute(cell.element, comparator), true, cell.isLocked);\n    const replaceIn = (grid, targets, comparator, substitute, replacer, genScope, shouldReplace) => {\n      const isTarget = cell => {\n        return exists(targets, target => {\n          return comparator(cell.element, target.element);\n        });\n      };\n      return map$1(grid, (row, rowIndex) => {\n        return mapCells(row, (cell, colIndex) => {\n          if (isTarget(cell)) {\n            const newCell = shouldReplace(cell, rowIndex, colIndex) ? replacer(cell, comparator, substitute) : cell;\n            genScope(newCell, rowIndex, colIndex).each(scope => {\n              setOptions(newCell.element, { scope: Optional.from(scope) });\n            });\n            return newCell;\n          } else {\n            return cell;\n          }\n        });\n      });\n    };\n    const getColumnCells = (rows, columnIndex, comparator) => bind$2(rows, (row, i) => {\n      return isDuplicatedCell(rows, i, columnIndex, comparator) ? [] : [getCell(row, columnIndex)];\n    });\n    const getRowCells = (rows, rowIndex, comparator) => {\n      const targetRow = rows[rowIndex];\n      return bind$2(targetRow.cells, (item, i) => {\n        return isDuplicatedCell(rows, rowIndex, i, comparator) ? [] : [item];\n      });\n    };\n    const replaceColumns = (grid, indexes, applyScope, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      const targets = bind$2(indexes, index => getColumnCells(rows, index, comparator));\n      const rowHeaders = map$1(rows, row => isHeaderCells(row.cells));\n      const shouldReplaceCell = columnReplacePredicate(targets, rowHeaders);\n      const scopeGenerator = columnScopeGenerator(applyScope, rowHeaders);\n      return replaceIn(grid, targets, comparator, substitution, replace, scopeGenerator, shouldReplaceCell);\n    };\n    const replaceRows = (grid, indexes, section, applyScope, comparator, substitution, tableSection) => {\n      const {cols, rows} = extractGridDetails(grid);\n      const targetRow = rows[indexes[0]];\n      const targets = bind$2(indexes, index => getRowCells(rows, index, comparator));\n      const columnHeaders = map$1(targetRow.cells, (_cell, index) => isHeaderCells(getColumnCells(rows, index, comparator)));\n      const newRows = [...rows];\n      each$2(indexes, index => {\n        newRows[index] = tableSection.transformRow(rows[index], section);\n      });\n      const newGrid = [\n        ...cols,\n        ...newRows\n      ];\n      const shouldReplaceCell = rowReplacerPredicate(targetRow, columnHeaders);\n      const scopeGenerator = rowScopeGenerator(applyScope, columnHeaders);\n      return replaceIn(newGrid, targets, comparator, substitution, tableSection.transformCell, scopeGenerator, shouldReplaceCell);\n    };\n    const replaceCells = (grid, details, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      const targetCells = map$1(details, detail => getCell(rows[detail.row], detail.column));\n      return replaceIn(grid, targetCells, comparator, substitution, replace, Optional.none, always);\n    };\n\n    const generate = cases => {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each$2(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate };\n\n    const adt$6 = Adt.generate([\n      { none: [] },\n      { only: ['index'] },\n      {\n        left: [\n          'index',\n          'next'\n        ]\n      },\n      {\n        middle: [\n          'prev',\n          'index',\n          'next'\n        ]\n      },\n      {\n        right: [\n          'prev',\n          'index'\n        ]\n      }\n    ]);\n    const ColumnContext = { ...adt$6 };\n\n    const neighbours = (input, index) => {\n      if (input.length === 0) {\n        return ColumnContext.none();\n      }\n      if (input.length === 1) {\n        return ColumnContext.only(0);\n      }\n      if (index === 0) {\n        return ColumnContext.left(0, 1);\n      }\n      if (index === input.length - 1) {\n        return ColumnContext.right(index - 1, index);\n      }\n      if (index > 0 && index < input.length - 1) {\n        return ColumnContext.middle(index - 1, index, index + 1);\n      }\n      return ColumnContext.none();\n    };\n    const determine = (input, column, step, tableSize, resize) => {\n      const result = input.slice(0);\n      const context = neighbours(input, column);\n      const onNone = constant(map$1(result, constant(0)));\n      const onOnly = index => tableSize.singleColumnWidth(result[index], step);\n      const onLeft = (index, next) => resize.calcLeftEdgeDeltas(result, index, next, step, tableSize.minCellWidth(), tableSize.isRelative);\n      const onMiddle = (prev, index, next) => resize.calcMiddleDeltas(result, prev, index, next, step, tableSize.minCellWidth(), tableSize.isRelative);\n      const onRight = (prev, index) => resize.calcRightEdgeDeltas(result, prev, index, step, tableSize.minCellWidth(), tableSize.isRelative);\n      return context.fold(onNone, onOnly, onLeft, onMiddle, onRight);\n    };\n\n    const total = (start, end, measures) => {\n      let r = 0;\n      for (let i = start; i < end; i++) {\n        r += measures[i] !== undefined ? measures[i] : 0;\n      }\n      return r;\n    };\n    const recalculateWidthForCells = (warehouse, widths) => {\n      const all = Warehouse.justCells(warehouse);\n      return map$1(all, cell => {\n        const width = total(cell.column, cell.column + cell.colspan, widths);\n        return {\n          element: cell.element,\n          width,\n          colspan: cell.colspan\n        };\n      });\n    };\n    const recalculateWidthForColumns = (warehouse, widths) => {\n      const groups = Warehouse.justColumns(warehouse);\n      return map$1(groups, (column, index) => ({\n        element: column.element,\n        width: widths[index],\n        colspan: column.colspan\n      }));\n    };\n    const recalculateHeightForCells = (warehouse, heights) => {\n      const all = Warehouse.justCells(warehouse);\n      return map$1(all, cell => {\n        const height = total(cell.row, cell.row + cell.rowspan, heights);\n        return {\n          element: cell.element,\n          height,\n          rowspan: cell.rowspan\n        };\n      });\n    };\n    const matchRowHeight = (warehouse, heights) => {\n      return map$1(warehouse.all, (row, i) => {\n        return {\n          element: row.element,\n          height: heights[i]\n        };\n      });\n    };\n\n    const sumUp = newSize => foldr(newSize, (b, a) => b + a, 0);\n    const recalculate = (warehouse, widths) => {\n      if (Warehouse.hasColumns(warehouse)) {\n        return recalculateWidthForColumns(warehouse, widths);\n      } else {\n        return recalculateWidthForCells(warehouse, widths);\n      }\n    };\n    const recalculateAndApply = (warehouse, widths, tableSize) => {\n      const newSizes = recalculate(warehouse, widths);\n      each$2(newSizes, cell => {\n        tableSize.setElementWidth(cell.element, cell.width);\n      });\n    };\n    const adjustWidth = (table, delta, index, resizing, tableSize) => {\n      const warehouse = Warehouse.fromTable(table);\n      const step = tableSize.getCellDelta(delta);\n      const widths = tableSize.getWidths(warehouse, tableSize);\n      const isLastColumn = index === warehouse.grid.columns - 1;\n      const clampedStep = resizing.clampTableDelta(widths, index, step, tableSize.minCellWidth(), isLastColumn);\n      const deltas = determine(widths, index, clampedStep, tableSize, resizing);\n      const newWidths = map$1(deltas, (dx, i) => dx + widths[i]);\n      recalculateAndApply(warehouse, newWidths, tableSize);\n      resizing.resizeTable(tableSize.adjustTableWidth, clampedStep, isLastColumn);\n    };\n    const adjustHeight = (table, delta, index, direction) => {\n      const warehouse = Warehouse.fromTable(table);\n      const heights = getPixelHeights(warehouse, table, direction);\n      const newHeights = map$1(heights, (dy, i) => index === i ? Math.max(delta + dy, minHeight()) : dy);\n      const newCellSizes = recalculateHeightForCells(warehouse, newHeights);\n      const newRowSizes = matchRowHeight(warehouse, newHeights);\n      each$2(newRowSizes, row => {\n        setHeight(row.element, row.height);\n      });\n      each$2(newCellSizes, cell => {\n        setHeight(cell.element, cell.height);\n      });\n      const total = sumUp(newHeights);\n      setHeight(table, total);\n    };\n    const adjustAndRedistributeWidths$1 = (_table, list, details, tableSize, resizeBehaviour) => {\n      const warehouse = Warehouse.generate(list);\n      const sizes = tableSize.getWidths(warehouse, tableSize);\n      const tablePixelWidth = tableSize.pixelWidth();\n      const {newSizes, delta} = resizeBehaviour.calcRedestributedWidths(sizes, tablePixelWidth, details.pixelDelta, tableSize.isRelative);\n      recalculateAndApply(warehouse, newSizes, tableSize);\n      tableSize.adjustTableWidth(delta);\n    };\n    const adjustWidthTo = (_table, list, _info, tableSize) => {\n      const warehouse = Warehouse.generate(list);\n      const widths = tableSize.getWidths(warehouse, tableSize);\n      recalculateAndApply(warehouse, widths, tableSize);\n    };\n\n    const uniqueColumns = details => {\n      const uniqueCheck = (rest, detail) => {\n        const columnExists = exists(rest, currentDetail => currentDetail.column === detail.column);\n        return columnExists ? rest : rest.concat([detail]);\n      };\n      return foldl(details, uniqueCheck, []).sort((detailA, detailB) => detailA.column - detailB.column);\n    };\n\n    const isCol = isTag('col');\n    const isColgroup = isTag('colgroup');\n    const isRow$1 = element => name(element) === 'tr' || isColgroup(element);\n    const elementToData = element => {\n      const colspan = getAttrValue(element, 'colspan', 1);\n      const rowspan = getAttrValue(element, 'rowspan', 1);\n      return {\n        element,\n        colspan,\n        rowspan\n      };\n    };\n    const modification = (generators, toData = elementToData) => {\n      const nuCell = data => isCol(data.element) ? generators.col(data) : generators.cell(data);\n      const nuRow = data => isColgroup(data.element) ? generators.colgroup(data) : generators.row(data);\n      const add = element => {\n        if (isRow$1(element)) {\n          return nuRow({ element });\n        } else {\n          const cell = element;\n          const replacement = nuCell(toData(cell));\n          recent = Optional.some({\n            item: cell,\n            replacement\n          });\n          return replacement;\n        }\n      };\n      let recent = Optional.none();\n      const getOrInit = (element, comparator) => {\n        return recent.fold(() => {\n          return add(element);\n        }, p => {\n          return comparator(element, p.item) ? p.replacement : add(element);\n        });\n      };\n      return { getOrInit };\n    };\n    const transform$1 = tag => {\n      return generators => {\n        const list = [];\n        const find = (element, comparator) => {\n          return find$1(list, x => {\n            return comparator(x.item, element);\n          });\n        };\n        const makeNew = element => {\n          const attrs = tag === 'td' ? { scope: null } : {};\n          const cell = generators.replace(element, tag, attrs);\n          list.push({\n            item: element,\n            sub: cell\n          });\n          return cell;\n        };\n        const replaceOrInit = (element, comparator) => {\n          if (isRow$1(element) || isCol(element)) {\n            return element;\n          } else {\n            const cell = element;\n            return find(cell, comparator).fold(() => {\n              return makeNew(cell);\n            }, p => {\n              return comparator(element, p.item) ? p.sub : makeNew(cell);\n            });\n          }\n        };\n        return { replaceOrInit };\n      };\n    };\n    const getScopeAttribute = cell => getOpt(cell, 'scope').map(attribute => attribute.substr(0, 3));\n    const merging = generators => {\n      const unmerge = cell => {\n        const scope = getScopeAttribute(cell);\n        scope.each(attribute => set$2(cell, 'scope', attribute));\n        return () => {\n          const raw = generators.cell({\n            element: cell,\n            colspan: 1,\n            rowspan: 1\n          });\n          remove$5(raw, 'width');\n          remove$5(cell, 'width');\n          scope.each(attribute => set$2(raw, 'scope', attribute));\n          return raw;\n        };\n      };\n      const merge = cells => {\n        const getScopeProperty = () => {\n          const stringAttributes = cat(map$1(cells, getScopeAttribute));\n          if (stringAttributes.length === 0) {\n            return Optional.none();\n          } else {\n            const baseScope = stringAttributes[0];\n            const scopes = [\n              'row',\n              'col'\n            ];\n            const isMixed = exists(stringAttributes, attribute => {\n              return attribute !== baseScope && contains$2(scopes, attribute);\n            });\n            return isMixed ? Optional.none() : Optional.from(baseScope);\n          }\n        };\n        remove$5(cells[0], 'width');\n        getScopeProperty().fold(() => remove$7(cells[0], 'scope'), attribute => set$2(cells[0], 'scope', attribute + 'group'));\n        return constant(cells[0]);\n      };\n      return {\n        unmerge,\n        merge\n      };\n    };\n    const Generators = {\n      modification,\n      transform: transform$1,\n      merging\n    };\n\n    const blockList = [\n      'body',\n      'p',\n      'div',\n      'article',\n      'aside',\n      'figcaption',\n      'figure',\n      'footer',\n      'header',\n      'nav',\n      'section',\n      'ol',\n      'ul',\n      'table',\n      'thead',\n      'tfoot',\n      'tbody',\n      'caption',\n      'tr',\n      'td',\n      'th',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'blockquote',\n      'pre',\n      'address'\n    ];\n    const isList$1 = (universe, item) => {\n      const tagName = universe.property().name(item);\n      return contains$2([\n        'ol',\n        'ul'\n      ], tagName);\n    };\n    const isBlock$1 = (universe, item) => {\n      const tagName = universe.property().name(item);\n      return contains$2(blockList, tagName);\n    };\n    const isEmptyTag$1 = (universe, item) => {\n      return contains$2([\n        'br',\n        'img',\n        'hr',\n        'input'\n      ], universe.property().name(item));\n    };\n\n    const universe$1 = DomUniverse();\n    const isBlock = element => {\n      return isBlock$1(universe$1, element);\n    };\n    const isList = element => {\n      return isList$1(universe$1, element);\n    };\n    const isEmptyTag = element => {\n      return isEmptyTag$1(universe$1, element);\n    };\n\n    const merge = cells => {\n      const isBr = isTag('br');\n      const advancedBr = children => {\n        return forall(children, c => {\n          return isBr(c) || isText(c) && get$6(c).trim().length === 0;\n        });\n      };\n      const isListItem = el => {\n        return name(el) === 'li' || ancestor$2(el, isList).isSome();\n      };\n      const siblingIsBlock = el => {\n        return nextSibling(el).map(rightSibling => {\n          if (isBlock(rightSibling)) {\n            return true;\n          }\n          if (isEmptyTag(rightSibling)) {\n            return name(rightSibling) === 'img' ? false : true;\n          }\n          return false;\n        }).getOr(false);\n      };\n      const markCell = cell => {\n        return last$1(cell).bind(rightEdge => {\n          const rightSiblingIsBlock = siblingIsBlock(rightEdge);\n          return parent(rightEdge).map(parent => {\n            return rightSiblingIsBlock === true || isListItem(parent) || isBr(rightEdge) || isBlock(parent) && !eq$1(cell, parent) ? [] : [SugarElement.fromTag('br')];\n          });\n        }).getOr([]);\n      };\n      const markContent = () => {\n        const content = bind$2(cells, cell => {\n          const children = children$2(cell);\n          return advancedBr(children) ? [] : children.concat(markCell(cell));\n        });\n        return content.length === 0 ? [SugarElement.fromTag('br')] : content;\n      };\n      const contents = markContent();\n      empty(cells[0]);\n      append(cells[0], contents);\n    };\n\n    const isEditable = elem => isEditable$1(elem, true);\n    const prune = table => {\n      const cells = cells$1(table);\n      if (cells.length === 0) {\n        remove$6(table);\n      }\n    };\n    const outcome = (grid, cursor) => ({\n      grid,\n      cursor\n    });\n    const findEditableCursorPosition = rows => findMap(rows, row => findMap(row.cells, cell => {\n      const elem = cell.element;\n      return someIf(isEditable(elem), elem);\n    }));\n    const elementFromGrid = (grid, row, column) => {\n      var _a, _b;\n      const rows = extractGridDetails(grid).rows;\n      return Optional.from((_b = (_a = rows[row]) === null || _a === void 0 ? void 0 : _a.cells[column]) === null || _b === void 0 ? void 0 : _b.element).filter(isEditable).orThunk(() => findEditableCursorPosition(rows));\n    };\n    const bundle = (grid, row, column) => {\n      const cursorElement = elementFromGrid(grid, row, column);\n      return outcome(grid, cursorElement);\n    };\n    const uniqueRows = details => {\n      const rowCompilation = (rest, detail) => {\n        const rowExists = exists(rest, currentDetail => currentDetail.row === detail.row);\n        return rowExists ? rest : rest.concat([detail]);\n      };\n      return foldl(details, rowCompilation, []).sort((detailA, detailB) => detailA.row - detailB.row);\n    };\n    const opInsertRowsBefore = (grid, details, comparator, genWrappers) => {\n      const targetIndex = details[0].row;\n      const rows = uniqueRows(details);\n      const newGrid = foldr(rows, (acc, row) => {\n        const newG = insertRowAt(acc.grid, targetIndex, row.row + acc.delta, comparator, genWrappers.getOrInit);\n        return {\n          grid: newG,\n          delta: acc.delta + 1\n        };\n      }, {\n        grid,\n        delta: 0\n      }).grid;\n      return bundle(newGrid, targetIndex, details[0].column);\n    };\n    const opInsertRowsAfter = (grid, details, comparator, genWrappers) => {\n      const rows = uniqueRows(details);\n      const target = rows[rows.length - 1];\n      const targetIndex = target.row + target.rowspan;\n      const newGrid = foldr(rows, (newG, row) => {\n        return insertRowAt(newG, targetIndex, row.row, comparator, genWrappers.getOrInit);\n      }, grid);\n      return bundle(newGrid, targetIndex, details[0].column);\n    };\n    const opInsertColumnsBefore = (grid, extractDetail, comparator, genWrappers) => {\n      const details = extractDetail.details;\n      const columns = uniqueColumns(details);\n      const targetIndex = columns[0].column;\n      const newGrid = foldr(columns, (acc, col) => {\n        const newG = insertColumnAt(acc.grid, targetIndex, col.column + acc.delta, comparator, genWrappers.getOrInit);\n        return {\n          grid: newG,\n          delta: acc.delta + 1\n        };\n      }, {\n        grid,\n        delta: 0\n      }).grid;\n      return bundle(newGrid, details[0].row, targetIndex);\n    };\n    const opInsertColumnsAfter = (grid, extractDetail, comparator, genWrappers) => {\n      const details = extractDetail.details;\n      const target = details[details.length - 1];\n      const targetIndex = target.column + target.colspan;\n      const columns = uniqueColumns(details);\n      const newGrid = foldr(columns, (newG, col) => {\n        return insertColumnAt(newG, targetIndex, col.column, comparator, genWrappers.getOrInit);\n      }, grid);\n      return bundle(newGrid, details[0].row, targetIndex);\n    };\n    const opMakeColumnsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const columns = uniqueColumns(details);\n      const columnIndexes = map$1(columns, detail => detail.column);\n      const newGrid = replaceColumns(initialGrid, columnIndexes, true, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opMakeCellsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const newGrid = replaceCells(initialGrid, details, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opUnmakeColumnsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const columns = uniqueColumns(details);\n      const columnIndexes = map$1(columns, detail => detail.column);\n      const newGrid = replaceColumns(initialGrid, columnIndexes, false, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opUnmakeCellsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const newGrid = replaceCells(initialGrid, details, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const makeRowsSection = (section, applyScope) => (initialGrid, details, comparator, genWrappers, tableSection) => {\n      const rows = uniqueRows(details);\n      const rowIndexes = map$1(rows, detail => detail.row);\n      const newGrid = replaceRows(initialGrid, rowIndexes, section, applyScope, comparator, genWrappers.replaceOrInit, tableSection);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opMakeRowsHeader = makeRowsSection('thead', true);\n    const opMakeRowsBody = makeRowsSection('tbody', false);\n    const opMakeRowsFooter = makeRowsSection('tfoot', false);\n    const opEraseColumns = (grid, extractDetail, _comparator, _genWrappers) => {\n      const columns = uniqueColumns(extractDetail.details);\n      const newGrid = deleteColumnsAt(grid, map$1(columns, column => column.column));\n      const maxColIndex = newGrid.length > 0 ? newGrid[0].cells.length - 1 : 0;\n      return bundle(newGrid, columns[0].row, Math.min(columns[0].column, maxColIndex));\n    };\n    const opEraseRows = (grid, details, _comparator, _genWrappers) => {\n      const rows = uniqueRows(details);\n      const newGrid = deleteRowsAt(grid, rows[0].row, rows[rows.length - 1].row);\n      const maxRowIndex = newGrid.length > 0 ? newGrid.length - 1 : 0;\n      return bundle(newGrid, Math.min(details[0].row, maxRowIndex), details[0].column);\n    };\n    const opMergeCells = (grid, mergable, comparator, genWrappers) => {\n      const cells = mergable.cells;\n      merge(cells);\n      const newGrid = merge$2(grid, mergable.bounds, comparator, genWrappers.merge(cells));\n      return outcome(newGrid, Optional.from(cells[0]));\n    };\n    const opUnmergeCells = (grid, unmergable, comparator, genWrappers) => {\n      const unmerge$1 = (b, cell) => unmerge(b, cell, comparator, genWrappers.unmerge(cell));\n      const newGrid = foldr(unmergable, unmerge$1, grid);\n      return outcome(newGrid, Optional.from(unmergable[0]));\n    };\n    const opPasteCells = (grid, pasteDetails, comparator, _genWrappers) => {\n      const gridify = (table, generators) => {\n        const wh = Warehouse.fromTable(table);\n        return toGrid(wh, generators, true);\n      };\n      const gridB = gridify(pasteDetails.clipboard, pasteDetails.generators);\n      const startAddress = address(pasteDetails.row, pasteDetails.column);\n      const mergedGrid = merge$1(startAddress, grid, gridB, pasteDetails.generators, comparator);\n      return mergedGrid.fold(() => outcome(grid, Optional.some(pasteDetails.element)), newGrid => {\n        return bundle(newGrid, pasteDetails.row, pasteDetails.column);\n      });\n    };\n    const gridifyRows = (rows, generators, context) => {\n      const pasteDetails = fromPastedRows(rows, context.section);\n      const wh = Warehouse.generate(pasteDetails);\n      return toGrid(wh, generators, true);\n    };\n    const opPasteColsBefore = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[0].column;\n      const context = rows[pasteDetails.cells[0].row];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertCols(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    const opPasteColsAfter = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[pasteDetails.cells.length - 1].column + pasteDetails.cells[pasteDetails.cells.length - 1].colspan;\n      const context = rows[pasteDetails.cells[0].row];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertCols(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    const opPasteRowsBefore = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[0].row;\n      const context = rows[index];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertRows(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    const opPasteRowsAfter = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[pasteDetails.cells.length - 1].row + pasteDetails.cells[pasteDetails.cells.length - 1].rowspan;\n      const context = rows[pasteDetails.cells[0].row];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertRows(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    const opGetColumnsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minColRange = selectedCells[0].column;\n        const maxColRange = lastSelectedCell.column + lastSelectedCell.colspan;\n        const selectedColumnCells = flatten(map$1(house.all, row => filter$2(row.cells, cell => cell.column >= minColRange && cell.column < maxColRange)));\n        return findCommonCellType(selectedColumnCells);\n      }).getOr('');\n    };\n    const opGetCellsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(findCommonCellType).getOr('');\n    };\n    const opGetRowsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minRowRange = selectedCells[0].row;\n        const maxRowRange = lastSelectedCell.row + lastSelectedCell.rowspan;\n        const selectedRows = house.all.slice(minRowRange, maxRowRange);\n        return findCommonRowType(selectedRows);\n      }).getOr('');\n    };\n    const resize = (table, list, details, behaviours) => adjustWidthTo(table, list, details, behaviours.sizing);\n    const adjustAndRedistributeWidths = (table, list, details, behaviours) => adjustAndRedistributeWidths$1(table, list, details, behaviours.sizing, behaviours.resize);\n    const firstColumnIsLocked = (_warehouse, details) => exists(details, detail => detail.column === 0 && detail.isLocked);\n    const lastColumnIsLocked = (warehouse, details) => exists(details, detail => detail.column + detail.colspan >= warehouse.grid.columns && detail.isLocked);\n    const getColumnsWidth = (warehouse, details) => {\n      const columns$1 = columns(warehouse);\n      const uniqueCols = uniqueColumns(details);\n      return foldl(uniqueCols, (acc, detail) => {\n        const column = columns$1[detail.column];\n        const colWidth = column.map(getOuter$2).getOr(0);\n        return acc + colWidth;\n      }, 0);\n    };\n    const insertColumnsExtractor = before => (warehouse, target) => onCells(warehouse, target).filter(details => {\n      const checkLocked = before ? firstColumnIsLocked : lastColumnIsLocked;\n      return !checkLocked(warehouse, details);\n    }).map(details => ({\n      details,\n      pixelDelta: getColumnsWidth(warehouse, details)\n    }));\n    const eraseColumnsExtractor = (warehouse, target) => onUnlockedCells(warehouse, target).map(details => ({\n      details,\n      pixelDelta: -getColumnsWidth(warehouse, details)\n    }));\n    const pasteColumnsExtractor = before => (warehouse, target) => onPasteByEditor(warehouse, target).filter(details => {\n      const checkLocked = before ? firstColumnIsLocked : lastColumnIsLocked;\n      return !checkLocked(warehouse, details.cells);\n    });\n    const headerCellGenerator = Generators.transform('th');\n    const bodyCellGenerator = Generators.transform('td');\n    const insertRowsBefore = run(opInsertRowsBefore, onCells, noop, noop, Generators.modification);\n    const insertRowsAfter = run(opInsertRowsAfter, onCells, noop, noop, Generators.modification);\n    const insertColumnsBefore = run(opInsertColumnsBefore, insertColumnsExtractor(true), adjustAndRedistributeWidths, noop, Generators.modification);\n    const insertColumnsAfter = run(opInsertColumnsAfter, insertColumnsExtractor(false), adjustAndRedistributeWidths, noop, Generators.modification);\n    const eraseColumns = run(opEraseColumns, eraseColumnsExtractor, adjustAndRedistributeWidths, prune, Generators.modification);\n    const eraseRows = run(opEraseRows, onCells, noop, prune, Generators.modification);\n    const makeColumnsHeader = run(opMakeColumnsHeader, onUnlockedCells, noop, noop, headerCellGenerator);\n    const unmakeColumnsHeader = run(opUnmakeColumnsHeader, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const makeRowsHeader = run(opMakeRowsHeader, onUnlockedCells, noop, noop, headerCellGenerator);\n    const makeRowsBody = run(opMakeRowsBody, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const makeRowsFooter = run(opMakeRowsFooter, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const makeCellsHeader = run(opMakeCellsHeader, onUnlockedCells, noop, noop, headerCellGenerator);\n    const unmakeCellsHeader = run(opUnmakeCellsHeader, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const mergeCells = run(opMergeCells, onUnlockedMergable, resize, noop, Generators.merging);\n    const unmergeCells = run(opUnmergeCells, onUnlockedUnmergable, resize, noop, Generators.merging);\n    const pasteCells = run(opPasteCells, onPaste, resize, noop, Generators.modification);\n    const pasteColsBefore = run(opPasteColsBefore, pasteColumnsExtractor(true), noop, noop, Generators.modification);\n    const pasteColsAfter = run(opPasteColsAfter, pasteColumnsExtractor(false), noop, noop, Generators.modification);\n    const pasteRowsBefore = run(opPasteRowsBefore, onPasteByEditor, noop, noop, Generators.modification);\n    const pasteRowsAfter = run(opPasteRowsAfter, onPasteByEditor, noop, noop, Generators.modification);\n    const getColumnsType = opGetColumnsType;\n    const getCellsType = opGetCellsType;\n    const getRowsType = opGetRowsType;\n\n    const fireNewRow = (editor, row) => editor.dispatch('NewRow', { node: row });\n    const fireNewCell = (editor, cell) => editor.dispatch('NewCell', { node: cell });\n    const fireTableModified = (editor, table, data) => {\n      editor.dispatch('TableModified', {\n        ...data,\n        table\n      });\n    };\n    const fireTableSelectionChange = (editor, cells, start, finish, otherCells) => {\n      editor.dispatch('TableSelectionChange', {\n        cells,\n        start,\n        finish,\n        otherCells\n      });\n    };\n    const fireTableSelectionClear = editor => {\n      editor.dispatch('TableSelectionClear');\n    };\n    const fireObjectResizeStart = (editor, target, width, height, origin) => {\n      editor.dispatch('ObjectResizeStart', {\n        target,\n        width,\n        height,\n        origin\n      });\n    };\n    const fireObjectResized = (editor, target, width, height, origin) => {\n      editor.dispatch('ObjectResized', {\n        target,\n        width,\n        height,\n        origin\n      });\n    };\n    const styleModified = {\n      structure: false,\n      style: true\n    };\n    const structureModified = {\n      structure: true,\n      style: false\n    };\n    const styleAndStructureModified = {\n      structure: true,\n      style: true\n    };\n\n    const option = name => editor => editor.options.get(name);\n    const defaultWidth = '100%';\n    const getPixelForcedWidth = editor => {\n      var _a;\n      const dom = editor.dom;\n      const parentBlock = (_a = dom.getParent(editor.selection.getStart(), dom.isBlock)) !== null && _a !== void 0 ? _a : editor.getBody();\n      return getInner(SugarElement.fromDom(parentBlock)) + 'px';\n    };\n    const determineDefaultTableStyles = (editor, defaultStyles) => {\n      if (isTableResponsiveForced(editor) || !shouldStyleWithCss(editor)) {\n        return defaultStyles;\n      } else if (isTablePixelsForced(editor)) {\n        return {\n          ...defaultStyles,\n          width: getPixelForcedWidth(editor)\n        };\n      } else {\n        return {\n          ...defaultStyles,\n          width: defaultWidth\n        };\n      }\n    };\n    const determineDefaultTableAttributes = (editor, defaultAttributes) => {\n      if (isTableResponsiveForced(editor) || shouldStyleWithCss(editor)) {\n        return defaultAttributes;\n      } else if (isTablePixelsForced(editor)) {\n        return {\n          ...defaultAttributes,\n          width: getPixelForcedWidth(editor)\n        };\n      } else {\n        return {\n          ...defaultAttributes,\n          width: defaultWidth\n        };\n      }\n    };\n    const register = editor => {\n      const registerOption = editor.options.register;\n      registerOption('table_clone_elements', { processor: 'string[]' });\n      registerOption('table_use_colgroups', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_header_type', {\n        processor: value => {\n          const valid = contains$2([\n            'section',\n            'cells',\n            'sectionCells',\n            'auto'\n          ], value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be one of: section, cells, sectionCells or auto.'\n          };\n        },\n        default: 'section'\n      });\n      registerOption('table_sizing_mode', {\n        processor: 'string',\n        default: 'auto'\n      });\n      registerOption('table_default_attributes', {\n        processor: 'object',\n        default: { border: '1' }\n      });\n      registerOption('table_default_styles', {\n        processor: 'object',\n        default: { 'border-collapse': 'collapse' }\n      });\n      registerOption('table_column_resizing', {\n        processor: value => {\n          const valid = contains$2([\n            'preservetable',\n            'resizetable'\n          ], value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be preservetable, or resizetable.'\n          };\n        },\n        default: 'preservetable'\n      });\n      registerOption('table_resize_bars', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_style_by_css', {\n        processor: 'boolean',\n        default: true\n      });\n    };\n    const getTableCloneElements = editor => {\n      return Optional.from(editor.options.get('table_clone_elements'));\n    };\n    const hasTableObjectResizing = editor => {\n      const objectResizing = editor.options.get('object_resizing');\n      return contains$2(objectResizing.split(','), 'table');\n    };\n    const getTableHeaderType = option('table_header_type');\n    const getTableColumnResizingBehaviour = option('table_column_resizing');\n    const isPreserveTableColumnResizing = editor => getTableColumnResizingBehaviour(editor) === 'preservetable';\n    const isResizeTableColumnResizing = editor => getTableColumnResizingBehaviour(editor) === 'resizetable';\n    const getTableSizingMode = option('table_sizing_mode');\n    const isTablePercentagesForced = editor => getTableSizingMode(editor) === 'relative';\n    const isTablePixelsForced = editor => getTableSizingMode(editor) === 'fixed';\n    const isTableResponsiveForced = editor => getTableSizingMode(editor) === 'responsive';\n    const hasTableResizeBars = option('table_resize_bars');\n    const shouldStyleWithCss = option('table_style_by_css');\n    const getTableDefaultAttributes = editor => {\n      const options = editor.options;\n      const defaultAttributes = options.get('table_default_attributes');\n      return options.isSet('table_default_attributes') ? defaultAttributes : determineDefaultTableAttributes(editor, defaultAttributes);\n    };\n    const getTableDefaultStyles = editor => {\n      const options = editor.options;\n      const defaultStyles = options.get('table_default_styles');\n      return options.isSet('table_default_styles') ? defaultStyles : determineDefaultTableStyles(editor, defaultStyles);\n    };\n    const tableUseColumnGroup = option('table_use_colgroups');\n\n    const get$5 = (editor, table) => {\n      if (isTablePercentagesForced(editor)) {\n        return TableSize.percentageSize(table);\n      } else if (isTablePixelsForced(editor)) {\n        return TableSize.pixelSize(table);\n      } else {\n        return TableSize.getTableSize(table);\n      }\n    };\n\n    const TableActions = (editor, resizeHandler, cellSelectionHandler) => {\n      const isTableBody = editor => name(getBody(editor)) === 'table';\n      const lastRowGuard = table => !isTableBody(editor) || getGridSize(table).rows > 1;\n      const lastColumnGuard = table => !isTableBody(editor) || getGridSize(table).columns > 1;\n      const cloneFormats = getTableCloneElements(editor);\n      const colMutationOp = isResizeTableColumnResizing(editor) ? noop : halve;\n      const getTableSectionType = table => {\n        switch (getTableHeaderType(editor)) {\n        case 'section':\n          return TableSection.section();\n        case 'sectionCells':\n          return TableSection.sectionCells();\n        case 'cells':\n          return TableSection.cells();\n        default:\n          return TableSection.getTableSectionType(table, 'section');\n        }\n      };\n      const setSelectionFromAction = (table, result) => result.cursor.fold(() => {\n        const cells = cells$1(table);\n        return head(cells).filter(inBody).map(firstCell => {\n          cellSelectionHandler.clearSelectedCells(table.dom);\n          const rng = editor.dom.createRng();\n          rng.selectNode(firstCell.dom);\n          editor.selection.setRng(rng);\n          set$2(firstCell, 'data-mce-selected', '1');\n          return rng;\n        });\n      }, cell => {\n        const des = freefallRtl(cell);\n        const rng = editor.dom.createRng();\n        rng.setStart(des.element.dom, des.offset);\n        rng.setEnd(des.element.dom, des.offset);\n        editor.selection.setRng(rng);\n        cellSelectionHandler.clearSelectedCells(table.dom);\n        return Optional.some(rng);\n      });\n      const execute = (operation, guard, mutate, effect) => (table, target, noEvents = false) => {\n        removeDataStyle(table);\n        const doc = SugarElement.fromDom(editor.getDoc());\n        const generators = cellOperations(mutate, doc, cloneFormats);\n        const behaviours = {\n          sizing: get$5(editor, table),\n          resize: isResizeTableColumnResizing(editor) ? resizeTable() : preserveTable(),\n          section: getTableSectionType(table)\n        };\n        return guard(table) ? operation(table, target, generators, behaviours).bind(result => {\n          resizeHandler.refresh(table.dom);\n          each$2(result.newRows, row => {\n            fireNewRow(editor, row.dom);\n          });\n          each$2(result.newCells, cell => {\n            fireNewCell(editor, cell.dom);\n          });\n          const range = setSelectionFromAction(table, result);\n          if (inBody(table)) {\n            removeDataStyle(table);\n            if (!noEvents) {\n              fireTableModified(editor, table.dom, effect);\n            }\n          }\n          return range.map(rng => ({\n            rng,\n            effect\n          }));\n        }) : Optional.none();\n      };\n      const deleteRow = execute(eraseRows, lastRowGuard, noop, structureModified);\n      const deleteColumn = execute(eraseColumns, lastColumnGuard, noop, structureModified);\n      const insertRowsBefore$1 = execute(insertRowsBefore, always, noop, structureModified);\n      const insertRowsAfter$1 = execute(insertRowsAfter, always, noop, structureModified);\n      const insertColumnsBefore$1 = execute(insertColumnsBefore, always, colMutationOp, structureModified);\n      const insertColumnsAfter$1 = execute(insertColumnsAfter, always, colMutationOp, structureModified);\n      const mergeCells$1 = execute(mergeCells, always, noop, structureModified);\n      const unmergeCells$1 = execute(unmergeCells, always, noop, structureModified);\n      const pasteColsBefore$1 = execute(pasteColsBefore, always, noop, structureModified);\n      const pasteColsAfter$1 = execute(pasteColsAfter, always, noop, structureModified);\n      const pasteRowsBefore$1 = execute(pasteRowsBefore, always, noop, structureModified);\n      const pasteRowsAfter$1 = execute(pasteRowsAfter, always, noop, structureModified);\n      const pasteCells$1 = execute(pasteCells, always, noop, styleAndStructureModified);\n      const makeCellsHeader$1 = execute(makeCellsHeader, always, noop, structureModified);\n      const unmakeCellsHeader$1 = execute(unmakeCellsHeader, always, noop, structureModified);\n      const makeColumnsHeader$1 = execute(makeColumnsHeader, always, noop, structureModified);\n      const unmakeColumnsHeader$1 = execute(unmakeColumnsHeader, always, noop, structureModified);\n      const makeRowsHeader$1 = execute(makeRowsHeader, always, noop, structureModified);\n      const makeRowsBody$1 = execute(makeRowsBody, always, noop, structureModified);\n      const makeRowsFooter$1 = execute(makeRowsFooter, always, noop, structureModified);\n      const getTableCellType = getCellsType;\n      const getTableColType = getColumnsType;\n      const getTableRowType = getRowsType;\n      return {\n        deleteRow,\n        deleteColumn,\n        insertRowsBefore: insertRowsBefore$1,\n        insertRowsAfter: insertRowsAfter$1,\n        insertColumnsBefore: insertColumnsBefore$1,\n        insertColumnsAfter: insertColumnsAfter$1,\n        mergeCells: mergeCells$1,\n        unmergeCells: unmergeCells$1,\n        pasteColsBefore: pasteColsBefore$1,\n        pasteColsAfter: pasteColsAfter$1,\n        pasteRowsBefore: pasteRowsBefore$1,\n        pasteRowsAfter: pasteRowsAfter$1,\n        pasteCells: pasteCells$1,\n        makeCellsHeader: makeCellsHeader$1,\n        unmakeCellsHeader: unmakeCellsHeader$1,\n        makeColumnsHeader: makeColumnsHeader$1,\n        unmakeColumnsHeader: unmakeColumnsHeader$1,\n        makeRowsHeader: makeRowsHeader$1,\n        makeRowsBody: makeRowsBody$1,\n        makeRowsFooter: makeRowsFooter$1,\n        getTableRowType,\n        getTableCellType,\n        getTableColType\n      };\n    };\n\n    const constrainSpan = (element, property, value) => {\n      const currentColspan = getAttrValue(element, property, 1);\n      if (value === 1 || currentColspan <= 1) {\n        remove$7(element, property);\n      } else {\n        set$2(element, property, Math.min(value, currentColspan));\n      }\n    };\n    const isColInRange = (minColRange, maxColRange) => cell => {\n      const endCol = cell.column + cell.colspan - 1;\n      const startCol = cell.column;\n      return endCol >= minColRange && startCol < maxColRange;\n    };\n    const generateColGroup = (house, minColRange, maxColRange) => {\n      if (Warehouse.hasColumns(house)) {\n        const colsToCopy = filter$2(Warehouse.justColumns(house), isColInRange(minColRange, maxColRange));\n        const copiedCols = map$1(colsToCopy, c => {\n          const clonedCol = deep(c.element);\n          constrainSpan(clonedCol, 'span', maxColRange - minColRange);\n          return clonedCol;\n        });\n        const fakeColgroup = SugarElement.fromTag('colgroup');\n        append(fakeColgroup, copiedCols);\n        return [fakeColgroup];\n      } else {\n        return [];\n      }\n    };\n    const generateRows = (house, minColRange, maxColRange) => map$1(house.all, row => {\n      const cellsToCopy = filter$2(row.cells, isColInRange(minColRange, maxColRange));\n      const copiedCells = map$1(cellsToCopy, cell => {\n        const clonedCell = deep(cell.element);\n        constrainSpan(clonedCell, 'colspan', maxColRange - minColRange);\n        return clonedCell;\n      });\n      const fakeTR = SugarElement.fromTag('tr');\n      append(fakeTR, copiedCells);\n      return fakeTR;\n    });\n    const copyCols = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onUnlockedCells(house, target);\n      return details.map(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minColRange = selectedCells[0].column;\n        const maxColRange = lastSelectedCell.column + lastSelectedCell.colspan;\n        const fakeColGroups = generateColGroup(house, minColRange, maxColRange);\n        const fakeRows = generateRows(house, minColRange, maxColRange);\n        return [\n          ...fakeColGroups,\n          ...fakeRows\n        ];\n      });\n    };\n\n    const copyRows = (table, target, generators) => {\n      const warehouse = Warehouse.fromTable(table);\n      const details = onCells(warehouse, target);\n      return details.bind(selectedCells => {\n        const grid = toGrid(warehouse, generators, false);\n        const rows = extractGridDetails(grid).rows;\n        const slicedGrid = rows.slice(selectedCells[0].row, selectedCells[selectedCells.length - 1].row + selectedCells[selectedCells.length - 1].rowspan);\n        const filteredGrid = bind$2(slicedGrid, row => {\n          const newCells = filter$2(row.cells, cell => !cell.isLocked);\n          return newCells.length > 0 ? [{\n              ...row,\n              cells: newCells\n            }] : [];\n        });\n        const slicedDetails = toDetailList(filteredGrid);\n        return someIf(slicedDetails.length > 0, slicedDetails);\n      }).map(slicedDetails => copy(slicedDetails));\n    };\n\n    const adt$5 = Adt.generate([\n      { invalid: ['raw'] },\n      { pixels: ['value'] },\n      { percent: ['value'] }\n    ]);\n    const validateFor = (suffix, type, value) => {\n      const rawAmount = value.substring(0, value.length - suffix.length);\n      const amount = parseFloat(rawAmount);\n      return rawAmount === amount.toString() ? type(amount) : adt$5.invalid(value);\n    };\n    const from = value => {\n      if (endsWith(value, '%')) {\n        return validateFor('%', adt$5.percent, value);\n      }\n      if (endsWith(value, 'px')) {\n        return validateFor('px', adt$5.pixels, value);\n      }\n      return adt$5.invalid(value);\n    };\n    const Size = {\n      ...adt$5,\n      from\n    };\n\n    const redistributeToPercent = (widths, totalWidth) => {\n      return map$1(widths, w => {\n        const colType = Size.from(w);\n        return colType.fold(() => {\n          return w;\n        }, px => {\n          const ratio = px / totalWidth * 100;\n          return ratio + '%';\n        }, pc => {\n          return pc + '%';\n        });\n      });\n    };\n    const redistributeToPx = (widths, totalWidth, newTotalWidth) => {\n      const scale = newTotalWidth / totalWidth;\n      return map$1(widths, w => {\n        const colType = Size.from(w);\n        return colType.fold(() => {\n          return w;\n        }, px => {\n          return px * scale + 'px';\n        }, pc => {\n          return pc / 100 * newTotalWidth + 'px';\n        });\n      });\n    };\n    const redistributeEmpty = (newWidthType, columns) => {\n      const f = newWidthType.fold(() => constant(''), pixels => {\n        const num = pixels / columns;\n        return constant(num + 'px');\n      }, () => {\n        const num = 100 / columns;\n        return constant(num + '%');\n      });\n      return range$1(columns, f);\n    };\n    const redistributeValues = (newWidthType, widths, totalWidth) => {\n      return newWidthType.fold(() => {\n        return widths;\n      }, px => {\n        return redistributeToPx(widths, totalWidth, px);\n      }, _pc => {\n        return redistributeToPercent(widths, totalWidth);\n      });\n    };\n    const redistribute$1 = (widths, totalWidth, newWidth) => {\n      const newType = Size.from(newWidth);\n      const floats = forall(widths, s => {\n        return s === '0px';\n      }) ? redistributeEmpty(newType, widths.length) : redistributeValues(newType, widths, totalWidth);\n      return normalize(floats);\n    };\n    const sum = (values, fallback) => {\n      if (values.length === 0) {\n        return fallback;\n      }\n      return foldr(values, (rest, v) => {\n        return Size.from(v).fold(constant(0), identity, identity) + rest;\n      }, 0);\n    };\n    const roundDown = (num, unit) => {\n      const floored = Math.floor(num);\n      return {\n        value: floored + unit,\n        remainder: num - floored\n      };\n    };\n    const add$3 = (value, amount) => {\n      return Size.from(value).fold(constant(value), px => {\n        return px + amount + 'px';\n      }, pc => {\n        return pc + amount + '%';\n      });\n    };\n    const normalize = values => {\n      if (values.length === 0) {\n        return values;\n      }\n      const scan = foldr(values, (rest, value) => {\n        const info = Size.from(value).fold(() => ({\n          value,\n          remainder: 0\n        }), num => roundDown(num, 'px'), num => ({\n          value: num + '%',\n          remainder: 0\n        }));\n        return {\n          output: [info.value].concat(rest.output),\n          remainder: rest.remainder + info.remainder\n        };\n      }, {\n        output: [],\n        remainder: 0\n      });\n      const r = scan.output;\n      return r.slice(0, r.length - 1).concat([add$3(r[r.length - 1], Math.round(scan.remainder))]);\n    };\n    const validate = Size.from;\n\n    const redistributeToW = (newWidths, cells, unit) => {\n      each$2(cells, cell => {\n        const widths = newWidths.slice(cell.column, cell.colspan + cell.column);\n        const w = sum(widths, minWidth());\n        set$1(cell.element, 'width', w + unit);\n      });\n    };\n    const redistributeToColumns = (newWidths, columns, unit) => {\n      each$2(columns, (column, index) => {\n        const width = sum([newWidths[index]], minWidth());\n        set$1(column.element, 'width', width + unit);\n      });\n    };\n    const redistributeToH = (newHeights, rows, cells, unit) => {\n      each$2(cells, cell => {\n        const heights = newHeights.slice(cell.row, cell.rowspan + cell.row);\n        const h = sum(heights, minHeight());\n        set$1(cell.element, 'height', h + unit);\n      });\n      each$2(rows, (row, i) => {\n        set$1(row.element, 'height', newHeights[i]);\n      });\n    };\n    const getUnit = newSize => {\n      return validate(newSize).fold(constant('px'), constant('px'), constant('%'));\n    };\n    const redistribute = (table, optWidth, optHeight) => {\n      const warehouse = Warehouse.fromTable(table);\n      const rows = warehouse.all;\n      const cells = Warehouse.justCells(warehouse);\n      const columns = Warehouse.justColumns(warehouse);\n      optWidth.each(newWidth => {\n        const widthUnit = getUnit(newWidth);\n        const totalWidth = get$9(table);\n        const oldWidths = getRawWidths(warehouse, table);\n        const nuWidths = redistribute$1(oldWidths, totalWidth, newWidth);\n        if (Warehouse.hasColumns(warehouse)) {\n          redistributeToColumns(nuWidths, columns, widthUnit);\n        } else {\n          redistributeToW(nuWidths, cells, widthUnit);\n        }\n        set$1(table, 'width', newWidth);\n      });\n      optHeight.each(newHeight => {\n        const hUnit = getUnit(newHeight);\n        const totalHeight = get$8(table);\n        const oldHeights = getRawHeights(warehouse, table, height);\n        const nuHeights = redistribute$1(oldHeights, totalHeight, newHeight);\n        redistributeToH(nuHeights, rows, cells, hUnit);\n        set$1(table, 'height', newHeight);\n      });\n    };\n    const isPercentSizing = isPercentSizing$1;\n    const isPixelSizing = isPixelSizing$1;\n    const isNoneSizing = isNoneSizing$1;\n\n    const cleanupLegacyAttributes = element => {\n      remove$7(element, 'width');\n    };\n    const convertToPercentSize = table => {\n      const newWidth = getPercentTableWidth(table);\n      redistribute(table, Optional.some(newWidth), Optional.none());\n      cleanupLegacyAttributes(table);\n    };\n    const convertToPixelSize = table => {\n      const newWidth = getPixelTableWidth(table);\n      redistribute(table, Optional.some(newWidth), Optional.none());\n      cleanupLegacyAttributes(table);\n    };\n    const convertToNoneSize = table => {\n      remove$5(table, 'width');\n      const columns = columns$1(table);\n      const rowElements = columns.length > 0 ? columns : cells$1(table);\n      each$2(rowElements, cell => {\n        remove$5(cell, 'width');\n        cleanupLegacyAttributes(cell);\n      });\n      cleanupLegacyAttributes(table);\n    };\n\n    const DefaultRenderOptions = {\n      styles: {\n        'border-collapse': 'collapse',\n        'width': '100%'\n      },\n      attributes: { border: '1' },\n      colGroups: false\n    };\n    const tableHeaderCell = () => SugarElement.fromTag('th');\n    const tableCell = () => SugarElement.fromTag('td');\n    const tableColumn = () => SugarElement.fromTag('col');\n    const createRow = (columns, rowHeaders, columnHeaders, rowIndex) => {\n      const tr = SugarElement.fromTag('tr');\n      for (let j = 0; j < columns; j++) {\n        const td = rowIndex < rowHeaders || j < columnHeaders ? tableHeaderCell() : tableCell();\n        if (j < columnHeaders) {\n          set$2(td, 'scope', 'row');\n        }\n        if (rowIndex < rowHeaders) {\n          set$2(td, 'scope', 'col');\n        }\n        append$1(td, SugarElement.fromTag('br'));\n        append$1(tr, td);\n      }\n      return tr;\n    };\n    const createGroupRow = columns => {\n      const columnGroup = SugarElement.fromTag('colgroup');\n      range$1(columns, () => append$1(columnGroup, tableColumn()));\n      return columnGroup;\n    };\n    const createRows = (rows, columns, rowHeaders, columnHeaders) => range$1(rows, r => createRow(columns, rowHeaders, columnHeaders, r));\n    const render = (rows, columns, rowHeaders, columnHeaders, headerType, renderOpts = DefaultRenderOptions) => {\n      const table = SugarElement.fromTag('table');\n      const rowHeadersGoInThead = headerType !== 'cells';\n      setAll(table, renderOpts.styles);\n      setAll$1(table, renderOpts.attributes);\n      if (renderOpts.colGroups) {\n        append$1(table, createGroupRow(columns));\n      }\n      const actualRowHeaders = Math.min(rows, rowHeaders);\n      if (rowHeadersGoInThead && rowHeaders > 0) {\n        const thead = SugarElement.fromTag('thead');\n        append$1(table, thead);\n        const theadRowHeaders = headerType === 'sectionCells' ? actualRowHeaders : 0;\n        const theadRows = createRows(rowHeaders, columns, theadRowHeaders, columnHeaders);\n        append(thead, theadRows);\n      }\n      const tbody = SugarElement.fromTag('tbody');\n      append$1(table, tbody);\n      const numRows = rowHeadersGoInThead ? rows - actualRowHeaders : rows;\n      const numRowHeaders = rowHeadersGoInThead ? 0 : rowHeaders;\n      const tbodyRows = createRows(numRows, columns, numRowHeaders, columnHeaders);\n      append(tbody, tbodyRows);\n      return table;\n    };\n\n    const get$4 = element => element.dom.innerHTML;\n    const getOuter = element => {\n      const container = SugarElement.fromTag('div');\n      const clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$1(container, clone);\n      return get$4(container);\n    };\n\n    const placeCaretInCell = (editor, cell) => {\n      editor.selection.select(cell.dom, true);\n      editor.selection.collapse(true);\n    };\n    const selectFirstCellInTable = (editor, tableElm) => {\n      descendant(tableElm, 'td,th').each(curry(placeCaretInCell, editor));\n    };\n    const fireEvents = (editor, table) => {\n      each$2(descendants(table, 'tr'), row => {\n        fireNewRow(editor, row.dom);\n        each$2(descendants(row, 'th,td'), cell => {\n          fireNewCell(editor, cell.dom);\n        });\n      });\n    };\n    const isPercentage = width => isString(width) && width.indexOf('%') !== -1;\n    const insert = (editor, columns, rows, colHeaders, rowHeaders) => {\n      const defaultStyles = getTableDefaultStyles(editor);\n      const options = {\n        styles: defaultStyles,\n        attributes: getTableDefaultAttributes(editor),\n        colGroups: tableUseColumnGroup(editor)\n      };\n      editor.undoManager.ignore(() => {\n        const table = render(rows, columns, rowHeaders, colHeaders, getTableHeaderType(editor), options);\n        set$2(table, 'data-mce-id', '__mce');\n        const html = getOuter(table);\n        editor.insertContent(html);\n        editor.addVisual();\n      });\n      return descendant(getBody(editor), 'table[data-mce-id=\"__mce\"]').map(table => {\n        if (isTablePixelsForced(editor)) {\n          convertToPixelSize(table);\n        } else if (isTableResponsiveForced(editor)) {\n          convertToNoneSize(table);\n        } else if (isTablePercentagesForced(editor) || isPercentage(defaultStyles.width)) {\n          convertToPercentSize(table);\n        }\n        removeDataStyle(table);\n        remove$7(table, 'data-mce-id');\n        fireEvents(editor, table);\n        selectFirstCellInTable(editor, table);\n        return table.dom;\n      }).getOrNull();\n    };\n    const insertTable = (editor, rows, columns, options = {}) => {\n      const checkInput = val => isNumber(val) && val > 0;\n      if (checkInput(rows) && checkInput(columns)) {\n        const headerRows = options.headerRows || 0;\n        const headerColumns = options.headerColumns || 0;\n        return insert(editor, columns, rows, headerColumns, headerRows);\n      } else {\n        console.error('Invalid values for mceInsertTable - rows and columns values are required to insert a table.');\n        return null;\n      }\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.FakeClipboard');\n\n    const tableTypeBase = 'x-tinymce/dom-table-';\n    const tableTypeRow = tableTypeBase + 'rows';\n    const tableTypeColumn = tableTypeBase + 'columns';\n    const setData = items => {\n      const fakeClipboardItem = global.FakeClipboardItem(items);\n      global.write([fakeClipboardItem]);\n    };\n    const getData = type => {\n      var _a;\n      const items = (_a = global.read()) !== null && _a !== void 0 ? _a : [];\n      return findMap(items, item => Optional.from(item.getType(type)));\n    };\n    const clearData = type => {\n      if (getData(type).isSome()) {\n        global.clear();\n      }\n    };\n    const setRows = rowsOpt => {\n      rowsOpt.fold(clearRows, rows => setData({ [tableTypeRow]: rows }));\n    };\n    const getRows = () => getData(tableTypeRow);\n    const clearRows = () => clearData(tableTypeRow);\n    const setColumns = columnsOpt => {\n      columnsOpt.fold(clearColumns, columns => setData({ [tableTypeColumn]: columns }));\n    };\n    const getColumns = () => getData(tableTypeColumn);\n    const clearColumns = () => clearData(tableTypeColumn);\n\n    const getSelectionStartCellOrCaption = editor => getSelectionCellOrCaption(getSelectionStart(editor), getIsRoot(editor)).filter(isInEditableContext$1);\n    const getSelectionStartCell = editor => getSelectionCell(getSelectionStart(editor), getIsRoot(editor)).filter(isInEditableContext$1);\n    const registerCommands = (editor, actions) => {\n      const isRoot = getIsRoot(editor);\n      const eraseTable = () => getSelectionStartCellOrCaption(editor).each(cellOrCaption => {\n        table(cellOrCaption, isRoot).filter(not(isRoot)).each(table => {\n          const cursor = SugarElement.fromText('');\n          after$5(table, cursor);\n          remove$6(table);\n          if (editor.dom.isEmpty(editor.getBody())) {\n            editor.setContent('');\n            editor.selection.setCursorLocation();\n          } else {\n            const rng = editor.dom.createRng();\n            rng.setStart(cursor.dom, 0);\n            rng.setEnd(cursor.dom, 0);\n            editor.selection.setRng(rng);\n            editor.nodeChanged();\n          }\n        });\n      });\n      const setSizingMode = sizing => getSelectionStartCellOrCaption(editor).each(cellOrCaption => {\n        const isForcedSizing = isTableResponsiveForced(editor) || isTablePixelsForced(editor) || isTablePercentagesForced(editor);\n        if (!isForcedSizing) {\n          table(cellOrCaption, isRoot).each(table => {\n            if (sizing === 'relative' && !isPercentSizing(table)) {\n              convertToPercentSize(table);\n            } else if (sizing === 'fixed' && !isPixelSizing(table)) {\n              convertToPixelSize(table);\n            } else if (sizing === 'responsive' && !isNoneSizing(table)) {\n              convertToNoneSize(table);\n            }\n            removeDataStyle(table);\n            fireTableModified(editor, table.dom, structureModified);\n          });\n        }\n      });\n      const getTableFromCell = cell => table(cell, isRoot);\n      const performActionOnSelection = action => getSelectionStartCell(editor).bind(cell => getTableFromCell(cell).map(table => action(table, cell)));\n      const toggleTableClass = (_ui, clazz) => {\n        performActionOnSelection(table => {\n          editor.formatter.toggle('tableclass', { value: clazz }, table.dom);\n          fireTableModified(editor, table.dom, styleModified);\n        });\n      };\n      const toggleTableCellClass = (_ui, clazz) => {\n        performActionOnSelection(table => {\n          const selectedCells = getCellsFromSelection(editor);\n          const allHaveClass = forall(selectedCells, cell => editor.formatter.match('tablecellclass', { value: clazz }, cell.dom));\n          const formatterAction = allHaveClass ? editor.formatter.remove : editor.formatter.apply;\n          each$2(selectedCells, cell => formatterAction('tablecellclass', { value: clazz }, cell.dom));\n          fireTableModified(editor, table.dom, styleModified);\n        });\n      };\n      const toggleCaption = () => {\n        getSelectionStartCellOrCaption(editor).each(cellOrCaption => {\n          table(cellOrCaption, isRoot).each(table => {\n            child(table, 'caption').fold(() => {\n              const caption = SugarElement.fromTag('caption');\n              append$1(caption, SugarElement.fromText('Caption'));\n              appendAt(table, caption, 0);\n              editor.selection.setCursorLocation(caption.dom, 0);\n            }, caption => {\n              if (isTag('caption')(cellOrCaption)) {\n                one('td', table).each(td => editor.selection.setCursorLocation(td.dom, 0));\n              }\n              remove$6(caption);\n            });\n            fireTableModified(editor, table.dom, structureModified);\n          });\n        });\n      };\n      const postExecute = _data => {\n        editor.focus();\n      };\n      const actOnSelection = (execute, noEvents = false) => performActionOnSelection((table, startCell) => {\n        const targets = forMenu(getCellsFromSelection(editor), table, startCell);\n        execute(table, targets, noEvents).each(postExecute);\n      });\n      const copyRowSelection = () => performActionOnSelection((table, startCell) => {\n        const targets = forMenu(getCellsFromSelection(editor), table, startCell);\n        const generators = cellOperations(noop, SugarElement.fromDom(editor.getDoc()), Optional.none());\n        return copyRows(table, targets, generators);\n      });\n      const copyColSelection = () => performActionOnSelection((table, startCell) => {\n        const targets = forMenu(getCellsFromSelection(editor), table, startCell);\n        return copyCols(table, targets);\n      });\n      const pasteOnSelection = (execute, getRows) => getRows().each(rows => {\n        const clonedRows = map$1(rows, row => deep(row));\n        performActionOnSelection((table, startCell) => {\n          const generators = paste$1(SugarElement.fromDom(editor.getDoc()));\n          const targets = pasteRows(getCellsFromSelection(editor), startCell, clonedRows, generators);\n          execute(table, targets).each(postExecute);\n        });\n      });\n      const actOnType = getAction => (_ui, args) => get$c(args, 'type').each(type => {\n        actOnSelection(getAction(type), args.no_events);\n      });\n      each$1({\n        mceTableSplitCells: () => actOnSelection(actions.unmergeCells),\n        mceTableMergeCells: () => actOnSelection(actions.mergeCells),\n        mceTableInsertRowBefore: () => actOnSelection(actions.insertRowsBefore),\n        mceTableInsertRowAfter: () => actOnSelection(actions.insertRowsAfter),\n        mceTableInsertColBefore: () => actOnSelection(actions.insertColumnsBefore),\n        mceTableInsertColAfter: () => actOnSelection(actions.insertColumnsAfter),\n        mceTableDeleteCol: () => actOnSelection(actions.deleteColumn),\n        mceTableDeleteRow: () => actOnSelection(actions.deleteRow),\n        mceTableCutCol: () => copyColSelection().each(selection => {\n          setColumns(selection);\n          actOnSelection(actions.deleteColumn);\n        }),\n        mceTableCutRow: () => copyRowSelection().each(selection => {\n          setRows(selection);\n          actOnSelection(actions.deleteRow);\n        }),\n        mceTableCopyCol: () => copyColSelection().each(selection => setColumns(selection)),\n        mceTableCopyRow: () => copyRowSelection().each(selection => setRows(selection)),\n        mceTablePasteColBefore: () => pasteOnSelection(actions.pasteColsBefore, getColumns),\n        mceTablePasteColAfter: () => pasteOnSelection(actions.pasteColsAfter, getColumns),\n        mceTablePasteRowBefore: () => pasteOnSelection(actions.pasteRowsBefore, getRows),\n        mceTablePasteRowAfter: () => pasteOnSelection(actions.pasteRowsAfter, getRows),\n        mceTableDelete: eraseTable,\n        mceTableCellToggleClass: toggleTableCellClass,\n        mceTableToggleClass: toggleTableClass,\n        mceTableToggleCaption: toggleCaption,\n        mceTableSizingMode: (_ui, sizing) => setSizingMode(sizing),\n        mceTableCellType: actOnType(type => type === 'th' ? actions.makeCellsHeader : actions.unmakeCellsHeader),\n        mceTableColType: actOnType(type => type === 'th' ? actions.makeColumnsHeader : actions.unmakeColumnsHeader),\n        mceTableRowType: actOnType(type => {\n          switch (type) {\n          case 'header':\n            return actions.makeRowsHeader;\n          case 'footer':\n            return actions.makeRowsFooter;\n          default:\n            return actions.makeRowsBody;\n          }\n        })\n      }, (func, name) => editor.addCommand(name, func));\n      editor.addCommand('mceInsertTable', (_ui, args) => {\n        insertTable(editor, args.rows, args.columns, args.options);\n      });\n      editor.addCommand('mceTableApplyCellStyle', (_ui, args) => {\n        const getFormatName = style => 'tablecell' + style.toLowerCase().replace('-', '');\n        if (!isObject(args)) {\n          return;\n        }\n        const cells = filter$2(getCellsFromSelection(editor), isInEditableContext$1);\n        if (cells.length === 0) {\n          return;\n        }\n        const validArgs = filter$1(args, (value, style) => editor.formatter.has(getFormatName(style)) && isString(value));\n        if (isEmpty(validArgs)) {\n          return;\n        }\n        each$1(validArgs, (value, style) => {\n          const formatName = getFormatName(style);\n          each$2(cells, cell => {\n            if (value === '') {\n              editor.formatter.remove(formatName, { value: null }, cell.dom, true);\n            } else {\n              editor.formatter.apply(formatName, { value }, cell.dom);\n            }\n          });\n        });\n        getTableFromCell(cells[0]).each(table => fireTableModified(editor, table.dom, styleModified));\n      });\n    };\n\n    const registerQueryCommands = (editor, actions) => {\n      const isRoot = getIsRoot(editor);\n      const lookupOnSelection = action => getSelectionCell(getSelectionStart(editor)).bind(cell => table(cell, isRoot).map(table => {\n        const targets = forMenu(getCellsFromSelection(editor), table, cell);\n        return action(table, targets);\n      })).getOr('');\n      each$1({\n        mceTableRowType: () => lookupOnSelection(actions.getTableRowType),\n        mceTableCellType: () => lookupOnSelection(actions.getTableCellType),\n        mceTableColType: () => lookupOnSelection(actions.getTableColType)\n      }, (func, name) => editor.addQueryValueHandler(name, func));\n    };\n\n    const adt$4 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    const cata$1 = (subject, onBefore, onOn, onAfter) => subject.fold(onBefore, onOn, onAfter);\n    const getStart$1 = situ => situ.fold(identity, identity, identity);\n    const before$2 = adt$4.before;\n    const on = adt$4.on;\n    const after$3 = adt$4.after;\n    const Situ = {\n      before: before$2,\n      on,\n      after: after$3,\n      cata: cata$1,\n      getStart: getStart$1\n    };\n\n    const create$4 = (selection, kill) => ({\n      selection,\n      kill\n    });\n    const Response = { create: create$4 };\n\n    const selectNode = (win, element) => {\n      const rng = win.document.createRange();\n      rng.selectNode(element.dom);\n      return rng;\n    };\n    const selectNodeContents = (win, element) => {\n      const rng = win.document.createRange();\n      selectNodeContentsUsing(rng, element);\n      return rng;\n    };\n    const selectNodeContentsUsing = (rng, element) => rng.selectNodeContents(element.dom);\n    const setStart = (rng, situ) => {\n      situ.fold(e => {\n        rng.setStartBefore(e.dom);\n      }, (e, o) => {\n        rng.setStart(e.dom, o);\n      }, e => {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    const setFinish = (rng, situ) => {\n      situ.fold(e => {\n        rng.setEndBefore(e.dom);\n      }, (e, o) => {\n        rng.setEnd(e.dom, o);\n      }, e => {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    const relativeToNative = (win, startSitu, finishSitu) => {\n      const range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    const exactToNative = (win, start, soffset, finish, foffset) => {\n      const rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const toRect = rect => ({\n      left: rect.left,\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      width: rect.width,\n      height: rect.height\n    });\n    const getFirstRect$1 = rng => {\n      const rects = rng.getClientRects();\n      const rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n\n    const adt$3 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const fromRange = (win, type, range) => type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    const getRanges = (win, selection) => selection.match({\n      domRange: rng => {\n        return {\n          ltr: constant(rng),\n          rtl: Optional.none\n        };\n      },\n      relative: (startSitu, finishSitu) => {\n        return {\n          ltr: cached(() => relativeToNative(win, startSitu, finishSitu)),\n          rtl: cached(() => Optional.some(relativeToNative(win, finishSitu, startSitu)))\n        };\n      },\n      exact: (start, soffset, finish, foffset) => {\n        return {\n          ltr: cached(() => exactToNative(win, start, soffset, finish, foffset)),\n          rtl: cached(() => Optional.some(exactToNative(win, finish, foffset, start, soffset)))\n        };\n      }\n    });\n    const doDiagnose = (win, ranges) => {\n      const rng = ranges.ltr();\n      if (rng.collapsed) {\n        const reversed = ranges.rtl().filter(rev => rev.collapsed === false);\n        return reversed.map(rev => adt$3.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset)).getOrThunk(() => fromRange(win, adt$3.ltr, rng));\n      } else {\n        return fromRange(win, adt$3.ltr, rng);\n      }\n    };\n    const diagnose = (win, selection) => {\n      const ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    const asLtrRange = (win, selection) => {\n      const diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(start.dom, soffset);\n          rng.setEnd(finish.dom, foffset);\n          return rng;\n        },\n        rtl: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(finish.dom, foffset);\n          rng.setEnd(start.dom, soffset);\n          return rng;\n        }\n      });\n    };\n    adt$3.ltr;\n    adt$3.rtl;\n\n    const create$3 = (start, soffset, finish, foffset) => ({\n      start,\n      soffset,\n      finish,\n      foffset\n    });\n    const SimRange = { create: create$3 };\n\n    const create$2 = (start, soffset, finish, foffset) => {\n      return {\n        start: Situ.on(start, soffset),\n        finish: Situ.on(finish, foffset)\n      };\n    };\n    const Situs = { create: create$2 };\n\n    const convertToRange = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return SimRange.create(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset);\n    };\n    const makeSitus = Situs.create;\n\n    const sync = (container, isRoot, start, soffset, finish, foffset, selectRange) => {\n      if (!(eq$1(start, finish) && soffset === foffset)) {\n        return closest$1(start, 'td,th', isRoot).bind(s => {\n          return closest$1(finish, 'td,th', isRoot).bind(f => {\n            return detect(container, isRoot, s, f, selectRange);\n          });\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const detect = (container, isRoot, start, finish, selectRange) => {\n      if (!eq$1(start, finish)) {\n        return identify(start, finish, isRoot).bind(cellSel => {\n          const boxes = cellSel.boxes.getOr([]);\n          if (boxes.length > 1) {\n            selectRange(container, boxes, cellSel.start, cellSel.finish);\n            return Optional.some(Response.create(Optional.some(makeSitus(start, 0, start, getEnd(start))), true));\n          } else {\n            return Optional.none();\n          }\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const update = (rows, columns, container, selected, annotations) => {\n      const updateSelection = newSels => {\n        annotations.clearBeforeUpdate(container);\n        annotations.selectRange(container, newSels.boxes, newSels.start, newSels.finish);\n        return newSels.boxes;\n      };\n      return shiftSelection(selected, rows, columns, annotations.firstSelectedSelector, annotations.lastSelectedSelector).map(updateSelection);\n    };\n\n    const traverse = (item, mode) => ({\n      item,\n      mode\n    });\n    const backtrack = (universe, item, _direction, transition = sidestep) => {\n      return universe.property().parent(item).map(p => {\n        return traverse(p, transition);\n      });\n    };\n    const sidestep = (universe, item, direction, transition = advance) => {\n      return direction.sibling(universe, item).map(p => {\n        return traverse(p, transition);\n      });\n    };\n    const advance = (universe, item, direction, transition = advance) => {\n      const children = universe.property().children(item);\n      const result = direction.first(children);\n      return result.map(r => {\n        return traverse(r, transition);\n      });\n    };\n    const successors = [\n      {\n        current: backtrack,\n        next: sidestep,\n        fallback: Optional.none()\n      },\n      {\n        current: sidestep,\n        next: advance,\n        fallback: Optional.some(backtrack)\n      },\n      {\n        current: advance,\n        next: advance,\n        fallback: Optional.some(sidestep)\n      }\n    ];\n    const go = (universe, item, mode, direction, rules = successors) => {\n      const ruleOpt = find$1(rules, succ => {\n        return succ.current === mode;\n      });\n      return ruleOpt.bind(rule => {\n        return rule.current(universe, item, direction, rule.next).orThunk(() => {\n          return rule.fallback.bind(fb => {\n            return go(universe, item, fb, direction);\n          });\n        });\n      });\n    };\n\n    const left$1 = () => {\n      const sibling = (universe, item) => {\n        return universe.query().prevSibling(item);\n      };\n      const first = children => {\n        return children.length > 0 ? Optional.some(children[children.length - 1]) : Optional.none();\n      };\n      return {\n        sibling,\n        first\n      };\n    };\n    const right$1 = () => {\n      const sibling = (universe, item) => {\n        return universe.query().nextSibling(item);\n      };\n      const first = children => {\n        return children.length > 0 ? Optional.some(children[0]) : Optional.none();\n      };\n      return {\n        sibling,\n        first\n      };\n    };\n    const Walkers = {\n      left: left$1,\n      right: right$1\n    };\n\n    const hone = (universe, item, predicate, mode, direction, isRoot) => {\n      const next = go(universe, item, mode, direction);\n      return next.bind(n => {\n        if (isRoot(n.item)) {\n          return Optional.none();\n        } else {\n          return predicate(n.item) ? Optional.some(n.item) : hone(universe, n.item, predicate, n.mode, direction, isRoot);\n        }\n      });\n    };\n    const left = (universe, item, predicate, isRoot) => {\n      return hone(universe, item, predicate, sidestep, Walkers.left(), isRoot);\n    };\n    const right = (universe, item, predicate, isRoot) => {\n      return hone(universe, item, predicate, sidestep, Walkers.right(), isRoot);\n    };\n\n    const isLeaf = universe => element => universe.property().children(element).length === 0;\n    const before$1 = (universe, item, isRoot) => {\n      return seekLeft$1(universe, item, isLeaf(universe), isRoot);\n    };\n    const after$2 = (universe, item, isRoot) => {\n      return seekRight$1(universe, item, isLeaf(universe), isRoot);\n    };\n    const seekLeft$1 = left;\n    const seekRight$1 = right;\n\n    const universe = DomUniverse();\n    const before = (element, isRoot) => {\n      return before$1(universe, element, isRoot);\n    };\n    const after$1 = (element, isRoot) => {\n      return after$2(universe, element, isRoot);\n    };\n    const seekLeft = (element, predicate, isRoot) => {\n      return seekLeft$1(universe, element, predicate, isRoot);\n    };\n    const seekRight = (element, predicate, isRoot) => {\n      return seekRight$1(universe, element, predicate, isRoot);\n    };\n\n    const ancestor = (scope, predicate, isRoot) => ancestor$2(scope, predicate, isRoot).isSome();\n\n    const adt$2 = Adt.generate([\n      { none: ['message'] },\n      { success: [] },\n      { failedUp: ['cell'] },\n      { failedDown: ['cell'] }\n    ]);\n    const isOverlapping = (bridge, before, after) => {\n      const beforeBounds = bridge.getRect(before);\n      const afterBounds = bridge.getRect(after);\n      return afterBounds.right > beforeBounds.left && afterBounds.left < beforeBounds.right;\n    };\n    const isRow = elem => {\n      return closest$1(elem, 'tr');\n    };\n    const verify = (bridge, before, beforeOffset, after, afterOffset, failure, isRoot) => {\n      return closest$1(after, 'td,th', isRoot).bind(afterCell => {\n        return closest$1(before, 'td,th', isRoot).map(beforeCell => {\n          if (!eq$1(afterCell, beforeCell)) {\n            return sharedOne(isRow, [\n              afterCell,\n              beforeCell\n            ]).fold(() => {\n              return isOverlapping(bridge, beforeCell, afterCell) ? adt$2.success() : failure(beforeCell);\n            }, _sharedRow => {\n              return failure(beforeCell);\n            });\n          } else {\n            return eq$1(after, afterCell) && getEnd(afterCell) === afterOffset ? failure(beforeCell) : adt$2.none('in same cell');\n          }\n        });\n      }).getOr(adt$2.none('default'));\n    };\n    const cata = (subject, onNone, onSuccess, onFailedUp, onFailedDown) => {\n      return subject.fold(onNone, onSuccess, onFailedUp, onFailedDown);\n    };\n    const BeforeAfter = {\n      ...adt$2,\n      verify,\n      cata\n    };\n\n    const inParent = (parent, children, element, index) => ({\n      parent,\n      children,\n      element,\n      index\n    });\n    const indexInParent = element => parent(element).bind(parent => {\n      const children = children$2(parent);\n      return indexOf(children, element).map(index => inParent(parent, children, element, index));\n    });\n    const indexOf = (elements, element) => findIndex(elements, curry(eq$1, element));\n\n    const isBr = isTag('br');\n    const gatherer = (cand, gather, isRoot) => {\n      return gather(cand, isRoot).bind(target => {\n        return isText(target) && get$6(target).trim().length === 0 ? gatherer(target, gather, isRoot) : Optional.some(target);\n      });\n    };\n    const handleBr = (isRoot, element, direction) => {\n      return direction.traverse(element).orThunk(() => {\n        return gatherer(element, direction.gather, isRoot);\n      }).map(direction.relative);\n    };\n    const findBr = (element, offset) => {\n      return child$2(element, offset).filter(isBr).orThunk(() => {\n        return child$2(element, offset - 1).filter(isBr);\n      });\n    };\n    const handleParent = (isRoot, element, offset, direction) => {\n      return findBr(element, offset).bind(br => {\n        return direction.traverse(br).fold(() => {\n          return gatherer(br, direction.gather, isRoot).map(direction.relative);\n        }, adjacent => {\n          return indexInParent(adjacent).map(info => {\n            return Situ.on(info.parent, info.index);\n          });\n        });\n      });\n    };\n    const tryBr = (isRoot, element, offset, direction) => {\n      const target = isBr(element) ? handleBr(isRoot, element, direction) : handleParent(isRoot, element, offset, direction);\n      return target.map(tgt => {\n        return {\n          start: tgt,\n          finish: tgt\n        };\n      });\n    };\n    const process = analysis => {\n      return BeforeAfter.cata(analysis, _message => {\n        return Optional.none();\n      }, () => {\n        return Optional.none();\n      }, cell => {\n        return Optional.some(point(cell, 0));\n      }, cell => {\n        return Optional.some(point(cell, getEnd(cell)));\n      });\n    };\n\n    const moveDown = (caret, amount) => {\n      return {\n        left: caret.left,\n        top: caret.top + amount,\n        right: caret.right,\n        bottom: caret.bottom + amount\n      };\n    };\n    const moveUp = (caret, amount) => {\n      return {\n        left: caret.left,\n        top: caret.top - amount,\n        right: caret.right,\n        bottom: caret.bottom - amount\n      };\n    };\n    const translate = (caret, xDelta, yDelta) => {\n      return {\n        left: caret.left + xDelta,\n        top: caret.top + yDelta,\n        right: caret.right + xDelta,\n        bottom: caret.bottom + yDelta\n      };\n    };\n    const getTop = caret => {\n      return caret.top;\n    };\n    const getBottom = caret => {\n      return caret.bottom;\n    };\n\n    const getPartialBox = (bridge, element, offset) => {\n      if (offset >= 0 && offset < getEnd(element)) {\n        return bridge.getRangedRect(element, offset, element, offset + 1);\n      } else if (offset > 0) {\n        return bridge.getRangedRect(element, offset - 1, element, offset);\n      }\n      return Optional.none();\n    };\n    const toCaret = rect => ({\n      left: rect.left,\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom\n    });\n    const getElemBox = (bridge, element) => {\n      return Optional.some(bridge.getRect(element));\n    };\n    const getBoxAt = (bridge, element, offset) => {\n      if (isElement(element)) {\n        return getElemBox(bridge, element).map(toCaret);\n      } else if (isText(element)) {\n        return getPartialBox(bridge, element, offset).map(toCaret);\n      } else {\n        return Optional.none();\n      }\n    };\n    const getEntireBox = (bridge, element) => {\n      if (isElement(element)) {\n        return getElemBox(bridge, element).map(toCaret);\n      } else if (isText(element)) {\n        return bridge.getRangedRect(element, 0, element, getEnd(element)).map(toCaret);\n      } else {\n        return Optional.none();\n      }\n    };\n\n    const JUMP_SIZE = 5;\n    const NUM_RETRIES = 100;\n    const adt$1 = Adt.generate([\n      { none: [] },\n      { retry: ['caret'] }\n    ]);\n    const isOutside = (caret, box) => {\n      return caret.left < box.left || Math.abs(box.right - caret.left) < 1 || caret.left > box.right;\n    };\n    const inOutsideBlock = (bridge, element, caret) => {\n      return closest$2(element, isBlock).fold(never, cell => {\n        return getEntireBox(bridge, cell).exists(box => {\n          return isOutside(caret, box);\n        });\n      });\n    };\n    const adjustDown = (bridge, element, guessBox, original, caret) => {\n      const lowerCaret = moveDown(caret, JUMP_SIZE);\n      if (Math.abs(guessBox.bottom - original.bottom) < 1) {\n        return adt$1.retry(lowerCaret);\n      } else if (guessBox.top > caret.bottom) {\n        return adt$1.retry(lowerCaret);\n      } else if (guessBox.top === caret.bottom) {\n        return adt$1.retry(moveDown(caret, 1));\n      } else {\n        return inOutsideBlock(bridge, element, caret) ? adt$1.retry(translate(lowerCaret, JUMP_SIZE, 0)) : adt$1.none();\n      }\n    };\n    const adjustUp = (bridge, element, guessBox, original, caret) => {\n      const higherCaret = moveUp(caret, JUMP_SIZE);\n      if (Math.abs(guessBox.top - original.top) < 1) {\n        return adt$1.retry(higherCaret);\n      } else if (guessBox.bottom < caret.top) {\n        return adt$1.retry(higherCaret);\n      } else if (guessBox.bottom === caret.top) {\n        return adt$1.retry(moveUp(caret, 1));\n      } else {\n        return inOutsideBlock(bridge, element, caret) ? adt$1.retry(translate(higherCaret, JUMP_SIZE, 0)) : adt$1.none();\n      }\n    };\n    const upMovement = {\n      point: getTop,\n      adjuster: adjustUp,\n      move: moveUp,\n      gather: before\n    };\n    const downMovement = {\n      point: getBottom,\n      adjuster: adjustDown,\n      move: moveDown,\n      gather: after$1\n    };\n    const isAtTable = (bridge, x, y) => {\n      return bridge.elementFromPoint(x, y).filter(elm => {\n        return name(elm) === 'table';\n      }).isSome();\n    };\n    const adjustForTable = (bridge, movement, original, caret, numRetries) => {\n      return adjustTil(bridge, movement, original, movement.move(caret, JUMP_SIZE), numRetries);\n    };\n    const adjustTil = (bridge, movement, original, caret, numRetries) => {\n      if (numRetries === 0) {\n        return Optional.some(caret);\n      }\n      if (isAtTable(bridge, caret.left, movement.point(caret))) {\n        return adjustForTable(bridge, movement, original, caret, numRetries - 1);\n      }\n      return bridge.situsFromPoint(caret.left, movement.point(caret)).bind(guess => {\n        return guess.start.fold(Optional.none, element => {\n          return getEntireBox(bridge, element).bind(guessBox => {\n            return movement.adjuster(bridge, element, guessBox, original, caret).fold(Optional.none, newCaret => {\n              return adjustTil(bridge, movement, original, newCaret, numRetries - 1);\n            });\n          }).orThunk(() => {\n            return Optional.some(caret);\n          });\n        }, Optional.none);\n      });\n    };\n    const checkScroll = (movement, adjusted, bridge) => {\n      if (movement.point(adjusted) > bridge.getInnerHeight()) {\n        return Optional.some(movement.point(adjusted) - bridge.getInnerHeight());\n      } else if (movement.point(adjusted) < 0) {\n        return Optional.some(-movement.point(adjusted));\n      } else {\n        return Optional.none();\n      }\n    };\n    const retry = (movement, bridge, caret) => {\n      const moved = movement.move(caret, JUMP_SIZE);\n      const adjusted = adjustTil(bridge, movement, caret, moved, NUM_RETRIES).getOr(moved);\n      return checkScroll(movement, adjusted, bridge).fold(() => {\n        return bridge.situsFromPoint(adjusted.left, movement.point(adjusted));\n      }, delta => {\n        bridge.scrollBy(0, delta);\n        return bridge.situsFromPoint(adjusted.left, movement.point(adjusted) - delta);\n      });\n    };\n    const Retries = {\n      tryUp: curry(retry, upMovement),\n      tryDown: curry(retry, downMovement),\n      getJumpSize: constant(JUMP_SIZE)\n    };\n\n    const MAX_RETRIES = 20;\n    const findSpot = (bridge, isRoot, direction) => {\n      return bridge.getSelection().bind(sel => {\n        return tryBr(isRoot, sel.finish, sel.foffset, direction).fold(() => {\n          return Optional.some(point(sel.finish, sel.foffset));\n        }, brNeighbour => {\n          const range = bridge.fromSitus(brNeighbour);\n          const analysis = BeforeAfter.verify(bridge, sel.finish, sel.foffset, range.finish, range.foffset, direction.failure, isRoot);\n          return process(analysis);\n        });\n      });\n    };\n    const scan = (bridge, isRoot, element, offset, direction, numRetries) => {\n      if (numRetries === 0) {\n        return Optional.none();\n      }\n      return tryCursor(bridge, isRoot, element, offset, direction).bind(situs => {\n        const range = bridge.fromSitus(situs);\n        const analysis = BeforeAfter.verify(bridge, element, offset, range.finish, range.foffset, direction.failure, isRoot);\n        return BeforeAfter.cata(analysis, () => {\n          return Optional.none();\n        }, () => {\n          return Optional.some(situs);\n        }, cell => {\n          if (eq$1(element, cell) && offset === 0) {\n            return tryAgain(bridge, element, offset, moveUp, direction);\n          } else {\n            return scan(bridge, isRoot, cell, 0, direction, numRetries - 1);\n          }\n        }, cell => {\n          if (eq$1(element, cell) && offset === getEnd(cell)) {\n            return tryAgain(bridge, element, offset, moveDown, direction);\n          } else {\n            return scan(bridge, isRoot, cell, getEnd(cell), direction, numRetries - 1);\n          }\n        });\n      });\n    };\n    const tryAgain = (bridge, element, offset, move, direction) => {\n      return getBoxAt(bridge, element, offset).bind(box => {\n        return tryAt(bridge, direction, move(box, Retries.getJumpSize()));\n      });\n    };\n    const tryAt = (bridge, direction, box) => {\n      const browser = detect$2().browser;\n      if (browser.isChromium() || browser.isSafari() || browser.isFirefox()) {\n        return direction.retry(bridge, box);\n      } else {\n        return Optional.none();\n      }\n    };\n    const tryCursor = (bridge, isRoot, element, offset, direction) => {\n      return getBoxAt(bridge, element, offset).bind(box => {\n        return tryAt(bridge, direction, box);\n      });\n    };\n    const handle$1 = (bridge, isRoot, direction) => {\n      return findSpot(bridge, isRoot, direction).bind(spot => {\n        return scan(bridge, isRoot, spot.element, spot.offset, direction, MAX_RETRIES).map(bridge.fromSitus);\n      });\n    };\n\n    const inSameTable = (elem, table) => {\n      return ancestor(elem, e => {\n        return parent(e).exists(p => {\n          return eq$1(p, table);\n        });\n      });\n    };\n    const simulate = (bridge, isRoot, direction, initial, anchor) => {\n      return closest$1(initial, 'td,th', isRoot).bind(start => {\n        return closest$1(start, 'table', isRoot).bind(table => {\n          if (!inSameTable(anchor, table)) {\n            return Optional.none();\n          }\n          return handle$1(bridge, isRoot, direction).bind(range => {\n            return closest$1(range.finish, 'td,th', isRoot).map(finish => {\n              return {\n                start,\n                finish,\n                range\n              };\n            });\n          });\n        });\n      });\n    };\n    const navigate = (bridge, isRoot, direction, initial, anchor, precheck) => {\n      return precheck(initial, isRoot).orThunk(() => {\n        return simulate(bridge, isRoot, direction, initial, anchor).map(info => {\n          const range = info.range;\n          return Response.create(Optional.some(makeSitus(range.start, range.soffset, range.finish, range.foffset)), true);\n        });\n      });\n    };\n    const firstUpCheck = (initial, isRoot) => {\n      return closest$1(initial, 'tr', isRoot).bind(startRow => {\n        return closest$1(startRow, 'table', isRoot).bind(table => {\n          const rows = descendants(table, 'tr');\n          if (eq$1(startRow, rows[0])) {\n            return seekLeft(table, element => {\n              return last$1(element).isSome();\n            }, isRoot).map(last => {\n              const lastOffset = getEnd(last);\n              return Response.create(Optional.some(makeSitus(last, lastOffset, last, lastOffset)), true);\n            });\n          } else {\n            return Optional.none();\n          }\n        });\n      });\n    };\n    const lastDownCheck = (initial, isRoot) => {\n      return closest$1(initial, 'tr', isRoot).bind(startRow => {\n        return closest$1(startRow, 'table', isRoot).bind(table => {\n          const rows = descendants(table, 'tr');\n          if (eq$1(startRow, rows[rows.length - 1])) {\n            return seekRight(table, element => {\n              return first(element).isSome();\n            }, isRoot).map(first => {\n              return Response.create(Optional.some(makeSitus(first, 0, first, 0)), true);\n            });\n          } else {\n            return Optional.none();\n          }\n        });\n      });\n    };\n    const select = (bridge, container, isRoot, direction, initial, anchor, selectRange) => {\n      return simulate(bridge, isRoot, direction, initial, anchor).bind(info => {\n        return detect(container, isRoot, info.start, info.finish, selectRange);\n      });\n    };\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const singleton = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const value = () => {\n      const subject = singleton(noop);\n      const on = f => subject.get().each(f);\n      return {\n        ...subject,\n        on\n      };\n    };\n\n    const findCell = (target, isRoot) => closest$1(target, 'td,th', isRoot);\n    const isInEditableContext = cell => parentElement(cell).exists(isEditable$1);\n    const MouseSelection = (bridge, container, isRoot, annotations) => {\n      const cursor = value();\n      const clearstate = cursor.clear;\n      const applySelection = event => {\n        cursor.on(start => {\n          annotations.clearBeforeUpdate(container);\n          findCell(event.target, isRoot).each(finish => {\n            identify(start, finish, isRoot).each(cellSel => {\n              const boxes = cellSel.boxes.getOr([]);\n              if (boxes.length === 1) {\n                const singleCell = boxes[0];\n                const isNonEditableCell = getRaw(singleCell) === 'false';\n                const isCellClosestContentEditable = is(closest(event.target), singleCell, eq$1);\n                if (isNonEditableCell && isCellClosestContentEditable) {\n                  annotations.selectRange(container, boxes, singleCell, singleCell);\n                  bridge.selectContents(singleCell);\n                }\n              } else if (boxes.length > 1) {\n                annotations.selectRange(container, boxes, cellSel.start, cellSel.finish);\n                bridge.selectContents(finish);\n              }\n            });\n          });\n        });\n      };\n      const mousedown = event => {\n        annotations.clear(container);\n        findCell(event.target, isRoot).filter(isInEditableContext).each(cursor.set);\n      };\n      const mouseover = event => {\n        applySelection(event);\n      };\n      const mouseup = event => {\n        applySelection(event);\n        clearstate();\n      };\n      return {\n        clearstate,\n        mousedown,\n        mouseover,\n        mouseup\n      };\n    };\n\n    const down = {\n      traverse: nextSibling,\n      gather: after$1,\n      relative: Situ.before,\n      retry: Retries.tryDown,\n      failure: BeforeAfter.failedDown\n    };\n    const up = {\n      traverse: prevSibling,\n      gather: before,\n      relative: Situ.before,\n      retry: Retries.tryUp,\n      failure: BeforeAfter.failedUp\n    };\n\n    const isKey = key => {\n      return keycode => {\n        return keycode === key;\n      };\n    };\n    const isUp = isKey(38);\n    const isDown = isKey(40);\n    const isNavigation = keycode => {\n      return keycode >= 37 && keycode <= 40;\n    };\n    const ltr = {\n      isBackward: isKey(37),\n      isForward: isKey(39)\n    };\n    const rtl = {\n      isBackward: isKey(39),\n      isForward: isKey(37)\n    };\n\n    const get$3 = _DOC => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      const y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    const by = (x, y, _DOC) => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const win = doc.defaultView;\n      if (win) {\n        win.scrollBy(x, y);\n      }\n    };\n\n    const adt = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const exactFromRange = simRange => adt.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    const getStart = selection => selection.match({\n      domRange: rng => SugarElement.fromDom(rng.startContainer),\n      relative: (startSitu, _finishSitu) => Situ.getStart(startSitu),\n      exact: (start, _soffset, _finish, _foffset) => start\n    });\n    const domRange = adt.domRange;\n    const relative = adt.relative;\n    const exact = adt.exact;\n    const getWin = selection => {\n      const start = getStart(selection);\n      return defaultView(start);\n    };\n    const range = SimRange.create;\n    const SimSelection = {\n      domRange,\n      relative,\n      exact,\n      exactFromRange,\n      getWin,\n      range\n    };\n\n    const caretPositionFromPoint = (doc, x, y) => {\n      var _a, _b;\n      return Optional.from((_b = (_a = doc.dom).caretPositionFromPoint) === null || _b === void 0 ? void 0 : _b.call(_a, x, y)).bind(pos => {\n        if (pos.offsetNode === null) {\n          return Optional.none();\n        }\n        const r = doc.dom.createRange();\n        r.setStart(pos.offsetNode, pos.offset);\n        r.collapse();\n        return Optional.some(r);\n      });\n    };\n    const caretRangeFromPoint = (doc, x, y) => {\n      var _a, _b;\n      return Optional.from((_b = (_a = doc.dom).caretRangeFromPoint) === null || _b === void 0 ? void 0 : _b.call(_a, x, y));\n    };\n    const availableSearch = (() => {\n      if (document.caretPositionFromPoint) {\n        return caretPositionFromPoint;\n      } else if (document.caretRangeFromPoint) {\n        return caretRangeFromPoint;\n      } else {\n        return Optional.none;\n      }\n    })();\n    const fromPoint = (win, x, y) => {\n      const doc = SugarElement.fromDom(win.document);\n      return availableSearch(doc, x, y).map(rng => SimRange.create(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n    };\n\n    const beforeSpecial = (element, offset) => {\n      const name$1 = name(element);\n      if ('input' === name$1) {\n        return Situ.after(element);\n      } else if (!contains$2([\n          'br',\n          'img'\n        ], name$1)) {\n        return Situ.on(element, offset);\n      } else {\n        return offset === 0 ? Situ.before(element) : Situ.after(element);\n      }\n    };\n    const preprocessRelative = (startSitu, finishSitu) => {\n      const start = startSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      const finish = finishSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      return SimSelection.relative(start, finish);\n    };\n    const preprocessExact = (start, soffset, finish, foffset) => {\n      const startSitu = beforeSpecial(start, soffset);\n      const finishSitu = beforeSpecial(finish, foffset);\n      return SimSelection.relative(startSitu, finishSitu);\n    };\n\n    const makeRange = (start, soffset, finish, foffset) => {\n      const doc = owner(start);\n      const rng = doc.dom.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const after = (start, soffset, finish, foffset) => {\n      const r = makeRange(start, soffset, finish, foffset);\n      const same = eq$1(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    const getNativeSelection = win => Optional.from(win.getSelection());\n    const doSetNativeRange = (win, rng) => {\n      getNativeSelection(win).each(selection => {\n        selection.removeAllRanges();\n        selection.addRange(rng);\n      });\n    };\n    const doSetRange = (win, start, soffset, finish, foffset) => {\n      const rng = exactToNative(win, start, soffset, finish, foffset);\n      doSetNativeRange(win, rng);\n    };\n    const setLegacyRtlRange = (win, selection, start, soffset, finish, foffset) => {\n      selection.collapse(start.dom, soffset);\n      selection.extend(finish.dom, foffset);\n    };\n    const setRangeFromRelative = (win, relative) => diagnose(win, relative).match({\n      ltr: (start, soffset, finish, foffset) => {\n        doSetRange(win, start, soffset, finish, foffset);\n      },\n      rtl: (start, soffset, finish, foffset) => {\n        getNativeSelection(win).each(selection => {\n          if (selection.setBaseAndExtent) {\n            selection.setBaseAndExtent(start.dom, soffset, finish.dom, foffset);\n          } else if (selection.extend) {\n            try {\n              setLegacyRtlRange(win, selection, start, soffset, finish, foffset);\n            } catch (e) {\n              doSetRange(win, finish, foffset, start, soffset);\n            }\n          } else {\n            doSetRange(win, finish, foffset, start, soffset);\n          }\n        });\n      }\n    });\n    const setExact = (win, start, soffset, finish, foffset) => {\n      const relative = preprocessExact(start, soffset, finish, foffset);\n      setRangeFromRelative(win, relative);\n    };\n    const setRelative = (win, startSitu, finishSitu) => {\n      const relative = preprocessRelative(startSitu, finishSitu);\n      setRangeFromRelative(win, relative);\n    };\n    const readRange = selection => {\n      if (selection.rangeCount > 0) {\n        const firstRng = selection.getRangeAt(0);\n        const lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer), firstRng.startOffset, SugarElement.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Optional.none();\n      }\n    };\n    const doGetExact = selection => {\n      if (selection.anchorNode === null || selection.focusNode === null) {\n        return readRange(selection);\n      } else {\n        const anchor = SugarElement.fromDom(selection.anchorNode);\n        const focus = SugarElement.fromDom(selection.focusNode);\n        return after(anchor, selection.anchorOffset, focus, selection.focusOffset) ? Optional.some(SimRange.create(anchor, selection.anchorOffset, focus, selection.focusOffset)) : readRange(selection);\n      }\n    };\n    const setToElement = (win, element, selectNodeContents$1 = true) => {\n      const rngGetter = selectNodeContents$1 ? selectNodeContents : selectNode;\n      const rng = rngGetter(win, element);\n      doSetNativeRange(win, rng);\n    };\n    const getExact = win => getNativeSelection(win).filter(sel => sel.rangeCount > 0).bind(doGetExact);\n    const get$2 = win => getExact(win).map(range => SimSelection.exact(range.start, range.soffset, range.finish, range.foffset));\n    const getFirstRect = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getFirstRect$1(rng);\n    };\n    const getAtPoint = (win, x, y) => fromPoint(win, x, y);\n    const clear = win => {\n      getNativeSelection(win).each(selection => selection.removeAllRanges());\n    };\n\n    const WindowBridge = win => {\n      const elementFromPoint = (x, y) => {\n        return SugarElement.fromPoint(SugarElement.fromDom(win.document), x, y);\n      };\n      const getRect = element => {\n        return element.dom.getBoundingClientRect();\n      };\n      const getRangedRect = (start, soffset, finish, foffset) => {\n        const sel = SimSelection.exact(start, soffset, finish, foffset);\n        return getFirstRect(win, sel);\n      };\n      const getSelection = () => {\n        return get$2(win).map(exactAdt => {\n          return convertToRange(win, exactAdt);\n        });\n      };\n      const fromSitus = situs => {\n        const relative = SimSelection.relative(situs.start, situs.finish);\n        return convertToRange(win, relative);\n      };\n      const situsFromPoint = (x, y) => {\n        return getAtPoint(win, x, y).map(exact => {\n          return Situs.create(exact.start, exact.soffset, exact.finish, exact.foffset);\n        });\n      };\n      const clearSelection = () => {\n        clear(win);\n      };\n      const collapseSelection = (toStart = false) => {\n        get$2(win).each(sel => sel.fold(rng => rng.collapse(toStart), (startSitu, finishSitu) => {\n          const situ = toStart ? startSitu : finishSitu;\n          setRelative(win, situ, situ);\n        }, (start, soffset, finish, foffset) => {\n          const node = toStart ? start : finish;\n          const offset = toStart ? soffset : foffset;\n          setExact(win, node, offset, node, offset);\n        }));\n      };\n      const selectNode = element => {\n        setToElement(win, element, false);\n      };\n      const selectContents = element => {\n        setToElement(win, element);\n      };\n      const setSelection = sel => {\n        setExact(win, sel.start, sel.soffset, sel.finish, sel.foffset);\n      };\n      const setRelativeSelection = (start, finish) => {\n        setRelative(win, start, finish);\n      };\n      const getInnerHeight = () => {\n        return win.innerHeight;\n      };\n      const getScrollY = () => {\n        const pos = get$3(SugarElement.fromDom(win.document));\n        return pos.top;\n      };\n      const scrollBy = (x, y) => {\n        by(x, y, SugarElement.fromDom(win.document));\n      };\n      return {\n        elementFromPoint,\n        getRect,\n        getRangedRect,\n        getSelection,\n        fromSitus,\n        situsFromPoint,\n        clearSelection,\n        collapseSelection,\n        setSelection,\n        setRelativeSelection,\n        selectNode,\n        selectContents,\n        getInnerHeight,\n        getScrollY,\n        scrollBy\n      };\n    };\n\n    const rc = (rows, cols) => ({\n      rows,\n      cols\n    });\n    const mouse = (win, container, isRoot, annotations) => {\n      const bridge = WindowBridge(win);\n      const handlers = MouseSelection(bridge, container, isRoot, annotations);\n      return {\n        clearstate: handlers.clearstate,\n        mousedown: handlers.mousedown,\n        mouseover: handlers.mouseover,\n        mouseup: handlers.mouseup\n      };\n    };\n    const isEditableNode = node => closest$2(node, isHTMLElement).exists(isEditable$1);\n    const isEditableSelection = (start, finish) => isEditableNode(start) || isEditableNode(finish);\n    const keyboard = (win, container, isRoot, annotations) => {\n      const bridge = WindowBridge(win);\n      const clearToNavigate = () => {\n        annotations.clear(container);\n        return Optional.none();\n      };\n      const keydown = (event, start, soffset, finish, foffset, direction) => {\n        const realEvent = event.raw;\n        const keycode = realEvent.which;\n        const shiftKey = realEvent.shiftKey === true;\n        const handler = retrieve$1(container, annotations.selectedSelector).fold(() => {\n          if (isNavigation(keycode) && !shiftKey) {\n            annotations.clearBeforeUpdate(container);\n          }\n          if (isNavigation(keycode) && shiftKey && !isEditableSelection(start, finish)) {\n            return Optional.none;\n          } else if (isDown(keycode) && shiftKey) {\n            return curry(select, bridge, container, isRoot, down, finish, start, annotations.selectRange);\n          } else if (isUp(keycode) && shiftKey) {\n            return curry(select, bridge, container, isRoot, up, finish, start, annotations.selectRange);\n          } else if (isDown(keycode)) {\n            return curry(navigate, bridge, isRoot, down, finish, start, lastDownCheck);\n          } else if (isUp(keycode)) {\n            return curry(navigate, bridge, isRoot, up, finish, start, firstUpCheck);\n          } else {\n            return Optional.none;\n          }\n        }, selected => {\n          const update$1 = attempts => {\n            return () => {\n              const navigation = findMap(attempts, delta => {\n                return update(delta.rows, delta.cols, container, selected, annotations);\n              });\n              return navigation.fold(() => {\n                return getEdges(container, annotations.firstSelectedSelector, annotations.lastSelectedSelector).map(edges => {\n                  const relative = isDown(keycode) || direction.isForward(keycode) ? Situ.after : Situ.before;\n                  bridge.setRelativeSelection(Situ.on(edges.first, 0), relative(edges.table));\n                  annotations.clear(container);\n                  return Response.create(Optional.none(), true);\n                });\n              }, _ => {\n                return Optional.some(Response.create(Optional.none(), true));\n              });\n            };\n          };\n          if (isNavigation(keycode) && shiftKey && !isEditableSelection(start, finish)) {\n            return Optional.none;\n          } else if (isDown(keycode) && shiftKey) {\n            return update$1([rc(+1, 0)]);\n          } else if (isUp(keycode) && shiftKey) {\n            return update$1([rc(-1, 0)]);\n          } else if (direction.isBackward(keycode) && shiftKey) {\n            return update$1([\n              rc(0, -1),\n              rc(-1, 0)\n            ]);\n          } else if (direction.isForward(keycode) && shiftKey) {\n            return update$1([\n              rc(0, +1),\n              rc(+1, 0)\n            ]);\n          } else if (isNavigation(keycode) && !shiftKey) {\n            return clearToNavigate;\n          } else {\n            return Optional.none;\n          }\n        });\n        return handler();\n      };\n      const keyup = (event, start, soffset, finish, foffset) => {\n        return retrieve$1(container, annotations.selectedSelector).fold(() => {\n          const realEvent = event.raw;\n          const keycode = realEvent.which;\n          const shiftKey = realEvent.shiftKey === true;\n          if (!shiftKey) {\n            return Optional.none();\n          }\n          if (isNavigation(keycode) && isEditableSelection(start, finish)) {\n            return sync(container, isRoot, start, soffset, finish, foffset, annotations.selectRange);\n          } else {\n            return Optional.none();\n          }\n        }, Optional.none);\n      };\n      return {\n        keydown,\n        keyup\n      };\n    };\n    const external = (win, container, isRoot, annotations) => {\n      const bridge = WindowBridge(win);\n      return (start, finish) => {\n        annotations.clearBeforeUpdate(container);\n        identify(start, finish, isRoot).each(cellSel => {\n          const boxes = cellSel.boxes.getOr([]);\n          annotations.selectRange(container, boxes, cellSel.start, cellSel.finish);\n          bridge.selectContents(finish);\n          bridge.collapseSelection();\n        });\n      };\n    };\n\n    const read = (element, attr) => {\n      const value = get$b(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    const add$2 = (element, attr, id) => {\n      const old = read(element, attr);\n      const nu = old.concat([id]);\n      set$2(element, attr, nu.join(' '));\n      return true;\n    };\n    const remove$4 = (element, attr, id) => {\n      const nu = filter$2(read(element, attr), v => v !== id);\n      if (nu.length > 0) {\n        set$2(element, attr, nu.join(' '));\n      } else {\n        remove$7(element, attr);\n      }\n      return false;\n    };\n\n    const supports = element => element.dom.classList !== undefined;\n    const get$1 = element => read(element, 'class');\n    const add$1 = (element, clazz) => add$2(element, 'class', clazz);\n    const remove$3 = (element, clazz) => remove$4(element, 'class', clazz);\n\n    const add = (element, clazz) => {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$1(element, clazz);\n      }\n    };\n    const cleanClass = element => {\n      const classList = supports(element) ? element.dom.classList : get$1(element);\n      if (classList.length === 0) {\n        remove$7(element, 'class');\n      }\n    };\n    const remove$2 = (element, clazz) => {\n      if (supports(element)) {\n        const classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    const has = (element, clazz) => supports(element) && element.dom.classList.contains(clazz);\n\n    const remove$1 = (element, classes) => {\n      each$2(classes, x => {\n        remove$2(element, x);\n      });\n    };\n\n    const addClass = clazz => element => {\n      add(element, clazz);\n    };\n    const removeClasses = classes => element => {\n      remove$1(element, classes);\n    };\n\n    const byClass = ephemera => {\n      const addSelectionClass = addClass(ephemera.selected);\n      const removeSelectionClasses = removeClasses([\n        ephemera.selected,\n        ephemera.lastSelected,\n        ephemera.firstSelected\n      ]);\n      const clear = container => {\n        const sels = descendants(container, ephemera.selectedSelector);\n        each$2(sels, removeSelectionClasses);\n      };\n      const selectRange = (container, cells, start, finish) => {\n        clear(container);\n        each$2(cells, addSelectionClass);\n        add(start, ephemera.firstSelected);\n        add(finish, ephemera.lastSelected);\n      };\n      return {\n        clearBeforeUpdate: clear,\n        clear,\n        selectRange,\n        selectedSelector: ephemera.selectedSelector,\n        firstSelectedSelector: ephemera.firstSelectedSelector,\n        lastSelectedSelector: ephemera.lastSelectedSelector\n      };\n    };\n    const byAttr = (ephemera, onSelection, onClear) => {\n      const removeSelectionAttributes = element => {\n        remove$7(element, ephemera.selected);\n        remove$7(element, ephemera.firstSelected);\n        remove$7(element, ephemera.lastSelected);\n      };\n      const addSelectionAttribute = element => {\n        set$2(element, ephemera.selected, '1');\n      };\n      const clear = container => {\n        clearBeforeUpdate(container);\n        onClear();\n      };\n      const clearBeforeUpdate = container => {\n        const sels = descendants(container, `${ ephemera.selectedSelector },${ ephemera.firstSelectedSelector },${ ephemera.lastSelectedSelector }`);\n        each$2(sels, removeSelectionAttributes);\n      };\n      const selectRange = (container, cells, start, finish) => {\n        clear(container);\n        each$2(cells, addSelectionAttribute);\n        set$2(start, ephemera.firstSelected, '1');\n        set$2(finish, ephemera.lastSelected, '1');\n        onSelection(cells, start, finish);\n      };\n      return {\n        clearBeforeUpdate,\n        clear,\n        selectRange,\n        selectedSelector: ephemera.selectedSelector,\n        firstSelectedSelector: ephemera.firstSelectedSelector,\n        lastSelectedSelector: ephemera.lastSelectedSelector\n      };\n    };\n    const SelectionAnnotation = {\n      byClass,\n      byAttr\n    };\n\n    const fold = (subject, onNone, onMultiple, onSingle) => {\n      switch (subject.tag) {\n      case 'none':\n        return onNone();\n      case 'single':\n        return onSingle(subject.element);\n      case 'multiple':\n        return onMultiple(subject.elements);\n      }\n    };\n    const none = () => ({ tag: 'none' });\n    const multiple = elements => ({\n      tag: 'multiple',\n      elements\n    });\n    const single = element => ({\n      tag: 'single',\n      element\n    });\n\n    const Selections = (lazyRoot, getStart, selectedSelector) => {\n      const get = () => retrieve(lazyRoot(), selectedSelector).fold(() => getStart().fold(none, single), multiple);\n      return { get };\n    };\n\n    const getUpOrLeftCells = (grid, selectedCells) => {\n      const upGrid = grid.slice(0, selectedCells[selectedCells.length - 1].row + 1);\n      const upDetails = toDetailList(upGrid);\n      return bind$2(upDetails, detail => {\n        const slicedCells = detail.cells.slice(0, selectedCells[selectedCells.length - 1].column + 1);\n        return map$1(slicedCells, cell => cell.element);\n      });\n    };\n    const getDownOrRightCells = (grid, selectedCells) => {\n      const downGrid = grid.slice(selectedCells[0].row + selectedCells[0].rowspan - 1, grid.length);\n      const downDetails = toDetailList(downGrid);\n      return bind$2(downDetails, detail => {\n        const slicedCells = detail.cells.slice(selectedCells[0].column + selectedCells[0].colspan - 1, detail.cells.length);\n        return map$1(slicedCells, cell => cell.element);\n      });\n    };\n    const getOtherCells = (table, target, generators) => {\n      const warehouse = Warehouse.fromTable(table);\n      const details = onCells(warehouse, target);\n      return details.map(selectedCells => {\n        const grid = toGrid(warehouse, generators, false);\n        const {rows} = extractGridDetails(grid);\n        const upOrLeftCells = getUpOrLeftCells(rows, selectedCells);\n        const downOrRightCells = getDownOrRightCells(rows, selectedCells);\n        return {\n          upOrLeftCells,\n          downOrRightCells\n        };\n      });\n    };\n\n    const mkEvent = (target, x, y, stop, prevent, kill, raw) => ({\n      target,\n      x,\n      y,\n      stop,\n      prevent,\n      kill,\n      raw\n    });\n    const fromRawEvent$1 = rawEvent => {\n      const target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      const stop = () => rawEvent.stopPropagation();\n      const prevent = () => rawEvent.preventDefault();\n      const kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    const handle = (filter, handler) => rawEvent => {\n      if (filter(rawEvent)) {\n        handler(fromRawEvent$1(rawEvent));\n      }\n    };\n    const binder = (element, event, filter, handler, useCapture) => {\n      const wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    const bind$1 = (element, event, filter, handler) => binder(element, event, filter, handler, false);\n    const unbind = (element, event, handler, useCapture) => {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    const filter = always;\n    const bind = (element, event, handler) => bind$1(element, event, filter, handler);\n    const fromRawEvent = fromRawEvent$1;\n\n    const hasInternalTarget = e => !has(SugarElement.fromDom(e.target), 'ephox-snooker-resizer-bar');\n    const TableCellSelectionHandler = (editor, resizeHandler) => {\n      const cellSelection = Selections(() => SugarElement.fromDom(editor.getBody()), () => getSelectionCell(getSelectionStart(editor), getIsRoot(editor)), ephemera.selectedSelector);\n      const onSelection = (cells, start, finish) => {\n        const tableOpt = table(start);\n        tableOpt.each(table => {\n          const cloneFormats = getTableCloneElements(editor);\n          const generators = cellOperations(noop, SugarElement.fromDom(editor.getDoc()), cloneFormats);\n          const selectedCells = getCellsFromSelection(editor);\n          const otherCells = getOtherCells(table, { selection: selectedCells }, generators);\n          fireTableSelectionChange(editor, cells, start, finish, otherCells);\n        });\n      };\n      const onClear = () => fireTableSelectionClear(editor);\n      const annotations = SelectionAnnotation.byAttr(ephemera, onSelection, onClear);\n      editor.on('init', _e => {\n        const win = editor.getWin();\n        const body = getBody(editor);\n        const isRoot = getIsRoot(editor);\n        const syncSelection = () => {\n          const sel = editor.selection;\n          const start = SugarElement.fromDom(sel.getStart());\n          const end = SugarElement.fromDom(sel.getEnd());\n          const shared = sharedOne(table, [\n            start,\n            end\n          ]);\n          shared.fold(() => annotations.clear(body), noop);\n        };\n        const mouseHandlers = mouse(win, body, isRoot, annotations);\n        const keyHandlers = keyboard(win, body, isRoot, annotations);\n        const external$1 = external(win, body, isRoot, annotations);\n        const hasShiftKey = event => event.raw.shiftKey === true;\n        editor.on('TableSelectorChange', e => external$1(e.start, e.finish));\n        const handleResponse = (event, response) => {\n          if (!hasShiftKey(event)) {\n            return;\n          }\n          if (response.kill) {\n            event.kill();\n          }\n          response.selection.each(ns => {\n            const relative = SimSelection.relative(ns.start, ns.finish);\n            const rng = asLtrRange(win, relative);\n            editor.selection.setRng(rng);\n          });\n        };\n        const keyup = event => {\n          const wrappedEvent = fromRawEvent(event);\n          if (wrappedEvent.raw.shiftKey && isNavigation(wrappedEvent.raw.which)) {\n            const rng = editor.selection.getRng();\n            const start = SugarElement.fromDom(rng.startContainer);\n            const end = SugarElement.fromDom(rng.endContainer);\n            keyHandlers.keyup(wrappedEvent, start, rng.startOffset, end, rng.endOffset).each(response => {\n              handleResponse(wrappedEvent, response);\n            });\n          }\n        };\n        const keydown = event => {\n          const wrappedEvent = fromRawEvent(event);\n          resizeHandler.hide();\n          const rng = editor.selection.getRng();\n          const start = SugarElement.fromDom(rng.startContainer);\n          const end = SugarElement.fromDom(rng.endContainer);\n          const direction = onDirection(ltr, rtl)(SugarElement.fromDom(editor.selection.getStart()));\n          keyHandlers.keydown(wrappedEvent, start, rng.startOffset, end, rng.endOffset, direction).each(response => {\n            handleResponse(wrappedEvent, response);\n          });\n          resizeHandler.show();\n        };\n        const isLeftMouse = raw => raw.button === 0;\n        const isLeftButtonPressed = raw => {\n          if (raw.buttons === undefined) {\n            return true;\n          }\n          return (raw.buttons & 1) !== 0;\n        };\n        const dragStart = _e => {\n          mouseHandlers.clearstate();\n        };\n        const mouseDown = e => {\n          if (isLeftMouse(e) && hasInternalTarget(e)) {\n            mouseHandlers.mousedown(fromRawEvent(e));\n          }\n        };\n        const mouseOver = e => {\n          if (isLeftButtonPressed(e) && hasInternalTarget(e)) {\n            mouseHandlers.mouseover(fromRawEvent(e));\n          }\n        };\n        const mouseUp = e => {\n          if (isLeftMouse(e) && hasInternalTarget(e)) {\n            mouseHandlers.mouseup(fromRawEvent(e));\n          }\n        };\n        const getDoubleTap = () => {\n          const lastTarget = Cell(SugarElement.fromDom(body));\n          const lastTimeStamp = Cell(0);\n          const touchEnd = t => {\n            const target = SugarElement.fromDom(t.target);\n            if (isTag('td')(target) || isTag('th')(target)) {\n              const lT = lastTarget.get();\n              const lTS = lastTimeStamp.get();\n              if (eq$1(lT, target) && t.timeStamp - lTS < 300) {\n                t.preventDefault();\n                external$1(target, target);\n              }\n            }\n            lastTarget.set(target);\n            lastTimeStamp.set(t.timeStamp);\n          };\n          return { touchEnd };\n        };\n        const doubleTap = getDoubleTap();\n        editor.on('dragstart', dragStart);\n        editor.on('mousedown', mouseDown);\n        editor.on('mouseover', mouseOver);\n        editor.on('mouseup', mouseUp);\n        editor.on('touchend', doubleTap.touchEnd);\n        editor.on('keyup', keyup);\n        editor.on('keydown', keydown);\n        editor.on('NodeChange', syncSelection);\n      });\n      editor.on('PreInit', () => {\n        editor.serializer.addTempAttr(ephemera.firstSelected);\n        editor.serializer.addTempAttr(ephemera.lastSelected);\n      });\n      const clearSelectedCells = container => annotations.clear(SugarElement.fromDom(container));\n      const getSelectedCells = () => fold(cellSelection.get(), constant([]), cells => {\n        return map$1(cells, cell => cell.dom);\n      }, cell => [cell.dom]);\n      return {\n        getSelectedCells,\n        clearSelectedCells\n      };\n    };\n\n    const Event = fields => {\n      let handlers = [];\n      const bind = handler => {\n        if (handler === undefined) {\n          throw new Error('Event bind error: undefined handler');\n        }\n        handlers.push(handler);\n      };\n      const unbind = handler => {\n        handlers = filter$2(handlers, h => {\n          return h !== handler;\n        });\n      };\n      const trigger = (...args) => {\n        const event = {};\n        each$2(fields, (name, i) => {\n          event[name] = args[i];\n        });\n        each$2(handlers, handler => {\n          handler(event);\n        });\n      };\n      return {\n        bind,\n        unbind,\n        trigger\n      };\n    };\n\n    const create$1 = typeDefs => {\n      const registry = map(typeDefs, event => {\n        return {\n          bind: event.bind,\n          unbind: event.unbind\n        };\n      });\n      const trigger = map(typeDefs, event => {\n        return event.trigger;\n      });\n      return {\n        registry,\n        trigger\n      };\n    };\n\n    const last = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        cancel();\n        timer = setTimeout(() => {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n\n    const sort = arr => {\n      return arr.slice(0).sort();\n    };\n    const reqMessage = (required, keys) => {\n      throw new Error('All required keys (' + sort(required).join(', ') + ') were not specified. Specified keys were: ' + sort(keys).join(', ') + '.');\n    };\n    const unsuppMessage = unsupported => {\n      throw new Error('Unsupported keys for object: ' + sort(unsupported).join(', '));\n    };\n    const validateStrArr = (label, array) => {\n      if (!isArray(array)) {\n        throw new Error('The ' + label + ' fields must be an array. Was: ' + array + '.');\n      }\n      each$2(array, a => {\n        if (!isString(a)) {\n          throw new Error('The value ' + a + ' in the ' + label + ' fields was not a string.');\n        }\n      });\n    };\n    const invalidTypeMessage = (incorrect, type) => {\n      throw new Error('All values need to be of type: ' + type + '. Keys (' + sort(incorrect).join(', ') + ') were not.');\n    };\n    const checkDupes = everything => {\n      const sorted = sort(everything);\n      const dupe = find$1(sorted, (s, i) => {\n        return i < sorted.length - 1 && s === sorted[i + 1];\n      });\n      dupe.each(d => {\n        throw new Error('The field: ' + d + ' occurs more than once in the combined fields: [' + sorted.join(', ') + '].');\n      });\n    };\n\n    const base = (handleUnsupported, required) => {\n      return baseWith(handleUnsupported, required, {\n        validate: isFunction,\n        label: 'function'\n      });\n    };\n    const baseWith = (handleUnsupported, required, pred) => {\n      if (required.length === 0) {\n        throw new Error('You must specify at least one required field.');\n      }\n      validateStrArr('required', required);\n      checkDupes(required);\n      return obj => {\n        const keys$1 = keys(obj);\n        const allReqd = forall(required, req => {\n          return contains$2(keys$1, req);\n        });\n        if (!allReqd) {\n          reqMessage(required, keys$1);\n        }\n        handleUnsupported(required, keys$1);\n        const invalidKeys = filter$2(required, key => {\n          return !pred.validate(obj[key], key);\n        });\n        if (invalidKeys.length > 0) {\n          invalidTypeMessage(invalidKeys, pred.label);\n        }\n        return obj;\n      };\n    };\n    const handleExact = (required, keys) => {\n      const unsupported = filter$2(keys, key => {\n        return !contains$2(required, key);\n      });\n      if (unsupported.length > 0) {\n        unsuppMessage(unsupported);\n      }\n    };\n    const exactly = required => base(handleExact, required);\n\n    const DragMode = exactly([\n      'compare',\n      'extract',\n      'mutate',\n      'sink'\n    ]);\n    const DragSink = exactly([\n      'element',\n      'start',\n      'stop',\n      'destroy'\n    ]);\n    const DragApi = exactly([\n      'forceDrop',\n      'drop',\n      'move',\n      'delayDrop'\n    ]);\n\n    const InDrag = () => {\n      let previous = Optional.none();\n      const reset = () => {\n        previous = Optional.none();\n      };\n      const update = (mode, nu) => {\n        const result = previous.map(old => {\n          return mode.compare(old, nu);\n        });\n        previous = Optional.some(nu);\n        return result;\n      };\n      const onEvent = (event, mode) => {\n        const dataOption = mode.extract(event);\n        dataOption.each(data => {\n          const offset = update(mode, data);\n          offset.each(d => {\n            events.trigger.move(d);\n          });\n        });\n      };\n      const events = create$1({ move: Event(['info']) });\n      return {\n        onEvent,\n        reset,\n        events: events.registry\n      };\n    };\n\n    const NoDrag = () => {\n      const events = create$1({ move: Event(['info']) });\n      return {\n        onEvent: noop,\n        reset: noop,\n        events: events.registry\n      };\n    };\n\n    const Movement = () => {\n      const noDragState = NoDrag();\n      const inDragState = InDrag();\n      let dragState = noDragState;\n      const on = () => {\n        dragState.reset();\n        dragState = inDragState;\n      };\n      const off = () => {\n        dragState.reset();\n        dragState = noDragState;\n      };\n      const onEvent = (event, mode) => {\n        dragState.onEvent(event, mode);\n      };\n      const isOn = () => {\n        return dragState === inDragState;\n      };\n      return {\n        on,\n        off,\n        isOn,\n        onEvent,\n        events: inDragState.events\n      };\n    };\n\n    const setup = (mutation, mode, settings) => {\n      let active = false;\n      const events = create$1({\n        start: Event([]),\n        stop: Event([])\n      });\n      const movement = Movement();\n      const drop = () => {\n        sink.stop();\n        if (movement.isOn()) {\n          movement.off();\n          events.trigger.stop();\n        }\n      };\n      const throttledDrop = last(drop, 200);\n      const go = parent => {\n        sink.start(parent);\n        movement.on();\n        events.trigger.start();\n      };\n      const mousemove = event => {\n        throttledDrop.cancel();\n        movement.onEvent(event, mode);\n      };\n      movement.events.move.bind(event => {\n        mode.mutate(mutation, event.info);\n      });\n      const on = () => {\n        active = true;\n      };\n      const off = () => {\n        active = false;\n      };\n      const isActive = () => active;\n      const runIfActive = f => {\n        return (...args) => {\n          if (active) {\n            f.apply(null, args);\n          }\n        };\n      };\n      const sink = mode.sink(DragApi({\n        forceDrop: drop,\n        drop: runIfActive(drop),\n        move: runIfActive(mousemove),\n        delayDrop: runIfActive(throttledDrop.throttle)\n      }), settings);\n      const destroy = () => {\n        sink.destroy();\n      };\n      return {\n        element: sink.element,\n        go,\n        on,\n        off,\n        isActive,\n        destroy,\n        events: events.registry\n      };\n    };\n\n    const css = namespace => {\n      const dashNamespace = namespace.replace(/\\./g, '-');\n      const resolve = str => {\n        return dashNamespace + '-' + str;\n      };\n      return { resolve };\n    };\n\n    const styles$1 = css('ephox-dragster');\n    const resolve$1 = styles$1.resolve;\n\n    const Blocker = options => {\n      const settings = {\n        layerClass: resolve$1('blocker'),\n        ...options\n      };\n      const div = SugarElement.fromTag('div');\n      set$2(div, 'role', 'presentation');\n      setAll(div, {\n        position: 'fixed',\n        left: '0px',\n        top: '0px',\n        width: '100%',\n        height: '100%'\n      });\n      add(div, resolve$1('blocker'));\n      add(div, settings.layerClass);\n      const element = constant(div);\n      const destroy = () => {\n        remove$6(div);\n      };\n      return {\n        element,\n        destroy\n      };\n    };\n\n    const compare = (old, nu) => {\n      return SugarPosition(nu.left - old.left, nu.top - old.top);\n    };\n    const extract = event => {\n      return Optional.some(SugarPosition(event.x, event.y));\n    };\n    const mutate = (mutation, info) => {\n      mutation.mutate(info.left, info.top);\n    };\n    const sink = (dragApi, settings) => {\n      const blocker = Blocker(settings);\n      const mdown = bind(blocker.element(), 'mousedown', dragApi.forceDrop);\n      const mup = bind(blocker.element(), 'mouseup', dragApi.drop);\n      const mmove = bind(blocker.element(), 'mousemove', dragApi.move);\n      const mout = bind(blocker.element(), 'mouseout', dragApi.delayDrop);\n      const destroy = () => {\n        blocker.destroy();\n        mup.unbind();\n        mmove.unbind();\n        mout.unbind();\n        mdown.unbind();\n      };\n      const start = parent => {\n        append$1(parent, blocker.element());\n      };\n      const stop = () => {\n        remove$6(blocker.element());\n      };\n      return DragSink({\n        element: blocker.element,\n        start,\n        stop,\n        destroy\n      });\n    };\n    var MouseDrag = DragMode({\n      compare,\n      extract,\n      sink,\n      mutate\n    });\n\n    const transform = (mutation, settings = {}) => {\n      var _a;\n      const mode = (_a = settings.mode) !== null && _a !== void 0 ? _a : MouseDrag;\n      return setup(mutation, mode, settings);\n    };\n\n    const styles = css('ephox-snooker');\n    const resolve = styles.resolve;\n\n    const Mutation = () => {\n      const events = create$1({\n        drag: Event([\n          'xDelta',\n          'yDelta'\n        ])\n      });\n      const mutate = (x, y) => {\n        events.trigger.drag(x, y);\n      };\n      return {\n        mutate,\n        events: events.registry\n      };\n    };\n\n    const BarMutation = () => {\n      const events = create$1({\n        drag: Event([\n          'xDelta',\n          'yDelta',\n          'target'\n        ])\n      });\n      let target = Optional.none();\n      const delegate = Mutation();\n      delegate.events.drag.bind(event => {\n        target.each(t => {\n          events.trigger.drag(event.xDelta, event.yDelta, t);\n        });\n      });\n      const assign = t => {\n        target = Optional.some(t);\n      };\n      const get = () => {\n        return target;\n      };\n      return {\n        assign,\n        get,\n        mutate: delegate.mutate,\n        events: events.registry\n      };\n    };\n\n    const col = (column, x, y, w, h) => {\n      const bar = SugarElement.fromTag('div');\n      setAll(bar, {\n        position: 'absolute',\n        left: x - w / 2 + 'px',\n        top: y + 'px',\n        height: h + 'px',\n        width: w + 'px'\n      });\n      setAll$1(bar, {\n        'data-column': column,\n        'role': 'presentation'\n      });\n      return bar;\n    };\n    const row = (r, x, y, w, h) => {\n      const bar = SugarElement.fromTag('div');\n      setAll(bar, {\n        position: 'absolute',\n        left: x + 'px',\n        top: y - h / 2 + 'px',\n        height: h + 'px',\n        width: w + 'px'\n      });\n      setAll$1(bar, {\n        'data-row': r,\n        'role': 'presentation'\n      });\n      return bar;\n    };\n\n    const resizeBar = resolve('resizer-bar');\n    const resizeRowBar = resolve('resizer-rows');\n    const resizeColBar = resolve('resizer-cols');\n    const BAR_THICKNESS = 7;\n    const resizableRows = (warehouse, isResizable) => bind$2(warehouse.all, (row, i) => isResizable(row.element) ? [i] : []);\n    const resizableColumns = (warehouse, isResizable) => {\n      const resizableCols = [];\n      range$1(warehouse.grid.columns, index => {\n        const colElmOpt = Warehouse.getColumnAt(warehouse, index).map(col => col.element);\n        if (colElmOpt.forall(isResizable)) {\n          resizableCols.push(index);\n        }\n      });\n      return filter$2(resizableCols, colIndex => {\n        const columnCells = Warehouse.filterItems(warehouse, cell => cell.column === colIndex);\n        return forall(columnCells, cell => isResizable(cell.element));\n      });\n    };\n    const destroy = wire => {\n      const previous = descendants(wire.parent(), '.' + resizeBar);\n      each$2(previous, remove$6);\n    };\n    const drawBar = (wire, positions, create) => {\n      const origin = wire.origin();\n      each$2(positions, cpOption => {\n        cpOption.each(cp => {\n          const bar = create(origin, cp);\n          add(bar, resizeBar);\n          append$1(wire.parent(), bar);\n        });\n      });\n    };\n    const refreshCol = (wire, colPositions, position, tableHeight) => {\n      drawBar(wire, colPositions, (origin, cp) => {\n        const colBar = col(cp.col, cp.x - origin.left, position.top - origin.top, BAR_THICKNESS, tableHeight);\n        add(colBar, resizeColBar);\n        return colBar;\n      });\n    };\n    const refreshRow = (wire, rowPositions, position, tableWidth) => {\n      drawBar(wire, rowPositions, (origin, cp) => {\n        const rowBar = row(cp.row, position.left - origin.left, cp.y - origin.top, tableWidth, BAR_THICKNESS);\n        add(rowBar, resizeRowBar);\n        return rowBar;\n      });\n    };\n    const refreshGrid = (warhouse, wire, table, rows, cols) => {\n      const position = absolute(table);\n      const isResizable = wire.isResizable;\n      const rowPositions = rows.length > 0 ? height.positions(rows, table) : [];\n      const resizableRowBars = rowPositions.length > 0 ? resizableRows(warhouse, isResizable) : [];\n      const resizableRowPositions = filter$2(rowPositions, (_pos, i) => exists(resizableRowBars, barIndex => i === barIndex));\n      refreshRow(wire, resizableRowPositions, position, getOuter$2(table));\n      const colPositions = cols.length > 0 ? width.positions(cols, table) : [];\n      const resizableColBars = colPositions.length > 0 ? resizableColumns(warhouse, isResizable) : [];\n      const resizableColPositions = filter$2(colPositions, (_pos, i) => exists(resizableColBars, barIndex => i === barIndex));\n      refreshCol(wire, resizableColPositions, position, getOuter$1(table));\n    };\n    const refresh = (wire, table) => {\n      destroy(wire);\n      if (wire.isResizable(table)) {\n        const warehouse = Warehouse.fromTable(table);\n        const rows$1 = rows(warehouse);\n        const cols = columns(warehouse);\n        refreshGrid(warehouse, wire, table, rows$1, cols);\n      }\n    };\n    const each = (wire, f) => {\n      const bars = descendants(wire.parent(), '.' + resizeBar);\n      each$2(bars, f);\n    };\n    const hide = wire => {\n      each(wire, bar => {\n        set$1(bar, 'display', 'none');\n      });\n    };\n    const show = wire => {\n      each(wire, bar => {\n        set$1(bar, 'display', 'block');\n      });\n    };\n    const isRowBar = element => {\n      return has(element, resizeRowBar);\n    };\n    const isColBar = element => {\n      return has(element, resizeColBar);\n    };\n\n    const resizeBarDragging = resolve('resizer-bar-dragging');\n    const BarManager = wire => {\n      const mutation = BarMutation();\n      const resizing = transform(mutation, {});\n      let hoverTable = Optional.none();\n      const getResizer = (element, type) => {\n        return Optional.from(get$b(element, type));\n      };\n      mutation.events.drag.bind(event => {\n        getResizer(event.target, 'data-row').each(_dataRow => {\n          const currentRow = getCssValue(event.target, 'top');\n          set$1(event.target, 'top', currentRow + event.yDelta + 'px');\n        });\n        getResizer(event.target, 'data-column').each(_dataCol => {\n          const currentCol = getCssValue(event.target, 'left');\n          set$1(event.target, 'left', currentCol + event.xDelta + 'px');\n        });\n      });\n      const getDelta = (target, dir) => {\n        const newX = getCssValue(target, dir);\n        const oldX = getAttrValue(target, 'data-initial-' + dir, 0);\n        return newX - oldX;\n      };\n      resizing.events.stop.bind(() => {\n        mutation.get().each(target => {\n          hoverTable.each(table => {\n            getResizer(target, 'data-row').each(row => {\n              const delta = getDelta(target, 'top');\n              remove$7(target, 'data-initial-top');\n              events.trigger.adjustHeight(table, delta, parseInt(row, 10));\n            });\n            getResizer(target, 'data-column').each(column => {\n              const delta = getDelta(target, 'left');\n              remove$7(target, 'data-initial-left');\n              events.trigger.adjustWidth(table, delta, parseInt(column, 10));\n            });\n            refresh(wire, table);\n          });\n        });\n      });\n      const handler = (target, dir) => {\n        events.trigger.startAdjust();\n        mutation.assign(target);\n        set$2(target, 'data-initial-' + dir, getCssValue(target, dir));\n        add(target, resizeBarDragging);\n        set$1(target, 'opacity', '0.2');\n        resizing.go(wire.parent());\n      };\n      const mousedown = bind(wire.parent(), 'mousedown', event => {\n        if (isRowBar(event.target)) {\n          handler(event.target, 'top');\n        }\n        if (isColBar(event.target)) {\n          handler(event.target, 'left');\n        }\n      });\n      const isRoot = e => {\n        return eq$1(e, wire.view());\n      };\n      const findClosestEditableTable = target => closest$1(target, 'table', isRoot).filter(isEditable$1);\n      const mouseover = bind(wire.view(), 'mouseover', event => {\n        findClosestEditableTable(event.target).fold(() => {\n          if (inBody(event.target)) {\n            destroy(wire);\n          }\n        }, table => {\n          if (resizing.isActive()) {\n            hoverTable = Optional.some(table);\n            refresh(wire, table);\n          }\n        });\n      });\n      const destroy$1 = () => {\n        mousedown.unbind();\n        mouseover.unbind();\n        resizing.destroy();\n        destroy(wire);\n      };\n      const refresh$1 = tbl => {\n        refresh(wire, tbl);\n      };\n      const events = create$1({\n        adjustHeight: Event([\n          'table',\n          'delta',\n          'row'\n        ]),\n        adjustWidth: Event([\n          'table',\n          'delta',\n          'column'\n        ]),\n        startAdjust: Event([])\n      });\n      return {\n        destroy: destroy$1,\n        refresh: refresh$1,\n        on: resizing.on,\n        off: resizing.off,\n        hideBars: curry(hide, wire),\n        showBars: curry(show, wire),\n        events: events.registry\n      };\n    };\n\n    const create = (wire, resizing, lazySizing) => {\n      const hdirection = height;\n      const vdirection = width;\n      const manager = BarManager(wire);\n      const events = create$1({\n        beforeResize: Event([\n          'table',\n          'type'\n        ]),\n        afterResize: Event([\n          'table',\n          'type'\n        ]),\n        startDrag: Event([])\n      });\n      manager.events.adjustHeight.bind(event => {\n        const table = event.table;\n        events.trigger.beforeResize(table, 'row');\n        const delta = hdirection.delta(event.delta, table);\n        adjustHeight(table, delta, event.row, hdirection);\n        events.trigger.afterResize(table, 'row');\n      });\n      manager.events.startAdjust.bind(_event => {\n        events.trigger.startDrag();\n      });\n      manager.events.adjustWidth.bind(event => {\n        const table = event.table;\n        events.trigger.beforeResize(table, 'col');\n        const delta = vdirection.delta(event.delta, table);\n        const tableSize = lazySizing(table);\n        adjustWidth(table, delta, event.column, resizing, tableSize);\n        events.trigger.afterResize(table, 'col');\n      });\n      return {\n        on: manager.on,\n        off: manager.off,\n        refreshBars: manager.refresh,\n        hideBars: manager.hideBars,\n        showBars: manager.showBars,\n        destroy: manager.destroy,\n        events: events.registry\n      };\n    };\n    const TableResize = { create };\n\n    const only = (element, isResizable) => {\n      const parent = isDocument(element) ? documentElement(element) : element;\n      return {\n        parent: constant(parent),\n        view: constant(element),\n        origin: constant(SugarPosition(0, 0)),\n        isResizable\n      };\n    };\n    const detached = (editable, chrome, isResizable) => {\n      const origin = () => absolute(chrome);\n      return {\n        parent: constant(chrome),\n        view: constant(editable),\n        origin,\n        isResizable\n      };\n    };\n    const body = (editable, chrome, isResizable) => {\n      return {\n        parent: constant(chrome),\n        view: constant(editable),\n        origin: constant(SugarPosition(0, 0)),\n        isResizable\n      };\n    };\n    const ResizeWire = {\n      only,\n      detached,\n      body\n    };\n\n    const createContainer = () => {\n      const container = SugarElement.fromTag('div');\n      setAll(container, {\n        position: 'static',\n        height: '0',\n        width: '0',\n        padding: '0',\n        margin: '0',\n        border: '0'\n      });\n      append$1(body$1(), container);\n      return container;\n    };\n    const get = (editor, isResizable) => {\n      return editor.inline ? ResizeWire.body(SugarElement.fromDom(editor.getBody()), createContainer(), isResizable) : ResizeWire.only(SugarElement.fromDom(editor.getDoc()), isResizable);\n    };\n    const remove = (editor, wire) => {\n      if (editor.inline) {\n        remove$6(wire.parent());\n      }\n    };\n\n    const isTable = node => isNonNullable(node) && node.nodeName === 'TABLE';\n    const barResizerPrefix = 'bar-';\n    const isResizable = elm => get$b(elm, 'data-mce-resize') !== 'false';\n    const syncPixels = table => {\n      const warehouse = Warehouse.fromTable(table);\n      if (!Warehouse.hasColumns(warehouse)) {\n        each$2(cells$1(table), cell => {\n          const computedWidth = get$a(cell, 'width');\n          set$1(cell, 'width', computedWidth);\n          remove$7(cell, 'width');\n        });\n      }\n    };\n    const TableResizeHandler = editor => {\n      const selectionRng = value();\n      const tableResize = value();\n      const resizeWire = value();\n      let startW;\n      let startRawW;\n      const lazySizing = table => get$5(editor, table);\n      const lazyResizingBehaviour = () => isPreserveTableColumnResizing(editor) ? preserveTable() : resizeTable();\n      const getNumColumns = table => getGridSize(table).columns;\n      const afterCornerResize = (table, origin, width) => {\n        const isRightEdgeResize = endsWith(origin, 'e');\n        if (startRawW === '') {\n          convertToPercentSize(table);\n        }\n        if (width !== startW && startRawW !== '') {\n          set$1(table, 'width', startRawW);\n          const resizing = lazyResizingBehaviour();\n          const tableSize = lazySizing(table);\n          const col = isPreserveTableColumnResizing(editor) || isRightEdgeResize ? getNumColumns(table) - 1 : 0;\n          adjustWidth(table, width - startW, col, resizing, tableSize);\n        } else if (isPercentage$1(startRawW)) {\n          const percentW = parseFloat(startRawW.replace('%', ''));\n          const targetPercentW = width * percentW / startW;\n          set$1(table, 'width', targetPercentW + '%');\n        }\n        if (isPixel(startRawW)) {\n          syncPixels(table);\n        }\n      };\n      const destroy = () => {\n        tableResize.on(sz => {\n          sz.destroy();\n        });\n        resizeWire.on(w => {\n          remove(editor, w);\n        });\n      };\n      editor.on('init', () => {\n        const rawWire = get(editor, isResizable);\n        resizeWire.set(rawWire);\n        if (hasTableObjectResizing(editor) && hasTableResizeBars(editor)) {\n          const resizing = lazyResizingBehaviour();\n          const sz = TableResize.create(rawWire, resizing, lazySizing);\n          sz.on();\n          sz.events.startDrag.bind(_event => {\n            selectionRng.set(editor.selection.getRng());\n          });\n          sz.events.beforeResize.bind(event => {\n            const rawTable = event.table.dom;\n            fireObjectResizeStart(editor, rawTable, getPixelWidth(rawTable), getPixelHeight(rawTable), barResizerPrefix + event.type);\n          });\n          sz.events.afterResize.bind(event => {\n            const table = event.table;\n            const rawTable = table.dom;\n            removeDataStyle(table);\n            selectionRng.on(rng => {\n              editor.selection.setRng(rng);\n              editor.focus();\n            });\n            fireObjectResized(editor, rawTable, getPixelWidth(rawTable), getPixelHeight(rawTable), barResizerPrefix + event.type);\n            editor.undoManager.add();\n          });\n          tableResize.set(sz);\n        }\n      });\n      editor.on('ObjectResizeStart', e => {\n        const targetElm = e.target;\n        if (isTable(targetElm)) {\n          const table = SugarElement.fromDom(targetElm);\n          each$2(editor.dom.select('.mce-clonedresizable'), clone => {\n            editor.dom.addClass(clone, 'mce-' + getTableColumnResizingBehaviour(editor) + '-columns');\n          });\n          if (!isPixelSizing(table) && isTablePixelsForced(editor)) {\n            convertToPixelSize(table);\n          } else if (!isPercentSizing(table) && isTablePercentagesForced(editor)) {\n            convertToPercentSize(table);\n          }\n          if (isNoneSizing(table) && startsWith(e.origin, barResizerPrefix)) {\n            convertToPercentSize(table);\n          }\n          startW = e.width;\n          startRawW = isTableResponsiveForced(editor) ? '' : getRawWidth(editor, targetElm).getOr('');\n        }\n      });\n      editor.on('ObjectResized', e => {\n        const targetElm = e.target;\n        if (isTable(targetElm)) {\n          const table = SugarElement.fromDom(targetElm);\n          const origin = e.origin;\n          if (startsWith(origin, 'corner-')) {\n            afterCornerResize(table, origin, e.width);\n          }\n          removeDataStyle(table);\n          fireTableModified(editor, table.dom, styleModified);\n        }\n      });\n      editor.on('SwitchMode', () => {\n        tableResize.on(resize => {\n          if (editor.mode.isReadOnly()) {\n            resize.hideBars();\n          } else {\n            resize.showBars();\n          }\n        });\n      });\n      editor.on('dragstart dragend', e => {\n        tableResize.on(resize => {\n          if (e.type === 'dragstart') {\n            resize.hideBars();\n            resize.off();\n          } else {\n            resize.on();\n            resize.showBars();\n          }\n        });\n      });\n      editor.on('remove', () => {\n        destroy();\n      });\n      const refresh = table => {\n        tableResize.on(resize => resize.refreshBars(SugarElement.fromDom(table)));\n      };\n      const hide = () => {\n        tableResize.on(resize => resize.hideBars());\n      };\n      const show = () => {\n        tableResize.on(resize => resize.showBars());\n      };\n      return {\n        refresh,\n        hide,\n        show\n      };\n    };\n\n    const setupTable = editor => {\n      register(editor);\n      const resizeHandler = TableResizeHandler(editor);\n      const cellSelectionHandler = TableCellSelectionHandler(editor, resizeHandler);\n      const actions = TableActions(editor, resizeHandler, cellSelectionHandler);\n      registerCommands(editor, actions);\n      registerQueryCommands(editor, actions);\n      registerEvents(editor, actions);\n      return {\n        getSelectedCells: cellSelectionHandler.getSelectedCells,\n        clearSelectedCells: cellSelectionHandler.clearSelectedCells\n      };\n    };\n\n    const DomModel = editor => {\n      const table = setupTable(editor);\n      return { table };\n    };\n    var Model = () => {\n      global$1.add('dom', DomModel);\n    };\n\n    Model();\n\n})();\n","// Exports the \"media\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/media')\n//   ES2015:\n//     import 'tinymce/plugins/media'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.4.1 (2023-03-29)\n */\n\n(function () {\n    'use strict';\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType = type => value => typeOf(value) === type;\n    const isString = isType('string');\n    const isObject = isType('object');\n    const isArray = isType('array');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativePush = Array.prototype.push;\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const get$1 = (obj, key) => {\n      return has(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n\n    const option = name => editor => editor.options.get(name);\n    const register$2 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('audio_template_callback', { processor: 'function' });\n      registerOption('video_template_callback', { processor: 'function' });\n      registerOption('iframe_template_callback', { processor: 'function' });\n      registerOption('media_live_embeds', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_filter_html', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_url_resolver', { processor: 'function' });\n      registerOption('media_alt_source', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_poster', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_dimensions', {\n        processor: 'boolean',\n        default: true\n      });\n    };\n    const getAudioTemplateCallback = option('audio_template_callback');\n    const getVideoTemplateCallback = option('video_template_callback');\n    const getIframeTemplateCallback = option('iframe_template_callback');\n    const hasLiveEmbeds = option('media_live_embeds');\n    const shouldFilterHtml = option('media_filter_html');\n    const getUrlResolver = option('media_url_resolver');\n    const hasAltSource = option('media_alt_source');\n    const hasPoster = option('media_poster');\n    const hasDimensions = option('media_dimensions');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.html.DomParser');\n\n    const DOM$1 = global$4.DOM;\n    const trimPx = value => value.replace(/px$/, '');\n    const getEphoxEmbedData = node => {\n      const style = node.attr('style');\n      const styles = style ? DOM$1.parseStyle(style) : {};\n      return {\n        type: 'ephox-embed-iri',\n        source: node.attr('data-ephox-embed-iri'),\n        altsource: '',\n        poster: '',\n        width: get$1(styles, 'max-width').map(trimPx).getOr(''),\n        height: get$1(styles, 'max-height').map(trimPx).getOr('')\n      };\n    };\n    const htmlToData = (html, schema) => {\n      let data = {};\n      const parser = global$3({\n        validate: false,\n        forced_root_block: false\n      }, schema);\n      const rootNode = parser.parse(html);\n      for (let node = rootNode; node; node = node.walk()) {\n        if (node.type === 1) {\n          const name = node.name;\n          if (node.attr('data-ephox-embed-iri')) {\n            data = getEphoxEmbedData(node);\n            break;\n          } else {\n            if (!data.source && name === 'param') {\n              data.source = node.attr('movie');\n            }\n            if (name === 'iframe' || name === 'object' || name === 'embed' || name === 'video' || name === 'audio') {\n              if (!data.type) {\n                data.type = name;\n              }\n              data = global$5.extend(node.attributes.map, data);\n            }\n            if (name === 'script') {\n              data = {\n                type: 'script',\n                source: node.attr('src')\n              };\n            }\n            if (name === 'source') {\n              if (!data.source) {\n                data.source = node.attr('src');\n              } else if (!data.altsource) {\n                data.altsource = node.attr('src');\n              }\n            }\n            if (name === 'img' && !data.poster) {\n              data.poster = node.attr('src');\n            }\n          }\n        }\n      }\n      data.source = data.source || data.src || '';\n      data.altsource = data.altsource || '';\n      data.poster = data.poster || '';\n      return data;\n    };\n\n    const guess = url => {\n      var _a;\n      const mimes = {\n        mp3: 'audio/mpeg',\n        m4a: 'audio/x-m4a',\n        wav: 'audio/wav',\n        mp4: 'video/mp4',\n        webm: 'video/webm',\n        ogg: 'video/ogg',\n        swf: 'application/x-shockwave-flash'\n      };\n      const fileEnd = (_a = url.toLowerCase().split('.').pop()) !== null && _a !== void 0 ? _a : '';\n      return get$1(mimes, fileEnd).getOr('');\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.html.Serializer');\n\n    const Parser = (schema, settings = {}) => global$3({\n      forced_root_block: false,\n      validate: false,\n      allow_conditional_comments: true,\n      ...settings\n    }, schema);\n\n    const DOM = global$4.DOM;\n    const addPx = value => /^[0-9.]+$/.test(value) ? value + 'px' : value;\n    const updateEphoxEmbed = (data, node) => {\n      const style = node.attr('style');\n      const styleMap = style ? DOM.parseStyle(style) : {};\n      if (isNonNullable(data.width)) {\n        styleMap['max-width'] = addPx(data.width);\n      }\n      if (isNonNullable(data.height)) {\n        styleMap['max-height'] = addPx(data.height);\n      }\n      node.attr('style', DOM.serializeStyle(styleMap));\n    };\n    const sources = [\n      'source',\n      'altsource'\n    ];\n    const updateHtml = (html, data, updateAll, schema) => {\n      let numSources = 0;\n      let sourceCount = 0;\n      const parser = Parser(schema);\n      parser.addNodeFilter('source', nodes => numSources = nodes.length);\n      const rootNode = parser.parse(html);\n      for (let node = rootNode; node; node = node.walk()) {\n        if (node.type === 1) {\n          const name = node.name;\n          if (node.attr('data-ephox-embed-iri')) {\n            updateEphoxEmbed(data, node);\n            break;\n          } else {\n            switch (name) {\n            case 'video':\n            case 'object':\n            case 'embed':\n            case 'img':\n            case 'iframe':\n              if (data.height !== undefined && data.width !== undefined) {\n                node.attr('width', data.width);\n                node.attr('height', data.height);\n              }\n              break;\n            }\n            if (updateAll) {\n              switch (name) {\n              case 'video':\n                node.attr('poster', data.poster);\n                node.attr('src', null);\n                for (let index = numSources; index < 2; index++) {\n                  if (data[sources[index]]) {\n                    const source = new global$2('source', 1);\n                    source.attr('src', data[sources[index]]);\n                    source.attr('type', data[sources[index] + 'mime'] || null);\n                    node.append(source);\n                  }\n                }\n                break;\n              case 'iframe':\n                node.attr('src', data.source);\n                break;\n              case 'object':\n                const hasImage = node.getAll('img').length > 0;\n                if (data.poster && !hasImage) {\n                  node.attr('src', data.poster);\n                  const img = new global$2('img', 1);\n                  img.attr('src', data.poster);\n                  img.attr('width', data.width);\n                  img.attr('height', data.height);\n                  node.append(img);\n                }\n                break;\n              case 'source':\n                if (sourceCount < 2) {\n                  node.attr('src', data[sources[sourceCount]]);\n                  node.attr('type', data[sources[sourceCount] + 'mime'] || null);\n                  if (!data[sources[sourceCount]]) {\n                    node.remove();\n                    continue;\n                  }\n                }\n                sourceCount++;\n                break;\n              case 'img':\n                if (!data.poster) {\n                  node.remove();\n                }\n                break;\n              }\n            }\n          }\n        }\n      }\n      return global$1({}, schema).serialize(rootNode);\n    };\n\n    const urlPatterns = [\n      {\n        regex: /youtu\\.be\\/([\\w\\-_\\?&=.]+)/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /youtube\\.com(.+)v=([^&]+)(&([a-z0-9&=\\-_]+))?/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$2?$4',\n        allowFullscreen: true\n      },\n      {\n        regex: /youtube.com\\/embed\\/([a-z0-9\\?&=\\-_]+)/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/([0-9]+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/(.*)\\/([0-9]+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$2?title=0&amp;byline=0',\n        allowFullscreen: true\n      },\n      {\n        regex: /maps\\.google\\.([a-z]{2,3})\\/maps\\/(.+)msid=(.+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'maps.google.com/maps/ms?msid=$2&output=embed\"',\n        allowFullscreen: false\n      },\n      {\n        regex: /dailymotion\\.com\\/video\\/([^_]+)/,\n        type: 'iframe',\n        w: 480,\n        h: 270,\n        url: 'www.dailymotion.com/embed/video/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /dai\\.ly\\/([^_]+)/,\n        type: 'iframe',\n        w: 480,\n        h: 270,\n        url: 'www.dailymotion.com/embed/video/$1',\n        allowFullscreen: true\n      }\n    ];\n    const getProtocol = url => {\n      const protocolMatches = url.match(/^(https?:\\/\\/|www\\.)(.+)$/i);\n      if (protocolMatches && protocolMatches.length > 1) {\n        return protocolMatches[1] === 'www.' ? 'https://' : protocolMatches[1];\n      } else {\n        return 'https://';\n      }\n    };\n    const getUrl = (pattern, url) => {\n      const protocol = getProtocol(url);\n      const match = pattern.regex.exec(url);\n      let newUrl = protocol + pattern.url;\n      if (isNonNullable(match)) {\n        for (let i = 0; i < match.length; i++) {\n          newUrl = newUrl.replace('$' + i, () => match[i] ? match[i] : '');\n        }\n      }\n      return newUrl.replace(/\\?$/, '');\n    };\n    const matchPattern = url => {\n      const patterns = urlPatterns.filter(pattern => pattern.regex.test(url));\n      if (patterns.length > 0) {\n        return global$5.extend({}, patterns[0], { url: getUrl(patterns[0], url) });\n      } else {\n        return null;\n      }\n    };\n\n    const getIframeHtml = (data, iframeTemplateCallback) => {\n      if (iframeTemplateCallback) {\n        return iframeTemplateCallback(data);\n      } else {\n        const allowFullscreen = data.allowfullscreen ? ' allowFullscreen=\"1\"' : '';\n        return '<iframe src=\"' + data.source + '\" width=\"' + data.width + '\" height=\"' + data.height + '\"' + allowFullscreen + '></iframe>';\n      }\n    };\n    const getFlashHtml = data => {\n      let html = '<object data=\"' + data.source + '\" width=\"' + data.width + '\" height=\"' + data.height + '\" type=\"application/x-shockwave-flash\">';\n      if (data.poster) {\n        html += '<img src=\"' + data.poster + '\" width=\"' + data.width + '\" height=\"' + data.height + '\" />';\n      }\n      html += '</object>';\n      return html;\n    };\n    const getAudioHtml = (data, audioTemplateCallback) => {\n      if (audioTemplateCallback) {\n        return audioTemplateCallback(data);\n      } else {\n        return '<audio controls=\"controls\" src=\"' + data.source + '\">' + (data.altsource ? '\\n<source src=\"' + data.altsource + '\"' + (data.altsourcemime ? ' type=\"' + data.altsourcemime + '\"' : '') + ' />\\n' : '') + '</audio>';\n      }\n    };\n    const getVideoHtml = (data, videoTemplateCallback) => {\n      if (videoTemplateCallback) {\n        return videoTemplateCallback(data);\n      } else {\n        return '<video width=\"' + data.width + '\" height=\"' + data.height + '\"' + (data.poster ? ' poster=\"' + data.poster + '\"' : '') + ' controls=\"controls\">\\n' + '<source src=\"' + data.source + '\"' + (data.sourcemime ? ' type=\"' + data.sourcemime + '\"' : '') + ' />\\n' + (data.altsource ? '<source src=\"' + data.altsource + '\"' + (data.altsourcemime ? ' type=\"' + data.altsourcemime + '\"' : '') + ' />\\n' : '') + '</video>';\n      }\n    };\n    const getScriptHtml = data => {\n      return '<script src=\"' + data.source + '\"></script>';\n    };\n    const dataToHtml = (editor, dataIn) => {\n      var _a;\n      const data = global$5.extend({}, dataIn);\n      if (!data.source) {\n        global$5.extend(data, htmlToData((_a = data.embed) !== null && _a !== void 0 ? _a : '', editor.schema));\n        if (!data.source) {\n          return '';\n        }\n      }\n      if (!data.altsource) {\n        data.altsource = '';\n      }\n      if (!data.poster) {\n        data.poster = '';\n      }\n      data.source = editor.convertURL(data.source, 'source');\n      data.altsource = editor.convertURL(data.altsource, 'source');\n      data.sourcemime = guess(data.source);\n      data.altsourcemime = guess(data.altsource);\n      data.poster = editor.convertURL(data.poster, 'poster');\n      const pattern = matchPattern(data.source);\n      if (pattern) {\n        data.source = pattern.url;\n        data.type = pattern.type;\n        data.allowfullscreen = pattern.allowFullscreen;\n        data.width = data.width || String(pattern.w);\n        data.height = data.height || String(pattern.h);\n      }\n      if (data.embed) {\n        return updateHtml(data.embed, data, true, editor.schema);\n      } else {\n        const audioTemplateCallback = getAudioTemplateCallback(editor);\n        const videoTemplateCallback = getVideoTemplateCallback(editor);\n        const iframeTemplateCallback = getIframeTemplateCallback(editor);\n        data.width = data.width || '300';\n        data.height = data.height || '150';\n        global$5.each(data, (value, key) => {\n          data[key] = editor.dom.encode('' + value);\n        });\n        if (data.type === 'iframe') {\n          return getIframeHtml(data, iframeTemplateCallback);\n        } else if (data.sourcemime === 'application/x-shockwave-flash') {\n          return getFlashHtml(data);\n        } else if (data.sourcemime.indexOf('audio') !== -1) {\n          return getAudioHtml(data, audioTemplateCallback);\n        } else if (data.type === 'script') {\n          return getScriptHtml(data);\n        } else {\n          return getVideoHtml(data, videoTemplateCallback);\n        }\n      }\n    };\n\n    const isMediaElement = element => element.hasAttribute('data-mce-object') || element.hasAttribute('data-ephox-embed-iri');\n    const setup$2 = editor => {\n      editor.on('click keyup touchend', () => {\n        const selectedNode = editor.selection.getNode();\n        if (selectedNode && editor.dom.hasClass(selectedNode, 'mce-preview-object')) {\n          if (editor.dom.getAttrib(selectedNode, 'data-mce-selected')) {\n            selectedNode.setAttribute('data-mce-selected', '2');\n          }\n        }\n      });\n      editor.on('ObjectSelected', e => {\n        const objectType = e.target.getAttribute('data-mce-object');\n        if (objectType === 'script') {\n          e.preventDefault();\n        }\n      });\n      editor.on('ObjectResized', e => {\n        const target = e.target;\n        if (target.getAttribute('data-mce-object')) {\n          let html = target.getAttribute('data-mce-html');\n          if (html) {\n            html = unescape(html);\n            target.setAttribute('data-mce-html', escape(updateHtml(html, {\n              width: String(e.width),\n              height: String(e.height)\n            }, false, editor.schema)));\n          }\n        }\n      });\n    };\n\n    const cache = {};\n    const embedPromise = (data, dataToHtml, handler) => {\n      return new Promise((res, rej) => {\n        const wrappedResolve = response => {\n          if (response.html) {\n            cache[data.source] = response;\n          }\n          return res({\n            url: data.source,\n            html: response.html ? response.html : dataToHtml(data)\n          });\n        };\n        if (cache[data.source]) {\n          wrappedResolve(cache[data.source]);\n        } else {\n          handler({ url: data.source }, wrappedResolve, rej);\n        }\n      });\n    };\n    const defaultPromise = (data, dataToHtml) => Promise.resolve({\n      html: dataToHtml(data),\n      url: data.source\n    });\n    const loadedData = editor => data => dataToHtml(editor, data);\n    const getEmbedHtml = (editor, data) => {\n      const embedHandler = getUrlResolver(editor);\n      return embedHandler ? embedPromise(data, loadedData(editor), embedHandler) : defaultPromise(data, loadedData(editor));\n    };\n    const isCached = url => has(cache, url);\n\n    const extractMeta = (sourceInput, data) => get$1(data, sourceInput).bind(mainData => get$1(mainData, 'meta'));\n    const getValue = (data, metaData, sourceInput) => prop => {\n      const getFromData = () => get$1(data, prop);\n      const getFromMetaData = () => get$1(metaData, prop);\n      const getNonEmptyValue = c => get$1(c, 'value').bind(v => v.length > 0 ? Optional.some(v) : Optional.none());\n      const getFromValueFirst = () => getFromData().bind(child => isObject(child) ? getNonEmptyValue(child).orThunk(getFromMetaData) : getFromMetaData().orThunk(() => Optional.from(child)));\n      const getFromMetaFirst = () => getFromMetaData().orThunk(() => getFromData().bind(child => isObject(child) ? getNonEmptyValue(child) : Optional.from(child)));\n      return { [prop]: (prop === sourceInput ? getFromValueFirst() : getFromMetaFirst()).getOr('') };\n    };\n    const getDimensions = (data, metaData) => {\n      const dimensions = {};\n      get$1(data, 'dimensions').each(dims => {\n        each$1([\n          'width',\n          'height'\n        ], prop => {\n          get$1(metaData, prop).orThunk(() => get$1(dims, prop)).each(value => dimensions[prop] = value);\n        });\n      });\n      return dimensions;\n    };\n    const unwrap = (data, sourceInput) => {\n      const metaData = sourceInput && sourceInput !== 'dimensions' ? extractMeta(sourceInput, data).getOr({}) : {};\n      const get = getValue(data, metaData, sourceInput);\n      return {\n        ...get('source'),\n        ...get('altsource'),\n        ...get('poster'),\n        ...get('embed'),\n        ...getDimensions(data, metaData)\n      };\n    };\n    const wrap = data => {\n      const wrapped = {\n        ...data,\n        source: { value: get$1(data, 'source').getOr('') },\n        altsource: { value: get$1(data, 'altsource').getOr('') },\n        poster: { value: get$1(data, 'poster').getOr('') }\n      };\n      each$1([\n        'width',\n        'height'\n      ], prop => {\n        get$1(data, prop).each(value => {\n          const dimensions = wrapped.dimensions || {};\n          dimensions[prop] = value;\n          wrapped.dimensions = dimensions;\n        });\n      });\n      return wrapped;\n    };\n    const handleError = editor => error => {\n      const errorMessage = error && error.msg ? 'Media embed handler error: ' + error.msg : 'Media embed handler threw unknown error.';\n      editor.notificationManager.open({\n        type: 'error',\n        text: errorMessage\n      });\n    };\n    const getEditorData = editor => {\n      const element = editor.selection.getNode();\n      const snippet = isMediaElement(element) ? editor.serializer.serialize(element, { selection: true }) : '';\n      return {\n        embed: snippet,\n        ...htmlToData(snippet, editor.schema)\n      };\n    };\n    const addEmbedHtml = (api, editor) => response => {\n      if (isString(response.url) && response.url.trim().length > 0) {\n        const html = response.html;\n        const snippetData = htmlToData(html, editor.schema);\n        const nuData = {\n          ...snippetData,\n          source: response.url,\n          embed: html\n        };\n        api.setData(wrap(nuData));\n      }\n    };\n    const selectPlaceholder = (editor, beforeObjects) => {\n      const afterObjects = editor.dom.select('*[data-mce-object]');\n      for (let i = 0; i < beforeObjects.length; i++) {\n        for (let y = afterObjects.length - 1; y >= 0; y--) {\n          if (beforeObjects[i] === afterObjects[y]) {\n            afterObjects.splice(y, 1);\n          }\n        }\n      }\n      editor.selection.select(afterObjects[0]);\n    };\n    const handleInsert = (editor, html) => {\n      const beforeObjects = editor.dom.select('*[data-mce-object]');\n      editor.insertContent(html);\n      selectPlaceholder(editor, beforeObjects);\n      editor.nodeChanged();\n    };\n    const submitForm = (prevData, newData, editor) => {\n      var _a;\n      newData.embed = updateHtml((_a = newData.embed) !== null && _a !== void 0 ? _a : '', newData, false, editor.schema);\n      if (newData.embed && (prevData.source === newData.source || isCached(newData.source))) {\n        handleInsert(editor, newData.embed);\n      } else {\n        getEmbedHtml(editor, newData).then(response => {\n          handleInsert(editor, response.html);\n        }).catch(handleError(editor));\n      }\n    };\n    const showDialog = editor => {\n      const editorData = getEditorData(editor);\n      const currentData = Cell(editorData);\n      const initialData = wrap(editorData);\n      const handleSource = (prevData, api) => {\n        const serviceData = unwrap(api.getData(), 'source');\n        if (prevData.source !== serviceData.source) {\n          addEmbedHtml(win, editor)({\n            url: serviceData.source,\n            html: ''\n          });\n          getEmbedHtml(editor, serviceData).then(addEmbedHtml(win, editor)).catch(handleError(editor));\n        }\n      };\n      const handleEmbed = api => {\n        var _a;\n        const data = unwrap(api.getData());\n        const dataFromEmbed = htmlToData((_a = data.embed) !== null && _a !== void 0 ? _a : '', editor.schema);\n        api.setData(wrap(dataFromEmbed));\n      };\n      const handleUpdate = (api, sourceInput) => {\n        const data = unwrap(api.getData(), sourceInput);\n        const embed = dataToHtml(editor, data);\n        api.setData(wrap({\n          ...data,\n          embed\n        }));\n      };\n      const mediaInput = [{\n          name: 'source',\n          type: 'urlinput',\n          filetype: 'media',\n          label: 'Source'\n        }];\n      const sizeInput = !hasDimensions(editor) ? [] : [{\n          type: 'sizeinput',\n          name: 'dimensions',\n          label: 'Constrain proportions',\n          constrain: true\n        }];\n      const generalTab = {\n        title: 'General',\n        name: 'general',\n        items: flatten([\n          mediaInput,\n          sizeInput\n        ])\n      };\n      const embedTextarea = {\n        type: 'textarea',\n        name: 'embed',\n        label: 'Paste your embed code below:'\n      };\n      const embedTab = {\n        title: 'Embed',\n        items: [embedTextarea]\n      };\n      const advancedFormItems = [];\n      if (hasAltSource(editor)) {\n        advancedFormItems.push({\n          name: 'altsource',\n          type: 'urlinput',\n          filetype: 'media',\n          label: 'Alternative source URL'\n        });\n      }\n      if (hasPoster(editor)) {\n        advancedFormItems.push({\n          name: 'poster',\n          type: 'urlinput',\n          filetype: 'image',\n          label: 'Media poster (Image URL)'\n        });\n      }\n      const advancedTab = {\n        title: 'Advanced',\n        name: 'advanced',\n        items: advancedFormItems\n      };\n      const tabs = [\n        generalTab,\n        embedTab\n      ];\n      if (advancedFormItems.length > 0) {\n        tabs.push(advancedTab);\n      }\n      const body = {\n        type: 'tabpanel',\n        tabs\n      };\n      const win = editor.windowManager.open({\n        title: 'Insert/Edit Media',\n        size: 'normal',\n        body,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        onSubmit: api => {\n          const serviceData = unwrap(api.getData());\n          submitForm(currentData.get(), serviceData, editor);\n          api.close();\n        },\n        onChange: (api, detail) => {\n          switch (detail.name) {\n          case 'source':\n            handleSource(currentData.get(), api);\n            break;\n          case 'embed':\n            handleEmbed(api);\n            break;\n          case 'dimensions':\n          case 'altsource':\n          case 'poster':\n            handleUpdate(api, detail.name);\n            break;\n          }\n          currentData.set(unwrap(api.getData()));\n        },\n        initialData\n      });\n    };\n\n    const get = editor => {\n      const showDialog$1 = () => {\n        showDialog(editor);\n      };\n      return { showDialog: showDialog$1 };\n    };\n\n    const register$1 = editor => {\n      const showDialog$1 = () => {\n        showDialog(editor);\n      };\n      editor.addCommand('mceMedia', showDialog$1);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.Env');\n\n    const isLiveEmbedNode = node => {\n      const name = node.name;\n      return name === 'iframe' || name === 'video' || name === 'audio';\n    };\n    const getDimension = (node, styles, dimension, defaultValue = null) => {\n      const value = node.attr(dimension);\n      if (isNonNullable(value)) {\n        return value;\n      } else if (!has(styles, dimension)) {\n        return defaultValue;\n      } else {\n        return null;\n      }\n    };\n    const setDimensions = (node, previewNode, styles) => {\n      const useDefaults = previewNode.name === 'img' || node.name === 'video';\n      const defaultWidth = useDefaults ? '300' : null;\n      const fallbackHeight = node.name === 'audio' ? '30' : '150';\n      const defaultHeight = useDefaults ? fallbackHeight : null;\n      previewNode.attr({\n        width: getDimension(node, styles, 'width', defaultWidth),\n        height: getDimension(node, styles, 'height', defaultHeight)\n      });\n    };\n    const appendNodeContent = (editor, nodeName, previewNode, html) => {\n      const newNode = Parser(editor.schema).parse(html, { context: nodeName });\n      while (newNode.firstChild) {\n        previewNode.append(newNode.firstChild);\n      }\n    };\n    const createPlaceholderNode = (editor, node) => {\n      const name = node.name;\n      const placeHolder = new global$2('img', 1);\n      retainAttributesAndInnerHtml(editor, node, placeHolder);\n      setDimensions(node, placeHolder, {});\n      placeHolder.attr({\n        'style': node.attr('style'),\n        'src': global.transparentSrc,\n        'data-mce-object': name,\n        'class': 'mce-object mce-object-' + name\n      });\n      return placeHolder;\n    };\n    const createPreviewNode = (editor, node) => {\n      var _a;\n      const name = node.name;\n      const previewWrapper = new global$2('span', 1);\n      previewWrapper.attr({\n        'contentEditable': 'false',\n        'style': node.attr('style'),\n        'data-mce-object': name,\n        'class': 'mce-preview-object mce-object-' + name\n      });\n      retainAttributesAndInnerHtml(editor, node, previewWrapper);\n      const styles = editor.dom.parseStyle((_a = node.attr('style')) !== null && _a !== void 0 ? _a : '');\n      const previewNode = new global$2(name, 1);\n      setDimensions(node, previewNode, styles);\n      previewNode.attr({\n        src: node.attr('src'),\n        style: node.attr('style'),\n        class: node.attr('class')\n      });\n      if (name === 'iframe') {\n        previewNode.attr({\n          allowfullscreen: node.attr('allowfullscreen'),\n          frameborder: '0'\n        });\n      } else {\n        const attrs = [\n          'controls',\n          'crossorigin',\n          'currentTime',\n          'loop',\n          'muted',\n          'poster',\n          'preload'\n        ];\n        each$1(attrs, attrName => {\n          previewNode.attr(attrName, node.attr(attrName));\n        });\n        const sanitizedHtml = previewWrapper.attr('data-mce-html');\n        if (isNonNullable(sanitizedHtml)) {\n          appendNodeContent(editor, name, previewNode, unescape(sanitizedHtml));\n        }\n      }\n      const shimNode = new global$2('span', 1);\n      shimNode.attr('class', 'mce-shim');\n      previewWrapper.append(previewNode);\n      previewWrapper.append(shimNode);\n      return previewWrapper;\n    };\n    const retainAttributesAndInnerHtml = (editor, sourceNode, targetNode) => {\n      var _a;\n      const attribs = (_a = sourceNode.attributes) !== null && _a !== void 0 ? _a : [];\n      let ai = attribs.length;\n      while (ai--) {\n        const attrName = attribs[ai].name;\n        let attrValue = attribs[ai].value;\n        if (attrName !== 'width' && attrName !== 'height' && attrName !== 'style' && !startsWith(attrName, 'data-mce-')) {\n          if (attrName === 'data' || attrName === 'src') {\n            attrValue = editor.convertURL(attrValue, attrName);\n          }\n          targetNode.attr('data-mce-p-' + attrName, attrValue);\n        }\n      }\n      const serializer = global$1({ inner: true }, editor.schema);\n      const tempNode = new global$2('div', 1);\n      each$1(sourceNode.children(), child => tempNode.append(child));\n      const innerHtml = serializer.serialize(tempNode);\n      if (innerHtml) {\n        targetNode.attr('data-mce-html', escape(innerHtml));\n        targetNode.empty();\n      }\n    };\n    const isPageEmbedWrapper = node => {\n      const nodeClass = node.attr('class');\n      return isString(nodeClass) && /\\btiny-pageembed\\b/.test(nodeClass);\n    };\n    const isWithinEmbedWrapper = node => {\n      let tempNode = node;\n      while (tempNode = tempNode.parent) {\n        if (tempNode.attr('data-ephox-embed-iri') || isPageEmbedWrapper(tempNode)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const placeHolderConverter = editor => nodes => {\n      let i = nodes.length;\n      let node;\n      while (i--) {\n        node = nodes[i];\n        if (!node.parent) {\n          continue;\n        }\n        if (node.parent.attr('data-mce-object')) {\n          continue;\n        }\n        if (isLiveEmbedNode(node) && hasLiveEmbeds(editor)) {\n          if (!isWithinEmbedWrapper(node)) {\n            node.replace(createPreviewNode(editor, node));\n          }\n        } else {\n          if (!isWithinEmbedWrapper(node)) {\n            node.replace(createPlaceholderNode(editor, node));\n          }\n        }\n      }\n    };\n\n    const parseAndSanitize = (editor, context, html) => {\n      const getEditorOption = editor.options.get;\n      const sanitize = getEditorOption('xss_sanitization');\n      const validate = shouldFilterHtml(editor);\n      return Parser(editor.schema, {\n        sanitize,\n        validate\n      }).parse(html, { context });\n    };\n\n    const setup$1 = editor => {\n      editor.on('PreInit', () => {\n        const {schema, serializer, parser} = editor;\n        const boolAttrs = schema.getBoolAttrs();\n        each$1('webkitallowfullscreen mozallowfullscreen'.split(' '), name => {\n          boolAttrs[name] = {};\n        });\n        each({ embed: ['wmode'] }, (attrs, name) => {\n          const rule = schema.getElementRule(name);\n          if (rule) {\n            each$1(attrs, attr => {\n              rule.attributes[attr] = {};\n              rule.attributesOrder.push(attr);\n            });\n          }\n        });\n        parser.addNodeFilter('iframe,video,audio,object,embed,script', placeHolderConverter(editor));\n        serializer.addAttributeFilter('data-mce-object', (nodes, name) => {\n          var _a;\n          let i = nodes.length;\n          while (i--) {\n            const node = nodes[i];\n            if (!node.parent) {\n              continue;\n            }\n            const realElmName = node.attr(name);\n            const realElm = new global$2(realElmName, 1);\n            if (realElmName !== 'audio' && realElmName !== 'script') {\n              const className = node.attr('class');\n              if (className && className.indexOf('mce-preview-object') !== -1 && node.firstChild) {\n                realElm.attr({\n                  width: node.firstChild.attr('width'),\n                  height: node.firstChild.attr('height')\n                });\n              } else {\n                realElm.attr({\n                  width: node.attr('width'),\n                  height: node.attr('height')\n                });\n              }\n            }\n            realElm.attr({ style: node.attr('style') });\n            const attribs = (_a = node.attributes) !== null && _a !== void 0 ? _a : [];\n            let ai = attribs.length;\n            while (ai--) {\n              const attrName = attribs[ai].name;\n              if (attrName.indexOf('data-mce-p-') === 0) {\n                realElm.attr(attrName.substr(11), attribs[ai].value);\n              }\n            }\n            if (realElmName === 'script') {\n              realElm.attr('type', 'text/javascript');\n            }\n            const innerHtml = node.attr('data-mce-html');\n            if (innerHtml) {\n              const fragment = parseAndSanitize(editor, realElmName, unescape(innerHtml));\n              each$1(fragment.children(), child => realElm.append(child));\n            }\n            node.replace(realElm);\n          }\n        });\n      });\n      editor.on('SetContent', () => {\n        const dom = editor.dom;\n        each$1(dom.select('span.mce-preview-object'), elm => {\n          if (dom.select('span.mce-shim', elm).length === 0) {\n            dom.add(elm, 'span', { class: 'mce-shim' });\n          }\n        });\n      });\n    };\n\n    const setup = editor => {\n      editor.on('ResolveName', e => {\n        let name;\n        if (e.target.nodeType === 1 && (name = e.target.getAttribute('data-mce-object'))) {\n          e.name = name;\n        }\n      });\n    };\n\n    const register = editor => {\n      const onAction = () => editor.execCommand('mceMedia');\n      editor.ui.registry.addToggleButton('media', {\n        tooltip: 'Insert/edit media',\n        icon: 'embed',\n        onAction,\n        onSetup: buttonApi => {\n          const selection = editor.selection;\n          buttonApi.setActive(isMediaElement(selection.getNode()));\n          return selection.selectorChangedWithUnbind('img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]', buttonApi.setActive).unbind;\n        }\n      });\n      editor.ui.registry.addMenuItem('media', {\n        icon: 'embed',\n        text: 'Media...',\n        onAction\n      });\n    };\n\n    var Plugin = () => {\n      global$6.add('media', editor => {\n        register$2(editor);\n        register$1(editor);\n        register(editor);\n        setup(editor);\n        setup$1(editor);\n        setup$2(editor);\n        return get(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"image\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/image')\n//   ES2015:\n//     import 'tinymce/plugins/image'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.4.1 (2023-03-29)\n */\n\n(function () {\n    'use strict';\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const getPrototypeOf = Object.getPrototypeOf;\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq = t => a => t === a;\n    const is = (value, constructor) => isObject(value) && hasProto(value, constructor, (o, proto) => getPrototypeOf(o) === proto);\n    const isString = isType('string');\n    const isObject = isType('object');\n    const isPlainObject = value => is(value, Object);\n    const isArray = isType('array');\n    const isNull = eq(null);\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n    const isArrayOf = (value, pred) => {\n      if (isArray(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const filter = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    const nativePush = Array.prototype.push;\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const get = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get(xs, 0);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const remove = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    const fromDom = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    const SugarElement = {\n      fromHtml,\n      fromTag,\n      fromText,\n      fromDom,\n      fromPoint\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    const isNotEmpty = s => s.length > 0;\n\n    const option = name => editor => editor.options.get(name);\n    const register$2 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('image_dimensions', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('image_advtab', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('image_uploadtab', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('image_prepend_url', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('image_class_list', { processor: 'object[]' });\n      registerOption('image_description', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('image_title', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('image_caption', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('image_list', {\n        processor: value => {\n          const valid = value === false || isString(value) || isArrayOf(value, isObject) || isFunction(value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be false, a string, an array or a function.'\n          };\n        },\n        default: false\n      });\n    };\n    const hasDimensions = option('image_dimensions');\n    const hasAdvTab = option('image_advtab');\n    const hasUploadTab = option('image_uploadtab');\n    const getPrependUrl = option('image_prepend_url');\n    const getClassList = option('image_class_list');\n    const hasDescription = option('image_description');\n    const hasImageTitle = option('image_title');\n    const hasImageCaption = option('image_caption');\n    const getImageList = option('image_list');\n    const showAccessibilityOptions = option('a11y_advanced_options');\n    const isAutomaticUploadsEnabled = option('automatic_uploads');\n    const hasUploadUrl = editor => isNotEmpty(editor.options.get('images_upload_url'));\n    const hasUploadHandler = editor => isNonNullable(editor.options.get('images_upload_handler'));\n\n    const parseIntAndGetMax = (val1, val2) => Math.max(parseInt(val1, 10), parseInt(val2, 10));\n    const getImageSize = url => new Promise(callback => {\n      const img = document.createElement('img');\n      const done = dimensions => {\n        img.onload = img.onerror = null;\n        if (img.parentNode) {\n          img.parentNode.removeChild(img);\n        }\n        callback(dimensions);\n      };\n      img.onload = () => {\n        const width = parseIntAndGetMax(img.width, img.clientWidth);\n        const height = parseIntAndGetMax(img.height, img.clientHeight);\n        const dimensions = {\n          width,\n          height\n        };\n        done(Promise.resolve(dimensions));\n      };\n      img.onerror = () => {\n        done(Promise.reject(`Failed to get image dimensions for: ${ url }`));\n      };\n      const style = img.style;\n      style.visibility = 'hidden';\n      style.position = 'fixed';\n      style.bottom = style.left = '0px';\n      style.width = style.height = 'auto';\n      document.body.appendChild(img);\n      img.src = url;\n    });\n    const removePixelSuffix = value => {\n      if (value) {\n        value = value.replace(/px$/, '');\n      }\n      return value;\n    };\n    const addPixelSuffix = value => {\n      if (value.length > 0 && /^[0-9]+$/.test(value)) {\n        value += 'px';\n      }\n      return value;\n    };\n    const mergeMargins = css => {\n      if (css.margin) {\n        const splitMargin = String(css.margin).split(' ');\n        switch (splitMargin.length) {\n        case 1:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[0];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[0];\n          css['margin-left'] = css['margin-left'] || splitMargin[0];\n          break;\n        case 2:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[0];\n          css['margin-left'] = css['margin-left'] || splitMargin[1];\n          break;\n        case 3:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[2];\n          css['margin-left'] = css['margin-left'] || splitMargin[1];\n          break;\n        case 4:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[2];\n          css['margin-left'] = css['margin-left'] || splitMargin[3];\n        }\n        delete css.margin;\n      }\n      return css;\n    };\n    const createImageList = (editor, callback) => {\n      const imageList = getImageList(editor);\n      if (isString(imageList)) {\n        fetch(imageList).then(res => {\n          if (res.ok) {\n            res.json().then(callback);\n          }\n        });\n      } else if (isFunction(imageList)) {\n        imageList(callback);\n      } else {\n        callback(imageList);\n      }\n    };\n    const waitLoadImage = (editor, data, imgElm) => {\n      const selectImage = () => {\n        imgElm.onload = imgElm.onerror = null;\n        if (editor.selection) {\n          editor.selection.select(imgElm);\n          editor.nodeChanged();\n        }\n      };\n      imgElm.onload = () => {\n        if (!data.width && !data.height && hasDimensions(editor)) {\n          editor.dom.setAttribs(imgElm, {\n            width: String(imgElm.clientWidth),\n            height: String(imgElm.clientHeight)\n          });\n        }\n        selectImage();\n      };\n      imgElm.onerror = selectImage;\n    };\n    const blobToDataUri = blob => new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = () => {\n        resolve(reader.result);\n      };\n      reader.onerror = () => {\n        var _a;\n        reject((_a = reader.error) === null || _a === void 0 ? void 0 : _a.message);\n      };\n      reader.readAsDataURL(blob);\n    });\n    const isPlaceholderImage = imgElm => imgElm.nodeName === 'IMG' && (imgElm.hasAttribute('data-mce-object') || imgElm.hasAttribute('data-mce-placeholder'));\n    const isSafeImageUrl = (editor, src) => {\n      const getOption = editor.options.get;\n      return global$2.isDomSafe(src, 'img', {\n        allow_html_data_urls: getOption('allow_html_data_urls'),\n        allow_script_urls: getOption('allow_script_urls'),\n        allow_svg_data_urls: getOption('allow_svg_data_urls')\n      });\n    };\n\n    const DOM = global$3.DOM;\n    const getHspace = image => {\n      if (image.style.marginLeft && image.style.marginRight && image.style.marginLeft === image.style.marginRight) {\n        return removePixelSuffix(image.style.marginLeft);\n      } else {\n        return '';\n      }\n    };\n    const getVspace = image => {\n      if (image.style.marginTop && image.style.marginBottom && image.style.marginTop === image.style.marginBottom) {\n        return removePixelSuffix(image.style.marginTop);\n      } else {\n        return '';\n      }\n    };\n    const getBorder = image => {\n      if (image.style.borderWidth) {\n        return removePixelSuffix(image.style.borderWidth);\n      } else {\n        return '';\n      }\n    };\n    const getAttrib = (image, name) => {\n      var _a;\n      if (image.hasAttribute(name)) {\n        return (_a = image.getAttribute(name)) !== null && _a !== void 0 ? _a : '';\n      } else {\n        return '';\n      }\n    };\n    const hasCaption = image => image.parentNode !== null && image.parentNode.nodeName === 'FIGURE';\n    const updateAttrib = (image, name, value) => {\n      if (value === '' || value === null) {\n        image.removeAttribute(name);\n      } else {\n        image.setAttribute(name, value);\n      }\n    };\n    const wrapInFigure = image => {\n      const figureElm = DOM.create('figure', { class: 'image' });\n      DOM.insertAfter(figureElm, image);\n      figureElm.appendChild(image);\n      figureElm.appendChild(DOM.create('figcaption', { contentEditable: 'true' }, 'Caption'));\n      figureElm.contentEditable = 'false';\n    };\n    const removeFigure = image => {\n      const figureElm = image.parentNode;\n      if (isNonNullable(figureElm)) {\n        DOM.insertAfter(image, figureElm);\n        DOM.remove(figureElm);\n      }\n    };\n    const toggleCaption = image => {\n      if (hasCaption(image)) {\n        removeFigure(image);\n      } else {\n        wrapInFigure(image);\n      }\n    };\n    const normalizeStyle = (image, normalizeCss) => {\n      const attrValue = image.getAttribute('style');\n      const value = normalizeCss(attrValue !== null ? attrValue : '');\n      if (value.length > 0) {\n        image.setAttribute('style', value);\n        image.setAttribute('data-mce-style', value);\n      } else {\n        image.removeAttribute('style');\n      }\n    };\n    const setSize = (name, normalizeCss) => (image, name, value) => {\n      const styles = image.style;\n      if (styles[name]) {\n        styles[name] = addPixelSuffix(value);\n        normalizeStyle(image, normalizeCss);\n      } else {\n        updateAttrib(image, name, value);\n      }\n    };\n    const getSize = (image, name) => {\n      if (image.style[name]) {\n        return removePixelSuffix(image.style[name]);\n      } else {\n        return getAttrib(image, name);\n      }\n    };\n    const setHspace = (image, value) => {\n      const pxValue = addPixelSuffix(value);\n      image.style.marginLeft = pxValue;\n      image.style.marginRight = pxValue;\n    };\n    const setVspace = (image, value) => {\n      const pxValue = addPixelSuffix(value);\n      image.style.marginTop = pxValue;\n      image.style.marginBottom = pxValue;\n    };\n    const setBorder = (image, value) => {\n      const pxValue = addPixelSuffix(value);\n      image.style.borderWidth = pxValue;\n    };\n    const setBorderStyle = (image, value) => {\n      image.style.borderStyle = value;\n    };\n    const getBorderStyle = image => {\n      var _a;\n      return (_a = image.style.borderStyle) !== null && _a !== void 0 ? _a : '';\n    };\n    const isFigure = elm => isNonNullable(elm) && elm.nodeName === 'FIGURE';\n    const isImage = elm => elm.nodeName === 'IMG';\n    const getIsDecorative = image => DOM.getAttrib(image, 'alt').length === 0 && DOM.getAttrib(image, 'role') === 'presentation';\n    const getAlt = image => {\n      if (getIsDecorative(image)) {\n        return '';\n      } else {\n        return getAttrib(image, 'alt');\n      }\n    };\n    const defaultData = () => ({\n      src: '',\n      alt: '',\n      title: '',\n      width: '',\n      height: '',\n      class: '',\n      style: '',\n      caption: false,\n      hspace: '',\n      vspace: '',\n      border: '',\n      borderStyle: '',\n      isDecorative: false\n    });\n    const getStyleValue = (normalizeCss, data) => {\n      var _a;\n      const image = document.createElement('img');\n      updateAttrib(image, 'style', data.style);\n      if (getHspace(image) || data.hspace !== '') {\n        setHspace(image, data.hspace);\n      }\n      if (getVspace(image) || data.vspace !== '') {\n        setVspace(image, data.vspace);\n      }\n      if (getBorder(image) || data.border !== '') {\n        setBorder(image, data.border);\n      }\n      if (getBorderStyle(image) || data.borderStyle !== '') {\n        setBorderStyle(image, data.borderStyle);\n      }\n      return normalizeCss((_a = image.getAttribute('style')) !== null && _a !== void 0 ? _a : '');\n    };\n    const create = (normalizeCss, data) => {\n      const image = document.createElement('img');\n      write(normalizeCss, {\n        ...data,\n        caption: false\n      }, image);\n      setAlt(image, data.alt, data.isDecorative);\n      if (data.caption) {\n        const figure = DOM.create('figure', { class: 'image' });\n        figure.appendChild(image);\n        figure.appendChild(DOM.create('figcaption', { contentEditable: 'true' }, 'Caption'));\n        figure.contentEditable = 'false';\n        return figure;\n      } else {\n        return image;\n      }\n    };\n    const read = (normalizeCss, image) => ({\n      src: getAttrib(image, 'src'),\n      alt: getAlt(image),\n      title: getAttrib(image, 'title'),\n      width: getSize(image, 'width'),\n      height: getSize(image, 'height'),\n      class: getAttrib(image, 'class'),\n      style: normalizeCss(getAttrib(image, 'style')),\n      caption: hasCaption(image),\n      hspace: getHspace(image),\n      vspace: getVspace(image),\n      border: getBorder(image),\n      borderStyle: getBorderStyle(image),\n      isDecorative: getIsDecorative(image)\n    });\n    const updateProp = (image, oldData, newData, name, set) => {\n      if (newData[name] !== oldData[name]) {\n        set(image, name, String(newData[name]));\n      }\n    };\n    const setAlt = (image, alt, isDecorative) => {\n      if (isDecorative) {\n        DOM.setAttrib(image, 'role', 'presentation');\n        const sugarImage = SugarElement.fromDom(image);\n        set(sugarImage, 'alt', '');\n      } else {\n        if (isNull(alt)) {\n          const sugarImage = SugarElement.fromDom(image);\n          remove(sugarImage, 'alt');\n        } else {\n          const sugarImage = SugarElement.fromDom(image);\n          set(sugarImage, 'alt', alt);\n        }\n        if (DOM.getAttrib(image, 'role') === 'presentation') {\n          DOM.setAttrib(image, 'role', '');\n        }\n      }\n    };\n    const updateAlt = (image, oldData, newData) => {\n      if (newData.alt !== oldData.alt || newData.isDecorative !== oldData.isDecorative) {\n        setAlt(image, newData.alt, newData.isDecorative);\n      }\n    };\n    const normalized = (set, normalizeCss) => (image, name, value) => {\n      set(image, value);\n      normalizeStyle(image, normalizeCss);\n    };\n    const write = (normalizeCss, newData, image) => {\n      const oldData = read(normalizeCss, image);\n      updateProp(image, oldData, newData, 'caption', (image, _name, _value) => toggleCaption(image));\n      updateProp(image, oldData, newData, 'src', updateAttrib);\n      updateProp(image, oldData, newData, 'title', updateAttrib);\n      updateProp(image, oldData, newData, 'width', setSize('width', normalizeCss));\n      updateProp(image, oldData, newData, 'height', setSize('height', normalizeCss));\n      updateProp(image, oldData, newData, 'class', updateAttrib);\n      updateProp(image, oldData, newData, 'style', normalized((image, value) => updateAttrib(image, 'style', value), normalizeCss));\n      updateProp(image, oldData, newData, 'hspace', normalized(setHspace, normalizeCss));\n      updateProp(image, oldData, newData, 'vspace', normalized(setVspace, normalizeCss));\n      updateProp(image, oldData, newData, 'border', normalized(setBorder, normalizeCss));\n      updateProp(image, oldData, newData, 'borderStyle', normalized(setBorderStyle, normalizeCss));\n      updateAlt(image, oldData, newData);\n    };\n\n    const normalizeCss$1 = (editor, cssText) => {\n      const css = editor.dom.styles.parse(cssText);\n      const mergedCss = mergeMargins(css);\n      const compressed = editor.dom.styles.parse(editor.dom.styles.serialize(mergedCss));\n      return editor.dom.styles.serialize(compressed);\n    };\n    const getSelectedImage = editor => {\n      const imgElm = editor.selection.getNode();\n      const figureElm = editor.dom.getParent(imgElm, 'figure.image');\n      if (figureElm) {\n        return editor.dom.select('img', figureElm)[0];\n      }\n      if (imgElm && (imgElm.nodeName !== 'IMG' || isPlaceholderImage(imgElm))) {\n        return null;\n      }\n      return imgElm;\n    };\n    const splitTextBlock = (editor, figure) => {\n      var _a;\n      const dom = editor.dom;\n      const textBlockElements = filter(editor.schema.getTextBlockElements(), (_, parentElm) => !editor.schema.isValidChild(parentElm, 'figure'));\n      const textBlock = dom.getParent(figure.parentNode, node => hasNonNullableKey(textBlockElements, node.nodeName), editor.getBody());\n      if (textBlock) {\n        return (_a = dom.split(textBlock, figure)) !== null && _a !== void 0 ? _a : figure;\n      } else {\n        return figure;\n      }\n    };\n    const readImageDataFromSelection = editor => {\n      const image = getSelectedImage(editor);\n      return image ? read(css => normalizeCss$1(editor, css), image) : defaultData();\n    };\n    const insertImageAtCaret = (editor, data) => {\n      const elm = create(css => normalizeCss$1(editor, css), data);\n      editor.dom.setAttrib(elm, 'data-mce-id', '__mcenew');\n      editor.focus();\n      editor.selection.setContent(elm.outerHTML);\n      const insertedElm = editor.dom.select('*[data-mce-id=\"__mcenew\"]')[0];\n      editor.dom.setAttrib(insertedElm, 'data-mce-id', null);\n      if (isFigure(insertedElm)) {\n        const figure = splitTextBlock(editor, insertedElm);\n        editor.selection.select(figure);\n      } else {\n        editor.selection.select(insertedElm);\n      }\n    };\n    const syncSrcAttr = (editor, image) => {\n      editor.dom.setAttrib(image, 'src', image.getAttribute('src'));\n    };\n    const deleteImage = (editor, image) => {\n      if (image) {\n        const elm = editor.dom.is(image.parentNode, 'figure.image') ? image.parentNode : image;\n        editor.dom.remove(elm);\n        editor.focus();\n        editor.nodeChanged();\n        if (editor.dom.isEmpty(editor.getBody())) {\n          editor.setContent('');\n          editor.selection.setCursorLocation();\n        }\n      }\n    };\n    const writeImageDataToSelection = (editor, data) => {\n      const image = getSelectedImage(editor);\n      if (image) {\n        write(css => normalizeCss$1(editor, css), data, image);\n        syncSrcAttr(editor, image);\n        if (isFigure(image.parentNode)) {\n          const figure = image.parentNode;\n          splitTextBlock(editor, figure);\n          editor.selection.select(image.parentNode);\n        } else {\n          editor.selection.select(image);\n          waitLoadImage(editor, data, image);\n        }\n      }\n    };\n    const sanitizeImageData = (editor, data) => {\n      const src = data.src;\n      return {\n        ...data,\n        src: isSafeImageUrl(editor, src) ? src : ''\n      };\n    };\n    const insertOrUpdateImage = (editor, partialData) => {\n      const image = getSelectedImage(editor);\n      if (image) {\n        const selectedImageData = read(css => normalizeCss$1(editor, css), image);\n        const data = {\n          ...selectedImageData,\n          ...partialData\n        };\n        const sanitizedData = sanitizeImageData(editor, data);\n        if (data.src) {\n          writeImageDataToSelection(editor, sanitizedData);\n        } else {\n          deleteImage(editor, image);\n        }\n      } else if (partialData.src) {\n        insertImageAtCaret(editor, {\n          ...defaultData(),\n          ...partialData\n        });\n      }\n    };\n\n    const deep = (old, nu) => {\n      const bothObjects = isPlainObject(old) && isPlainObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    const baseMerge = merger => {\n      return (...objects) => {\n        if (objects.length === 0) {\n          throw new Error(`Can't merge zero objects`);\n        }\n        const ret = {};\n        for (let j = 0; j < objects.length; j++) {\n          const curObject = objects[j];\n          for (const key in curObject) {\n            if (has(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    const deepMerge = baseMerge(deep);\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.ImageUploader');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const getValue = item => isString(item.value) ? item.value : '';\n    const getText = item => {\n      if (isString(item.text)) {\n        return item.text;\n      } else if (isString(item.title)) {\n        return item.title;\n      } else {\n        return '';\n      }\n    };\n    const sanitizeList = (list, extractValue) => {\n      const out = [];\n      global.each(list, item => {\n        const text = getText(item);\n        if (item.menu !== undefined) {\n          const items = sanitizeList(item.menu, extractValue);\n          out.push({\n            text,\n            items\n          });\n        } else {\n          const value = extractValue(item);\n          out.push({\n            text,\n            value\n          });\n        }\n      });\n      return out;\n    };\n    const sanitizer = (extractor = getValue) => list => {\n      if (list) {\n        return Optional.from(list).map(list => sanitizeList(list, extractor));\n      } else {\n        return Optional.none();\n      }\n    };\n    const sanitize = list => sanitizer(getValue)(list);\n    const isGroup = item => has(item, 'items');\n    const findEntryDelegate = (list, value) => findMap(list, item => {\n      if (isGroup(item)) {\n        return findEntryDelegate(item.items, value);\n      } else if (item.value === value) {\n        return Optional.some(item);\n      } else {\n        return Optional.none();\n      }\n    });\n    const findEntry = (optList, value) => optList.bind(list => findEntryDelegate(list, value));\n    const ListUtils = {\n      sanitizer,\n      sanitize,\n      findEntry\n    };\n\n    const makeTab$2 = _info => ({\n      title: 'Advanced',\n      name: 'advanced',\n      items: [{\n          type: 'grid',\n          columns: 2,\n          items: [\n            {\n              type: 'input',\n              label: 'Vertical space',\n              name: 'vspace',\n              inputMode: 'numeric'\n            },\n            {\n              type: 'input',\n              label: 'Horizontal space',\n              name: 'hspace',\n              inputMode: 'numeric'\n            },\n            {\n              type: 'input',\n              label: 'Border width',\n              name: 'border',\n              inputMode: 'numeric'\n            },\n            {\n              type: 'listbox',\n              name: 'borderstyle',\n              label: 'Border style',\n              items: [\n                {\n                  text: 'Select...',\n                  value: ''\n                },\n                {\n                  text: 'Solid',\n                  value: 'solid'\n                },\n                {\n                  text: 'Dotted',\n                  value: 'dotted'\n                },\n                {\n                  text: 'Dashed',\n                  value: 'dashed'\n                },\n                {\n                  text: 'Double',\n                  value: 'double'\n                },\n                {\n                  text: 'Groove',\n                  value: 'groove'\n                },\n                {\n                  text: 'Ridge',\n                  value: 'ridge'\n                },\n                {\n                  text: 'Inset',\n                  value: 'inset'\n                },\n                {\n                  text: 'Outset',\n                  value: 'outset'\n                },\n                {\n                  text: 'None',\n                  value: 'none'\n                },\n                {\n                  text: 'Hidden',\n                  value: 'hidden'\n                }\n              ]\n            }\n          ]\n        }]\n    });\n    const AdvTab = { makeTab: makeTab$2 };\n\n    const collect = editor => {\n      const urlListSanitizer = ListUtils.sanitizer(item => editor.convertURL(item.value || item.url || '', 'src'));\n      const futureImageList = new Promise(completer => {\n        createImageList(editor, imageList => {\n          completer(urlListSanitizer(imageList).map(items => flatten([\n            [{\n                text: 'None',\n                value: ''\n              }],\n            items\n          ])));\n        });\n      });\n      const classList = ListUtils.sanitize(getClassList(editor));\n      const hasAdvTab$1 = hasAdvTab(editor);\n      const hasUploadTab$1 = hasUploadTab(editor);\n      const hasUploadUrl$1 = hasUploadUrl(editor);\n      const hasUploadHandler$1 = hasUploadHandler(editor);\n      const image = readImageDataFromSelection(editor);\n      const hasDescription$1 = hasDescription(editor);\n      const hasImageTitle$1 = hasImageTitle(editor);\n      const hasDimensions$1 = hasDimensions(editor);\n      const hasImageCaption$1 = hasImageCaption(editor);\n      const hasAccessibilityOptions = showAccessibilityOptions(editor);\n      const automaticUploads = isAutomaticUploadsEnabled(editor);\n      const prependURL = Optional.some(getPrependUrl(editor)).filter(preUrl => isString(preUrl) && preUrl.length > 0);\n      return futureImageList.then(imageList => ({\n        image,\n        imageList,\n        classList,\n        hasAdvTab: hasAdvTab$1,\n        hasUploadTab: hasUploadTab$1,\n        hasUploadUrl: hasUploadUrl$1,\n        hasUploadHandler: hasUploadHandler$1,\n        hasDescription: hasDescription$1,\n        hasImageTitle: hasImageTitle$1,\n        hasDimensions: hasDimensions$1,\n        hasImageCaption: hasImageCaption$1,\n        prependURL,\n        hasAccessibilityOptions,\n        automaticUploads\n      }));\n    };\n\n    const makeItems = info => {\n      const imageUrl = {\n        name: 'src',\n        type: 'urlinput',\n        filetype: 'image',\n        label: 'Source'\n      };\n      const imageList = info.imageList.map(items => ({\n        name: 'images',\n        type: 'listbox',\n        label: 'Image list',\n        items\n      }));\n      const imageDescription = {\n        name: 'alt',\n        type: 'input',\n        label: 'Alternative description',\n        enabled: !(info.hasAccessibilityOptions && info.image.isDecorative)\n      };\n      const imageTitle = {\n        name: 'title',\n        type: 'input',\n        label: 'Image title'\n      };\n      const imageDimensions = {\n        name: 'dimensions',\n        type: 'sizeinput'\n      };\n      const isDecorative = {\n        type: 'label',\n        label: 'Accessibility',\n        items: [{\n            name: 'isDecorative',\n            type: 'checkbox',\n            label: 'Image is decorative'\n          }]\n      };\n      const classList = info.classList.map(items => ({\n        name: 'classes',\n        type: 'listbox',\n        label: 'Class',\n        items\n      }));\n      const caption = {\n        type: 'label',\n        label: 'Caption',\n        items: [{\n            type: 'checkbox',\n            name: 'caption',\n            label: 'Show caption'\n          }]\n      };\n      const getDialogContainerType = useColumns => useColumns ? {\n        type: 'grid',\n        columns: 2\n      } : { type: 'panel' };\n      return flatten([\n        [imageUrl],\n        imageList.toArray(),\n        info.hasAccessibilityOptions && info.hasDescription ? [isDecorative] : [],\n        info.hasDescription ? [imageDescription] : [],\n        info.hasImageTitle ? [imageTitle] : [],\n        info.hasDimensions ? [imageDimensions] : [],\n        [{\n            ...getDialogContainerType(info.classList.isSome() && info.hasImageCaption),\n            items: flatten([\n              classList.toArray(),\n              info.hasImageCaption ? [caption] : []\n            ])\n          }]\n      ]);\n    };\n    const makeTab$1 = info => ({\n      title: 'General',\n      name: 'general',\n      items: makeItems(info)\n    });\n    const MainTab = {\n      makeTab: makeTab$1,\n      makeItems\n    };\n\n    const makeTab = _info => {\n      const items = [{\n          type: 'dropzone',\n          name: 'fileinput'\n        }];\n      return {\n        title: 'Upload',\n        name: 'upload',\n        items\n      };\n    };\n    const UploadTab = { makeTab };\n\n    const createState = info => ({\n      prevImage: ListUtils.findEntry(info.imageList, info.image.src),\n      prevAlt: info.image.alt,\n      open: true\n    });\n    const fromImageData = image => ({\n      src: {\n        value: image.src,\n        meta: {}\n      },\n      images: image.src,\n      alt: image.alt,\n      title: image.title,\n      dimensions: {\n        width: image.width,\n        height: image.height\n      },\n      classes: image.class,\n      caption: image.caption,\n      style: image.style,\n      vspace: image.vspace,\n      border: image.border,\n      hspace: image.hspace,\n      borderstyle: image.borderStyle,\n      fileinput: [],\n      isDecorative: image.isDecorative\n    });\n    const toImageData = (data, removeEmptyAlt) => ({\n      src: data.src.value,\n      alt: (data.alt === null || data.alt.length === 0) && removeEmptyAlt ? null : data.alt,\n      title: data.title,\n      width: data.dimensions.width,\n      height: data.dimensions.height,\n      class: data.classes,\n      style: data.style,\n      caption: data.caption,\n      hspace: data.hspace,\n      vspace: data.vspace,\n      border: data.border,\n      borderStyle: data.borderstyle,\n      isDecorative: data.isDecorative\n    });\n    const addPrependUrl2 = (info, srcURL) => {\n      if (!/^(?:[a-zA-Z]+:)?\\/\\//.test(srcURL)) {\n        return info.prependURL.bind(prependUrl => {\n          if (srcURL.substring(0, prependUrl.length) !== prependUrl) {\n            return Optional.some(prependUrl + srcURL);\n          }\n          return Optional.none();\n        });\n      }\n      return Optional.none();\n    };\n    const addPrependUrl = (info, api) => {\n      const data = api.getData();\n      addPrependUrl2(info, data.src.value).each(srcURL => {\n        api.setData({\n          src: {\n            value: srcURL,\n            meta: data.src.meta\n          }\n        });\n      });\n    };\n    const formFillFromMeta2 = (info, data, meta) => {\n      if (info.hasDescription && isString(meta.alt)) {\n        data.alt = meta.alt;\n      }\n      if (info.hasAccessibilityOptions) {\n        data.isDecorative = meta.isDecorative || data.isDecorative || false;\n      }\n      if (info.hasImageTitle && isString(meta.title)) {\n        data.title = meta.title;\n      }\n      if (info.hasDimensions) {\n        if (isString(meta.width)) {\n          data.dimensions.width = meta.width;\n        }\n        if (isString(meta.height)) {\n          data.dimensions.height = meta.height;\n        }\n      }\n      if (isString(meta.class)) {\n        ListUtils.findEntry(info.classList, meta.class).each(entry => {\n          data.classes = entry.value;\n        });\n      }\n      if (info.hasImageCaption) {\n        if (isBoolean(meta.caption)) {\n          data.caption = meta.caption;\n        }\n      }\n      if (info.hasAdvTab) {\n        if (isString(meta.style)) {\n          data.style = meta.style;\n        }\n        if (isString(meta.vspace)) {\n          data.vspace = meta.vspace;\n        }\n        if (isString(meta.border)) {\n          data.border = meta.border;\n        }\n        if (isString(meta.hspace)) {\n          data.hspace = meta.hspace;\n        }\n        if (isString(meta.borderstyle)) {\n          data.borderstyle = meta.borderstyle;\n        }\n      }\n    };\n    const formFillFromMeta = (info, api) => {\n      const data = api.getData();\n      const meta = data.src.meta;\n      if (meta !== undefined) {\n        const newData = deepMerge({}, data);\n        formFillFromMeta2(info, newData, meta);\n        api.setData(newData);\n      }\n    };\n    const calculateImageSize = (helpers, info, state, api) => {\n      const data = api.getData();\n      const url = data.src.value;\n      const meta = data.src.meta || {};\n      if (!meta.width && !meta.height && info.hasDimensions) {\n        if (isNotEmpty(url)) {\n          helpers.imageSize(url).then(size => {\n            if (state.open) {\n              api.setData({ dimensions: size });\n            }\n          }).catch(e => console.error(e));\n        } else {\n          api.setData({\n            dimensions: {\n              width: '',\n              height: ''\n            }\n          });\n        }\n      }\n    };\n    const updateImagesDropdown = (info, state, api) => {\n      const data = api.getData();\n      const image = ListUtils.findEntry(info.imageList, data.src.value);\n      state.prevImage = image;\n      api.setData({ images: image.map(entry => entry.value).getOr('') });\n    };\n    const changeSrc = (helpers, info, state, api) => {\n      addPrependUrl(info, api);\n      formFillFromMeta(info, api);\n      calculateImageSize(helpers, info, state, api);\n      updateImagesDropdown(info, state, api);\n    };\n    const changeImages = (helpers, info, state, api) => {\n      const data = api.getData();\n      const image = ListUtils.findEntry(info.imageList, data.images);\n      image.each(img => {\n        const updateAlt = data.alt === '' || state.prevImage.map(image => image.text === data.alt).getOr(false);\n        if (updateAlt) {\n          if (img.value === '') {\n            api.setData({\n              src: img,\n              alt: state.prevAlt\n            });\n          } else {\n            api.setData({\n              src: img,\n              alt: img.text\n            });\n          }\n        } else {\n          api.setData({ src: img });\n        }\n      });\n      state.prevImage = image;\n      changeSrc(helpers, info, state, api);\n    };\n    const changeFileInput = (helpers, info, state, api) => {\n      const data = api.getData();\n      api.block('Uploading image');\n      head(data.fileinput).fold(() => {\n        api.unblock();\n      }, file => {\n        const blobUri = URL.createObjectURL(file);\n        const finalize = () => {\n          api.unblock();\n          URL.revokeObjectURL(blobUri);\n        };\n        const updateSrcAndSwitchTab = url => {\n          api.setData({\n            src: {\n              value: url,\n              meta: {}\n            }\n          });\n          api.showTab('general');\n          changeSrc(helpers, info, state, api);\n        };\n        blobToDataUri(file).then(dataUrl => {\n          const blobInfo = helpers.createBlobCache(file, blobUri, dataUrl);\n          if (info.automaticUploads) {\n            helpers.uploadImage(blobInfo).then(result => {\n              updateSrcAndSwitchTab(result.url);\n              finalize();\n            }).catch(err => {\n              finalize();\n              helpers.alertErr(err);\n            });\n          } else {\n            helpers.addToBlobCache(blobInfo);\n            updateSrcAndSwitchTab(blobInfo.blobUri());\n            api.unblock();\n          }\n        });\n      });\n    };\n    const changeHandler = (helpers, info, state) => (api, evt) => {\n      if (evt.name === 'src') {\n        changeSrc(helpers, info, state, api);\n      } else if (evt.name === 'images') {\n        changeImages(helpers, info, state, api);\n      } else if (evt.name === 'alt') {\n        state.prevAlt = api.getData().alt;\n      } else if (evt.name === 'fileinput') {\n        changeFileInput(helpers, info, state, api);\n      } else if (evt.name === 'isDecorative') {\n        api.setEnabled('alt', !api.getData().isDecorative);\n      }\n    };\n    const closeHandler = state => () => {\n      state.open = false;\n    };\n    const makeDialogBody = info => {\n      if (info.hasAdvTab || info.hasUploadUrl || info.hasUploadHandler) {\n        const tabPanel = {\n          type: 'tabpanel',\n          tabs: flatten([\n            [MainTab.makeTab(info)],\n            info.hasAdvTab ? [AdvTab.makeTab(info)] : [],\n            info.hasUploadTab && (info.hasUploadUrl || info.hasUploadHandler) ? [UploadTab.makeTab(info)] : []\n          ])\n        };\n        return tabPanel;\n      } else {\n        const panel = {\n          type: 'panel',\n          items: MainTab.makeItems(info)\n        };\n        return panel;\n      }\n    };\n    const submitHandler = (editor, info, helpers) => api => {\n      const data = deepMerge(fromImageData(info.image), api.getData());\n      const finalData = {\n        ...data,\n        style: getStyleValue(helpers.normalizeCss, toImageData(data, false))\n      };\n      editor.execCommand('mceUpdateImage', false, toImageData(finalData, info.hasAccessibilityOptions));\n      editor.editorUpload.uploadImagesAuto();\n      api.close();\n    };\n    const imageSize = editor => url => {\n      if (!isSafeImageUrl(editor, url)) {\n        return Promise.resolve({\n          width: '',\n          height: ''\n        });\n      } else {\n        return getImageSize(editor.documentBaseURI.toAbsolute(url)).then(dimensions => ({\n          width: String(dimensions.width),\n          height: String(dimensions.height)\n        }));\n      }\n    };\n    const createBlobCache = editor => (file, blobUri, dataUrl) => {\n      var _a;\n      return editor.editorUpload.blobCache.create({\n        blob: file,\n        blobUri,\n        name: (_a = file.name) === null || _a === void 0 ? void 0 : _a.replace(/\\.[^\\.]+$/, ''),\n        filename: file.name,\n        base64: dataUrl.split(',')[1]\n      });\n    };\n    const addToBlobCache = editor => blobInfo => {\n      editor.editorUpload.blobCache.add(blobInfo);\n    };\n    const alertErr = editor => message => {\n      editor.windowManager.alert(message);\n    };\n    const normalizeCss = editor => cssText => normalizeCss$1(editor, cssText);\n    const parseStyle = editor => cssText => editor.dom.parseStyle(cssText);\n    const serializeStyle = editor => (stylesArg, name) => editor.dom.serializeStyle(stylesArg, name);\n    const uploadImage = editor => blobInfo => global$1(editor).upload([blobInfo], false).then(results => {\n      var _a;\n      if (results.length === 0) {\n        return Promise.reject('Failed to upload image');\n      } else if (results[0].status === false) {\n        return Promise.reject((_a = results[0].error) === null || _a === void 0 ? void 0 : _a.message);\n      } else {\n        return results[0];\n      }\n    });\n    const Dialog = editor => {\n      const helpers = {\n        imageSize: imageSize(editor),\n        addToBlobCache: addToBlobCache(editor),\n        createBlobCache: createBlobCache(editor),\n        alertErr: alertErr(editor),\n        normalizeCss: normalizeCss(editor),\n        parseStyle: parseStyle(editor),\n        serializeStyle: serializeStyle(editor),\n        uploadImage: uploadImage(editor)\n      };\n      const open = () => {\n        collect(editor).then(info => {\n          const state = createState(info);\n          return {\n            title: 'Insert/Edit Image',\n            size: 'normal',\n            body: makeDialogBody(info),\n            buttons: [\n              {\n                type: 'cancel',\n                name: 'cancel',\n                text: 'Cancel'\n              },\n              {\n                type: 'submit',\n                name: 'save',\n                text: 'Save',\n                primary: true\n              }\n            ],\n            initialData: fromImageData(info.image),\n            onSubmit: submitHandler(editor, info, helpers),\n            onChange: changeHandler(helpers, info, state),\n            onClose: closeHandler(state)\n          };\n        }).then(editor.windowManager.open);\n      };\n      return { open };\n    };\n\n    const register$1 = editor => {\n      editor.addCommand('mceImage', Dialog(editor).open);\n      editor.addCommand('mceUpdateImage', (_ui, data) => {\n        editor.undoManager.transact(() => insertOrUpdateImage(editor, data));\n      });\n    };\n\n    const hasImageClass = node => {\n      const className = node.attr('class');\n      return isNonNullable(className) && /\\bimage\\b/.test(className);\n    };\n    const toggleContentEditableState = state => nodes => {\n      let i = nodes.length;\n      const toggleContentEditable = node => {\n        node.attr('contenteditable', state ? 'true' : null);\n      };\n      while (i--) {\n        const node = nodes[i];\n        if (hasImageClass(node)) {\n          node.attr('contenteditable', state ? 'false' : null);\n          global.each(node.getAll('figcaption'), toggleContentEditable);\n        }\n      }\n    };\n    const setup = editor => {\n      editor.on('PreInit', () => {\n        editor.parser.addNodeFilter('figure', toggleContentEditableState(true));\n        editor.serializer.addNodeFilter('figure', toggleContentEditableState(false));\n      });\n    };\n\n    const register = editor => {\n      editor.ui.registry.addToggleButton('image', {\n        icon: 'image',\n        tooltip: 'Insert/edit image',\n        onAction: Dialog(editor).open,\n        onSetup: buttonApi => {\n          buttonApi.setActive(isNonNullable(getSelectedImage(editor)));\n          return editor.selection.selectorChangedWithUnbind('img:not([data-mce-object]):not([data-mce-placeholder]),figure.image', buttonApi.setActive).unbind;\n        }\n      });\n      editor.ui.registry.addMenuItem('image', {\n        icon: 'image',\n        text: 'Image...',\n        onAction: Dialog(editor).open\n      });\n      editor.ui.registry.addContextMenu('image', { update: element => isFigure(element) || isImage(element) && !isPlaceholderImage(element) ? ['image'] : [] });\n    };\n\n    var Plugin = () => {\n      global$4.add('image', editor => {\n        register$2(editor);\n        setup(editor);\n        register(editor);\n        register$1(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"link\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/link')\n//   ES2015:\n//     import 'tinymce/plugins/link'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.4.1 (2023-03-29)\n */\n\n(function () {\n    'use strict';\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq = t => a => t === a;\n    const isString = isType('string');\n    const isObject = isType('object');\n    const isArray = isType('array');\n    const isNull = eq(null);\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isArrayOf = (value, pred) => {\n      if (isArray(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains = (xs, x) => rawIndexOf(xs, x) > -1;\n    const map = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const foldl = (xs, f, acc) => {\n      each$1(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind = (xs, f) => flatten(map(xs, f));\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const is = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const option = name => editor => editor.options.get(name);\n    const register$1 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('link_assume_external_targets', {\n        processor: value => {\n          const valid = isString(value) || isBoolean(value);\n          if (valid) {\n            if (value === true) {\n              return {\n                value: 1,\n                valid\n              };\n            } else if (value === 'http' || value === 'https') {\n              return {\n                value,\n                valid\n              };\n            } else {\n              return {\n                value: 0,\n                valid\n              };\n            }\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a string or a boolean.'\n            };\n          }\n        },\n        default: false\n      });\n      registerOption('link_context_toolbar', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('link_list', { processor: value => isString(value) || isFunction(value) || isArrayOf(value, isObject) });\n      registerOption('link_default_target', { processor: 'string' });\n      registerOption('link_default_protocol', {\n        processor: 'string',\n        default: 'https'\n      });\n      registerOption('link_target_list', {\n        processor: value => isBoolean(value) || isArrayOf(value, isObject),\n        default: true\n      });\n      registerOption('link_rel_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('link_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('link_title', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('allow_unsafe_link_target', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('link_quicklink', {\n        processor: 'boolean',\n        default: false\n      });\n    };\n    const assumeExternalTargets = option('link_assume_external_targets');\n    const hasContextToolbar = option('link_context_toolbar');\n    const getLinkList = option('link_list');\n    const getDefaultLinkTarget = option('link_default_target');\n    const getDefaultLinkProtocol = option('link_default_protocol');\n    const getTargetList = option('link_target_list');\n    const getRelList = option('link_rel_list');\n    const getLinkClassList = option('link_class_list');\n    const shouldShowLinkTitle = option('link_title');\n    const allowUnsafeLinkTarget = option('allow_unsafe_link_target');\n    const useQuickLink = option('link_quicklink');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const getValue = item => isString(item.value) ? item.value : '';\n    const getText = item => {\n      if (isString(item.text)) {\n        return item.text;\n      } else if (isString(item.title)) {\n        return item.title;\n      } else {\n        return '';\n      }\n    };\n    const sanitizeList = (list, extractValue) => {\n      const out = [];\n      global$4.each(list, item => {\n        const text = getText(item);\n        if (item.menu !== undefined) {\n          const items = sanitizeList(item.menu, extractValue);\n          out.push({\n            text,\n            items\n          });\n        } else {\n          const value = extractValue(item);\n          out.push({\n            text,\n            value\n          });\n        }\n      });\n      return out;\n    };\n    const sanitizeWith = (extracter = getValue) => list => Optional.from(list).map(list => sanitizeList(list, extracter));\n    const sanitize = list => sanitizeWith(getValue)(list);\n    const createUi = (name, label) => items => ({\n      name,\n      type: 'listbox',\n      label,\n      items\n    });\n    const ListOptions = {\n      sanitize,\n      sanitizeWith,\n      createUi,\n      getValue\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const filter = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    const isAnchor = elm => isNonNullable(elm) && elm.nodeName.toLowerCase() === 'a';\n    const isLink = elm => isAnchor(elm) && !!getHref(elm);\n    const collectNodesInRange = (rng, predicate) => {\n      if (rng.collapsed) {\n        return [];\n      } else {\n        const contents = rng.cloneContents();\n        const firstChild = contents.firstChild;\n        const walker = new global$3(firstChild, contents);\n        const elements = [];\n        let current = firstChild;\n        do {\n          if (predicate(current)) {\n            elements.push(current);\n          }\n        } while (current = walker.next());\n        return elements;\n      }\n    };\n    const hasProtocol = url => /^\\w+:/i.test(url);\n    const getHref = elm => {\n      var _a, _b;\n      return (_b = (_a = elm.getAttribute('data-mce-href')) !== null && _a !== void 0 ? _a : elm.getAttribute('href')) !== null && _b !== void 0 ? _b : '';\n    };\n    const applyRelTargetRules = (rel, isUnsafe) => {\n      const rules = ['noopener'];\n      const rels = rel ? rel.split(/\\s+/) : [];\n      const toString = rels => global$4.trim(rels.sort().join(' '));\n      const addTargetRules = rels => {\n        rels = removeTargetRules(rels);\n        return rels.length > 0 ? rels.concat(rules) : rules;\n      };\n      const removeTargetRules = rels => rels.filter(val => global$4.inArray(rules, val) === -1);\n      const newRels = isUnsafe ? addTargetRules(rels) : removeTargetRules(rels);\n      return newRels.length > 0 ? toString(newRels) : '';\n    };\n    const trimCaretContainers = text => text.replace(/\\uFEFF/g, '');\n    const getAnchorElement = (editor, selectedElm) => {\n      selectedElm = selectedElm || getLinksInSelection(editor.selection.getRng())[0] || editor.selection.getNode();\n      if (isImageFigure(selectedElm)) {\n        return Optional.from(editor.dom.select('a[href]', selectedElm)[0]);\n      } else {\n        return Optional.from(editor.dom.getParent(selectedElm, 'a[href]'));\n      }\n    };\n    const isInAnchor = (editor, selectedElm) => getAnchorElement(editor, selectedElm).isSome();\n    const getAnchorText = (selection, anchorElm) => {\n      const text = anchorElm.fold(() => selection.getContent({ format: 'text' }), anchorElm => anchorElm.innerText || anchorElm.textContent || '');\n      return trimCaretContainers(text);\n    };\n    const getLinksInSelection = rng => collectNodesInRange(rng, isLink);\n    const getLinks$1 = elements => global$4.grep(elements, isLink);\n    const hasLinks = elements => getLinks$1(elements).length > 0;\n    const hasLinksInSelection = rng => getLinksInSelection(rng).length > 0;\n    const isOnlyTextSelected = editor => {\n      const inlineTextElements = editor.schema.getTextInlineElements();\n      const isElement = elm => elm.nodeType === 1 && !isAnchor(elm) && !has(inlineTextElements, elm.nodeName.toLowerCase());\n      const isInBlockAnchor = getAnchorElement(editor).exists(anchor => anchor.hasAttribute('data-mce-block'));\n      if (isInBlockAnchor) {\n        return false;\n      }\n      const rng = editor.selection.getRng();\n      if (!rng.collapsed) {\n        const elements = collectNodesInRange(rng, isElement);\n        return elements.length === 0;\n      } else {\n        return true;\n      }\n    };\n    const isImageFigure = elm => isNonNullable(elm) && elm.nodeName === 'FIGURE' && /\\bimage\\b/i.test(elm.className);\n    const getLinkAttrs = data => {\n      const attrs = [\n        'title',\n        'rel',\n        'class',\n        'target'\n      ];\n      return foldl(attrs, (acc, key) => {\n        data[key].each(value => {\n          acc[key] = value.length > 0 ? value : null;\n        });\n        return acc;\n      }, { href: data.href });\n    };\n    const handleExternalTargets = (href, assumeExternalTargets) => {\n      if ((assumeExternalTargets === 'http' || assumeExternalTargets === 'https') && !hasProtocol(href)) {\n        return assumeExternalTargets + '://' + href;\n      }\n      return href;\n    };\n    const applyLinkOverrides = (editor, linkAttrs) => {\n      const newLinkAttrs = { ...linkAttrs };\n      if (getRelList(editor).length === 0 && !allowUnsafeLinkTarget(editor)) {\n        const newRel = applyRelTargetRules(newLinkAttrs.rel, newLinkAttrs.target === '_blank');\n        newLinkAttrs.rel = newRel ? newRel : null;\n      }\n      if (Optional.from(newLinkAttrs.target).isNone() && getTargetList(editor) === false) {\n        newLinkAttrs.target = getDefaultLinkTarget(editor);\n      }\n      newLinkAttrs.href = handleExternalTargets(newLinkAttrs.href, assumeExternalTargets(editor));\n      return newLinkAttrs;\n    };\n    const updateLink = (editor, anchorElm, text, linkAttrs) => {\n      text.each(text => {\n        if (has(anchorElm, 'innerText')) {\n          anchorElm.innerText = text;\n        } else {\n          anchorElm.textContent = text;\n        }\n      });\n      editor.dom.setAttribs(anchorElm, linkAttrs);\n      editor.selection.select(anchorElm);\n    };\n    const createLink = (editor, selectedElm, text, linkAttrs) => {\n      const dom = editor.dom;\n      if (isImageFigure(selectedElm)) {\n        linkImageFigure(dom, selectedElm, linkAttrs);\n      } else {\n        text.fold(() => {\n          editor.execCommand('mceInsertLink', false, linkAttrs);\n        }, text => {\n          editor.insertContent(dom.createHTML('a', linkAttrs, dom.encode(text)));\n        });\n      }\n    };\n    const linkDomMutation = (editor, attachState, data) => {\n      const selectedElm = editor.selection.getNode();\n      const anchorElm = getAnchorElement(editor, selectedElm);\n      const linkAttrs = applyLinkOverrides(editor, getLinkAttrs(data));\n      editor.undoManager.transact(() => {\n        if (data.href === attachState.href) {\n          attachState.attach();\n        }\n        anchorElm.fold(() => {\n          createLink(editor, selectedElm, data.text, linkAttrs);\n        }, elm => {\n          editor.focus();\n          updateLink(editor, elm, data.text, linkAttrs);\n        });\n      });\n    };\n    const unlinkSelection = editor => {\n      const dom = editor.dom, selection = editor.selection;\n      const bookmark = selection.getBookmark();\n      const rng = selection.getRng().cloneRange();\n      const startAnchorElm = dom.getParent(rng.startContainer, 'a[href]', editor.getBody());\n      const endAnchorElm = dom.getParent(rng.endContainer, 'a[href]', editor.getBody());\n      if (startAnchorElm) {\n        rng.setStartBefore(startAnchorElm);\n      }\n      if (endAnchorElm) {\n        rng.setEndAfter(endAnchorElm);\n      }\n      selection.setRng(rng);\n      editor.execCommand('unlink');\n      selection.moveToBookmark(bookmark);\n    };\n    const unlinkDomMutation = editor => {\n      editor.undoManager.transact(() => {\n        const node = editor.selection.getNode();\n        if (isImageFigure(node)) {\n          unlinkImageFigure(editor, node);\n        } else {\n          unlinkSelection(editor);\n        }\n        editor.focus();\n      });\n    };\n    const unwrapOptions = data => {\n      const {\n        class: cls,\n        href,\n        rel,\n        target,\n        text,\n        title\n      } = data;\n      return filter({\n        class: cls.getOrNull(),\n        href,\n        rel: rel.getOrNull(),\n        target: target.getOrNull(),\n        text: text.getOrNull(),\n        title: title.getOrNull()\n      }, (v, _k) => isNull(v) === false);\n    };\n    const sanitizeData = (editor, data) => {\n      const getOption = editor.options.get;\n      const uriOptions = {\n        allow_html_data_urls: getOption('allow_html_data_urls'),\n        allow_script_urls: getOption('allow_script_urls'),\n        allow_svg_data_urls: getOption('allow_svg_data_urls')\n      };\n      const href = data.href;\n      return {\n        ...data,\n        href: global$2.isDomSafe(href, 'a', uriOptions) ? href : ''\n      };\n    };\n    const link = (editor, attachState, data) => {\n      const sanitizedData = sanitizeData(editor, data);\n      editor.hasPlugin('rtc', true) ? editor.execCommand('createlink', false, unwrapOptions(sanitizedData)) : linkDomMutation(editor, attachState, sanitizedData);\n    };\n    const unlink = editor => {\n      editor.hasPlugin('rtc', true) ? editor.execCommand('unlink') : unlinkDomMutation(editor);\n    };\n    const unlinkImageFigure = (editor, fig) => {\n      var _a;\n      const img = editor.dom.select('img', fig)[0];\n      if (img) {\n        const a = editor.dom.getParents(img, 'a[href]', fig)[0];\n        if (a) {\n          (_a = a.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(img, a);\n          editor.dom.remove(a);\n        }\n      }\n    };\n    const linkImageFigure = (dom, fig, attrs) => {\n      var _a;\n      const img = dom.select('img', fig)[0];\n      if (img) {\n        const a = dom.create('a', attrs);\n        (_a = img.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(a, img);\n        a.appendChild(img);\n      }\n    };\n\n    const isListGroup = item => hasNonNullableKey(item, 'items');\n    const findTextByValue = (value, catalog) => findMap(catalog, item => {\n      if (isListGroup(item)) {\n        return findTextByValue(value, item.items);\n      } else {\n        return someIf(item.value === value, item);\n      }\n    });\n    const getDelta = (persistentText, fieldName, catalog, data) => {\n      const value = data[fieldName];\n      const hasPersistentText = persistentText.length > 0;\n      return value !== undefined ? findTextByValue(value, catalog).map(i => ({\n        url: {\n          value: i.value,\n          meta: {\n            text: hasPersistentText ? persistentText : i.text,\n            attach: noop\n          }\n        },\n        text: hasPersistentText ? persistentText : i.text\n      })) : Optional.none();\n    };\n    const findCatalog = (catalogs, fieldName) => {\n      if (fieldName === 'link') {\n        return catalogs.link;\n      } else if (fieldName === 'anchor') {\n        return catalogs.anchor;\n      } else {\n        return Optional.none();\n      }\n    };\n    const init = (initialData, linkCatalog) => {\n      const persistentData = {\n        text: initialData.text,\n        title: initialData.title\n      };\n      const getTitleFromUrlChange = url => {\n        var _a;\n        return someIf(persistentData.title.length <= 0, Optional.from((_a = url.meta) === null || _a === void 0 ? void 0 : _a.title).getOr(''));\n      };\n      const getTextFromUrlChange = url => {\n        var _a;\n        return someIf(persistentData.text.length <= 0, Optional.from((_a = url.meta) === null || _a === void 0 ? void 0 : _a.text).getOr(url.value));\n      };\n      const onUrlChange = data => {\n        const text = getTextFromUrlChange(data.url);\n        const title = getTitleFromUrlChange(data.url);\n        if (text.isSome() || title.isSome()) {\n          return Optional.some({\n            ...text.map(text => ({ text })).getOr({}),\n            ...title.map(title => ({ title })).getOr({})\n          });\n        } else {\n          return Optional.none();\n        }\n      };\n      const onCatalogChange = (data, change) => {\n        const catalog = findCatalog(linkCatalog, change).getOr([]);\n        return getDelta(persistentData.text, change, catalog, data);\n      };\n      const onChange = (getData, change) => {\n        const name = change.name;\n        if (name === 'url') {\n          return onUrlChange(getData());\n        } else if (contains([\n            'anchor',\n            'link'\n          ], name)) {\n          return onCatalogChange(getData(), name);\n        } else if (name === 'text' || name === 'title') {\n          persistentData[name] = getData()[name];\n          return Optional.none();\n        } else {\n          return Optional.none();\n        }\n      };\n      return { onChange };\n    };\n    const DialogChanges = {\n      init,\n      getDelta\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    const delayedConfirm = (editor, message, callback) => {\n      const rng = editor.selection.getRng();\n      global$1.setEditorTimeout(editor, () => {\n        editor.windowManager.confirm(message, state => {\n          editor.selection.setRng(rng);\n          callback(state);\n        });\n      });\n    };\n    const tryEmailTransform = data => {\n      const url = data.href;\n      const suggestMailTo = url.indexOf('@') > 0 && url.indexOf('/') === -1 && url.indexOf('mailto:') === -1;\n      return suggestMailTo ? Optional.some({\n        message: 'The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?',\n        preprocess: oldData => ({\n          ...oldData,\n          href: 'mailto:' + url\n        })\n      }) : Optional.none();\n    };\n    const tryProtocolTransform = (assumeExternalTargets, defaultLinkProtocol) => data => {\n      const url = data.href;\n      const suggestProtocol = assumeExternalTargets === 1 && !hasProtocol(url) || assumeExternalTargets === 0 && /^\\s*www(\\.|\\d\\.)/i.test(url);\n      return suggestProtocol ? Optional.some({\n        message: `The URL you entered seems to be an external link. Do you want to add the required ${ defaultLinkProtocol }:// prefix?`,\n        preprocess: oldData => ({\n          ...oldData,\n          href: defaultLinkProtocol + '://' + url\n        })\n      }) : Optional.none();\n    };\n    const preprocess = (editor, data) => findMap([\n      tryEmailTransform,\n      tryProtocolTransform(assumeExternalTargets(editor), getDefaultLinkProtocol(editor))\n    ], f => f(data)).fold(() => Promise.resolve(data), transform => new Promise(callback => {\n      delayedConfirm(editor, transform.message, state => {\n        callback(state ? transform.preprocess(data) : data);\n      });\n    }));\n    const DialogConfirms = { preprocess };\n\n    const getAnchors = editor => {\n      const anchorNodes = editor.dom.select('a:not([href])');\n      const anchors = bind(anchorNodes, anchor => {\n        const id = anchor.name || anchor.id;\n        return id ? [{\n            text: id,\n            value: '#' + id\n          }] : [];\n      });\n      return anchors.length > 0 ? Optional.some([{\n          text: 'None',\n          value: ''\n        }].concat(anchors)) : Optional.none();\n    };\n    const AnchorListOptions = { getAnchors };\n\n    const getClasses = editor => {\n      const list = getLinkClassList(editor);\n      if (list.length > 0) {\n        return ListOptions.sanitize(list);\n      }\n      return Optional.none();\n    };\n    const ClassListOptions = { getClasses };\n\n    const parseJson = text => {\n      try {\n        return Optional.some(JSON.parse(text));\n      } catch (err) {\n        return Optional.none();\n      }\n    };\n    const getLinks = editor => {\n      const extractor = item => editor.convertURL(item.value || item.url || '', 'href');\n      const linkList = getLinkList(editor);\n      return new Promise(resolve => {\n        if (isString(linkList)) {\n          fetch(linkList).then(res => res.ok ? res.text().then(parseJson) : Promise.reject()).then(resolve, () => resolve(Optional.none()));\n        } else if (isFunction(linkList)) {\n          linkList(output => resolve(Optional.some(output)));\n        } else {\n          resolve(Optional.from(linkList));\n        }\n      }).then(optItems => optItems.bind(ListOptions.sanitizeWith(extractor)).map(items => {\n        if (items.length > 0) {\n          const noneItem = [{\n              text: 'None',\n              value: ''\n            }];\n          return noneItem.concat(items);\n        } else {\n          return items;\n        }\n      }));\n    };\n    const LinkListOptions = { getLinks };\n\n    const getRels = (editor, initialTarget) => {\n      const list = getRelList(editor);\n      if (list.length > 0) {\n        const isTargetBlank = is(initialTarget, '_blank');\n        const enforceSafe = allowUnsafeLinkTarget(editor) === false;\n        const safeRelExtractor = item => applyRelTargetRules(ListOptions.getValue(item), isTargetBlank);\n        const sanitizer = enforceSafe ? ListOptions.sanitizeWith(safeRelExtractor) : ListOptions.sanitize;\n        return sanitizer(list);\n      }\n      return Optional.none();\n    };\n    const RelOptions = { getRels };\n\n    const fallbacks = [\n      {\n        text: 'Current window',\n        value: ''\n      },\n      {\n        text: 'New window',\n        value: '_blank'\n      }\n    ];\n    const getTargets = editor => {\n      const list = getTargetList(editor);\n      if (isArray(list)) {\n        return ListOptions.sanitize(list).orThunk(() => Optional.some(fallbacks));\n      } else if (list === false) {\n        return Optional.none();\n      }\n      return Optional.some(fallbacks);\n    };\n    const TargetOptions = { getTargets };\n\n    const nonEmptyAttr = (dom, elem, name) => {\n      const val = dom.getAttrib(elem, name);\n      return val !== null && val.length > 0 ? Optional.some(val) : Optional.none();\n    };\n    const extractFromAnchor = (editor, anchor) => {\n      const dom = editor.dom;\n      const onlyText = isOnlyTextSelected(editor);\n      const text = onlyText ? Optional.some(getAnchorText(editor.selection, anchor)) : Optional.none();\n      const url = anchor.bind(anchorElm => Optional.from(dom.getAttrib(anchorElm, 'href')));\n      const target = anchor.bind(anchorElm => Optional.from(dom.getAttrib(anchorElm, 'target')));\n      const rel = anchor.bind(anchorElm => nonEmptyAttr(dom, anchorElm, 'rel'));\n      const linkClass = anchor.bind(anchorElm => nonEmptyAttr(dom, anchorElm, 'class'));\n      const title = anchor.bind(anchorElm => nonEmptyAttr(dom, anchorElm, 'title'));\n      return {\n        url,\n        text,\n        title,\n        target,\n        rel,\n        linkClass\n      };\n    };\n    const collect = (editor, linkNode) => LinkListOptions.getLinks(editor).then(links => {\n      const anchor = extractFromAnchor(editor, linkNode);\n      return {\n        anchor,\n        catalogs: {\n          targets: TargetOptions.getTargets(editor),\n          rels: RelOptions.getRels(editor, anchor.target),\n          classes: ClassListOptions.getClasses(editor),\n          anchor: AnchorListOptions.getAnchors(editor),\n          link: links\n        },\n        optNode: linkNode,\n        flags: { titleEnabled: shouldShowLinkTitle(editor) }\n      };\n    });\n    const DialogInfo = { collect };\n\n    const handleSubmit = (editor, info) => api => {\n      const data = api.getData();\n      if (!data.url.value) {\n        unlink(editor);\n        api.close();\n        return;\n      }\n      const getChangedValue = key => Optional.from(data[key]).filter(value => !is(info.anchor[key], value));\n      const changedData = {\n        href: data.url.value,\n        text: getChangedValue('text'),\n        target: getChangedValue('target'),\n        rel: getChangedValue('rel'),\n        class: getChangedValue('linkClass'),\n        title: getChangedValue('title')\n      };\n      const attachState = {\n        href: data.url.value,\n        attach: data.url.meta !== undefined && data.url.meta.attach ? data.url.meta.attach : noop\n      };\n      DialogConfirms.preprocess(editor, changedData).then(pData => {\n        link(editor, attachState, pData);\n      });\n      api.close();\n    };\n    const collectData = editor => {\n      const anchorNode = getAnchorElement(editor);\n      return DialogInfo.collect(editor, anchorNode);\n    };\n    const getInitialData = (info, defaultTarget) => {\n      const anchor = info.anchor;\n      const url = anchor.url.getOr('');\n      return {\n        url: {\n          value: url,\n          meta: { original: { value: url } }\n        },\n        text: anchor.text.getOr(''),\n        title: anchor.title.getOr(''),\n        anchor: url,\n        link: url,\n        rel: anchor.rel.getOr(''),\n        target: anchor.target.or(defaultTarget).getOr(''),\n        linkClass: anchor.linkClass.getOr('')\n      };\n    };\n    const makeDialog = (settings, onSubmit, editor) => {\n      const urlInput = [{\n          name: 'url',\n          type: 'urlinput',\n          filetype: 'file',\n          label: 'URL'\n        }];\n      const displayText = settings.anchor.text.map(() => ({\n        name: 'text',\n        type: 'input',\n        label: 'Text to display'\n      })).toArray();\n      const titleText = settings.flags.titleEnabled ? [{\n          name: 'title',\n          type: 'input',\n          label: 'Title'\n        }] : [];\n      const defaultTarget = Optional.from(getDefaultLinkTarget(editor));\n      const initialData = getInitialData(settings, defaultTarget);\n      const catalogs = settings.catalogs;\n      const dialogDelta = DialogChanges.init(initialData, catalogs);\n      const body = {\n        type: 'panel',\n        items: flatten([\n          urlInput,\n          displayText,\n          titleText,\n          cat([\n            catalogs.anchor.map(ListOptions.createUi('anchor', 'Anchors')),\n            catalogs.rels.map(ListOptions.createUi('rel', 'Rel')),\n            catalogs.targets.map(ListOptions.createUi('target', 'Open link in...')),\n            catalogs.link.map(ListOptions.createUi('link', 'Link list')),\n            catalogs.classes.map(ListOptions.createUi('linkClass', 'Class'))\n          ])\n        ])\n      };\n      return {\n        title: 'Insert/Edit Link',\n        size: 'normal',\n        body,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData,\n        onChange: (api, {name}) => {\n          dialogDelta.onChange(api.getData, { name }).each(newData => {\n            api.setData(newData);\n          });\n        },\n        onSubmit\n      };\n    };\n    const open$1 = editor => {\n      const data = collectData(editor);\n      data.then(info => {\n        const onSubmit = handleSubmit(editor, info);\n        return makeDialog(info, onSubmit, editor);\n      }).then(spec => {\n        editor.windowManager.open(spec);\n      });\n    };\n\n    const register = editor => {\n      editor.addCommand('mceLink', (_ui, value) => {\n        if ((value === null || value === void 0 ? void 0 : value.dialog) === true || !useQuickLink(editor)) {\n          open$1(editor);\n        } else {\n          editor.dispatch('contexttoolbar-show', { toolbarKey: 'quicklink' });\n        }\n      });\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    const appendClickRemove = (link, evt) => {\n      document.body.appendChild(link);\n      link.dispatchEvent(evt);\n      document.body.removeChild(link);\n    };\n    const open = url => {\n      const link = document.createElement('a');\n      link.target = '_blank';\n      link.href = url;\n      link.rel = 'noreferrer noopener';\n      const evt = document.createEvent('MouseEvents');\n      evt.initMouseEvent('click', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n      appendClickRemove(link, evt);\n    };\n\n    const getLink = (editor, elm) => editor.dom.getParent(elm, 'a[href]');\n    const getSelectedLink = editor => getLink(editor, editor.selection.getStart());\n    const hasOnlyAltModifier = e => {\n      return e.altKey === true && e.shiftKey === false && e.ctrlKey === false && e.metaKey === false;\n    };\n    const gotoLink = (editor, a) => {\n      if (a) {\n        const href = getHref(a);\n        if (/^#/.test(href)) {\n          const targetEl = editor.dom.select(href);\n          if (targetEl.length) {\n            editor.selection.scrollIntoView(targetEl[0], true);\n          }\n        } else {\n          open(a.href);\n        }\n      }\n    };\n    const openDialog = editor => () => {\n      editor.execCommand('mceLink', false, { dialog: true });\n    };\n    const gotoSelectedLink = editor => () => {\n      gotoLink(editor, getSelectedLink(editor));\n    };\n    const setupGotoLinks = editor => {\n      editor.on('click', e => {\n        const link = getLink(editor, e.target);\n        if (link && global.metaKeyPressed(e)) {\n          e.preventDefault();\n          gotoLink(editor, link);\n        }\n      });\n      editor.on('keydown', e => {\n        if (!e.isDefaultPrevented() && e.keyCode === 13 && hasOnlyAltModifier(e)) {\n          const link = getSelectedLink(editor);\n          if (link) {\n            e.preventDefault();\n            gotoLink(editor, link);\n          }\n        }\n      });\n    };\n    const toggleState = (editor, toggler) => {\n      editor.on('NodeChange', toggler);\n      return () => editor.off('NodeChange', toggler);\n    };\n    const toggleActiveState = editor => api => {\n      const updateState = () => api.setActive(!editor.mode.isReadOnly() && isInAnchor(editor, editor.selection.getNode()));\n      updateState();\n      return toggleState(editor, updateState);\n    };\n    const hasExactlyOneLinkInSelection = editor => {\n      const links = editor.selection.isCollapsed() ? getLinks$1(editor.dom.getParents(editor.selection.getStart())) : getLinksInSelection(editor.selection.getRng());\n      return links.length === 1;\n    };\n    const toggleEnabledState = editor => api => {\n      const updateState = () => api.setEnabled(hasExactlyOneLinkInSelection(editor));\n      updateState();\n      return toggleState(editor, updateState);\n    };\n    const toggleUnlinkState = editor => api => {\n      const hasLinks$1 = parents => hasLinks(parents) || hasLinksInSelection(editor.selection.getRng());\n      const parents = editor.dom.getParents(editor.selection.getStart());\n      api.setEnabled(hasLinks$1(parents));\n      return toggleState(editor, e => api.setEnabled(hasLinks$1(e.parents)));\n    };\n\n    const setup = editor => {\n      editor.addShortcut('Meta+K', '', () => {\n        editor.execCommand('mceLink');\n      });\n    };\n\n    const setupButtons = editor => {\n      editor.ui.registry.addToggleButton('link', {\n        icon: 'link',\n        tooltip: 'Insert/edit link',\n        onAction: openDialog(editor),\n        onSetup: toggleActiveState(editor)\n      });\n      editor.ui.registry.addButton('openlink', {\n        icon: 'new-tab',\n        tooltip: 'Open link',\n        onAction: gotoSelectedLink(editor),\n        onSetup: toggleEnabledState(editor)\n      });\n      editor.ui.registry.addButton('unlink', {\n        icon: 'unlink',\n        tooltip: 'Remove link',\n        onAction: () => unlink(editor),\n        onSetup: toggleUnlinkState(editor)\n      });\n    };\n    const setupMenuItems = editor => {\n      editor.ui.registry.addMenuItem('openlink', {\n        text: 'Open link',\n        icon: 'new-tab',\n        onAction: gotoSelectedLink(editor),\n        onSetup: toggleEnabledState(editor)\n      });\n      editor.ui.registry.addMenuItem('link', {\n        icon: 'link',\n        text: 'Link...',\n        shortcut: 'Meta+K',\n        onAction: openDialog(editor)\n      });\n      editor.ui.registry.addMenuItem('unlink', {\n        icon: 'unlink',\n        text: 'Remove link',\n        onAction: () => unlink(editor),\n        onSetup: toggleUnlinkState(editor)\n      });\n    };\n    const setupContextMenu = editor => {\n      const inLink = 'link unlink openlink';\n      const noLink = 'link';\n      editor.ui.registry.addContextMenu('link', {\n        update: element => {\n          const isEditable = editor.dom.isEditable(element);\n          if (!isEditable) {\n            return '';\n          }\n          return hasLinks(editor.dom.getParents(element, 'a')) ? inLink : noLink;\n        }\n      });\n    };\n    const setupContextToolbars = editor => {\n      const collapseSelectionToEnd = editor => {\n        editor.selection.collapse(false);\n      };\n      const onSetupLink = buttonApi => {\n        const node = editor.selection.getNode();\n        buttonApi.setEnabled(isInAnchor(editor, node));\n        return noop;\n      };\n      const getLinkText = value => {\n        const anchor = getAnchorElement(editor);\n        const onlyText = isOnlyTextSelected(editor);\n        if (anchor.isNone() && onlyText) {\n          const text = getAnchorText(editor.selection, anchor);\n          return someIf(text.length === 0, value);\n        } else {\n          return Optional.none();\n        }\n      };\n      editor.ui.registry.addContextForm('quicklink', {\n        launch: {\n          type: 'contextformtogglebutton',\n          icon: 'link',\n          tooltip: 'Link',\n          onSetup: toggleActiveState(editor)\n        },\n        label: 'Link',\n        predicate: node => hasContextToolbar(editor) && isInAnchor(editor, node),\n        initValue: () => {\n          const elm = getAnchorElement(editor);\n          return elm.fold(constant(''), getHref);\n        },\n        commands: [\n          {\n            type: 'contextformtogglebutton',\n            icon: 'link',\n            tooltip: 'Link',\n            primary: true,\n            onSetup: buttonApi => {\n              const node = editor.selection.getNode();\n              buttonApi.setActive(isInAnchor(editor, node));\n              return toggleActiveState(editor)(buttonApi);\n            },\n            onAction: formApi => {\n              const value = formApi.getValue();\n              const text = getLinkText(value);\n              const attachState = {\n                href: value,\n                attach: noop\n              };\n              link(editor, attachState, {\n                href: value,\n                text,\n                title: Optional.none(),\n                rel: Optional.none(),\n                target: Optional.none(),\n                class: Optional.none()\n              });\n              collapseSelectionToEnd(editor);\n              formApi.hide();\n            }\n          },\n          {\n            type: 'contextformbutton',\n            icon: 'unlink',\n            tooltip: 'Remove link',\n            onSetup: onSetupLink,\n            onAction: formApi => {\n              unlink(editor);\n              formApi.hide();\n            }\n          },\n          {\n            type: 'contextformbutton',\n            icon: 'new-tab',\n            tooltip: 'Open link',\n            onSetup: onSetupLink,\n            onAction: formApi => {\n              gotoSelectedLink(editor)();\n              formApi.hide();\n            }\n          }\n        ]\n      });\n    };\n\n    var Plugin = () => {\n      global$5.add('link', editor => {\n        register$1(editor);\n        setupButtons(editor);\n        setupMenuItems(editor);\n        setupContextMenu(editor);\n        setupContextToolbars(editor);\n        setupGotoLinks(editor);\n        register(editor);\n        setup(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"lists\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/lists')\n//   ES2015:\n//     import 'tinymce/plugins/lists'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.4.1 (2023-03-29)\n */\n\n(function () {\n    'use strict';\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isArray = isType$1('array');\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n\n    const noop = () => {\n    };\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    const not = f => t => !f(t);\n    const never = constant(false);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains$1 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const map = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const filter$1 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const groupBy = (xs, f) => {\n      if (xs.length === 0) {\n        return [];\n      } else {\n        let wasType = f(xs[0]);\n        const r = [];\n        let group = [];\n        for (let i = 0, len = xs.length; i < len; i++) {\n          const x = xs[i];\n          const type = f(x);\n          if (type !== wasType) {\n            r.push(group);\n            group = [];\n          }\n          wasType = type;\n          group.push(x);\n        }\n        if (group.length !== 0) {\n          r.push(group);\n        }\n        return r;\n      }\n    };\n    const foldl = (xs, f, acc) => {\n      each$1(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind = (xs, f) => flatten(map(xs, f));\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const get$1 = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$1(xs, 0);\n    const last = xs => get$1(xs, xs.length - 1);\n    const unique = (xs, comparator) => {\n      const r = [];\n      const isDuplicated = isFunction(comparator) ? x => exists(r, i => comparator(i, x)) : x => contains$1(r, x);\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (!isDuplicated(x)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n\n    const is$2 = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const equals = (lhs, rhs, comparator = tripleEquals) => lift2(lhs, rhs, comparator).getOr(lhs.isNone() && rhs.isNone());\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n\n    const ELEMENT = 1;\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom$1(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom$1(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom$1(node);\n    };\n    const fromDom$1 = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$1);\n    const SugarElement = {\n      fromHtml,\n      fromTag,\n      fromText,\n      fromDom: fromDom$1,\n      fromPoint\n    };\n\n    const is$1 = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const contains = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    const is = is$1;\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const name = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type = element => element.dom.nodeType;\n    const isType = t => element => type(element) === t;\n    const isElement$1 = isType(ELEMENT);\n    const isTag = tag => e => isElement$1(e) && name(e) === tag;\n\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parentElement = element => Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children = element => map(element.dom.childNodes, SugarElement.fromDom);\n    const child = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child(element, 0);\n    const lastChild = element => child(element, element.dom.childNodes.length - 1);\n\n    const ancestor = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor, scope, predicate, isRoot);\n    };\n\n    const before$1 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$1(v, element);\n        });\n      }, v => {\n        before$1(v, element);\n      });\n    };\n    const append$1 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n\n    const before = (marker, elements) => {\n      each$1(elements, x => {\n        before$1(marker, x);\n      });\n    };\n    const append = (parent, elements) => {\n      each$1(elements, x => {\n        append$1(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$1(children(element), rogue => {\n        remove(rogue);\n      });\n    };\n    const remove = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    const fromDom = nodes => map(nodes, SugarElement.fromDom);\n\n    const keys = Object.keys;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const filter = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const setAll = (element, attrs) => {\n      const dom = element.dom;\n      each(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const clone$1 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const clone = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const deep = original => clone(original, true);\n    const shallowAs = (original, tag) => {\n      const nu = SugarElement.fromTag(tag);\n      const attributes = clone$1(original);\n      setAll(nu, attributes);\n      return nu;\n    };\n    const mutate = (original, tag) => {\n      const nu = shallowAs(original, tag);\n      after(original, nu);\n      const children$1 = children(original);\n      append(nu, children$1);\n      remove(original);\n      return nu;\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const matchNodeName = name => node => isNonNullable(node) && node.nodeName.toLowerCase() === name;\n    const matchNodeNames = regex => node => isNonNullable(node) && regex.test(node.nodeName);\n    const isTextNode$1 = node => isNonNullable(node) && node.nodeType === 3;\n    const isElement = node => isNonNullable(node) && node.nodeType === 1;\n    const isListNode = matchNodeNames(/^(OL|UL|DL)$/);\n    const isOlUlNode = matchNodeNames(/^(OL|UL)$/);\n    const isOlNode = matchNodeName('ol');\n    const isListItemNode = matchNodeNames(/^(LI|DT|DD)$/);\n    const isDlItemNode = matchNodeNames(/^(DT|DD)$/);\n    const isTableCellNode = matchNodeNames(/^(TH|TD)$/);\n    const isBr = matchNodeName('br');\n    const isFirstChild = node => {\n      var _a;\n      return ((_a = node.parentNode) === null || _a === void 0 ? void 0 : _a.firstChild) === node;\n    };\n    const isTextBlock = (editor, node) => isNonNullable(node) && node.nodeName in editor.schema.getTextBlockElements();\n    const isBlock = (node, blockElements) => isNonNullable(node) && node.nodeName in blockElements;\n    const isVoid = (editor, node) => isNonNullable(node) && node.nodeName in editor.schema.getVoidElements();\n    const isBogusBr = (dom, node) => {\n      if (!isBr(node)) {\n        return false;\n      }\n      return dom.isBlock(node.nextSibling) && !isBr(node.previousSibling);\n    };\n    const isEmpty$2 = (dom, elm, keepBookmarks) => {\n      const empty = dom.isEmpty(elm);\n      if (keepBookmarks && dom.select('span[data-mce-type=bookmark]', elm).length > 0) {\n        return false;\n      }\n      return empty;\n    };\n    const isChildOfBody = (dom, elm) => dom.isChildOf(elm, dom.getRoot());\n\n    const option = name => editor => editor.options.get(name);\n    const register$3 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('lists_indent_on_tab', {\n        processor: 'boolean',\n        default: true\n      });\n    };\n    const shouldIndentOnTab = option('lists_indent_on_tab');\n    const getForcedRootBlock = option('forced_root_block');\n    const getForcedRootBlockAttrs = option('forced_root_block_attrs');\n\n    const createTextBlock = (editor, contentNode) => {\n      const dom = editor.dom;\n      const blockElements = editor.schema.getBlockElements();\n      const fragment = dom.createFragment();\n      const blockName = getForcedRootBlock(editor);\n      const blockAttrs = getForcedRootBlockAttrs(editor);\n      let node;\n      let textBlock;\n      let hasContentNode = false;\n      textBlock = dom.create(blockName, blockAttrs);\n      if (!isBlock(contentNode.firstChild, blockElements)) {\n        fragment.appendChild(textBlock);\n      }\n      while (node = contentNode.firstChild) {\n        const nodeName = node.nodeName;\n        if (!hasContentNode && (nodeName !== 'SPAN' || node.getAttribute('data-mce-type') !== 'bookmark')) {\n          hasContentNode = true;\n        }\n        if (isBlock(node, blockElements)) {\n          fragment.appendChild(node);\n          textBlock = null;\n        } else {\n          if (!textBlock) {\n            textBlock = dom.create(blockName, blockAttrs);\n            fragment.appendChild(textBlock);\n          }\n          textBlock.appendChild(node);\n        }\n      }\n      if (!hasContentNode && textBlock) {\n        textBlock.appendChild(dom.create('br', { 'data-mce-bogus': '1' }));\n      }\n      return fragment;\n    };\n\n    const DOM$2 = global$3.DOM;\n    const splitList = (editor, list, li) => {\n      const removeAndKeepBookmarks = targetNode => {\n        const parent = targetNode.parentNode;\n        if (parent) {\n          global$2.each(bookmarks, node => {\n            parent.insertBefore(node, li.parentNode);\n          });\n        }\n        DOM$2.remove(targetNode);\n      };\n      const bookmarks = DOM$2.select('span[data-mce-type=\"bookmark\"]', list);\n      const newBlock = createTextBlock(editor, li);\n      const tmpRng = DOM$2.createRng();\n      tmpRng.setStartAfter(li);\n      tmpRng.setEndAfter(list);\n      const fragment = tmpRng.extractContents();\n      for (let node = fragment.firstChild; node; node = node.firstChild) {\n        if (node.nodeName === 'LI' && editor.dom.isEmpty(node)) {\n          DOM$2.remove(node);\n          break;\n        }\n      }\n      if (!editor.dom.isEmpty(fragment)) {\n        DOM$2.insertAfter(fragment, list);\n      }\n      DOM$2.insertAfter(newBlock, list);\n      const parent = li.parentElement;\n      if (parent && isEmpty$2(editor.dom, parent)) {\n        removeAndKeepBookmarks(parent);\n      }\n      DOM$2.remove(li);\n      if (isEmpty$2(editor.dom, list)) {\n        DOM$2.remove(list);\n      }\n    };\n\n    const isDescriptionDetail = isTag('dd');\n    const isDescriptionTerm = isTag('dt');\n    const outdentDlItem = (editor, item) => {\n      if (isDescriptionDetail(item)) {\n        mutate(item, 'dt');\n      } else if (isDescriptionTerm(item)) {\n        parentElement(item).each(dl => splitList(editor, dl.dom, item.dom));\n      }\n    };\n    const indentDlItem = item => {\n      if (isDescriptionTerm(item)) {\n        mutate(item, 'dd');\n      }\n    };\n    const dlIndentation = (editor, indentation, dlItems) => {\n      if (indentation === 'Indent') {\n        each$1(dlItems, indentDlItem);\n      } else {\n        each$1(dlItems, item => outdentDlItem(editor, item));\n      }\n    };\n\n    const getNormalizedPoint = (container, offset) => {\n      if (isTextNode$1(container)) {\n        return {\n          container,\n          offset\n        };\n      }\n      const node = global$6.getNode(container, offset);\n      if (isTextNode$1(node)) {\n        return {\n          container: node,\n          offset: offset >= container.childNodes.length ? node.data.length : 0\n        };\n      } else if (node.previousSibling && isTextNode$1(node.previousSibling)) {\n        return {\n          container: node.previousSibling,\n          offset: node.previousSibling.data.length\n        };\n      } else if (node.nextSibling && isTextNode$1(node.nextSibling)) {\n        return {\n          container: node.nextSibling,\n          offset: 0\n        };\n      }\n      return {\n        container,\n        offset\n      };\n    };\n    const normalizeRange = rng => {\n      const outRng = rng.cloneRange();\n      const rangeStart = getNormalizedPoint(rng.startContainer, rng.startOffset);\n      outRng.setStart(rangeStart.container, rangeStart.offset);\n      const rangeEnd = getNormalizedPoint(rng.endContainer, rng.endOffset);\n      outRng.setEnd(rangeEnd.container, rangeEnd.offset);\n      return outRng;\n    };\n\n    const listNames = [\n      'OL',\n      'UL',\n      'DL'\n    ];\n    const listSelector = listNames.join(',');\n    const getParentList = (editor, node) => {\n      const selectionStart = node || editor.selection.getStart(true);\n      return editor.dom.getParent(selectionStart, listSelector, getClosestListHost(editor, selectionStart));\n    };\n    const isParentListSelected = (parentList, selectedBlocks) => isNonNullable(parentList) && selectedBlocks.length === 1 && selectedBlocks[0] === parentList;\n    const findSubLists = parentList => filter$1(parentList.querySelectorAll(listSelector), isListNode);\n    const getSelectedSubLists = editor => {\n      const parentList = getParentList(editor);\n      const selectedBlocks = editor.selection.getSelectedBlocks();\n      if (isParentListSelected(parentList, selectedBlocks)) {\n        return findSubLists(parentList);\n      } else {\n        return filter$1(selectedBlocks, elm => {\n          return isListNode(elm) && parentList !== elm;\n        });\n      }\n    };\n    const findParentListItemsNodes = (editor, elms) => {\n      const listItemsElms = global$2.map(elms, elm => {\n        const parentLi = editor.dom.getParent(elm, 'li,dd,dt', getClosestListHost(editor, elm));\n        return parentLi ? parentLi : elm;\n      });\n      return unique(listItemsElms);\n    };\n    const getSelectedListItems = editor => {\n      const selectedBlocks = editor.selection.getSelectedBlocks();\n      return filter$1(findParentListItemsNodes(editor, selectedBlocks), isListItemNode);\n    };\n    const getSelectedDlItems = editor => filter$1(getSelectedListItems(editor), isDlItemNode);\n    const getClosestEditingHost = (editor, elm) => {\n      const parentTableCell = editor.dom.getParents(elm, 'TD,TH');\n      return parentTableCell.length > 0 ? parentTableCell[0] : editor.getBody();\n    };\n    const isListHost = (schema, node) => !isListNode(node) && !isListItemNode(node) && exists(listNames, listName => schema.isValidChild(node.nodeName, listName));\n    const getClosestListHost = (editor, elm) => {\n      const parentBlocks = editor.dom.getParents(elm, editor.dom.isBlock);\n      const parentBlock = find(parentBlocks, elm => isListHost(editor.schema, elm));\n      return parentBlock.getOr(editor.getBody());\n    };\n    const findLastParentListNode = (editor, elm) => {\n      const parentLists = editor.dom.getParents(elm, 'ol,ul', getClosestListHost(editor, elm));\n      return last(parentLists);\n    };\n    const getSelectedLists = editor => {\n      const firstList = findLastParentListNode(editor, editor.selection.getStart());\n      const subsequentLists = filter$1(editor.selection.getSelectedBlocks(), isOlUlNode);\n      return firstList.toArray().concat(subsequentLists);\n    };\n    const getSelectedListRoots = editor => {\n      const selectedLists = getSelectedLists(editor);\n      return getUniqueListRoots(editor, selectedLists);\n    };\n    const getUniqueListRoots = (editor, lists) => {\n      const listRoots = map(lists, list => findLastParentListNode(editor, list).getOr(list));\n      return unique(listRoots);\n    };\n\n    const isCustomList = list => /\\btox\\-/.test(list.className);\n    const inList = (parents, listName) => findUntil(parents, isListNode, isTableCellNode).exists(list => list.nodeName === listName && !isCustomList(list));\n    const isWithinNonEditable = (editor, element) => element !== null && !editor.dom.isEditable(element);\n    const selectionIsWithinNonEditableList = editor => {\n      const parentList = getParentList(editor);\n      return isWithinNonEditable(editor, parentList);\n    };\n    const isWithinNonEditableList = (editor, element) => {\n      const parentList = editor.dom.getParent(element, 'ol,ul,dl');\n      return isWithinNonEditable(editor, parentList);\n    };\n    const hasNonEditableBlocksSelected = editor => exists(editor.selection.getSelectedBlocks(), not(editor.dom.isEditable));\n    const setNodeChangeHandler = (editor, nodeChangeHandler) => {\n      const initialNode = editor.selection.getNode();\n      nodeChangeHandler({\n        parents: editor.dom.getParents(initialNode),\n        element: initialNode\n      });\n      editor.on('NodeChange', nodeChangeHandler);\n      return () => editor.off('NodeChange', nodeChangeHandler);\n    };\n\n    const fromElements = (elements, scope) => {\n      const doc = scope || document;\n      const fragment = doc.createDocumentFragment();\n      each$1(elements, element => {\n        fragment.appendChild(element.dom);\n      });\n      return SugarElement.fromDom(fragment);\n    };\n\n    const fireListEvent = (editor, action, element) => editor.dispatch('ListMutation', {\n      action,\n      element\n    });\n\n    const blank = r => s => s.replace(r, '');\n    const trim = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty$1 = s => !isNotEmpty(s);\n\n    const isSupported = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const set = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n\n    const joinSegment = (parent, child) => {\n      append$1(parent.item, child.list);\n    };\n    const joinSegments = segments => {\n      for (let i = 1; i < segments.length; i++) {\n        joinSegment(segments[i - 1], segments[i]);\n      }\n    };\n    const appendSegments = (head$1, tail) => {\n      lift2(last(head$1), head(tail), joinSegment);\n    };\n    const createSegment = (scope, listType) => {\n      const segment = {\n        list: SugarElement.fromTag(listType, scope),\n        item: SugarElement.fromTag('li', scope)\n      };\n      append$1(segment.list, segment.item);\n      return segment;\n    };\n    const createSegments = (scope, entry, size) => {\n      const segments = [];\n      for (let i = 0; i < size; i++) {\n        segments.push(createSegment(scope, entry.listType));\n      }\n      return segments;\n    };\n    const populateSegments = (segments, entry) => {\n      for (let i = 0; i < segments.length - 1; i++) {\n        set(segments[i].item, 'list-style-type', 'none');\n      }\n      last(segments).each(segment => {\n        setAll(segment.list, entry.listAttributes);\n        setAll(segment.item, entry.itemAttributes);\n        append(segment.item, entry.content);\n      });\n    };\n    const normalizeSegment = (segment, entry) => {\n      if (name(segment.list) !== entry.listType) {\n        segment.list = mutate(segment.list, entry.listType);\n      }\n      setAll(segment.list, entry.listAttributes);\n    };\n    const createItem = (scope, attr, content) => {\n      const item = SugarElement.fromTag('li', scope);\n      setAll(item, attr);\n      append(item, content);\n      return item;\n    };\n    const appendItem = (segment, item) => {\n      append$1(segment.list, item);\n      segment.item = item;\n    };\n    const writeShallow = (scope, cast, entry) => {\n      const newCast = cast.slice(0, entry.depth);\n      last(newCast).each(segment => {\n        const item = createItem(scope, entry.itemAttributes, entry.content);\n        appendItem(segment, item);\n        normalizeSegment(segment, entry);\n      });\n      return newCast;\n    };\n    const writeDeep = (scope, cast, entry) => {\n      const segments = createSegments(scope, entry, entry.depth - cast.length);\n      joinSegments(segments);\n      populateSegments(segments, entry);\n      appendSegments(cast, segments);\n      return cast.concat(segments);\n    };\n    const composeList = (scope, entries) => {\n      const cast = foldl(entries, (cast, entry) => {\n        return entry.depth > cast.length ? writeDeep(scope, cast, entry) : writeShallow(scope, cast, entry);\n      }, []);\n      return head(cast).map(segment => segment.list);\n    };\n\n    const isList = el => is(el, 'OL,UL');\n    const hasFirstChildList = el => firstChild(el).exists(isList);\n    const hasLastChildList = el => lastChild(el).exists(isList);\n\n    const isIndented = entry => entry.depth > 0;\n    const isSelected = entry => entry.isSelected;\n    const cloneItemContent = li => {\n      const children$1 = children(li);\n      const content = hasLastChildList(li) ? children$1.slice(0, -1) : children$1;\n      return map(content, deep);\n    };\n    const createEntry = (li, depth, isSelected) => parent(li).filter(isElement$1).map(list => ({\n      depth,\n      dirty: false,\n      isSelected,\n      content: cloneItemContent(li),\n      itemAttributes: clone$1(li),\n      listAttributes: clone$1(list),\n      listType: name(list)\n    }));\n\n    const indentEntry = (indentation, entry) => {\n      switch (indentation) {\n      case 'Indent':\n        entry.depth++;\n        break;\n      case 'Outdent':\n        entry.depth--;\n        break;\n      case 'Flatten':\n        entry.depth = 0;\n      }\n      entry.dirty = true;\n    };\n\n    const cloneListProperties = (target, source) => {\n      target.listType = source.listType;\n      target.listAttributes = { ...source.listAttributes };\n    };\n    const cleanListProperties = entry => {\n      entry.listAttributes = filter(entry.listAttributes, (_value, key) => key !== 'start');\n    };\n    const closestSiblingEntry = (entries, start) => {\n      const depth = entries[start].depth;\n      const matches = entry => entry.depth === depth && !entry.dirty;\n      const until = entry => entry.depth < depth;\n      return findUntil(reverse(entries.slice(0, start)), matches, until).orThunk(() => findUntil(entries.slice(start + 1), matches, until));\n    };\n    const normalizeEntries = entries => {\n      each$1(entries, (entry, i) => {\n        closestSiblingEntry(entries, i).fold(() => {\n          if (entry.dirty) {\n            cleanListProperties(entry);\n          }\n        }, matchingEntry => cloneListProperties(entry, matchingEntry));\n      });\n      return entries;\n    };\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const parseItem = (depth, itemSelection, selectionState, item) => firstChild(item).filter(isList).fold(() => {\n      itemSelection.each(selection => {\n        if (eq(selection.start, item)) {\n          selectionState.set(true);\n        }\n      });\n      const currentItemEntry = createEntry(item, depth, selectionState.get());\n      itemSelection.each(selection => {\n        if (eq(selection.end, item)) {\n          selectionState.set(false);\n        }\n      });\n      const childListEntries = lastChild(item).filter(isList).map(list => parseList(depth, itemSelection, selectionState, list)).getOr([]);\n      return currentItemEntry.toArray().concat(childListEntries);\n    }, list => parseList(depth, itemSelection, selectionState, list));\n    const parseList = (depth, itemSelection, selectionState, list) => bind(children(list), element => {\n      const parser = isList(element) ? parseList : parseItem;\n      const newDepth = depth + 1;\n      return parser(newDepth, itemSelection, selectionState, element);\n    });\n    const parseLists = (lists, itemSelection) => {\n      const selectionState = Cell(false);\n      const initialDepth = 0;\n      return map(lists, list => ({\n        sourceList: list,\n        entries: parseList(initialDepth, itemSelection, selectionState, list)\n      }));\n    };\n\n    const outdentedComposer = (editor, entries) => {\n      const normalizedEntries = normalizeEntries(entries);\n      return map(normalizedEntries, entry => {\n        const content = fromElements(entry.content);\n        return SugarElement.fromDom(createTextBlock(editor, content.dom));\n      });\n    };\n    const indentedComposer = (editor, entries) => {\n      const normalizedEntries = normalizeEntries(entries);\n      return composeList(editor.contentDocument, normalizedEntries).toArray();\n    };\n    const composeEntries = (editor, entries) => bind(groupBy(entries, isIndented), entries => {\n      const groupIsIndented = head(entries).exists(isIndented);\n      return groupIsIndented ? indentedComposer(editor, entries) : outdentedComposer(editor, entries);\n    });\n    const indentSelectedEntries = (entries, indentation) => {\n      each$1(filter$1(entries, isSelected), entry => indentEntry(indentation, entry));\n    };\n    const getItemSelection = editor => {\n      const selectedListItems = map(getSelectedListItems(editor), SugarElement.fromDom);\n      return lift2(find(selectedListItems, not(hasFirstChildList)), find(reverse(selectedListItems), not(hasFirstChildList)), (start, end) => ({\n        start,\n        end\n      }));\n    };\n    const listIndentation = (editor, lists, indentation) => {\n      const entrySets = parseLists(lists, getItemSelection(editor));\n      each$1(entrySets, entrySet => {\n        indentSelectedEntries(entrySet.entries, indentation);\n        const composedLists = composeEntries(editor, entrySet.entries);\n        each$1(composedLists, composedList => {\n          fireListEvent(editor, indentation === 'Indent' ? 'IndentList' : 'OutdentList', composedList.dom);\n        });\n        before(entrySet.sourceList, composedLists);\n        remove(entrySet.sourceList);\n      });\n    };\n\n    const selectionIndentation = (editor, indentation) => {\n      const lists = fromDom(getSelectedListRoots(editor));\n      const dlItems = fromDom(getSelectedDlItems(editor));\n      let isHandled = false;\n      if (lists.length || dlItems.length) {\n        const bookmark = editor.selection.getBookmark();\n        listIndentation(editor, lists, indentation);\n        dlIndentation(editor, indentation, dlItems);\n        editor.selection.moveToBookmark(bookmark);\n        editor.selection.setRng(normalizeRange(editor.selection.getRng()));\n        editor.nodeChanged();\n        isHandled = true;\n      }\n      return isHandled;\n    };\n    const handleIndentation = (editor, indentation) => !selectionIsWithinNonEditableList(editor) && selectionIndentation(editor, indentation);\n    const indentListSelection = editor => handleIndentation(editor, 'Indent');\n    const outdentListSelection = editor => handleIndentation(editor, 'Outdent');\n    const flattenListSelection = editor => handleIndentation(editor, 'Flatten');\n\n    const zeroWidth = '\\uFEFF';\n    const isZwsp = char => char === zeroWidth;\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.BookmarkManager');\n\n    const DOM$1 = global$3.DOM;\n    const createBookmark = rng => {\n      const bookmark = {};\n      const setupEndPoint = start => {\n        let container = rng[start ? 'startContainer' : 'endContainer'];\n        let offset = rng[start ? 'startOffset' : 'endOffset'];\n        if (isElement(container)) {\n          const offsetNode = DOM$1.create('span', { 'data-mce-type': 'bookmark' });\n          if (container.hasChildNodes()) {\n            offset = Math.min(offset, container.childNodes.length - 1);\n            if (start) {\n              container.insertBefore(offsetNode, container.childNodes[offset]);\n            } else {\n              DOM$1.insertAfter(offsetNode, container.childNodes[offset]);\n            }\n          } else {\n            container.appendChild(offsetNode);\n          }\n          container = offsetNode;\n          offset = 0;\n        }\n        bookmark[start ? 'startContainer' : 'endContainer'] = container;\n        bookmark[start ? 'startOffset' : 'endOffset'] = offset;\n      };\n      setupEndPoint(true);\n      if (!rng.collapsed) {\n        setupEndPoint();\n      }\n      return bookmark;\n    };\n    const resolveBookmark = bookmark => {\n      const restoreEndPoint = start => {\n        const nodeIndex = container => {\n          var _a;\n          let node = (_a = container.parentNode) === null || _a === void 0 ? void 0 : _a.firstChild;\n          let idx = 0;\n          while (node) {\n            if (node === container) {\n              return idx;\n            }\n            if (!isElement(node) || node.getAttribute('data-mce-type') !== 'bookmark') {\n              idx++;\n            }\n            node = node.nextSibling;\n          }\n          return -1;\n        };\n        let container = bookmark[start ? 'startContainer' : 'endContainer'];\n        let offset = bookmark[start ? 'startOffset' : 'endOffset'];\n        if (!container) {\n          return;\n        }\n        if (isElement(container) && container.parentNode) {\n          const node = container;\n          offset = nodeIndex(container);\n          container = container.parentNode;\n          DOM$1.remove(node);\n          if (!container.hasChildNodes() && DOM$1.isBlock(container)) {\n            container.appendChild(DOM$1.create('br'));\n          }\n        }\n        bookmark[start ? 'startContainer' : 'endContainer'] = container;\n        bookmark[start ? 'startOffset' : 'endOffset'] = offset;\n      };\n      restoreEndPoint(true);\n      restoreEndPoint();\n      const rng = DOM$1.createRng();\n      rng.setStart(bookmark.startContainer, bookmark.startOffset);\n      if (bookmark.endContainer) {\n        rng.setEnd(bookmark.endContainer, bookmark.endOffset);\n      }\n      return normalizeRange(rng);\n    };\n\n    const listToggleActionFromListName = listName => {\n      switch (listName) {\n      case 'UL':\n        return 'ToggleUlList';\n      case 'OL':\n        return 'ToggleOlList';\n      case 'DL':\n        return 'ToggleDLList';\n      }\n    };\n\n    const updateListStyle = (dom, el, detail) => {\n      const type = detail['list-style-type'] ? detail['list-style-type'] : null;\n      dom.setStyle(el, 'list-style-type', type);\n    };\n    const setAttribs = (elm, attrs) => {\n      global$2.each(attrs, (value, key) => {\n        elm.setAttribute(key, value);\n      });\n    };\n    const updateListAttrs = (dom, el, detail) => {\n      setAttribs(el, detail['list-attributes']);\n      global$2.each(dom.select('li', el), li => {\n        setAttribs(li, detail['list-item-attributes']);\n      });\n    };\n    const updateListWithDetails = (dom, el, detail) => {\n      updateListStyle(dom, el, detail);\n      updateListAttrs(dom, el, detail);\n    };\n    const removeStyles = (dom, element, styles) => {\n      global$2.each(styles, style => dom.setStyle(element, style, ''));\n    };\n    const isInline = (editor, node) => isNonNullable(node) && !isBlock(node, editor.schema.getBlockElements());\n    const getEndPointNode = (editor, rng, start, root) => {\n      let container = rng[start ? 'startContainer' : 'endContainer'];\n      const offset = rng[start ? 'startOffset' : 'endOffset'];\n      if (isElement(container)) {\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n      }\n      if (!start && isBr(container.nextSibling)) {\n        container = container.nextSibling;\n      }\n      const findBetterContainer = (container, forward) => {\n        var _a;\n        const walker = new global$5(container, root);\n        const dir = forward ? 'next' : 'prev';\n        let node;\n        while (node = walker[dir]()) {\n          if (!(isVoid(editor, node) || isZwsp(node.textContent) || ((_a = node.textContent) === null || _a === void 0 ? void 0 : _a.length) === 0)) {\n            return Optional.some(node);\n          }\n        }\n        return Optional.none();\n      };\n      if (start && isTextNode$1(container)) {\n        if (isZwsp(container.textContent)) {\n          container = findBetterContainer(container, false).getOr(container);\n        } else {\n          if (container.parentNode !== null && isInline(editor, container.parentNode)) {\n            container = container.parentNode;\n          }\n          while (container.previousSibling !== null && (isInline(editor, container.previousSibling) || isTextNode$1(container.previousSibling))) {\n            container = container.previousSibling;\n          }\n        }\n      }\n      if (!start && isTextNode$1(container)) {\n        if (isZwsp(container.textContent)) {\n          container = findBetterContainer(container, true).getOr(container);\n        } else {\n          if (container.parentNode !== null && isInline(editor, container.parentNode)) {\n            container = container.parentNode;\n          }\n          while (container.nextSibling !== null && (isInline(editor, container.nextSibling) || isTextNode$1(container.nextSibling))) {\n            container = container.nextSibling;\n          }\n        }\n      }\n      while (container.parentNode !== root) {\n        const parent = container.parentNode;\n        if (isTextBlock(editor, container)) {\n          return container;\n        }\n        if (/^(TD|TH)$/.test(parent.nodeName)) {\n          return container;\n        }\n        container = parent;\n      }\n      return container;\n    };\n    const getSelectedTextBlocks = (editor, rng, root) => {\n      const textBlocks = [];\n      const dom = editor.dom;\n      const startNode = getEndPointNode(editor, rng, true, root);\n      const endNode = getEndPointNode(editor, rng, false, root);\n      let block;\n      const siblings = [];\n      for (let node = startNode; node; node = node.nextSibling) {\n        siblings.push(node);\n        if (node === endNode) {\n          break;\n        }\n      }\n      global$2.each(siblings, node => {\n        var _a;\n        if (isTextBlock(editor, node)) {\n          textBlocks.push(node);\n          block = null;\n          return;\n        }\n        if (dom.isBlock(node) || isBr(node)) {\n          if (isBr(node)) {\n            dom.remove(node);\n          }\n          block = null;\n          return;\n        }\n        const nextSibling = node.nextSibling;\n        if (global$1.isBookmarkNode(node)) {\n          if (isListNode(nextSibling) || isTextBlock(editor, nextSibling) || !nextSibling && node.parentNode === root) {\n            block = null;\n            return;\n          }\n        }\n        if (!block) {\n          block = dom.create('p');\n          (_a = node.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(block, node);\n          textBlocks.push(block);\n        }\n        block.appendChild(node);\n      });\n      return textBlocks;\n    };\n    const hasCompatibleStyle = (dom, sib, detail) => {\n      const sibStyle = dom.getStyle(sib, 'list-style-type');\n      let detailStyle = detail ? detail['list-style-type'] : '';\n      detailStyle = detailStyle === null ? '' : detailStyle;\n      return sibStyle === detailStyle;\n    };\n    const applyList = (editor, listName, detail) => {\n      const rng = editor.selection.getRng();\n      let listItemName = 'LI';\n      const root = getClosestListHost(editor, editor.selection.getStart(true));\n      const dom = editor.dom;\n      if (dom.getContentEditable(editor.selection.getNode()) === 'false') {\n        return;\n      }\n      listName = listName.toUpperCase();\n      if (listName === 'DL') {\n        listItemName = 'DT';\n      }\n      const bookmark = createBookmark(rng);\n      const selectedTextBlocks = getSelectedTextBlocks(editor, rng, root);\n      global$2.each(selectedTextBlocks, block => {\n        let listBlock;\n        const sibling = block.previousSibling;\n        const parent = block.parentNode;\n        if (!isListItemNode(parent)) {\n          if (sibling && isListNode(sibling) && sibling.nodeName === listName && hasCompatibleStyle(dom, sibling, detail)) {\n            listBlock = sibling;\n            block = dom.rename(block, listItemName);\n            sibling.appendChild(block);\n          } else {\n            listBlock = dom.create(listName);\n            parent.insertBefore(listBlock, block);\n            listBlock.appendChild(block);\n            block = dom.rename(block, listItemName);\n          }\n          removeStyles(dom, block, [\n            'margin',\n            'margin-right',\n            'margin-bottom',\n            'margin-left',\n            'margin-top',\n            'padding',\n            'padding-right',\n            'padding-bottom',\n            'padding-left',\n            'padding-top'\n          ]);\n          updateListWithDetails(dom, listBlock, detail);\n          mergeWithAdjacentLists(editor.dom, listBlock);\n        }\n      });\n      editor.selection.setRng(resolveBookmark(bookmark));\n    };\n    const isValidLists = (list1, list2) => {\n      return isListNode(list1) && list1.nodeName === (list2 === null || list2 === void 0 ? void 0 : list2.nodeName);\n    };\n    const hasSameListStyle = (dom, list1, list2) => {\n      const targetStyle = dom.getStyle(list1, 'list-style-type', true);\n      const style = dom.getStyle(list2, 'list-style-type', true);\n      return targetStyle === style;\n    };\n    const hasSameClasses = (elm1, elm2) => {\n      return elm1.className === elm2.className;\n    };\n    const shouldMerge = (dom, list1, list2) => {\n      return isValidLists(list1, list2) && hasSameListStyle(dom, list1, list2) && hasSameClasses(list1, list2);\n    };\n    const mergeWithAdjacentLists = (dom, listBlock) => {\n      let node;\n      let sibling = listBlock.nextSibling;\n      if (shouldMerge(dom, listBlock, sibling)) {\n        const liSibling = sibling;\n        while (node = liSibling.firstChild) {\n          listBlock.appendChild(node);\n        }\n        dom.remove(liSibling);\n      }\n      sibling = listBlock.previousSibling;\n      if (shouldMerge(dom, listBlock, sibling)) {\n        const liSibling = sibling;\n        while (node = liSibling.lastChild) {\n          listBlock.insertBefore(node, listBlock.firstChild);\n        }\n        dom.remove(liSibling);\n      }\n    };\n    const updateList$1 = (editor, list, listName, detail) => {\n      if (list.nodeName !== listName) {\n        const newList = editor.dom.rename(list, listName);\n        updateListWithDetails(editor.dom, newList, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), newList);\n      } else {\n        updateListWithDetails(editor.dom, list, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), list);\n      }\n    };\n    const toggleMultipleLists = (editor, parentList, lists, listName, detail) => {\n      const parentIsList = isListNode(parentList);\n      if (parentIsList && parentList.nodeName === listName && !hasListStyleDetail(detail)) {\n        flattenListSelection(editor);\n      } else {\n        applyList(editor, listName, detail);\n        const bookmark = createBookmark(editor.selection.getRng());\n        const allLists = parentIsList ? [\n          parentList,\n          ...lists\n        ] : lists;\n        global$2.each(allLists, elm => {\n          updateList$1(editor, elm, listName, detail);\n        });\n        editor.selection.setRng(resolveBookmark(bookmark));\n      }\n    };\n    const hasListStyleDetail = detail => {\n      return 'list-style-type' in detail;\n    };\n    const toggleSingleList = (editor, parentList, listName, detail) => {\n      if (parentList === editor.getBody()) {\n        return;\n      }\n      if (parentList) {\n        if (parentList.nodeName === listName && !hasListStyleDetail(detail) && !isCustomList(parentList)) {\n          flattenListSelection(editor);\n        } else {\n          const bookmark = createBookmark(editor.selection.getRng());\n          updateListWithDetails(editor.dom, parentList, detail);\n          const newList = editor.dom.rename(parentList, listName);\n          mergeWithAdjacentLists(editor.dom, newList);\n          editor.selection.setRng(resolveBookmark(bookmark));\n          applyList(editor, listName, detail);\n          fireListEvent(editor, listToggleActionFromListName(listName), newList);\n        }\n      } else {\n        applyList(editor, listName, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), parentList);\n      }\n    };\n    const toggleList = (editor, listName, _detail) => {\n      const parentList = getParentList(editor);\n      if (isWithinNonEditableList(editor, parentList) || hasNonEditableBlocksSelected(editor)) {\n        return;\n      }\n      const selectedSubLists = getSelectedSubLists(editor);\n      const detail = isObject(_detail) ? _detail : {};\n      if (selectedSubLists.length > 0) {\n        toggleMultipleLists(editor, parentList, selectedSubLists, listName, detail);\n      } else {\n        toggleSingleList(editor, parentList, listName, detail);\n      }\n    };\n\n    const DOM = global$3.DOM;\n    const normalizeList = (dom, list) => {\n      const parentNode = list.parentElement;\n      if (parentNode && parentNode.nodeName === 'LI' && parentNode.firstChild === list) {\n        const sibling = parentNode.previousSibling;\n        if (sibling && sibling.nodeName === 'LI') {\n          sibling.appendChild(list);\n          if (isEmpty$2(dom, parentNode)) {\n            DOM.remove(parentNode);\n          }\n        } else {\n          DOM.setStyle(parentNode, 'listStyleType', 'none');\n        }\n      }\n      if (isListNode(parentNode)) {\n        const sibling = parentNode.previousSibling;\n        if (sibling && sibling.nodeName === 'LI') {\n          sibling.appendChild(list);\n        }\n      }\n    };\n    const normalizeLists = (dom, element) => {\n      const lists = global$2.grep(dom.select('ol,ul', element));\n      global$2.each(lists, list => {\n        normalizeList(dom, list);\n      });\n    };\n\n    const findNextCaretContainer = (editor, rng, isForward, root) => {\n      let node = rng.startContainer;\n      const offset = rng.startOffset;\n      if (isTextNode$1(node) && (isForward ? offset < node.data.length : offset > 0)) {\n        return node;\n      }\n      const nonEmptyBlocks = editor.schema.getNonEmptyElements();\n      if (isElement(node)) {\n        node = global$6.getNode(node, offset);\n      }\n      const walker = new global$5(node, root);\n      if (isForward) {\n        if (isBogusBr(editor.dom, node)) {\n          walker.next();\n        }\n      }\n      const walkFn = isForward ? walker.next.bind(walker) : walker.prev2.bind(walker);\n      while (node = walkFn()) {\n        if (node.nodeName === 'LI' && !node.hasChildNodes()) {\n          return node;\n        }\n        if (nonEmptyBlocks[node.nodeName]) {\n          return node;\n        }\n        if (isTextNode$1(node) && node.data.length > 0) {\n          return node;\n        }\n      }\n      return null;\n    };\n    const hasOnlyOneBlockChild = (dom, elm) => {\n      const childNodes = elm.childNodes;\n      return childNodes.length === 1 && !isListNode(childNodes[0]) && dom.isBlock(childNodes[0]);\n    };\n    const unwrapSingleBlockChild = (dom, elm) => {\n      if (hasOnlyOneBlockChild(dom, elm)) {\n        dom.remove(elm.firstChild, true);\n      }\n    };\n    const moveChildren = (dom, fromElm, toElm) => {\n      let node;\n      const targetElm = hasOnlyOneBlockChild(dom, toElm) ? toElm.firstChild : toElm;\n      unwrapSingleBlockChild(dom, fromElm);\n      if (!isEmpty$2(dom, fromElm, true)) {\n        while (node = fromElm.firstChild) {\n          targetElm.appendChild(node);\n        }\n      }\n    };\n    const mergeLiElements = (dom, fromElm, toElm) => {\n      let listNode;\n      const ul = fromElm.parentNode;\n      if (!isChildOfBody(dom, fromElm) || !isChildOfBody(dom, toElm)) {\n        return;\n      }\n      if (isListNode(toElm.lastChild)) {\n        listNode = toElm.lastChild;\n      }\n      if (ul === toElm.lastChild) {\n        if (isBr(ul.previousSibling)) {\n          dom.remove(ul.previousSibling);\n        }\n      }\n      const node = toElm.lastChild;\n      if (node && isBr(node) && fromElm.hasChildNodes()) {\n        dom.remove(node);\n      }\n      if (isEmpty$2(dom, toElm, true)) {\n        empty(SugarElement.fromDom(toElm));\n      }\n      moveChildren(dom, fromElm, toElm);\n      if (listNode) {\n        toElm.appendChild(listNode);\n      }\n      const contains$1 = contains(SugarElement.fromDom(toElm), SugarElement.fromDom(fromElm));\n      const nestedLists = contains$1 ? dom.getParents(fromElm, isListNode, toElm) : [];\n      dom.remove(fromElm);\n      each$1(nestedLists, list => {\n        if (isEmpty$2(dom, list) && list !== dom.getRoot()) {\n          dom.remove(list);\n        }\n      });\n    };\n    const mergeIntoEmptyLi = (editor, fromLi, toLi) => {\n      empty(SugarElement.fromDom(toLi));\n      mergeLiElements(editor.dom, fromLi, toLi);\n      editor.selection.setCursorLocation(toLi, 0);\n    };\n    const mergeForward = (editor, rng, fromLi, toLi) => {\n      const dom = editor.dom;\n      if (dom.isEmpty(toLi)) {\n        mergeIntoEmptyLi(editor, fromLi, toLi);\n      } else {\n        const bookmark = createBookmark(rng);\n        mergeLiElements(dom, fromLi, toLi);\n        editor.selection.setRng(resolveBookmark(bookmark));\n      }\n    };\n    const mergeBackward = (editor, rng, fromLi, toLi) => {\n      const bookmark = createBookmark(rng);\n      mergeLiElements(editor.dom, fromLi, toLi);\n      const resolvedBookmark = resolveBookmark(bookmark);\n      editor.selection.setRng(resolvedBookmark);\n    };\n    const backspaceDeleteFromListToListCaret = (editor, isForward) => {\n      const dom = editor.dom, selection = editor.selection;\n      const selectionStartElm = selection.getStart();\n      const root = getClosestEditingHost(editor, selectionStartElm);\n      const li = dom.getParent(selection.getStart(), 'LI', root);\n      if (li) {\n        const ul = li.parentElement;\n        if (ul === editor.getBody() && isEmpty$2(dom, ul)) {\n          return true;\n        }\n        const rng = normalizeRange(selection.getRng());\n        const otherLi = dom.getParent(findNextCaretContainer(editor, rng, isForward, root), 'LI', root);\n        if (otherLi && otherLi !== li) {\n          editor.undoManager.transact(() => {\n            if (isForward) {\n              mergeForward(editor, rng, otherLi, li);\n            } else {\n              if (isFirstChild(li)) {\n                outdentListSelection(editor);\n              } else {\n                mergeBackward(editor, rng, li, otherLi);\n              }\n            }\n          });\n          return true;\n        } else if (!otherLi) {\n          if (!isForward && rng.startOffset === 0 && rng.endOffset === 0) {\n            editor.undoManager.transact(() => {\n              flattenListSelection(editor);\n            });\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    const removeBlock = (dom, block, root) => {\n      const parentBlock = dom.getParent(block.parentNode, dom.isBlock, root);\n      dom.remove(block);\n      if (parentBlock && dom.isEmpty(parentBlock)) {\n        dom.remove(parentBlock);\n      }\n    };\n    const backspaceDeleteIntoListCaret = (editor, isForward) => {\n      const dom = editor.dom;\n      const selectionStartElm = editor.selection.getStart();\n      const root = getClosestEditingHost(editor, selectionStartElm);\n      const block = dom.getParent(selectionStartElm, dom.isBlock, root);\n      if (block && dom.isEmpty(block)) {\n        const rng = normalizeRange(editor.selection.getRng());\n        const otherLi = dom.getParent(findNextCaretContainer(editor, rng, isForward, root), 'LI', root);\n        if (otherLi) {\n          const findValidElement = element => contains$1([\n            'td',\n            'th',\n            'caption'\n          ], name(element));\n          const findRoot = node => node.dom === root;\n          const otherLiCell = closest(SugarElement.fromDom(otherLi), findValidElement, findRoot);\n          const caretCell = closest(SugarElement.fromDom(rng.startContainer), findValidElement, findRoot);\n          if (!equals(otherLiCell, caretCell, eq)) {\n            return false;\n          }\n          editor.undoManager.transact(() => {\n            removeBlock(dom, block, root);\n            mergeWithAdjacentLists(dom, otherLi.parentNode);\n            editor.selection.select(otherLi, true);\n            editor.selection.collapse(isForward);\n          });\n          return true;\n        }\n      }\n      return false;\n    };\n    const backspaceDeleteCaret = (editor, isForward) => {\n      return backspaceDeleteFromListToListCaret(editor, isForward) || backspaceDeleteIntoListCaret(editor, isForward);\n    };\n    const hasListSelection = editor => {\n      const selectionStartElm = editor.selection.getStart();\n      const root = getClosestEditingHost(editor, selectionStartElm);\n      const startListParent = editor.dom.getParent(selectionStartElm, 'LI,DT,DD', root);\n      return startListParent || getSelectedListItems(editor).length > 0;\n    };\n    const backspaceDeleteRange = editor => {\n      if (hasListSelection(editor)) {\n        editor.undoManager.transact(() => {\n          editor.execCommand('Delete');\n          normalizeLists(editor.dom, editor.getBody());\n        });\n        return true;\n      }\n      return false;\n    };\n    const backspaceDelete = (editor, isForward) => {\n      const selection = editor.selection;\n      return !isWithinNonEditableList(editor, selection.getNode()) && (selection.isCollapsed() ? backspaceDeleteCaret(editor, isForward) : backspaceDeleteRange(editor));\n    };\n    const setup$2 = editor => {\n      editor.on('ExecCommand', e => {\n        const cmd = e.command.toLowerCase();\n        if ((cmd === 'delete' || cmd === 'forwarddelete') && hasListSelection(editor)) {\n          normalizeLists(editor.dom, editor.getBody());\n        }\n      });\n      editor.on('keydown', e => {\n        if (e.keyCode === global$4.BACKSPACE) {\n          if (backspaceDelete(editor, false)) {\n            e.preventDefault();\n          }\n        } else if (e.keyCode === global$4.DELETE) {\n          if (backspaceDelete(editor, true)) {\n            e.preventDefault();\n          }\n        }\n      });\n    };\n\n    const get = editor => ({\n      backspaceDelete: isForward => {\n        backspaceDelete(editor, isForward);\n      }\n    });\n\n    const updateList = (editor, update) => {\n      const parentList = getParentList(editor);\n      if (parentList === null || isWithinNonEditableList(editor, parentList)) {\n        return;\n      }\n      editor.undoManager.transact(() => {\n        if (isObject(update.styles)) {\n          editor.dom.setStyles(parentList, update.styles);\n        }\n        if (isObject(update.attrs)) {\n          each(update.attrs, (v, k) => editor.dom.setAttrib(parentList, k, v));\n        }\n      });\n    };\n\n    const parseAlphabeticBase26 = str => {\n      const chars = reverse(trim(str).split(''));\n      const values = map(chars, (char, i) => {\n        const charValue = char.toUpperCase().charCodeAt(0) - 'A'.charCodeAt(0) + 1;\n        return Math.pow(26, i) * charValue;\n      });\n      return foldl(values, (sum, v) => sum + v, 0);\n    };\n    const composeAlphabeticBase26 = value => {\n      value--;\n      if (value < 0) {\n        return '';\n      } else {\n        const remainder = value % 26;\n        const quotient = Math.floor(value / 26);\n        const rest = composeAlphabeticBase26(quotient);\n        const char = String.fromCharCode('A'.charCodeAt(0) + remainder);\n        return rest + char;\n      }\n    };\n    const isUppercase = str => /^[A-Z]+$/.test(str);\n    const isLowercase = str => /^[a-z]+$/.test(str);\n    const isNumeric = str => /^[0-9]+$/.test(str);\n    const deduceListType = start => {\n      if (isNumeric(start)) {\n        return 2;\n      } else if (isUppercase(start)) {\n        return 0;\n      } else if (isLowercase(start)) {\n        return 1;\n      } else if (isEmpty$1(start)) {\n        return 3;\n      } else {\n        return 4;\n      }\n    };\n    const parseStartValue = start => {\n      switch (deduceListType(start)) {\n      case 2:\n        return Optional.some({\n          listStyleType: Optional.none(),\n          start\n        });\n      case 0:\n        return Optional.some({\n          listStyleType: Optional.some('upper-alpha'),\n          start: parseAlphabeticBase26(start).toString()\n        });\n      case 1:\n        return Optional.some({\n          listStyleType: Optional.some('lower-alpha'),\n          start: parseAlphabeticBase26(start).toString()\n        });\n      case 3:\n        return Optional.some({\n          listStyleType: Optional.none(),\n          start: ''\n        });\n      case 4:\n        return Optional.none();\n      }\n    };\n    const parseDetail = detail => {\n      const start = parseInt(detail.start, 10);\n      if (is$2(detail.listStyleType, 'upper-alpha')) {\n        return composeAlphabeticBase26(start);\n      } else if (is$2(detail.listStyleType, 'lower-alpha')) {\n        return composeAlphabeticBase26(start).toLowerCase();\n      } else {\n        return detail.start;\n      }\n    };\n\n    const open = editor => {\n      const currentList = getParentList(editor);\n      if (!isOlNode(currentList) || isWithinNonEditableList(editor, currentList)) {\n        return;\n      }\n      editor.windowManager.open({\n        title: 'List Properties',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'input',\n              name: 'start',\n              label: 'Start list at number',\n              inputMode: 'numeric'\n            }]\n        },\n        initialData: {\n          start: parseDetail({\n            start: editor.dom.getAttrib(currentList, 'start', '1'),\n            listStyleType: Optional.from(editor.dom.getStyle(currentList, 'list-style-type'))\n          })\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        onSubmit: api => {\n          const data = api.getData();\n          parseStartValue(data.start).each(detail => {\n            editor.execCommand('mceListUpdate', false, {\n              attrs: { start: detail.start === '1' ? '' : detail.start },\n              styles: { 'list-style-type': detail.listStyleType.getOr('') }\n            });\n          });\n          api.close();\n        }\n      });\n    };\n\n    const queryListCommandState = (editor, listName) => () => {\n      const parentList = getParentList(editor);\n      return isNonNullable(parentList) && parentList.nodeName === listName;\n    };\n    const registerDialog = editor => {\n      editor.addCommand('mceListProps', () => {\n        open(editor);\n      });\n    };\n    const register$2 = editor => {\n      editor.on('BeforeExecCommand', e => {\n        const cmd = e.command.toLowerCase();\n        if (cmd === 'indent') {\n          indentListSelection(editor);\n        } else if (cmd === 'outdent') {\n          outdentListSelection(editor);\n        }\n      });\n      editor.addCommand('InsertUnorderedList', (ui, detail) => {\n        toggleList(editor, 'UL', detail);\n      });\n      editor.addCommand('InsertOrderedList', (ui, detail) => {\n        toggleList(editor, 'OL', detail);\n      });\n      editor.addCommand('InsertDefinitionList', (ui, detail) => {\n        toggleList(editor, 'DL', detail);\n      });\n      editor.addCommand('RemoveList', () => {\n        flattenListSelection(editor);\n      });\n      registerDialog(editor);\n      editor.addCommand('mceListUpdate', (ui, detail) => {\n        if (isObject(detail)) {\n          updateList(editor, detail);\n        }\n      });\n      editor.addQueryStateHandler('InsertUnorderedList', queryListCommandState(editor, 'UL'));\n      editor.addQueryStateHandler('InsertOrderedList', queryListCommandState(editor, 'OL'));\n      editor.addQueryStateHandler('InsertDefinitionList', queryListCommandState(editor, 'DL'));\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n    const isTextNode = node => node.type === 3;\n    const isEmpty = nodeBuffer => nodeBuffer.length === 0;\n    const wrapInvalidChildren = list => {\n      const insertListItem = (buffer, refNode) => {\n        const li = global.create('li');\n        each$1(buffer, node => li.append(node));\n        if (refNode) {\n          list.insert(li, refNode, true);\n        } else {\n          list.append(li);\n        }\n      };\n      const reducer = (buffer, node) => {\n        if (isTextNode(node)) {\n          return [\n            ...buffer,\n            node\n          ];\n        } else if (!isEmpty(buffer) && !isTextNode(node)) {\n          insertListItem(buffer, node);\n          return [];\n        } else {\n          return buffer;\n        }\n      };\n      const restBuffer = foldl(list.children(), reducer, []);\n      if (!isEmpty(restBuffer)) {\n        insertListItem(restBuffer);\n      }\n    };\n    const setup$1 = editor => {\n      editor.on('PreInit', () => {\n        const {parser} = editor;\n        parser.addNodeFilter('ul,ol', nodes => each$1(nodes, wrapInvalidChildren));\n      });\n    };\n\n    const setupTabKey = editor => {\n      editor.on('keydown', e => {\n        if (e.keyCode !== global$4.TAB || global$4.metaKeyPressed(e)) {\n          return;\n        }\n        editor.undoManager.transact(() => {\n          if (e.shiftKey ? outdentListSelection(editor) : indentListSelection(editor)) {\n            e.preventDefault();\n          }\n        });\n      });\n    };\n    const setup = editor => {\n      if (shouldIndentOnTab(editor)) {\n        setupTabKey(editor);\n      }\n      setup$2(editor);\n    };\n\n    const setupToggleButtonHandler = (editor, listName) => api => {\n      const toggleButtonHandler = e => {\n        api.setActive(inList(e.parents, listName));\n        api.setEnabled(!isWithinNonEditableList(editor, e.element));\n      };\n      return setNodeChangeHandler(editor, toggleButtonHandler);\n    };\n    const register$1 = editor => {\n      const exec = command => () => editor.execCommand(command);\n      if (!editor.hasPlugin('advlist')) {\n        editor.ui.registry.addToggleButton('numlist', {\n          icon: 'ordered-list',\n          active: false,\n          tooltip: 'Numbered list',\n          onAction: exec('InsertOrderedList'),\n          onSetup: setupToggleButtonHandler(editor, 'OL')\n        });\n        editor.ui.registry.addToggleButton('bullist', {\n          icon: 'unordered-list',\n          active: false,\n          tooltip: 'Bullet list',\n          onAction: exec('InsertUnorderedList'),\n          onSetup: setupToggleButtonHandler(editor, 'UL')\n        });\n      }\n    };\n\n    const setupMenuButtonHandler = (editor, listName) => api => {\n      const menuButtonHandler = e => api.setEnabled(inList(e.parents, listName) && !isWithinNonEditableList(editor, e.element));\n      return setNodeChangeHandler(editor, menuButtonHandler);\n    };\n    const register = editor => {\n      const listProperties = {\n        text: 'List properties...',\n        icon: 'ordered-list',\n        onAction: () => editor.execCommand('mceListProps'),\n        onSetup: setupMenuButtonHandler(editor, 'OL')\n      };\n      editor.ui.registry.addMenuItem('listprops', listProperties);\n      editor.ui.registry.addContextMenu('lists', {\n        update: node => {\n          const parentList = getParentList(editor, node);\n          return isOlNode(parentList) ? ['listprops'] : [];\n        }\n      });\n    };\n\n    var Plugin = () => {\n      global$7.add('lists', editor => {\n        register$3(editor);\n        setup$1(editor);\n        if (!editor.hasPlugin('rtc', true)) {\n          setup(editor);\n          register$2(editor);\n        } else {\n          registerDialog(editor);\n        }\n        register$1(editor);\n        register(editor);\n        return get(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"table\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/table')\n//   ES2015:\n//     import 'tinymce/plugins/table'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.4.1 (2023-03-29)\n */\n\n(function () {\n    'use strict';\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$1 = t => a => t === a;\n    const isString = isType$1('string');\n    const isArray = isType$1('array');\n    const isBoolean = isSimpleType('boolean');\n    const isUndefined = eq$1(undefined);\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n\n    const noop = () => {\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const call = f => {\n      f();\n    };\n    const never = constant(false);\n    const always = constant(true);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each$1 = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each$1(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const filter$1 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each$1(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const size = obj => {\n      return keys(obj).length;\n    };\n    const get$4 = (obj, key) => {\n      return has(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const range = (num, f) => {\n      const r = [];\n      for (let i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    const map = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const flatten$1 = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind = (xs, f) => flatten$1(map(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const get$3 = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$3(xs, 0);\n    const last = xs => get$3(xs, xs.length - 1);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const COMMENT = 8;\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom$1(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom$1(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom$1(node);\n    };\n    const fromDom$1 = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$1);\n    const SugarElement = {\n      fromHtml,\n      fromTag,\n      fromText,\n      fromDom: fromDom$1,\n      fromPoint\n    };\n\n    const is$2 = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all$1 = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const is$1 = is$2;\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const name = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type = element => element.dom.nodeType;\n    const isType = t => element => type(element) === t;\n    const isComment = element => type(element) === COMMENT || name(element) === '#comment';\n    const isElement = isType(ELEMENT);\n    const isText = isType(TEXT);\n    const isDocument = isType(DOCUMENT);\n    const isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement(e) && name(e) === tag;\n\n    const owner = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument(dos) ? dos : owner(dos);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parents = (element, isRoot) => {\n      const stop = isFunction(isRoot) ? isRoot : never;\n      let dom = element.dom;\n      const ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        const rawParent = dom.parentNode;\n        const p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    const prevSibling = element => Optional.from(element.dom.previousSibling).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children$3 = element => map(element.dom.childNodes, SugarElement.fromDom);\n    const child$3 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$3(element, 0);\n\n    const isShadowRoot = dos => isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    const supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    const getRootNode = supported ? e => SugarElement.fromDom(e.dom.getRootNode()) : documentOrOwner;\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n\n    const inBody = element => {\n      const dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$1 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$2 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$1, scope, predicate, isRoot);\n    };\n    const child$2 = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n\n    const ancestor = (scope, selector, isRoot) => ancestor$1(scope, e => is$2(e, selector), isRoot);\n    const child$1 = (scope, selector) => child$2(scope, e => is$2(e, selector));\n    const descendant = (scope, selector) => one(selector, scope);\n    const closest$1 = (scope, selector, isRoot) => {\n      const is = (element, selector) => is$2(element, selector);\n      return ClosestOrAncestor(is, ancestor, scope, selector, isRoot);\n    };\n\n    const closest = target => closest$1(target, '[contenteditable]');\n    const isEditable = (element, assumeEditable = false) => {\n      if (inBody(element)) {\n        return element.dom.isContentEditable;\n      } else {\n        return closest(element).fold(constant(assumeEditable), editable => getRaw$1(editable) === 'true');\n      }\n    };\n    const getRaw$1 = element => element.dom.contentEditable;\n\n    const getNodeName = elm => elm.nodeName.toLowerCase();\n    const getBody = editor => SugarElement.fromDom(editor.getBody());\n    const getIsRoot = editor => element => eq(element, getBody(editor));\n    const removePxSuffix = size => size ? size.replace(/px$/, '') : '';\n    const addPxSuffix = size => /^\\d+(\\.\\d+)?$/.test(size) ? size + 'px' : size;\n    const getSelectionStart = editor => SugarElement.fromDom(editor.selection.getStart());\n    const getSelectionEnd = editor => SugarElement.fromDom(editor.selection.getEnd());\n    const isInEditableContext = cell => closest$2(cell, isTag('table')).forall(isEditable);\n\n    const children$2 = (scope, predicate) => filter(children$3(scope), predicate);\n    const descendants$1 = (scope, predicate) => {\n      let result = [];\n      each(children$3(scope), x => {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants$1(x, predicate));\n      });\n      return result;\n    };\n\n    const children$1 = (scope, selector) => children$2(scope, e => is$2(e, selector));\n    const descendants = (scope, selector) => all$1(selector, scope);\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$2 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll = (element, attrs) => {\n      const dom = element.dom;\n      each$1(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const get$2 = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$2(element, key));\n    const remove$2 = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const clone = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const is = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    const flatten = oot => oot.bind(identity);\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const removeFromStart = (str, numChars) => {\n      return str.substring(numChars);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const removeLeading = (str, prefix) => {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty = s => !isNotEmpty(s);\n    const toInt = (value, radix = 10) => {\n      const num = parseInt(value, radix);\n      return isNaN(num) ? Optional.none() : Optional.some(num);\n    };\n    const toFloat = value => {\n      const num = parseFloat(value);\n      return isNaN(num) ? Optional.none() : Optional.some(num);\n    };\n\n    const isSupported = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$1 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const get$1 = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const remove$1 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is(getOpt(element, 'style').map(trim), '')) {\n        remove$2(element, 'style');\n      }\n    };\n\n    const getAttrValue = (cell, name, fallback = 0) => getOpt(cell, name).map(value => parseInt(value, 10)).getOr(fallback);\n\n    const firstLayer = (scope, selector) => {\n      return filterFirstLayer(scope, selector, always);\n    };\n    const filterFirstLayer = (scope, selector, predicate) => {\n      return bind(children$3(scope), x => {\n        if (is$2(x, selector)) {\n          return predicate(x) ? [x] : [];\n        } else {\n          return filterFirstLayer(x, selector, predicate);\n        }\n      });\n    };\n\n    const validSectionList = [\n      'tfoot',\n      'thead',\n      'tbody',\n      'colgroup'\n    ];\n    const isValidSection = parentName => contains(validSectionList, parentName);\n    const grid = (rows, columns) => ({\n      rows,\n      columns\n    });\n    const detail = (element, rowspan, colspan) => ({\n      element,\n      rowspan,\n      colspan\n    });\n    const extended = (element, rowspan, colspan, row, column, isLocked) => ({\n      element,\n      rowspan,\n      colspan,\n      row,\n      column,\n      isLocked\n    });\n    const rowdetail = (element, cells, section) => ({\n      element,\n      cells,\n      section\n    });\n    const bounds = (startRow, startCol, finishRow, finishCol) => ({\n      startRow,\n      startCol,\n      finishRow,\n      finishCol\n    });\n    const columnext = (element, colspan, column) => ({\n      element,\n      colspan,\n      column\n    });\n    const colgroup = (element, columns) => ({\n      element,\n      columns\n    });\n\n    const lookup = (tags, element, isRoot = never) => {\n      if (isRoot(element)) {\n        return Optional.none();\n      }\n      if (contains(tags, name(element))) {\n        return Optional.some(element);\n      }\n      const isRootOrUpperTable = elm => is$2(elm, 'table') || isRoot(elm);\n      return ancestor(element, tags.join(','), isRootOrUpperTable);\n    };\n    const cell = (element, isRoot) => lookup([\n      'td',\n      'th'\n    ], element, isRoot);\n    const cells = ancestor => firstLayer(ancestor, 'th,td');\n    const columns = ancestor => {\n      if (is$2(ancestor, 'colgroup')) {\n        return children$1(ancestor, 'col');\n      } else {\n        return bind(columnGroups(ancestor), columnGroup => children$1(columnGroup, 'col'));\n      }\n    };\n    const table = (element, isRoot) => closest$1(element, 'table', isRoot);\n    const rows = ancestor => firstLayer(ancestor, 'tr');\n    const columnGroups = ancestor => table(ancestor).fold(constant([]), table => children$1(table, 'colgroup'));\n\n    const fromRowsOrColGroups = (elems, getSection) => map(elems, row => {\n      if (name(row) === 'colgroup') {\n        const cells = map(columns(row), column => {\n          const colspan = getAttrValue(column, 'span', 1);\n          return detail(column, 1, colspan);\n        });\n        return rowdetail(row, cells, 'colgroup');\n      } else {\n        const cells$1 = map(cells(row), cell => {\n          const rowspan = getAttrValue(cell, 'rowspan', 1);\n          const colspan = getAttrValue(cell, 'colspan', 1);\n          return detail(cell, rowspan, colspan);\n        });\n        return rowdetail(row, cells$1, getSection(row));\n      }\n    });\n    const getParentSection = group => parent(group).map(parent => {\n      const parentName = name(parent);\n      return isValidSection(parentName) ? parentName : 'tbody';\n    }).getOr('tbody');\n    const fromTable$1 = table => {\n      const rows$1 = rows(table);\n      const columnGroups$1 = columnGroups(table);\n      const elems = [\n        ...columnGroups$1,\n        ...rows$1\n      ];\n      return fromRowsOrColGroups(elems, getParentSection);\n    };\n\n    const LOCKED_COL_ATTR = 'data-snooker-locked-cols';\n    const getLockedColumnsFromTable = table => getOpt(table, LOCKED_COL_ATTR).bind(lockedColStr => Optional.from(lockedColStr.match(/\\d+/g))).map(lockedCols => mapToObject(lockedCols, always));\n\n    const key = (row, column) => {\n      return row + ',' + column;\n    };\n    const getAt = (warehouse, row, column) => Optional.from(warehouse.access[key(row, column)]);\n    const findItem = (warehouse, item, comparator) => {\n      const filtered = filterItems(warehouse, detail => {\n        return comparator(item, detail.element);\n      });\n      return filtered.length > 0 ? Optional.some(filtered[0]) : Optional.none();\n    };\n    const filterItems = (warehouse, predicate) => {\n      const all = bind(warehouse.all, r => {\n        return r.cells;\n      });\n      return filter(all, predicate);\n    };\n    const generateColumns = rowData => {\n      const columnsGroup = {};\n      let index = 0;\n      each(rowData.cells, column => {\n        const colspan = column.colspan;\n        range(colspan, columnIndex => {\n          const colIndex = index + columnIndex;\n          columnsGroup[colIndex] = columnext(column.element, colspan, colIndex);\n        });\n        index += colspan;\n      });\n      return columnsGroup;\n    };\n    const generate$1 = list => {\n      const access = {};\n      const cells = [];\n      const tableOpt = head(list).map(rowData => rowData.element).bind(table);\n      const lockedColumns = tableOpt.bind(getLockedColumnsFromTable).getOr({});\n      let maxRows = 0;\n      let maxColumns = 0;\n      let rowCount = 0;\n      const {\n        pass: colgroupRows,\n        fail: rows\n      } = partition(list, rowData => rowData.section === 'colgroup');\n      each(rows, rowData => {\n        const currentRow = [];\n        each(rowData.cells, rowCell => {\n          let start = 0;\n          while (access[key(rowCount, start)] !== undefined) {\n            start++;\n          }\n          const isLocked = hasNonNullableKey(lockedColumns, start.toString());\n          const current = extended(rowCell.element, rowCell.rowspan, rowCell.colspan, rowCount, start, isLocked);\n          for (let occupiedColumnPosition = 0; occupiedColumnPosition < rowCell.colspan; occupiedColumnPosition++) {\n            for (let occupiedRowPosition = 0; occupiedRowPosition < rowCell.rowspan; occupiedRowPosition++) {\n              const rowPosition = rowCount + occupiedRowPosition;\n              const columnPosition = start + occupiedColumnPosition;\n              const newpos = key(rowPosition, columnPosition);\n              access[newpos] = current;\n              maxColumns = Math.max(maxColumns, columnPosition + 1);\n            }\n          }\n          currentRow.push(current);\n        });\n        maxRows++;\n        cells.push(rowdetail(rowData.element, currentRow, rowData.section));\n        rowCount++;\n      });\n      const {columns, colgroups} = last(colgroupRows).map(rowData => {\n        const columns = generateColumns(rowData);\n        const colgroup$1 = colgroup(rowData.element, values(columns));\n        return {\n          colgroups: [colgroup$1],\n          columns\n        };\n      }).getOrThunk(() => ({\n        colgroups: [],\n        columns: {}\n      }));\n      const grid$1 = grid(maxRows, maxColumns);\n      return {\n        grid: grid$1,\n        access,\n        all: cells,\n        columns,\n        colgroups\n      };\n    };\n    const fromTable = table => {\n      const list = fromTable$1(table);\n      return generate$1(list);\n    };\n    const justCells = warehouse => bind(warehouse.all, w => w.cells);\n    const justColumns = warehouse => values(warehouse.columns);\n    const hasColumns = warehouse => keys(warehouse.columns).length > 0;\n    const getColumnAt = (warehouse, columnIndex) => Optional.from(warehouse.columns[columnIndex]);\n    const Warehouse = {\n      fromTable,\n      generate: generate$1,\n      getAt,\n      findItem,\n      filterItems,\n      justCells,\n      justColumns,\n      hasColumns,\n      getColumnAt\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const getTDTHOverallStyle = (dom, elm, name) => {\n      const cells = dom.select('td,th', elm);\n      let firstChildStyle;\n      for (let i = 0; i < cells.length; i++) {\n        const currentStyle = dom.getStyle(cells[i], name);\n        if (isUndefined(firstChildStyle)) {\n          firstChildStyle = currentStyle;\n        }\n        if (firstChildStyle !== currentStyle) {\n          return '';\n        }\n      }\n      return firstChildStyle;\n    };\n    const setAlign = (editor, elm, name) => {\n      global$2.each('left center right'.split(' '), align => {\n        if (align !== name) {\n          editor.formatter.remove('align' + align, {}, elm);\n        }\n      });\n      if (name) {\n        editor.formatter.apply('align' + name, {}, elm);\n      }\n    };\n    const setVAlign = (editor, elm, name) => {\n      global$2.each('top middle bottom'.split(' '), align => {\n        if (align !== name) {\n          editor.formatter.remove('valign' + align, {}, elm);\n        }\n      });\n      if (name) {\n        editor.formatter.apply('valign' + name, {}, elm);\n      }\n    };\n\n    const fireTableModified = (editor, table, data) => {\n      editor.dispatch('TableModified', {\n        ...data,\n        table\n      });\n    };\n\n    const toNumber = (px, fallback) => toFloat(px).getOr(fallback);\n    const getProp = (element, name, fallback) => toNumber(get$1(element, name), fallback);\n    const calcContentBoxSize = (element, size, upper, lower) => {\n      const paddingUpper = getProp(element, `padding-${ upper }`, 0);\n      const paddingLower = getProp(element, `padding-${ lower }`, 0);\n      const borderUpper = getProp(element, `border-${ upper }-width`, 0);\n      const borderLower = getProp(element, `border-${ lower }-width`, 0);\n      return size - paddingUpper - paddingLower - borderUpper - borderLower;\n    };\n    const getCalculatedWidth = (element, boxSizing) => {\n      const dom = element.dom;\n      const width = dom.getBoundingClientRect().width || dom.offsetWidth;\n      return boxSizing === 'border-box' ? width : calcContentBoxSize(element, width, 'left', 'right');\n    };\n    const getInnerWidth = element => getCalculatedWidth(element, 'content-box');\n\n    const getInner = getInnerWidth;\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    const defaultTableToolbar = 'tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol';\n    const defaultCellBorderWidths = range(5, i => {\n      const size = `${ i + 1 }px`;\n      return {\n        title: size,\n        value: size\n      };\n    });\n    const defaultCellBorderStyles = map([\n      'Solid',\n      'Dotted',\n      'Dashed',\n      'Double',\n      'Groove',\n      'Ridge',\n      'Inset',\n      'Outset',\n      'None',\n      'Hidden'\n    ], type => {\n      return {\n        title: type,\n        value: type.toLowerCase()\n      };\n    });\n    const defaultWidth = '100%';\n    const getPixelForcedWidth = editor => {\n      var _a;\n      const dom = editor.dom;\n      const parentBlock = (_a = dom.getParent(editor.selection.getStart(), dom.isBlock)) !== null && _a !== void 0 ? _a : editor.getBody();\n      return getInner(SugarElement.fromDom(parentBlock)) + 'px';\n    };\n    const determineDefaultStyles = (editor, defaultStyles) => {\n      if (isResponsiveForced(editor) || !shouldStyleWithCss(editor)) {\n        return defaultStyles;\n      } else if (isPixelsForced(editor)) {\n        return {\n          ...defaultStyles,\n          width: getPixelForcedWidth(editor)\n        };\n      } else {\n        return {\n          ...defaultStyles,\n          width: defaultWidth\n        };\n      }\n    };\n    const determineDefaultAttributes = (editor, defaultAttributes) => {\n      if (isResponsiveForced(editor) || shouldStyleWithCss(editor)) {\n        return defaultAttributes;\n      } else if (isPixelsForced(editor)) {\n        return {\n          ...defaultAttributes,\n          width: getPixelForcedWidth(editor)\n        };\n      } else {\n        return {\n          ...defaultAttributes,\n          width: defaultWidth\n        };\n      }\n    };\n    const option = name => editor => editor.options.get(name);\n    const register = editor => {\n      const registerOption = editor.options.register;\n      registerOption('table_border_widths', {\n        processor: 'object[]',\n        default: defaultCellBorderWidths\n      });\n      registerOption('table_border_styles', {\n        processor: 'object[]',\n        default: defaultCellBorderStyles\n      });\n      registerOption('table_cell_advtab', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_row_advtab', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_advtab', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_appearance_options', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_grid', {\n        processor: 'boolean',\n        default: !global$1.deviceType.isTouch()\n      });\n      registerOption('table_cell_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('table_row_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('table_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('table_toolbar', {\n        processor: 'string',\n        default: defaultTableToolbar\n      });\n      registerOption('table_background_color_map', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('table_border_color_map', {\n        processor: 'object[]',\n        default: []\n      });\n    };\n    const getTableSizingMode = option('table_sizing_mode');\n    const getTableBorderWidths = option('table_border_widths');\n    const getTableBorderStyles = option('table_border_styles');\n    const hasAdvancedCellTab = option('table_cell_advtab');\n    const hasAdvancedRowTab = option('table_row_advtab');\n    const hasAdvancedTableTab = option('table_advtab');\n    const hasAppearanceOptions = option('table_appearance_options');\n    const hasTableGrid = option('table_grid');\n    const shouldStyleWithCss = option('table_style_by_css');\n    const getCellClassList = option('table_cell_class_list');\n    const getRowClassList = option('table_row_class_list');\n    const getTableClassList = option('table_class_list');\n    const getToolbar = option('table_toolbar');\n    const getTableBackgroundColorMap = option('table_background_color_map');\n    const getTableBorderColorMap = option('table_border_color_map');\n    const isPixelsForced = editor => getTableSizingMode(editor) === 'fixed';\n    const isResponsiveForced = editor => getTableSizingMode(editor) === 'responsive';\n    const getDefaultStyles = editor => {\n      const options = editor.options;\n      const defaultStyles = options.get('table_default_styles');\n      return options.isSet('table_default_styles') ? defaultStyles : determineDefaultStyles(editor, defaultStyles);\n    };\n    const getDefaultAttributes = editor => {\n      const options = editor.options;\n      const defaultAttributes = options.get('table_default_attributes');\n      return options.isSet('table_default_attributes') ? defaultAttributes : determineDefaultAttributes(editor, defaultAttributes);\n    };\n\n    const isWithin = (bounds, detail) => {\n      return detail.column >= bounds.startCol && detail.column + detail.colspan - 1 <= bounds.finishCol && detail.row >= bounds.startRow && detail.row + detail.rowspan - 1 <= bounds.finishRow;\n    };\n    const isRectangular = (warehouse, bounds) => {\n      let isRect = true;\n      const detailIsWithin = curry(isWithin, bounds);\n      for (let i = bounds.startRow; i <= bounds.finishRow; i++) {\n        for (let j = bounds.startCol; j <= bounds.finishCol; j++) {\n          isRect = isRect && Warehouse.getAt(warehouse, i, j).exists(detailIsWithin);\n        }\n      }\n      return isRect ? Optional.some(bounds) : Optional.none();\n    };\n\n    const getBounds = (detailA, detailB) => {\n      return bounds(Math.min(detailA.row, detailB.row), Math.min(detailA.column, detailB.column), Math.max(detailA.row + detailA.rowspan - 1, detailB.row + detailB.rowspan - 1), Math.max(detailA.column + detailA.colspan - 1, detailB.column + detailB.colspan - 1));\n    };\n    const getAnyBox = (warehouse, startCell, finishCell) => {\n      const startCoords = Warehouse.findItem(warehouse, startCell, eq);\n      const finishCoords = Warehouse.findItem(warehouse, finishCell, eq);\n      return startCoords.bind(sc => {\n        return finishCoords.map(fc => {\n          return getBounds(sc, fc);\n        });\n      });\n    };\n    const getBox$1 = (warehouse, startCell, finishCell) => {\n      return getAnyBox(warehouse, startCell, finishCell).bind(bounds => {\n        return isRectangular(warehouse, bounds);\n      });\n    };\n\n    const getBox = (table, first, last) => {\n      const warehouse = getWarehouse(table);\n      return getBox$1(warehouse, first, last);\n    };\n    const getWarehouse = Warehouse.fromTable;\n\n    const before = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$1 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$1(v, element);\n        });\n      }, v => {\n        before(v, element);\n      });\n    };\n    const prepend = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$1(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$1 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const wrap = (element, wrapper) => {\n      before(element, wrapper);\n      append$1(wrapper, element);\n    };\n\n    const after = (marker, elements) => {\n      each(elements, (x, i) => {\n        const e = i === 0 ? marker : elements[i - 1];\n        after$1(e, x);\n      });\n    };\n    const append = (parent, elements) => {\n      each(elements, x => {\n        append$1(parent, x);\n      });\n    };\n\n    const remove = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    const unwrap = wrapper => {\n      const children = children$3(wrapper);\n      if (children.length > 0) {\n        after(wrapper, children);\n      }\n      remove(wrapper);\n    };\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api = NodeValue(isText, 'text');\n    const get = element => api.get(element);\n    const set = (element, value) => api.set(element, value);\n\n    var TagBoundaries = [\n      'body',\n      'p',\n      'div',\n      'article',\n      'aside',\n      'figcaption',\n      'figure',\n      'footer',\n      'header',\n      'nav',\n      'section',\n      'ol',\n      'ul',\n      'li',\n      'table',\n      'thead',\n      'tbody',\n      'tfoot',\n      'caption',\n      'tr',\n      'td',\n      'th',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'blockquote',\n      'pre',\n      'address'\n    ];\n\n    var DomUniverse = () => {\n      const clone$1 = element => {\n        return SugarElement.fromDom(element.dom.cloneNode(false));\n      };\n      const document = element => documentOrOwner(element).dom;\n      const isBoundary = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        if (name(element) === 'body') {\n          return true;\n        }\n        return contains(TagBoundaries, name(element));\n      };\n      const isEmptyTag = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        return contains([\n          'br',\n          'img',\n          'hr',\n          'input'\n        ], name(element));\n      };\n      const isNonEditable = element => isElement(element) && get$2(element, 'contenteditable') === 'false';\n      const comparePosition = (element, other) => {\n        return element.dom.compareDocumentPosition(other.dom);\n      };\n      const copyAttributesTo = (source, destination) => {\n        const as = clone(source);\n        setAll(destination, as);\n      };\n      const isSpecial = element => {\n        const tag = name(element);\n        return contains([\n          'script',\n          'noscript',\n          'iframe',\n          'noframes',\n          'noembed',\n          'title',\n          'style',\n          'textarea',\n          'xmp'\n        ], tag);\n      };\n      const getLanguage = element => isElement(element) ? getOpt(element, 'lang') : Optional.none();\n      return {\n        up: constant({\n          selector: ancestor,\n          closest: closest$1,\n          predicate: ancestor$1,\n          all: parents\n        }),\n        down: constant({\n          selector: descendants,\n          predicate: descendants$1\n        }),\n        styles: constant({\n          get: get$1,\n          getRaw: getRaw,\n          set: set$1,\n          remove: remove$1\n        }),\n        attrs: constant({\n          get: get$2,\n          set: set$2,\n          remove: remove$2,\n          copyTo: copyAttributesTo\n        }),\n        insert: constant({\n          before: before,\n          after: after$1,\n          afterAll: after,\n          append: append$1,\n          appendAll: append,\n          prepend: prepend,\n          wrap: wrap\n        }),\n        remove: constant({\n          unwrap: unwrap,\n          remove: remove\n        }),\n        create: constant({\n          nu: SugarElement.fromTag,\n          clone: clone$1,\n          text: SugarElement.fromText\n        }),\n        query: constant({\n          comparePosition,\n          prevSibling: prevSibling,\n          nextSibling: nextSibling\n        }),\n        property: constant({\n          children: children$3,\n          name: name,\n          parent: parent,\n          document,\n          isText: isText,\n          isComment: isComment,\n          isElement: isElement,\n          isSpecial,\n          getLanguage,\n          getText: get,\n          setText: set,\n          isBoundary,\n          isEmptyTag,\n          isNonEditable\n        }),\n        eq: eq,\n        is: is$1\n      };\n    };\n\n    const all = (universe, look, elements, f) => {\n      const head = elements[0];\n      const tail = elements.slice(1);\n      return f(universe, look, head, tail);\n    };\n    const oneAll = (universe, look, elements) => {\n      return elements.length > 0 ? all(universe, look, elements, unsafeOne) : Optional.none();\n    };\n    const unsafeOne = (universe, look, head, tail) => {\n      const start = look(universe, head);\n      return foldr(tail, (b, a) => {\n        const current = look(universe, a);\n        return commonElement(universe, b, current);\n      }, start);\n    };\n    const commonElement = (universe, start, end) => {\n      return start.bind(s => {\n        return end.filter(curry(universe.eq, s));\n      });\n    };\n\n    const sharedOne$1 = oneAll;\n\n    const universe = DomUniverse();\n    const sharedOne = (look, elements) => {\n      return sharedOne$1(universe, (_universe, element) => {\n        return look(element);\n      }, elements);\n    };\n\n    const lookupTable = container => {\n      return ancestor(container, 'table');\n    };\n    const retrieve$1 = (container, selector) => {\n      const sels = descendants(container, selector);\n      return sels.length > 0 ? Optional.some(sels) : Optional.none();\n    };\n    const getEdges = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return descendant(container, firstSelectedSelector).bind(first => {\n        return descendant(container, lastSelectedSelector).bind(last => {\n          return sharedOne(lookupTable, [\n            first,\n            last\n          ]).map(table => {\n            return {\n              first,\n              last,\n              table\n            };\n          });\n        });\n      });\n    };\n\n    const retrieve = (container, selector) => {\n      return retrieve$1(container, selector);\n    };\n    const retrieveBox = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return getEdges(container, firstSelectedSelector, lastSelectedSelector).bind(edges => {\n        const isRoot = ancestor => {\n          return eq(container, ancestor);\n        };\n        const sectionSelector = 'thead,tfoot,tbody,table';\n        const firstAncestor = ancestor(edges.first, sectionSelector, isRoot);\n        const lastAncestor = ancestor(edges.last, sectionSelector, isRoot);\n        return firstAncestor.bind(fA => {\n          return lastAncestor.bind(lA => {\n            return eq(fA, lA) ? getBox(edges.table, edges.first, edges.last) : Optional.none();\n          });\n        });\n      });\n    };\n\n    const fromDom = nodes => map(nodes, SugarElement.fromDom);\n\n    const strSelected = 'data-mce-selected';\n    const strSelectedSelector = 'td[' + strSelected + '],th[' + strSelected + ']';\n    const strFirstSelected = 'data-mce-first-selected';\n    const strFirstSelectedSelector = 'td[' + strFirstSelected + '],th[' + strFirstSelected + ']';\n    const strLastSelected = 'data-mce-last-selected';\n    const strLastSelectedSelector = 'td[' + strLastSelected + '],th[' + strLastSelected + ']';\n    const ephemera = {\n      selected: strSelected,\n      selectedSelector: strSelectedSelector,\n      firstSelected: strFirstSelected,\n      firstSelectedSelector: strFirstSelectedSelector,\n      lastSelected: strLastSelected,\n      lastSelectedSelector: strLastSelectedSelector\n    };\n\n    const getSelectionCellFallback = element => table(element).bind(table => retrieve(table, ephemera.firstSelectedSelector)).fold(constant(element), cells => cells[0]);\n    const getSelectionFromSelector = selector => (initCell, isRoot) => {\n      const cellName = name(initCell);\n      const cell = cellName === 'col' || cellName === 'colgroup' ? getSelectionCellFallback(initCell) : initCell;\n      return closest$1(cell, selector, isRoot);\n    };\n    const getSelectionCellOrCaption = getSelectionFromSelector('th,td,caption');\n    const getSelectionCell = getSelectionFromSelector('th,td');\n    const getCellsFromSelection = editor => fromDom(editor.model.table.getSelectedCells());\n    const getRowsFromSelection = (selected, selector) => {\n      const cellOpt = getSelectionCell(selected);\n      const rowsOpt = cellOpt.bind(cell => table(cell)).map(table => rows(table));\n      return lift2(cellOpt, rowsOpt, (cell, rows) => filter(rows, row => exists(fromDom(row.dom.cells), rowCell => get$2(rowCell, selector) === '1' || eq(rowCell, cell)))).getOr([]);\n    };\n\n    const verticalAlignValues = [\n      {\n        text: 'None',\n        value: ''\n      },\n      {\n        text: 'Top',\n        value: 'top'\n      },\n      {\n        text: 'Middle',\n        value: 'middle'\n      },\n      {\n        text: 'Bottom',\n        value: 'bottom'\n      }\n    ];\n\n    const hexColour = value => ({ value: normalizeHex(value) });\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    const longformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n    const isHexString = hex => shorthandRegex.test(hex) || longformRegex.test(hex);\n    const normalizeHex = hex => removeLeading(hex, '#').toUpperCase();\n    const fromString$1 = hex => isHexString(hex) ? Optional.some({ value: normalizeHex(hex) }) : Optional.none();\n    const toHex = component => {\n      const hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    const fromRgba = rgbaColour => {\n      const value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    const rgbRegex = /^\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\\s*$/i;\n    const rgbaRegex = /^\\s*rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d?(?:\\.\\d+)?)\\s*\\)\\s*$/i;\n    const rgbaColour = (red, green, blue, alpha) => ({\n      red,\n      green,\n      blue,\n      alpha\n    });\n    const fromStringValues = (red, green, blue, alpha) => {\n      const r = parseInt(red, 10);\n      const g = parseInt(green, 10);\n      const b = parseInt(blue, 10);\n      const a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    const fromString = rgbaString => {\n      if (rgbaString === 'transparent') {\n        return Optional.some(rgbaColour(0, 0, 0, 0));\n      }\n      const rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      const rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n\n    const anyToHex = color => fromString$1(color).orThunk(() => fromString(color).map(fromRgba)).getOrThunk(() => {\n      const canvas = document.createElement('canvas');\n      canvas.height = 1;\n      canvas.width = 1;\n      const canvasContext = canvas.getContext('2d');\n      canvasContext.clearRect(0, 0, canvas.width, canvas.height);\n      canvasContext.fillStyle = '#FFFFFF';\n      canvasContext.fillStyle = color;\n      canvasContext.fillRect(0, 0, 1, 1);\n      const rgba = canvasContext.getImageData(0, 0, 1, 1).data;\n      const r = rgba[0];\n      const g = rgba[1];\n      const b = rgba[2];\n      const a = rgba[3];\n      return fromRgba(rgbaColour(r, g, b, a));\n    });\n    const rgbaToHexString = color => fromString(color).map(fromRgba).map(h => '#' + h.value).getOr(color);\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const singleton = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const unbindable = () => singleton(s => s.unbind());\n\n    const onSetupToggle = (editor, formatName, formatValue) => {\n      return api => {\n        const boundCallback = unbindable();\n        const isNone = isEmpty(formatValue);\n        const init = () => {\n          const selectedCells = getCellsFromSelection(editor);\n          const checkNode = cell => editor.formatter.match(formatName, { value: formatValue }, cell.dom, isNone);\n          if (isNone) {\n            api.setActive(!exists(selectedCells, checkNode));\n            boundCallback.set(editor.formatter.formatChanged(formatName, match => api.setActive(!match), true));\n          } else {\n            api.setActive(forall(selectedCells, checkNode));\n            boundCallback.set(editor.formatter.formatChanged(formatName, api.setActive, false, { value: formatValue }));\n          }\n        };\n        editor.initialized ? init() : editor.on('init', init);\n        return boundCallback.clear;\n      };\n    };\n    const isListGroup = item => hasNonNullableKey(item, 'menu');\n    const buildListItems = items => map(items, item => {\n      const text = item.text || item.title || '';\n      if (isListGroup(item)) {\n        return {\n          text,\n          items: buildListItems(item.menu)\n        };\n      } else {\n        return {\n          text,\n          value: item.value\n        };\n      }\n    });\n    const buildMenuItems = (editor, items, format, onAction) => map(items, item => {\n      const text = item.text || item.title;\n      if (isListGroup(item)) {\n        return {\n          type: 'nestedmenuitem',\n          text,\n          getSubmenuItems: () => buildMenuItems(editor, item.menu, format, onAction)\n        };\n      } else {\n        return {\n          text,\n          type: 'togglemenuitem',\n          onAction: () => onAction(item.value),\n          onSetup: onSetupToggle(editor, format, item.value)\n        };\n      }\n    });\n    const applyTableCellStyle = (editor, style) => value => {\n      editor.execCommand('mceTableApplyCellStyle', false, { [style]: value });\n    };\n    const filterNoneItem = list => bind(list, item => {\n      if (isListGroup(item)) {\n        return [{\n            ...item,\n            menu: filterNoneItem(item.menu)\n          }];\n      } else {\n        return isNotEmpty(item.value) ? [item] : [];\n      }\n    });\n    const generateMenuItemsCallback = (editor, items, format, onAction) => callback => callback(buildMenuItems(editor, items, format, onAction));\n    const buildColorMenu = (editor, colorList, style) => {\n      const colorMap = map(colorList, entry => ({\n        text: entry.title,\n        value: '#' + anyToHex(entry.value).value,\n        type: 'choiceitem'\n      }));\n      return [{\n          type: 'fancymenuitem',\n          fancytype: 'colorswatch',\n          initData: {\n            colors: colorMap.length > 0 ? colorMap : undefined,\n            allowCustomColors: false\n          },\n          onAction: data => {\n            const value = data.value === 'remove' ? '' : data.value;\n            editor.execCommand('mceTableApplyCellStyle', false, { [style]: value });\n          }\n        }];\n    };\n    const changeRowHeader = editor => () => {\n      const currentType = editor.queryCommandValue('mceTableRowType');\n      const newType = currentType === 'header' ? 'body' : 'header';\n      editor.execCommand('mceTableRowType', false, { type: newType });\n    };\n    const changeColumnHeader = editor => () => {\n      const currentType = editor.queryCommandValue('mceTableColType');\n      const newType = currentType === 'th' ? 'td' : 'th';\n      editor.execCommand('mceTableColType', false, { type: newType });\n    };\n\n    const getClassList$1 = editor => {\n      const classes = buildListItems(getCellClassList(editor));\n      if (classes.length > 0) {\n        return Optional.some({\n          name: 'class',\n          type: 'listbox',\n          label: 'Class',\n          items: classes\n        });\n      }\n      return Optional.none();\n    };\n    const children = [\n      {\n        name: 'width',\n        type: 'input',\n        label: 'Width'\n      },\n      {\n        name: 'height',\n        type: 'input',\n        label: 'Height'\n      },\n      {\n        name: 'celltype',\n        type: 'listbox',\n        label: 'Cell type',\n        items: [\n          {\n            text: 'Cell',\n            value: 'td'\n          },\n          {\n            text: 'Header cell',\n            value: 'th'\n          }\n        ]\n      },\n      {\n        name: 'scope',\n        type: 'listbox',\n        label: 'Scope',\n        items: [\n          {\n            text: 'None',\n            value: ''\n          },\n          {\n            text: 'Row',\n            value: 'row'\n          },\n          {\n            text: 'Column',\n            value: 'col'\n          },\n          {\n            text: 'Row group',\n            value: 'rowgroup'\n          },\n          {\n            text: 'Column group',\n            value: 'colgroup'\n          }\n        ]\n      },\n      {\n        name: 'halign',\n        type: 'listbox',\n        label: 'Horizontal align',\n        items: [\n          {\n            text: 'None',\n            value: ''\n          },\n          {\n            text: 'Left',\n            value: 'left'\n          },\n          {\n            text: 'Center',\n            value: 'center'\n          },\n          {\n            text: 'Right',\n            value: 'right'\n          }\n        ]\n      },\n      {\n        name: 'valign',\n        type: 'listbox',\n        label: 'Vertical align',\n        items: verticalAlignValues\n      }\n    ];\n    const getItems$2 = editor => children.concat(getClassList$1(editor).toArray());\n\n    const getAdvancedTab = (editor, dialogName) => {\n      const emptyBorderStyle = [{\n          text: 'Select...',\n          value: ''\n        }];\n      const advTabItems = [\n        {\n          name: 'borderstyle',\n          type: 'listbox',\n          label: 'Border style',\n          items: emptyBorderStyle.concat(buildListItems(getTableBorderStyles(editor)))\n        },\n        {\n          name: 'bordercolor',\n          type: 'colorinput',\n          label: 'Border color'\n        },\n        {\n          name: 'backgroundcolor',\n          type: 'colorinput',\n          label: 'Background color'\n        }\n      ];\n      const borderWidth = {\n        name: 'borderwidth',\n        type: 'input',\n        label: 'Border width'\n      };\n      const items = dialogName === 'cell' ? [borderWidth].concat(advTabItems) : advTabItems;\n      return {\n        title: 'Advanced',\n        name: 'advanced',\n        items\n      };\n    };\n\n    const normal = (editor, element) => {\n      const dom = editor.dom;\n      const setAttrib = (attr, value) => {\n        dom.setAttrib(element, attr, value);\n      };\n      const setStyle = (prop, value) => {\n        dom.setStyle(element, prop, value);\n      };\n      const setFormat = (formatName, value) => {\n        if (value === '') {\n          editor.formatter.remove(formatName, { value: null }, element, true);\n        } else {\n          editor.formatter.apply(formatName, { value }, element);\n        }\n      };\n      return {\n        setAttrib,\n        setStyle,\n        setFormat\n      };\n    };\n    const DomModifier = { normal };\n\n    const isHeaderCell = isTag('th');\n    const getRowHeaderType = (isHeaderRow, isHeaderCells) => {\n      if (isHeaderRow && isHeaderCells) {\n        return 'sectionCells';\n      } else if (isHeaderRow) {\n        return 'section';\n      } else {\n        return 'cells';\n      }\n    };\n    const getRowType$1 = row => {\n      const isHeaderRow = row.section === 'thead';\n      const isHeaderCells = is(findCommonCellType(row.cells), 'th');\n      if (row.section === 'tfoot') {\n        return { type: 'footer' };\n      } else if (isHeaderRow || isHeaderCells) {\n        return {\n          type: 'header',\n          subType: getRowHeaderType(isHeaderRow, isHeaderCells)\n        };\n      } else {\n        return { type: 'body' };\n      }\n    };\n    const findCommonCellType = cells => {\n      const headerCells = filter(cells, cell => isHeaderCell(cell.element));\n      if (headerCells.length === 0) {\n        return Optional.some('td');\n      } else if (headerCells.length === cells.length) {\n        return Optional.some('th');\n      } else {\n        return Optional.none();\n      }\n    };\n    const findCommonRowType = rows => {\n      const rowTypes = map(rows, row => getRowType$1(row).type);\n      const hasHeader = contains(rowTypes, 'header');\n      const hasFooter = contains(rowTypes, 'footer');\n      if (!hasHeader && !hasFooter) {\n        return Optional.some('body');\n      } else {\n        const hasBody = contains(rowTypes, 'body');\n        if (hasHeader && !hasBody && !hasFooter) {\n          return Optional.some('header');\n        } else if (!hasHeader && !hasBody && hasFooter) {\n          return Optional.some('footer');\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const findInWarehouse = (warehouse, element) => findMap(warehouse.all, r => find(r.cells, e => eq(element, e.element)));\n    const extractCells = (warehouse, target, predicate) => {\n      const details = map(target.selection, cell$1 => {\n        return cell(cell$1).bind(lc => findInWarehouse(warehouse, lc)).filter(predicate);\n      });\n      const cells = cat(details);\n      return someIf(cells.length > 0, cells);\n    };\n    const onMergable = (_warehouse, target) => target.mergable;\n    const onUnmergable = (_warehouse, target) => target.unmergable;\n    const onCells = (warehouse, target) => extractCells(warehouse, target, always);\n    const isUnlockedTableCell = (warehouse, cell) => findInWarehouse(warehouse, cell).exists(detail => !detail.isLocked);\n    const allUnlocked = (warehouse, cells) => forall(cells, cell => isUnlockedTableCell(warehouse, cell));\n    const onUnlockedMergable = (warehouse, target) => onMergable(warehouse, target).filter(mergeable => allUnlocked(warehouse, mergeable.cells));\n    const onUnlockedUnmergable = (warehouse, target) => onUnmergable(warehouse, target).filter(cells => allUnlocked(warehouse, cells));\n\n    const generate = cases => {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate };\n\n    const adt = Adt.generate([\n      { none: [] },\n      { only: ['index'] },\n      {\n        left: [\n          'index',\n          'next'\n        ]\n      },\n      {\n        middle: [\n          'prev',\n          'index',\n          'next'\n        ]\n      },\n      {\n        right: [\n          'prev',\n          'index'\n        ]\n      }\n    ]);\n    ({ ...adt });\n\n    const opGetRowsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minRowRange = selectedCells[0].row;\n        const maxRowRange = lastSelectedCell.row + lastSelectedCell.rowspan;\n        const selectedRows = house.all.slice(minRowRange, maxRowRange);\n        return findCommonRowType(selectedRows);\n      }).getOr('');\n    };\n    const getRowsType = opGetRowsType;\n\n    const rgbToHex = value => startsWith(value, 'rgb') ? rgbaToHexString(value) : value;\n    const extractAdvancedStyles = elm => {\n      const element = SugarElement.fromDom(elm);\n      return {\n        borderwidth: getRaw(element, 'border-width').getOr(''),\n        borderstyle: getRaw(element, 'border-style').getOr(''),\n        bordercolor: getRaw(element, 'border-color').map(rgbToHex).getOr(''),\n        backgroundcolor: getRaw(element, 'background-color').map(rgbToHex).getOr('')\n      };\n    };\n    const getSharedValues = data => {\n      const baseData = data[0];\n      const comparisonData = data.slice(1);\n      each(comparisonData, items => {\n        each(keys(baseData), key => {\n          each$1(items, (itemValue, itemKey) => {\n            const comparisonValue = baseData[key];\n            if (comparisonValue !== '' && key === itemKey) {\n              if (comparisonValue !== itemValue) {\n                baseData[key] = '';\n              }\n            }\n          });\n        });\n      });\n      return baseData;\n    };\n    const getAlignment = (formats, formatName, editor, elm) => find(formats, name => !isUndefined(editor.formatter.matchNode(elm, formatName + name))).getOr('');\n    const getHAlignment = curry(getAlignment, [\n      'left',\n      'center',\n      'right'\n    ], 'align');\n    const getVAlignment = curry(getAlignment, [\n      'top',\n      'middle',\n      'bottom'\n    ], 'valign');\n    const extractDataFromSettings = (editor, hasAdvTableTab) => {\n      const style = getDefaultStyles(editor);\n      const attrs = getDefaultAttributes(editor);\n      const extractAdvancedStyleData = () => ({\n        borderstyle: get$4(style, 'border-style').getOr(''),\n        bordercolor: rgbToHex(get$4(style, 'border-color').getOr('')),\n        backgroundcolor: rgbToHex(get$4(style, 'background-color').getOr(''))\n      });\n      const defaultData = {\n        height: '',\n        width: '100%',\n        cellspacing: '',\n        cellpadding: '',\n        caption: false,\n        class: '',\n        align: '',\n        border: ''\n      };\n      const getBorder = () => {\n        const borderWidth = style['border-width'];\n        if (shouldStyleWithCss(editor) && borderWidth) {\n          return { border: borderWidth };\n        }\n        return get$4(attrs, 'border').fold(() => ({}), border => ({ border }));\n      };\n      const advStyle = hasAdvTableTab ? extractAdvancedStyleData() : {};\n      const getCellPaddingCellSpacing = () => {\n        const spacing = get$4(style, 'border-spacing').or(get$4(attrs, 'cellspacing')).fold(() => ({}), cellspacing => ({ cellspacing }));\n        const padding = get$4(style, 'border-padding').or(get$4(attrs, 'cellpadding')).fold(() => ({}), cellpadding => ({ cellpadding }));\n        return {\n          ...spacing,\n          ...padding\n        };\n      };\n      const data = {\n        ...defaultData,\n        ...style,\n        ...attrs,\n        ...advStyle,\n        ...getBorder(),\n        ...getCellPaddingCellSpacing()\n      };\n      return data;\n    };\n    const getRowType = elm => table(SugarElement.fromDom(elm)).map(table => {\n      const target = { selection: fromDom(elm.cells) };\n      return getRowsType(table, target);\n    }).getOr('');\n    const extractDataFromTableElement = (editor, elm, hasAdvTableTab) => {\n      const getBorder = (dom, elm) => {\n        const optBorderWidth = getRaw(SugarElement.fromDom(elm), 'border-width');\n        if (shouldStyleWithCss(editor) && optBorderWidth.isSome()) {\n          return optBorderWidth.getOr('');\n        }\n        return dom.getAttrib(elm, 'border') || getTDTHOverallStyle(editor.dom, elm, 'border-width') || getTDTHOverallStyle(editor.dom, elm, 'border') || '';\n      };\n      const dom = editor.dom;\n      const cellspacing = shouldStyleWithCss(editor) ? dom.getStyle(elm, 'border-spacing') || dom.getAttrib(elm, 'cellspacing') : dom.getAttrib(elm, 'cellspacing') || dom.getStyle(elm, 'border-spacing');\n      const cellpadding = shouldStyleWithCss(editor) ? getTDTHOverallStyle(dom, elm, 'padding') || dom.getAttrib(elm, 'cellpadding') : dom.getAttrib(elm, 'cellpadding') || getTDTHOverallStyle(dom, elm, 'padding');\n      return {\n        width: dom.getStyle(elm, 'width') || dom.getAttrib(elm, 'width'),\n        height: dom.getStyle(elm, 'height') || dom.getAttrib(elm, 'height'),\n        cellspacing: cellspacing !== null && cellspacing !== void 0 ? cellspacing : '',\n        cellpadding: cellpadding !== null && cellpadding !== void 0 ? cellpadding : '',\n        border: getBorder(dom, elm),\n        caption: !!dom.select('caption', elm)[0],\n        class: dom.getAttrib(elm, 'class', ''),\n        align: getHAlignment(editor, elm),\n        ...hasAdvTableTab ? extractAdvancedStyles(elm) : {}\n      };\n    };\n    const extractDataFromRowElement = (editor, elm, hasAdvancedRowTab) => {\n      const dom = editor.dom;\n      return {\n        height: dom.getStyle(elm, 'height') || dom.getAttrib(elm, 'height'),\n        class: dom.getAttrib(elm, 'class', ''),\n        type: getRowType(elm),\n        align: getHAlignment(editor, elm),\n        ...hasAdvancedRowTab ? extractAdvancedStyles(elm) : {}\n      };\n    };\n    const extractDataFromCellElement = (editor, cell, hasAdvancedCellTab, column) => {\n      const dom = editor.dom;\n      const colElm = column.getOr(cell);\n      const getStyle = (element, style) => dom.getStyle(element, style) || dom.getAttrib(element, style);\n      return {\n        width: getStyle(colElm, 'width'),\n        height: getStyle(cell, 'height'),\n        scope: dom.getAttrib(cell, 'scope'),\n        celltype: getNodeName(cell),\n        class: dom.getAttrib(cell, 'class', ''),\n        halign: getHAlignment(editor, cell),\n        valign: getVAlignment(editor, cell),\n        ...hasAdvancedCellTab ? extractAdvancedStyles(cell) : {}\n      };\n    };\n\n    const getSelectedCells = (table, cells) => {\n      const warehouse = Warehouse.fromTable(table);\n      const allCells = Warehouse.justCells(warehouse);\n      const filtered = filter(allCells, cellA => exists(cells, cellB => eq(cellA.element, cellB)));\n      return map(filtered, cell => ({\n        element: cell.element.dom,\n        column: Warehouse.getColumnAt(warehouse, cell.column).map(col => col.element.dom)\n      }));\n    };\n    const updateSimpleProps$1 = (modifier, colModifier, data, shouldUpdate) => {\n      if (shouldUpdate('scope')) {\n        modifier.setAttrib('scope', data.scope);\n      }\n      if (shouldUpdate('class')) {\n        modifier.setAttrib('class', data.class);\n      }\n      if (shouldUpdate('height')) {\n        modifier.setStyle('height', addPxSuffix(data.height));\n      }\n      if (shouldUpdate('width')) {\n        colModifier.setStyle('width', addPxSuffix(data.width));\n      }\n    };\n    const updateAdvancedProps$1 = (modifier, data, shouldUpdate) => {\n      if (shouldUpdate('backgroundcolor')) {\n        modifier.setFormat('tablecellbackgroundcolor', data.backgroundcolor);\n      }\n      if (shouldUpdate('bordercolor')) {\n        modifier.setFormat('tablecellbordercolor', data.bordercolor);\n      }\n      if (shouldUpdate('borderstyle')) {\n        modifier.setFormat('tablecellborderstyle', data.borderstyle);\n      }\n      if (shouldUpdate('borderwidth')) {\n        modifier.setFormat('tablecellborderwidth', addPxSuffix(data.borderwidth));\n      }\n    };\n    const applyStyleData$1 = (editor, cells, data, wasChanged) => {\n      const isSingleCell = cells.length === 1;\n      each(cells, item => {\n        const cellElm = item.element;\n        const shouldOverrideCurrentValue = isSingleCell ? always : wasChanged;\n        const modifier = DomModifier.normal(editor, cellElm);\n        const colModifier = item.column.map(col => DomModifier.normal(editor, col)).getOr(modifier);\n        updateSimpleProps$1(modifier, colModifier, data, shouldOverrideCurrentValue);\n        if (hasAdvancedCellTab(editor)) {\n          updateAdvancedProps$1(modifier, data, shouldOverrideCurrentValue);\n        }\n        if (wasChanged('halign')) {\n          setAlign(editor, cellElm, data.halign);\n        }\n        if (wasChanged('valign')) {\n          setVAlign(editor, cellElm, data.valign);\n        }\n      });\n    };\n    const applyStructureData$1 = (editor, data) => {\n      editor.execCommand('mceTableCellType', false, {\n        type: data.celltype,\n        no_events: true\n      });\n    };\n    const applyCellData = (editor, cells, oldData, data) => {\n      const modifiedData = filter$1(data, (value, key) => oldData[key] !== value);\n      if (size(modifiedData) > 0 && cells.length >= 1) {\n        table(cells[0]).each(table => {\n          const selectedCells = getSelectedCells(table, cells);\n          const styleModified = size(filter$1(modifiedData, (_value, key) => key !== 'scope' && key !== 'celltype')) > 0;\n          const structureModified = has(modifiedData, 'celltype');\n          if (styleModified || has(modifiedData, 'scope')) {\n            applyStyleData$1(editor, selectedCells, data, curry(has, modifiedData));\n          }\n          if (structureModified) {\n            applyStructureData$1(editor, data);\n          }\n          fireTableModified(editor, table.dom, {\n            structure: structureModified,\n            style: styleModified\n          });\n        });\n      }\n    };\n    const onSubmitCellForm = (editor, cells, oldData, api) => {\n      const data = api.getData();\n      api.close();\n      editor.undoManager.transact(() => {\n        applyCellData(editor, cells, oldData, data);\n        editor.focus();\n      });\n    };\n    const getData$1 = (editor, cells) => {\n      const cellsData = table(cells[0]).map(table => map(getSelectedCells(table, cells), item => extractDataFromCellElement(editor, item.element, hasAdvancedCellTab(editor), item.column)));\n      return getSharedValues(cellsData.getOrDie());\n    };\n    const open$2 = editor => {\n      const cells = getCellsFromSelection(editor);\n      if (cells.length === 0) {\n        return;\n      }\n      const data = getData$1(editor, cells);\n      const dialogTabPanel = {\n        type: 'tabpanel',\n        tabs: [\n          {\n            title: 'General',\n            name: 'general',\n            items: getItems$2(editor)\n          },\n          getAdvancedTab(editor, 'cell')\n        ]\n      };\n      const dialogPanel = {\n        type: 'panel',\n        items: [{\n            type: 'grid',\n            columns: 2,\n            items: getItems$2(editor)\n          }]\n      };\n      editor.windowManager.open({\n        title: 'Cell Properties',\n        size: 'normal',\n        body: hasAdvancedCellTab(editor) ? dialogTabPanel : dialogPanel,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: data,\n        onSubmit: curry(onSubmitCellForm, editor, cells, data)\n      });\n    };\n\n    const getClassList = editor => {\n      const classes = buildListItems(getRowClassList(editor));\n      if (classes.length > 0) {\n        return Optional.some({\n          name: 'class',\n          type: 'listbox',\n          label: 'Class',\n          items: classes\n        });\n      }\n      return Optional.none();\n    };\n    const formChildren = [\n      {\n        type: 'listbox',\n        name: 'type',\n        label: 'Row type',\n        items: [\n          {\n            text: 'Header',\n            value: 'header'\n          },\n          {\n            text: 'Body',\n            value: 'body'\n          },\n          {\n            text: 'Footer',\n            value: 'footer'\n          }\n        ]\n      },\n      {\n        type: 'listbox',\n        name: 'align',\n        label: 'Alignment',\n        items: [\n          {\n            text: 'None',\n            value: ''\n          },\n          {\n            text: 'Left',\n            value: 'left'\n          },\n          {\n            text: 'Center',\n            value: 'center'\n          },\n          {\n            text: 'Right',\n            value: 'right'\n          }\n        ]\n      },\n      {\n        label: 'Height',\n        name: 'height',\n        type: 'input'\n      }\n    ];\n    const getItems$1 = editor => formChildren.concat(getClassList(editor).toArray());\n\n    const updateSimpleProps = (modifier, data, shouldUpdate) => {\n      if (shouldUpdate('class')) {\n        modifier.setAttrib('class', data.class);\n      }\n      if (shouldUpdate('height')) {\n        modifier.setStyle('height', addPxSuffix(data.height));\n      }\n    };\n    const updateAdvancedProps = (modifier, data, shouldUpdate) => {\n      if (shouldUpdate('backgroundcolor')) {\n        modifier.setStyle('background-color', data.backgroundcolor);\n      }\n      if (shouldUpdate('bordercolor')) {\n        modifier.setStyle('border-color', data.bordercolor);\n      }\n      if (shouldUpdate('borderstyle')) {\n        modifier.setStyle('border-style', data.borderstyle);\n      }\n    };\n    const applyStyleData = (editor, rows, data, wasChanged) => {\n      const isSingleRow = rows.length === 1;\n      const shouldOverrideCurrentValue = isSingleRow ? always : wasChanged;\n      each(rows, rowElm => {\n        const modifier = DomModifier.normal(editor, rowElm);\n        updateSimpleProps(modifier, data, shouldOverrideCurrentValue);\n        if (hasAdvancedRowTab(editor)) {\n          updateAdvancedProps(modifier, data, shouldOverrideCurrentValue);\n        }\n        if (wasChanged('align')) {\n          setAlign(editor, rowElm, data.align);\n        }\n      });\n    };\n    const applyStructureData = (editor, data) => {\n      editor.execCommand('mceTableRowType', false, {\n        type: data.type,\n        no_events: true\n      });\n    };\n    const applyRowData = (editor, rows, oldData, data) => {\n      const modifiedData = filter$1(data, (value, key) => oldData[key] !== value);\n      if (size(modifiedData) > 0) {\n        const typeModified = has(modifiedData, 'type');\n        const styleModified = typeModified ? size(modifiedData) > 1 : true;\n        if (styleModified) {\n          applyStyleData(editor, rows, data, curry(has, modifiedData));\n        }\n        if (typeModified) {\n          applyStructureData(editor, data);\n        }\n        table(SugarElement.fromDom(rows[0])).each(table => fireTableModified(editor, table.dom, {\n          structure: typeModified,\n          style: styleModified\n        }));\n      }\n    };\n    const onSubmitRowForm = (editor, rows, oldData, api) => {\n      const data = api.getData();\n      api.close();\n      editor.undoManager.transact(() => {\n        applyRowData(editor, rows, oldData, data);\n        editor.focus();\n      });\n    };\n    const open$1 = editor => {\n      const rows = getRowsFromSelection(getSelectionStart(editor), ephemera.selected);\n      if (rows.length === 0) {\n        return;\n      }\n      const rowsData = map(rows, rowElm => extractDataFromRowElement(editor, rowElm.dom, hasAdvancedRowTab(editor)));\n      const data = getSharedValues(rowsData);\n      const dialogTabPanel = {\n        type: 'tabpanel',\n        tabs: [\n          {\n            title: 'General',\n            name: 'general',\n            items: getItems$1(editor)\n          },\n          getAdvancedTab(editor, 'row')\n        ]\n      };\n      const dialogPanel = {\n        type: 'panel',\n        items: [{\n            type: 'grid',\n            columns: 2,\n            items: getItems$1(editor)\n          }]\n      };\n      editor.windowManager.open({\n        title: 'Row Properties',\n        size: 'normal',\n        body: hasAdvancedRowTab(editor) ? dialogTabPanel : dialogPanel,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: data,\n        onSubmit: curry(onSubmitRowForm, editor, map(rows, r => r.dom), data)\n      });\n    };\n\n    const getItems = (editor, classes, insertNewTable) => {\n      const rowColCountItems = !insertNewTable ? [] : [\n        {\n          type: 'input',\n          name: 'cols',\n          label: 'Cols',\n          inputMode: 'numeric'\n        },\n        {\n          type: 'input',\n          name: 'rows',\n          label: 'Rows',\n          inputMode: 'numeric'\n        }\n      ];\n      const alwaysItems = [\n        {\n          type: 'input',\n          name: 'width',\n          label: 'Width'\n        },\n        {\n          type: 'input',\n          name: 'height',\n          label: 'Height'\n        }\n      ];\n      const appearanceItems = hasAppearanceOptions(editor) ? [\n        {\n          type: 'input',\n          name: 'cellspacing',\n          label: 'Cell spacing',\n          inputMode: 'numeric'\n        },\n        {\n          type: 'input',\n          name: 'cellpadding',\n          label: 'Cell padding',\n          inputMode: 'numeric'\n        },\n        {\n          type: 'input',\n          name: 'border',\n          label: 'Border width'\n        },\n        {\n          type: 'label',\n          label: 'Caption',\n          items: [{\n              type: 'checkbox',\n              name: 'caption',\n              label: 'Show caption'\n            }]\n        }\n      ] : [];\n      const alignmentItem = [{\n          type: 'listbox',\n          name: 'align',\n          label: 'Alignment',\n          items: [\n            {\n              text: 'None',\n              value: ''\n            },\n            {\n              text: 'Left',\n              value: 'left'\n            },\n            {\n              text: 'Center',\n              value: 'center'\n            },\n            {\n              text: 'Right',\n              value: 'right'\n            }\n          ]\n        }];\n      const classListItem = classes.length > 0 ? [{\n          type: 'listbox',\n          name: 'class',\n          label: 'Class',\n          items: classes\n        }] : [];\n      return rowColCountItems.concat(alwaysItems).concat(appearanceItems).concat(alignmentItem).concat(classListItem);\n    };\n\n    const styleTDTH = (dom, elm, name, value) => {\n      if (elm.tagName === 'TD' || elm.tagName === 'TH') {\n        if (isString(name) && isNonNullable(value)) {\n          dom.setStyle(elm, name, value);\n        } else {\n          dom.setStyles(elm, name);\n        }\n      } else {\n        if (elm.children) {\n          for (let i = 0; i < elm.children.length; i++) {\n            styleTDTH(dom, elm.children[i], name, value);\n          }\n        }\n      }\n    };\n    const applyDataToElement = (editor, tableElm, data) => {\n      const dom = editor.dom;\n      const attrs = {};\n      const styles = {};\n      if (!isUndefined(data.class)) {\n        attrs.class = data.class;\n      }\n      styles.height = addPxSuffix(data.height);\n      if (shouldStyleWithCss(editor)) {\n        styles.width = addPxSuffix(data.width);\n      } else if (dom.getAttrib(tableElm, 'width')) {\n        attrs.width = removePxSuffix(data.width);\n      }\n      if (shouldStyleWithCss(editor)) {\n        styles['border-width'] = addPxSuffix(data.border);\n        styles['border-spacing'] = addPxSuffix(data.cellspacing);\n      } else {\n        attrs.border = data.border;\n        attrs.cellpadding = data.cellpadding;\n        attrs.cellspacing = data.cellspacing;\n      }\n      if (shouldStyleWithCss(editor) && tableElm.children) {\n        for (let i = 0; i < tableElm.children.length; i++) {\n          styleTDTH(dom, tableElm.children[i], {\n            'border-width': addPxSuffix(data.border),\n            'padding': addPxSuffix(data.cellpadding)\n          });\n          if (hasAdvancedTableTab(editor)) {\n            styleTDTH(dom, tableElm.children[i], { 'border-color': data.bordercolor });\n          }\n        }\n      }\n      if (hasAdvancedTableTab(editor)) {\n        const advData = data;\n        styles['background-color'] = advData.backgroundcolor;\n        styles['border-color'] = advData.bordercolor;\n        styles['border-style'] = advData.borderstyle;\n      }\n      attrs.style = dom.serializeStyle({\n        ...getDefaultStyles(editor),\n        ...styles\n      });\n      dom.setAttribs(tableElm, {\n        ...getDefaultAttributes(editor),\n        ...attrs\n      });\n    };\n    const onSubmitTableForm = (editor, tableElm, oldData, api) => {\n      const dom = editor.dom;\n      const data = api.getData();\n      const modifiedData = filter$1(data, (value, key) => oldData[key] !== value);\n      api.close();\n      if (data.class === '') {\n        delete data.class;\n      }\n      editor.undoManager.transact(() => {\n        if (!tableElm) {\n          const cols = toInt(data.cols).getOr(1);\n          const rows = toInt(data.rows).getOr(1);\n          editor.execCommand('mceInsertTable', false, {\n            rows,\n            columns: cols\n          });\n          tableElm = getSelectionCell(getSelectionStart(editor), getIsRoot(editor)).bind(cell => table(cell, getIsRoot(editor))).map(table => table.dom).getOrDie();\n        }\n        if (size(modifiedData) > 0) {\n          applyDataToElement(editor, tableElm, data);\n          const captionElm = dom.select('caption', tableElm)[0];\n          if (captionElm && !data.caption || !captionElm && data.caption) {\n            editor.execCommand('mceTableToggleCaption');\n          }\n          setAlign(editor, tableElm, data.align);\n        }\n        editor.focus();\n        editor.addVisual();\n        if (size(modifiedData) > 0) {\n          const captionModified = has(modifiedData, 'caption');\n          const styleModified = captionModified ? size(modifiedData) > 1 : true;\n          fireTableModified(editor, tableElm, {\n            structure: captionModified,\n            style: styleModified\n          });\n        }\n      });\n    };\n    const open = (editor, insertNewTable) => {\n      const dom = editor.dom;\n      let tableElm;\n      let data = extractDataFromSettings(editor, hasAdvancedTableTab(editor));\n      if (insertNewTable) {\n        data.cols = '1';\n        data.rows = '1';\n        if (hasAdvancedTableTab(editor)) {\n          data.borderstyle = '';\n          data.bordercolor = '';\n          data.backgroundcolor = '';\n        }\n      } else {\n        tableElm = dom.getParent(editor.selection.getStart(), 'table', editor.getBody());\n        if (tableElm) {\n          data = extractDataFromTableElement(editor, tableElm, hasAdvancedTableTab(editor));\n        } else {\n          if (hasAdvancedTableTab(editor)) {\n            data.borderstyle = '';\n            data.bordercolor = '';\n            data.backgroundcolor = '';\n          }\n        }\n      }\n      const classes = buildListItems(getTableClassList(editor));\n      if (classes.length > 0) {\n        if (data.class) {\n          data.class = data.class.replace(/\\s*mce\\-item\\-table\\s*/g, '');\n        }\n      }\n      const generalPanel = {\n        type: 'grid',\n        columns: 2,\n        items: getItems(editor, classes, insertNewTable)\n      };\n      const nonAdvancedForm = () => ({\n        type: 'panel',\n        items: [generalPanel]\n      });\n      const advancedForm = () => ({\n        type: 'tabpanel',\n        tabs: [\n          {\n            title: 'General',\n            name: 'general',\n            items: [generalPanel]\n          },\n          getAdvancedTab(editor, 'table')\n        ]\n      });\n      const dialogBody = hasAdvancedTableTab(editor) ? advancedForm() : nonAdvancedForm();\n      editor.windowManager.open({\n        title: 'Table Properties',\n        size: 'normal',\n        body: dialogBody,\n        onSubmit: curry(onSubmitTableForm, editor, tableElm, data),\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: data\n      });\n    };\n\n    const registerCommands = editor => {\n      const runAction = f => {\n        if (isInEditableContext(getSelectionStart(editor))) {\n          f();\n        }\n      };\n      each$1({\n        mceTableProps: curry(open, editor, false),\n        mceTableRowProps: curry(open$1, editor),\n        mceTableCellProps: curry(open$2, editor),\n        mceInsertTableDialog: curry(open, editor, true)\n      }, (func, name) => editor.addCommand(name, () => runAction(func)));\n    };\n\n    const child = (scope, selector) => child$1(scope, selector).isSome();\n\n    const selection = identity;\n    const unmergable = selectedCells => {\n      const hasSpan = (elem, type) => getOpt(elem, type).exists(span => parseInt(span, 10) > 1);\n      const hasRowOrColSpan = elem => hasSpan(elem, 'rowspan') || hasSpan(elem, 'colspan');\n      return selectedCells.length > 0 && forall(selectedCells, hasRowOrColSpan) ? Optional.some(selectedCells) : Optional.none();\n    };\n    const mergable = (table, selectedCells, ephemera) => {\n      if (selectedCells.length <= 1) {\n        return Optional.none();\n      } else {\n        return retrieveBox(table, ephemera.firstSelectedSelector, ephemera.lastSelectedSelector).map(bounds => ({\n          bounds,\n          cells: selectedCells\n        }));\n      }\n    };\n\n    const noMenu = cell => ({\n      element: cell,\n      mergable: Optional.none(),\n      unmergable: Optional.none(),\n      selection: [cell]\n    });\n    const forMenu = (selectedCells, table, cell) => ({\n      element: cell,\n      mergable: mergable(table, selectedCells, ephemera),\n      unmergable: unmergable(selectedCells),\n      selection: selection(selectedCells)\n    });\n\n    const getSelectionTargets = editor => {\n      const targets = Cell(Optional.none());\n      const changeHandlers = Cell([]);\n      let selectionDetails = Optional.none();\n      const isCaption = isTag('caption');\n      const isDisabledForSelection = key => selectionDetails.forall(details => !details[key]);\n      const getStart = () => getSelectionCellOrCaption(getSelectionStart(editor), getIsRoot(editor));\n      const getEnd = () => getSelectionCellOrCaption(getSelectionEnd(editor), getIsRoot(editor));\n      const findTargets = () => getStart().bind(startCellOrCaption => flatten(lift2(table(startCellOrCaption), getEnd().bind(table), (startTable, endTable) => {\n        if (eq(startTable, endTable)) {\n          if (isCaption(startCellOrCaption)) {\n            return Optional.some(noMenu(startCellOrCaption));\n          } else {\n            return Optional.some(forMenu(getCellsFromSelection(editor), startTable, startCellOrCaption));\n          }\n        }\n        return Optional.none();\n      })));\n      const getExtractedDetails = targets => {\n        const tableOpt = table(targets.element);\n        return tableOpt.map(table => {\n          const warehouse = Warehouse.fromTable(table);\n          const selectedCells = onCells(warehouse, targets).getOr([]);\n          const locked = foldl(selectedCells, (acc, cell) => {\n            if (cell.isLocked) {\n              acc.onAny = true;\n              if (cell.column === 0) {\n                acc.onFirst = true;\n              } else if (cell.column + cell.colspan >= warehouse.grid.columns) {\n                acc.onLast = true;\n              }\n            }\n            return acc;\n          }, {\n            onAny: false,\n            onFirst: false,\n            onLast: false\n          });\n          return {\n            mergeable: onUnlockedMergable(warehouse, targets).isSome(),\n            unmergeable: onUnlockedUnmergable(warehouse, targets).isSome(),\n            locked\n          };\n        });\n      };\n      const resetTargets = () => {\n        targets.set(cached(findTargets)());\n        selectionDetails = targets.get().bind(getExtractedDetails);\n        each(changeHandlers.get(), call);\n      };\n      const setupHandler = handler => {\n        handler();\n        changeHandlers.set(changeHandlers.get().concat([handler]));\n        return () => {\n          changeHandlers.set(filter(changeHandlers.get(), h => h !== handler));\n        };\n      };\n      const onSetup = (api, isDisabled) => setupHandler(() => targets.get().fold(() => {\n        api.setEnabled(false);\n      }, targets => {\n        api.setEnabled(!isDisabled(targets));\n      }));\n      const onSetupWithToggle = (api, isDisabled, isActive) => setupHandler(() => targets.get().fold(() => {\n        api.setEnabled(false);\n        api.setActive(false);\n      }, targets => {\n        api.setEnabled(!isDisabled(targets));\n        api.setActive(isActive(targets));\n      }));\n      const isDisabledFromLocked = lockedDisable => selectionDetails.exists(details => details.locked[lockedDisable]);\n      const onSetupTable = api => onSetup(api, _ => false);\n      const onSetupCellOrRow = api => onSetup(api, targets => isCaption(targets.element));\n      const onSetupColumn = lockedDisable => api => onSetup(api, targets => isCaption(targets.element) || isDisabledFromLocked(lockedDisable));\n      const onSetupPasteable = getClipboardData => api => onSetup(api, targets => isCaption(targets.element) || getClipboardData().isNone());\n      const onSetupPasteableColumn = (getClipboardData, lockedDisable) => api => onSetup(api, targets => isCaption(targets.element) || getClipboardData().isNone() || isDisabledFromLocked(lockedDisable));\n      const onSetupMergeable = api => onSetup(api, _targets => isDisabledForSelection('mergeable'));\n      const onSetupUnmergeable = api => onSetup(api, _targets => isDisabledForSelection('unmergeable'));\n      const onSetupTableWithCaption = api => {\n        return onSetupWithToggle(api, never, targets => {\n          const tableOpt = table(targets.element, getIsRoot(editor));\n          return tableOpt.exists(table => child(table, 'caption'));\n        });\n      };\n      const onSetupTableHeaders = (command, headerType) => api => {\n        return onSetupWithToggle(api, targets => isCaption(targets.element), () => editor.queryCommandValue(command) === headerType);\n      };\n      const onSetupTableRowHeaders = onSetupTableHeaders('mceTableRowType', 'header');\n      const onSetupTableColumnHeaders = onSetupTableHeaders('mceTableColType', 'th');\n      editor.on('NodeChange ExecCommand TableSelectorChange', resetTargets);\n      return {\n        onSetupTable,\n        onSetupCellOrRow,\n        onSetupColumn,\n        onSetupPasteable,\n        onSetupPasteableColumn,\n        onSetupMergeable,\n        onSetupUnmergeable,\n        resetTargets,\n        onSetupTableWithCaption,\n        onSetupTableRowHeaders,\n        onSetupTableColumnHeaders,\n        targets: targets.get\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.FakeClipboard');\n\n    const tableTypeBase = 'x-tinymce/dom-table-';\n    const tableTypeRow = tableTypeBase + 'rows';\n    const tableTypeColumn = tableTypeBase + 'columns';\n    const getData = type => {\n      var _a;\n      const items = (_a = global.read()) !== null && _a !== void 0 ? _a : [];\n      return findMap(items, item => Optional.from(item.getType(type)));\n    };\n    const getRows = () => getData(tableTypeRow);\n    const getColumns = () => getData(tableTypeColumn);\n\n    const addButtons = (editor, selectionTargets) => {\n      editor.ui.registry.addMenuButton('table', {\n        tooltip: 'Table',\n        icon: 'table',\n        fetch: callback => callback('inserttable | cell row column | advtablesort | tableprops deletetable')\n      });\n      const cmd = command => () => editor.execCommand(command);\n      const addButtonIfRegistered = (name, spec) => {\n        if (editor.queryCommandSupported(spec.command)) {\n          editor.ui.registry.addButton(name, {\n            ...spec,\n            onAction: isFunction(spec.onAction) ? spec.onAction : cmd(spec.command)\n          });\n        }\n      };\n      const addToggleButtonIfRegistered = (name, spec) => {\n        if (editor.queryCommandSupported(spec.command)) {\n          editor.ui.registry.addToggleButton(name, {\n            ...spec,\n            onAction: isFunction(spec.onAction) ? spec.onAction : cmd(spec.command)\n          });\n        }\n      };\n      addButtonIfRegistered('tableprops', {\n        tooltip: 'Table properties',\n        command: 'mceTableProps',\n        icon: 'table',\n        onSetup: selectionTargets.onSetupTable\n      });\n      addButtonIfRegistered('tabledelete', {\n        tooltip: 'Delete table',\n        command: 'mceTableDelete',\n        icon: 'table-delete-table',\n        onSetup: selectionTargets.onSetupTable\n      });\n      addButtonIfRegistered('tablecellprops', {\n        tooltip: 'Cell properties',\n        command: 'mceTableCellProps',\n        icon: 'table-cell-properties',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tablemergecells', {\n        tooltip: 'Merge cells',\n        command: 'mceTableMergeCells',\n        icon: 'table-merge-cells',\n        onSetup: selectionTargets.onSetupMergeable\n      });\n      addButtonIfRegistered('tablesplitcells', {\n        tooltip: 'Split cell',\n        command: 'mceTableSplitCells',\n        icon: 'table-split-cells',\n        onSetup: selectionTargets.onSetupUnmergeable\n      });\n      addButtonIfRegistered('tableinsertrowbefore', {\n        tooltip: 'Insert row before',\n        command: 'mceTableInsertRowBefore',\n        icon: 'table-insert-row-above',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tableinsertrowafter', {\n        tooltip: 'Insert row after',\n        command: 'mceTableInsertRowAfter',\n        icon: 'table-insert-row-after',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tabledeleterow', {\n        tooltip: 'Delete row',\n        command: 'mceTableDeleteRow',\n        icon: 'table-delete-row',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tablerowprops', {\n        tooltip: 'Row properties',\n        command: 'mceTableRowProps',\n        icon: 'table-row-properties',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tableinsertcolbefore', {\n        tooltip: 'Insert column before',\n        command: 'mceTableInsertColBefore',\n        icon: 'table-insert-column-before',\n        onSetup: selectionTargets.onSetupColumn('onFirst')\n      });\n      addButtonIfRegistered('tableinsertcolafter', {\n        tooltip: 'Insert column after',\n        command: 'mceTableInsertColAfter',\n        icon: 'table-insert-column-after',\n        onSetup: selectionTargets.onSetupColumn('onLast')\n      });\n      addButtonIfRegistered('tabledeletecol', {\n        tooltip: 'Delete column',\n        command: 'mceTableDeleteCol',\n        icon: 'table-delete-column',\n        onSetup: selectionTargets.onSetupColumn('onAny')\n      });\n      addButtonIfRegistered('tablecutrow', {\n        tooltip: 'Cut row',\n        command: 'mceTableCutRow',\n        icon: 'cut-row',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tablecopyrow', {\n        tooltip: 'Copy row',\n        command: 'mceTableCopyRow',\n        icon: 'duplicate-row',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tablepasterowbefore', {\n        tooltip: 'Paste row before',\n        command: 'mceTablePasteRowBefore',\n        icon: 'paste-row-before',\n        onSetup: selectionTargets.onSetupPasteable(getRows)\n      });\n      addButtonIfRegistered('tablepasterowafter', {\n        tooltip: 'Paste row after',\n        command: 'mceTablePasteRowAfter',\n        icon: 'paste-row-after',\n        onSetup: selectionTargets.onSetupPasteable(getRows)\n      });\n      addButtonIfRegistered('tablecutcol', {\n        tooltip: 'Cut column',\n        command: 'mceTableCutCol',\n        icon: 'cut-column',\n        onSetup: selectionTargets.onSetupColumn('onAny')\n      });\n      addButtonIfRegistered('tablecopycol', {\n        tooltip: 'Copy column',\n        command: 'mceTableCopyCol',\n        icon: 'duplicate-column',\n        onSetup: selectionTargets.onSetupColumn('onAny')\n      });\n      addButtonIfRegistered('tablepastecolbefore', {\n        tooltip: 'Paste column before',\n        command: 'mceTablePasteColBefore',\n        icon: 'paste-column-before',\n        onSetup: selectionTargets.onSetupPasteableColumn(getColumns, 'onFirst')\n      });\n      addButtonIfRegistered('tablepastecolafter', {\n        tooltip: 'Paste column after',\n        command: 'mceTablePasteColAfter',\n        icon: 'paste-column-after',\n        onSetup: selectionTargets.onSetupPasteableColumn(getColumns, 'onLast')\n      });\n      addButtonIfRegistered('tableinsertdialog', {\n        tooltip: 'Insert table',\n        command: 'mceInsertTableDialog',\n        icon: 'table'\n      });\n      const tableClassList = filterNoneItem(getTableClassList(editor));\n      if (tableClassList.length !== 0 && editor.queryCommandSupported('mceTableToggleClass')) {\n        editor.ui.registry.addMenuButton('tableclass', {\n          icon: 'table-classes',\n          tooltip: 'Table styles',\n          fetch: generateMenuItemsCallback(editor, tableClassList, 'tableclass', value => editor.execCommand('mceTableToggleClass', false, value)),\n          onSetup: selectionTargets.onSetupTable\n        });\n      }\n      const tableCellClassList = filterNoneItem(getCellClassList(editor));\n      if (tableCellClassList.length !== 0 && editor.queryCommandSupported('mceTableCellToggleClass')) {\n        editor.ui.registry.addMenuButton('tablecellclass', {\n          icon: 'table-cell-classes',\n          tooltip: 'Cell styles',\n          fetch: generateMenuItemsCallback(editor, tableCellClassList, 'tablecellclass', value => editor.execCommand('mceTableCellToggleClass', false, value)),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      if (editor.queryCommandSupported('mceTableApplyCellStyle')) {\n        editor.ui.registry.addMenuButton('tablecellvalign', {\n          icon: 'vertical-align',\n          tooltip: 'Vertical align',\n          fetch: generateMenuItemsCallback(editor, verticalAlignValues, 'tablecellverticalalign', applyTableCellStyle(editor, 'vertical-align')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addMenuButton('tablecellborderwidth', {\n          icon: 'border-width',\n          tooltip: 'Border width',\n          fetch: generateMenuItemsCallback(editor, getTableBorderWidths(editor), 'tablecellborderwidth', applyTableCellStyle(editor, 'border-width')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addMenuButton('tablecellborderstyle', {\n          icon: 'border-style',\n          tooltip: 'Border style',\n          fetch: generateMenuItemsCallback(editor, getTableBorderStyles(editor), 'tablecellborderstyle', applyTableCellStyle(editor, 'border-style')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addMenuButton('tablecellbackgroundcolor', {\n          icon: 'cell-background-color',\n          tooltip: 'Background color',\n          fetch: callback => callback(buildColorMenu(editor, getTableBackgroundColorMap(editor), 'background-color')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addMenuButton('tablecellbordercolor', {\n          icon: 'cell-border-color',\n          tooltip: 'Border color',\n          fetch: callback => callback(buildColorMenu(editor, getTableBorderColorMap(editor), 'border-color')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      addToggleButtonIfRegistered('tablecaption', {\n        tooltip: 'Table caption',\n        icon: 'table-caption',\n        command: 'mceTableToggleCaption',\n        onSetup: selectionTargets.onSetupTableWithCaption\n      });\n      addToggleButtonIfRegistered('tablerowheader', {\n        tooltip: 'Row header',\n        icon: 'table-top-header',\n        command: 'mceTableRowType',\n        onAction: changeRowHeader(editor),\n        onSetup: selectionTargets.onSetupTableRowHeaders\n      });\n      addToggleButtonIfRegistered('tablecolheader', {\n        tooltip: 'Column header',\n        icon: 'table-left-header',\n        command: 'mceTableColType',\n        onAction: changeColumnHeader(editor),\n        onSetup: selectionTargets.onSetupTableColumnHeaders\n      });\n    };\n    const addToolbars = editor => {\n      const isTable = table => editor.dom.is(table, 'table') && editor.getBody().contains(table);\n      const toolbar = getToolbar(editor);\n      if (toolbar.length > 0) {\n        editor.ui.registry.addContextToolbar('table', {\n          predicate: isTable,\n          items: toolbar,\n          scope: 'node',\n          position: 'node'\n        });\n      }\n    };\n\n    const addMenuItems = (editor, selectionTargets) => {\n      const cmd = command => () => editor.execCommand(command);\n      const addMenuIfRegistered = (name, spec) => {\n        if (editor.queryCommandSupported(spec.command)) {\n          editor.ui.registry.addMenuItem(name, {\n            ...spec,\n            onAction: isFunction(spec.onAction) ? spec.onAction : cmd(spec.command)\n          });\n          return true;\n        } else {\n          return false;\n        }\n      };\n      const addToggleMenuIfRegistered = (name, spec) => {\n        if (editor.queryCommandSupported(spec.command)) {\n          editor.ui.registry.addToggleMenuItem(name, {\n            ...spec,\n            onAction: isFunction(spec.onAction) ? spec.onAction : cmd(spec.command)\n          });\n        }\n      };\n      const insertTableAction = data => {\n        editor.execCommand('mceInsertTable', false, {\n          rows: data.numRows,\n          columns: data.numColumns\n        });\n      };\n      const hasRowMenuItems = [\n        addMenuIfRegistered('tableinsertrowbefore', {\n          text: 'Insert row before',\n          icon: 'table-insert-row-above',\n          command: 'mceTableInsertRowBefore',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tableinsertrowafter', {\n          text: 'Insert row after',\n          icon: 'table-insert-row-after',\n          command: 'mceTableInsertRowAfter',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tabledeleterow', {\n          text: 'Delete row',\n          icon: 'table-delete-row',\n          command: 'mceTableDeleteRow',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablerowprops', {\n          text: 'Row properties',\n          icon: 'table-row-properties',\n          command: 'mceTableRowProps',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablecutrow', {\n          text: 'Cut row',\n          icon: 'cut-row',\n          command: 'mceTableCutRow',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablecopyrow', {\n          text: 'Copy row',\n          icon: 'duplicate-row',\n          command: 'mceTableCopyRow',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablepasterowbefore', {\n          text: 'Paste row before',\n          icon: 'paste-row-before',\n          command: 'mceTablePasteRowBefore',\n          onSetup: selectionTargets.onSetupPasteable(getRows)\n        }),\n        addMenuIfRegistered('tablepasterowafter', {\n          text: 'Paste row after',\n          icon: 'paste-row-after',\n          command: 'mceTablePasteRowAfter',\n          onSetup: selectionTargets.onSetupPasteable(getRows)\n        })\n      ];\n      const hasColumnMenuItems = [\n        addMenuIfRegistered('tableinsertcolumnbefore', {\n          text: 'Insert column before',\n          icon: 'table-insert-column-before',\n          command: 'mceTableInsertColBefore',\n          onSetup: selectionTargets.onSetupColumn('onFirst')\n        }),\n        addMenuIfRegistered('tableinsertcolumnafter', {\n          text: 'Insert column after',\n          icon: 'table-insert-column-after',\n          command: 'mceTableInsertColAfter',\n          onSetup: selectionTargets.onSetupColumn('onLast')\n        }),\n        addMenuIfRegistered('tabledeletecolumn', {\n          text: 'Delete column',\n          icon: 'table-delete-column',\n          command: 'mceTableDeleteCol',\n          onSetup: selectionTargets.onSetupColumn('onAny')\n        }),\n        addMenuIfRegistered('tablecutcolumn', {\n          text: 'Cut column',\n          icon: 'cut-column',\n          command: 'mceTableCutCol',\n          onSetup: selectionTargets.onSetupColumn('onAny')\n        }),\n        addMenuIfRegistered('tablecopycolumn', {\n          text: 'Copy column',\n          icon: 'duplicate-column',\n          command: 'mceTableCopyCol',\n          onSetup: selectionTargets.onSetupColumn('onAny')\n        }),\n        addMenuIfRegistered('tablepastecolumnbefore', {\n          text: 'Paste column before',\n          icon: 'paste-column-before',\n          command: 'mceTablePasteColBefore',\n          onSetup: selectionTargets.onSetupPasteableColumn(getColumns, 'onFirst')\n        }),\n        addMenuIfRegistered('tablepastecolumnafter', {\n          text: 'Paste column after',\n          icon: 'paste-column-after',\n          command: 'mceTablePasteColAfter',\n          onSetup: selectionTargets.onSetupPasteableColumn(getColumns, 'onLast')\n        })\n      ];\n      const hasCellMenuItems = [\n        addMenuIfRegistered('tablecellprops', {\n          text: 'Cell properties',\n          icon: 'table-cell-properties',\n          command: 'mceTableCellProps',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablemergecells', {\n          text: 'Merge cells',\n          icon: 'table-merge-cells',\n          command: 'mceTableMergeCells',\n          onSetup: selectionTargets.onSetupMergeable\n        }),\n        addMenuIfRegistered('tablesplitcells', {\n          text: 'Split cell',\n          icon: 'table-split-cells',\n          command: 'mceTableSplitCells',\n          onSetup: selectionTargets.onSetupUnmergeable\n        })\n      ];\n      if (!hasTableGrid(editor)) {\n        editor.ui.registry.addMenuItem('inserttable', {\n          text: 'Table',\n          icon: 'table',\n          onAction: cmd('mceInsertTableDialog')\n        });\n      } else {\n        editor.ui.registry.addNestedMenuItem('inserttable', {\n          text: 'Table',\n          icon: 'table',\n          getSubmenuItems: () => [{\n              type: 'fancymenuitem',\n              fancytype: 'inserttable',\n              onAction: insertTableAction\n            }]\n        });\n      }\n      editor.ui.registry.addMenuItem('inserttabledialog', {\n        text: 'Insert table',\n        icon: 'table',\n        onAction: cmd('mceInsertTableDialog')\n      });\n      addMenuIfRegistered('tableprops', {\n        text: 'Table properties',\n        onSetup: selectionTargets.onSetupTable,\n        command: 'mceTableProps'\n      });\n      addMenuIfRegistered('deletetable', {\n        text: 'Delete table',\n        icon: 'table-delete-table',\n        onSetup: selectionTargets.onSetupTable,\n        command: 'mceTableDelete'\n      });\n      if (contains(hasRowMenuItems, true)) {\n        editor.ui.registry.addNestedMenuItem('row', {\n          type: 'nestedmenuitem',\n          text: 'Row',\n          getSubmenuItems: constant('tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter')\n        });\n      }\n      if (contains(hasColumnMenuItems, true)) {\n        editor.ui.registry.addNestedMenuItem('column', {\n          type: 'nestedmenuitem',\n          text: 'Column',\n          getSubmenuItems: constant('tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter')\n        });\n      }\n      if (contains(hasCellMenuItems, true)) {\n        editor.ui.registry.addNestedMenuItem('cell', {\n          type: 'nestedmenuitem',\n          text: 'Cell',\n          getSubmenuItems: constant('tablecellprops tablemergecells tablesplitcells')\n        });\n      }\n      editor.ui.registry.addContextMenu('table', {\n        update: () => {\n          selectionTargets.resetTargets();\n          return selectionTargets.targets().fold(constant(''), targets => {\n            if (name(targets.element) === 'caption') {\n              return 'tableprops deletetable';\n            } else {\n              return 'cell row column | advtablesort | tableprops deletetable';\n            }\n          });\n        }\n      });\n      const tableClassList = filterNoneItem(getTableClassList(editor));\n      if (tableClassList.length !== 0 && editor.queryCommandSupported('mceTableToggleClass')) {\n        editor.ui.registry.addNestedMenuItem('tableclass', {\n          icon: 'table-classes',\n          text: 'Table styles',\n          getSubmenuItems: () => buildMenuItems(editor, tableClassList, 'tableclass', value => editor.execCommand('mceTableToggleClass', false, value)),\n          onSetup: selectionTargets.onSetupTable\n        });\n      }\n      const tableCellClassList = filterNoneItem(getCellClassList(editor));\n      if (tableCellClassList.length !== 0 && editor.queryCommandSupported('mceTableCellToggleClass')) {\n        editor.ui.registry.addNestedMenuItem('tablecellclass', {\n          icon: 'table-cell-classes',\n          text: 'Cell styles',\n          getSubmenuItems: () => buildMenuItems(editor, tableCellClassList, 'tablecellclass', value => editor.execCommand('mceTableCellToggleClass', false, value)),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      if (editor.queryCommandSupported('mceTableApplyCellStyle')) {\n        editor.ui.registry.addNestedMenuItem('tablecellvalign', {\n          icon: 'vertical-align',\n          text: 'Vertical align',\n          getSubmenuItems: () => buildMenuItems(editor, verticalAlignValues, 'tablecellverticalalign', applyTableCellStyle(editor, 'vertical-align')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addNestedMenuItem('tablecellborderwidth', {\n          icon: 'border-width',\n          text: 'Border width',\n          getSubmenuItems: () => buildMenuItems(editor, getTableBorderWidths(editor), 'tablecellborderwidth', applyTableCellStyle(editor, 'border-width')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addNestedMenuItem('tablecellborderstyle', {\n          icon: 'border-style',\n          text: 'Border style',\n          getSubmenuItems: () => buildMenuItems(editor, getTableBorderStyles(editor), 'tablecellborderstyle', applyTableCellStyle(editor, 'border-style')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addNestedMenuItem('tablecellbackgroundcolor', {\n          icon: 'cell-background-color',\n          text: 'Background color',\n          getSubmenuItems: () => buildColorMenu(editor, getTableBackgroundColorMap(editor), 'background-color'),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addNestedMenuItem('tablecellbordercolor', {\n          icon: 'cell-border-color',\n          text: 'Border color',\n          getSubmenuItems: () => buildColorMenu(editor, getTableBorderColorMap(editor), 'border-color'),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      addToggleMenuIfRegistered('tablecaption', {\n        icon: 'table-caption',\n        text: 'Table caption',\n        command: 'mceTableToggleCaption',\n        onSetup: selectionTargets.onSetupTableWithCaption\n      });\n      addToggleMenuIfRegistered('tablerowheader', {\n        text: 'Row header',\n        icon: 'table-top-header',\n        command: 'mceTableRowType',\n        onAction: changeRowHeader(editor),\n        onSetup: selectionTargets.onSetupTableRowHeaders\n      });\n      addToggleMenuIfRegistered('tablecolheader', {\n        text: 'Column header',\n        icon: 'table-left-header',\n        command: 'mceTableColType',\n        onAction: changeColumnHeader(editor),\n        onSetup: selectionTargets.onSetupTableRowHeaders\n      });\n    };\n\n    const Plugin = editor => {\n      const selectionTargets = getSelectionTargets(editor);\n      register(editor);\n      registerCommands(editor);\n      addMenuItems(editor, selectionTargets);\n      addButtons(editor, selectionTargets);\n      addToolbars(editor);\n    };\n    var Plugin$1 = () => {\n      global$3.add('table', Plugin);\n    };\n\n    Plugin$1();\n\n})();\n","// Exports the \"autolink\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/autolink')\n//   ES2015:\n//     import 'tinymce/plugins/autolink'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.4.1 (2023-03-29)\n */\n\n(function () {\n  'use strict';\n\n  var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n  const link = () => /(?:[A-Za-z][A-Za-z\\d.+-]{0,14}:\\/\\/(?:[-.~*+=!&;:'%@?^${}(),\\w]+@)?|www\\.|[-;:&=+$,.\\w]+@)[A-Za-z\\d-]+(?:\\.[A-Za-z\\d-]+)*(?::\\d+)?(?:\\/(?:[-.~*+=!;:'%@$(),\\/\\w]*[-~*+=%@$()\\/\\w])?)?(?:\\?(?:[-.~*+=!&;:'%@?^${}(),\\/\\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\\/\\w]+))?/g;\n\n  const option = name => editor => editor.options.get(name);\n  const register = editor => {\n    const registerOption = editor.options.register;\n    registerOption('autolink_pattern', {\n      processor: 'regexp',\n      default: new RegExp('^' + link().source + '$', 'i')\n    });\n    registerOption('link_default_target', { processor: 'string' });\n    registerOption('link_default_protocol', {\n      processor: 'string',\n      default: 'https'\n    });\n  };\n  const getAutoLinkPattern = option('autolink_pattern');\n  const getDefaultLinkTarget = option('link_default_target');\n  const getDefaultLinkProtocol = option('link_default_protocol');\n  const allowUnsafeLinkTarget = option('allow_unsafe_link_target');\n\n  const hasProto = (v, constructor, predicate) => {\n    var _a;\n    if (predicate(v, constructor.prototype)) {\n      return true;\n    } else {\n      return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n    }\n  };\n  const typeOf = x => {\n    const t = typeof x;\n    if (x === null) {\n      return 'null';\n    } else if (t === 'object' && Array.isArray(x)) {\n      return 'array';\n    } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n      return 'string';\n    } else {\n      return t;\n    }\n  };\n  const isType = type => value => typeOf(value) === type;\n  const eq = t => a => t === a;\n  const isString = isType('string');\n  const isUndefined = eq(undefined);\n  const isNullable = a => a === null || a === undefined;\n  const isNonNullable = a => !isNullable(a);\n\n  const not = f => t => !f(t);\n\n  const hasOwnProperty = Object.hasOwnProperty;\n  const has = (obj, key) => hasOwnProperty.call(obj, key);\n\n  const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n  const contains = (str, substr, start = 0, end) => {\n    const idx = str.indexOf(substr, start);\n    if (idx !== -1) {\n      return isUndefined(end) ? true : idx + substr.length <= end;\n    } else {\n      return false;\n    }\n  };\n  const startsWith = (str, prefix) => {\n    return checkRange(str, prefix, 0);\n  };\n\n  const zeroWidth = '\\uFEFF';\n  const isZwsp = char => char === zeroWidth;\n  const removeZwsp = s => s.replace(/\\uFEFF/g, '');\n\n  var global = tinymce.util.Tools.resolve('tinymce.dom.TextSeeker');\n\n  const isTextNode = node => node.nodeType === 3;\n  const isElement = node => node.nodeType === 1;\n  const isBracketOrSpace = char => /^[(\\[{ \\u00a0]$/.test(char);\n  const hasProtocol = url => /^([A-Za-z][A-Za-z\\d.+-]*:\\/\\/)|mailto:/.test(url);\n  const isPunctuation = char => /[?!,.;:]/.test(char);\n  const findChar = (text, index, predicate) => {\n    for (let i = index - 1; i >= 0; i--) {\n      const char = text.charAt(i);\n      if (!isZwsp(char) && predicate(char)) {\n        return i;\n      }\n    }\n    return -1;\n  };\n  const freefallRtl = (container, offset) => {\n    let tempNode = container;\n    let tempOffset = offset;\n    while (isElement(tempNode) && tempNode.childNodes[tempOffset]) {\n      tempNode = tempNode.childNodes[tempOffset];\n      tempOffset = isTextNode(tempNode) ? tempNode.data.length : tempNode.childNodes.length;\n    }\n    return {\n      container: tempNode,\n      offset: tempOffset\n    };\n  };\n\n  const parseCurrentLine = (editor, offset) => {\n    var _a;\n    const voidElements = editor.schema.getVoidElements();\n    const autoLinkPattern = getAutoLinkPattern(editor);\n    const {dom, selection} = editor;\n    if (dom.getParent(selection.getNode(), 'a[href]') !== null) {\n      return null;\n    }\n    const rng = selection.getRng();\n    const textSeeker = global(dom, node => {\n      return dom.isBlock(node) || has(voidElements, node.nodeName.toLowerCase()) || dom.getContentEditable(node) === 'false';\n    });\n    const {\n      container: endContainer,\n      offset: endOffset\n    } = freefallRtl(rng.endContainer, rng.endOffset);\n    const root = (_a = dom.getParent(endContainer, dom.isBlock)) !== null && _a !== void 0 ? _a : dom.getRoot();\n    const endSpot = textSeeker.backwards(endContainer, endOffset + offset, (node, offset) => {\n      const text = node.data;\n      const idx = findChar(text, offset, not(isBracketOrSpace));\n      return idx === -1 || isPunctuation(text[idx]) ? idx : idx + 1;\n    }, root);\n    if (!endSpot) {\n      return null;\n    }\n    let lastTextNode = endSpot.container;\n    const startSpot = textSeeker.backwards(endSpot.container, endSpot.offset, (node, offset) => {\n      lastTextNode = node;\n      const idx = findChar(node.data, offset, isBracketOrSpace);\n      return idx === -1 ? idx : idx + 1;\n    }, root);\n    const newRng = dom.createRng();\n    if (!startSpot) {\n      newRng.setStart(lastTextNode, 0);\n    } else {\n      newRng.setStart(startSpot.container, startSpot.offset);\n    }\n    newRng.setEnd(endSpot.container, endSpot.offset);\n    const rngText = removeZwsp(newRng.toString());\n    const matches = rngText.match(autoLinkPattern);\n    if (matches) {\n      let url = matches[0];\n      if (startsWith(url, 'www.')) {\n        const protocol = getDefaultLinkProtocol(editor);\n        url = protocol + '://' + url;\n      } else if (contains(url, '@') && !hasProtocol(url)) {\n        url = 'mailto:' + url;\n      }\n      return {\n        rng: newRng,\n        url\n      };\n    } else {\n      return null;\n    }\n  };\n  const convertToLink = (editor, result) => {\n    const {dom, selection} = editor;\n    const {rng, url} = result;\n    const bookmark = selection.getBookmark();\n    selection.setRng(rng);\n    const command = 'createlink';\n    const args = {\n      command,\n      ui: false,\n      value: url\n    };\n    const beforeExecEvent = editor.dispatch('BeforeExecCommand', args);\n    if (!beforeExecEvent.isDefaultPrevented()) {\n      editor.getDoc().execCommand(command, false, url);\n      editor.dispatch('ExecCommand', args);\n      const defaultLinkTarget = getDefaultLinkTarget(editor);\n      if (isString(defaultLinkTarget)) {\n        const anchor = selection.getNode();\n        dom.setAttrib(anchor, 'target', defaultLinkTarget);\n        if (defaultLinkTarget === '_blank' && !allowUnsafeLinkTarget(editor)) {\n          dom.setAttrib(anchor, 'rel', 'noopener');\n        }\n      }\n    }\n    selection.moveToBookmark(bookmark);\n    editor.nodeChanged();\n  };\n  const handleSpacebar = editor => {\n    const result = parseCurrentLine(editor, -1);\n    if (isNonNullable(result)) {\n      convertToLink(editor, result);\n    }\n  };\n  const handleBracket = handleSpacebar;\n  const handleEnter = editor => {\n    const result = parseCurrentLine(editor, 0);\n    if (isNonNullable(result)) {\n      convertToLink(editor, result);\n    }\n  };\n  const setup = editor => {\n    editor.on('keydown', e => {\n      if (e.keyCode === 13 && !e.isDefaultPrevented()) {\n        handleEnter(editor);\n      }\n    });\n    editor.on('keyup', e => {\n      if (e.keyCode === 32) {\n        handleSpacebar(editor);\n      } else if (e.keyCode === 48 && e.shiftKey || e.keyCode === 221) {\n        handleBracket(editor);\n      }\n    });\n  };\n\n  var Plugin = () => {\n    global$1.add('autolink', editor => {\n      register(editor);\n      setup(editor);\n    });\n  };\n\n  Plugin();\n\n})();\n","module.exports = \"body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border=\\\"0\\\"]):not([style*=border-width]) td,table[border]:not([border=\\\"0\\\"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border=\\\"0\\\"]):not([style*=border-style]) td,table[border]:not([border=\\\"0\\\"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border=\\\"0\\\"]):not([style*=border-color]) td,table[border]:not([border=\\\"0\\\"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}\\n\"","module.exports = \".mce-content-body .mce-item-anchor{background:transparent url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A\\\") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;-moz-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\\\");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\\\")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A\\\"),default}div.mce-footnotes hr{margin-inline-end:auto;margin-inline-start:0;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{text-decoration:none}@media print{sup.mce-footnote a{color:#000;text-decoration:none}div.mce-footnotes{break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px 0 2px;position:relative}.mce-preview-object .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected=\\\"2\\\"] .mce-shim{display:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A\\\") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected=\\\"2\\\"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:nth-of-type(1){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed #000;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0,0,0,.75);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A\\\") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::-moz-selection{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::-moz-selection,.mce-content-body th[data-mce-selected]::-moz-selection{background:0 0}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::-moz-selection{background:0 0}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A\\\");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A\\\");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border=\\\"0\\\"],.mce-item-table[border=\\\"0\\\"] caption,.mce-item-table[border=\\\"0\\\"] td,.mce-item-table[border=\\\"0\\\"] th,table[style*=\\\"border-width: 0px\\\"],table[style*=\\\"border-width: 0px\\\"] caption,table[style*=\\\"border-width: 0px\\\"] td,table[style*=\\\"border-width: 0px\\\"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}\\n\"","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { uuid } from './Utils';\nvar injectScriptTag = function (doc, item, handler) {\n    var _a, _b;\n    var scriptTag = doc.createElement('script');\n    scriptTag.referrerPolicy = 'origin';\n    scriptTag.type = 'application/javascript';\n    scriptTag.id = item.id;\n    scriptTag.src = item.src;\n    scriptTag.async = (_a = item.async) !== null && _a !== void 0 ? _a : false;\n    scriptTag.defer = (_b = item.defer) !== null && _b !== void 0 ? _b : false;\n    var loadHandler = function () {\n        scriptTag.removeEventListener('load', loadHandler);\n        scriptTag.removeEventListener('error', errorHandler);\n        handler(item.src);\n    };\n    var errorHandler = function (err) {\n        scriptTag.removeEventListener('load', loadHandler);\n        scriptTag.removeEventListener('error', errorHandler);\n        handler(item.src, err);\n    };\n    scriptTag.addEventListener('load', loadHandler);\n    scriptTag.addEventListener('error', errorHandler);\n    if (doc.head) {\n        doc.head.appendChild(scriptTag);\n    }\n};\nvar createDocumentScriptLoader = function (doc) {\n    var lookup = {};\n    var scriptLoadOrErrorHandler = function (src, err) {\n        var item = lookup[src];\n        item.done = true;\n        item.error = err;\n        for (var _i = 0, _a = item.handlers; _i < _a.length; _i++) {\n            var h = _a[_i];\n            h(src, err);\n        }\n        item.handlers = [];\n    };\n    var loadScripts = function (items, success, failure) {\n        // eslint-disable-next-line no-console\n        var failureOrLog = function (err) { return failure !== undefined ? failure(err) : console.error(err); };\n        if (items.length === 0) {\n            failureOrLog(new Error('At least one script must be provided'));\n            return;\n        }\n        var successCount = 0;\n        var failed = false;\n        var loaded = function (_src, err) {\n            if (failed) {\n                return;\n            }\n            if (err) {\n                failed = true;\n                failureOrLog(err);\n            }\n            else if (++successCount === items.length) {\n                success();\n            }\n        };\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var existing = lookup[item.src];\n            if (existing) {\n                if (existing.done) {\n                    loaded(item.src, existing.error);\n                }\n                else {\n                    existing.handlers.push(loaded);\n                }\n            }\n            else {\n                // create a new entry\n                var id = uuid('tiny-');\n                lookup[item.src] = {\n                    id: id,\n                    src: item.src,\n                    done: false,\n                    error: null,\n                    handlers: [loaded],\n                };\n                injectScriptTag(doc, __assign({ id: id }, item), scriptLoadOrErrorHandler);\n            }\n        }\n    };\n    var deleteScripts = function () {\n        var _a;\n        for (var _i = 0, _b = Object.values(lookup); _i < _b.length; _i++) {\n            var item = _b[_i];\n            var scriptTag = doc.getElementById(item.id);\n            if (scriptTag != null && scriptTag.tagName === 'SCRIPT') {\n                (_a = scriptTag.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(scriptTag);\n            }\n        }\n        lookup = {};\n    };\n    var getDocument = function () { return doc; };\n    return {\n        loadScripts: loadScripts,\n        deleteScripts: deleteScripts,\n        getDocument: getDocument\n    };\n};\nvar createScriptLoader = function () {\n    var cache = [];\n    var getDocumentScriptLoader = function (doc) {\n        var loader = cache.find(function (l) { return l.getDocument() === doc; });\n        if (loader === undefined) {\n            loader = createDocumentScriptLoader(doc);\n            cache.push(loader);\n        }\n        return loader;\n    };\n    var loadList = function (doc, items, delay, success, failure) {\n        var doLoad = function () { return getDocumentScriptLoader(doc).loadScripts(items, success, failure); };\n        if (delay > 0) {\n            setTimeout(doLoad, delay);\n        }\n        else {\n            doLoad();\n        }\n    };\n    var reinitialize = function () {\n        for (var loader = cache.pop(); loader != null; loader = cache.pop()) {\n            loader.deleteScripts();\n        }\n    };\n    return {\n        loadList: loadList,\n        reinitialize: reinitialize\n    };\n};\nexport var ScriptLoader = createScriptLoader();\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { ScriptLoader } from '../ScriptLoader2';\nimport { getTinymce } from '../TinyMCE';\nimport { isFunction, isTextareaOrInput, mergePlugins, uuid, configHandlers, isBeforeInputEventAvailable, isInDoc, setMode } from '../Utils';\nimport { EditorPropTypes } from './EditorPropTypes';\nvar Editor = /** @class */ (function (_super) {\n    __extends(Editor, _super);\n    function Editor(props) {\n        var _this = this;\n        var _a, _b, _c;\n        _this = _super.call(this, props) || this;\n        _this.rollbackTimer = undefined;\n        _this.valueCursor = undefined;\n        _this.rollbackChange = function () {\n            var editor = _this.editor;\n            var value = _this.props.value;\n            if (editor && value && value !== _this.currentContent) {\n                editor.undoManager.ignore(function () {\n                    editor.setContent(value);\n                    // only restore cursor on inline editors when they are focused\n                    // as otherwise it will cause a focus grab\n                    if (_this.valueCursor && (!_this.inline || editor.hasFocus())) {\n                        try {\n                            editor.selection.moveToBookmark(_this.valueCursor);\n                        }\n                        catch (e) { /* ignore */ }\n                    }\n                });\n            }\n            _this.rollbackTimer = undefined;\n        };\n        _this.handleBeforeInput = function (_evt) {\n            if (_this.props.value !== undefined && _this.props.value === _this.currentContent && _this.editor) {\n                if (!_this.inline || _this.editor.hasFocus()) {\n                    try {\n                        // getBookmark throws exceptions when the editor has not been focused\n                        // possibly only in inline mode but I'm not taking chances\n                        _this.valueCursor = _this.editor.selection.getBookmark(3);\n                    }\n                    catch (e) { /* ignore */ }\n                }\n            }\n        };\n        _this.handleBeforeInputSpecial = function (evt) {\n            if (evt.key === 'Enter' || evt.key === 'Backspace' || evt.key === 'Delete') {\n                _this.handleBeforeInput(evt);\n            }\n        };\n        _this.handleEditorChange = function (_evt) {\n            var editor = _this.editor;\n            if (editor && editor.initialized) {\n                var newContent = editor.getContent();\n                if (_this.props.value !== undefined && _this.props.value !== newContent && _this.props.rollback !== false) {\n                    // start a timer and revert to the value if not applied in time\n                    if (!_this.rollbackTimer) {\n                        _this.rollbackTimer = window.setTimeout(_this.rollbackChange, typeof _this.props.rollback === 'number' ? _this.props.rollback : 200);\n                    }\n                }\n                if (newContent !== _this.currentContent) {\n                    _this.currentContent = newContent;\n                    if (isFunction(_this.props.onEditorChange)) {\n                        _this.props.onEditorChange(newContent, editor);\n                    }\n                }\n            }\n        };\n        _this.handleEditorChangeSpecial = function (evt) {\n            if (evt.key === 'Backspace' || evt.key === 'Delete') {\n                _this.handleEditorChange(evt);\n            }\n        };\n        _this.initialise = function (attempts) {\n            var _a, _b, _c;\n            if (attempts === void 0) { attempts = 0; }\n            var target = _this.elementRef.current;\n            if (!target) {\n                return; // Editor has been unmounted\n            }\n            if (!isInDoc(target)) {\n                // this is probably someone trying to help by rendering us offscreen\n                // but we can't do that because the editor iframe must be in the document\n                // in order to have state\n                if (attempts === 0) {\n                    // we probably just need to wait for the current events to be processed\n                    setTimeout(function () { return _this.initialise(1); }, 1);\n                }\n                else if (attempts < 100) {\n                    // wait for ten seconds, polling every tenth of a second\n                    setTimeout(function () { return _this.initialise(attempts + 1); }, 100);\n                }\n                else {\n                    // give up, at this point it seems that more polling is unlikely to help\n                    throw new Error('tinymce can only be initialised when in a document');\n                }\n                return;\n            }\n            var tinymce = getTinymce(_this.view);\n            if (!tinymce) {\n                throw new Error('tinymce should have been loaded into global scope');\n            }\n            var finalInit = __assign(__assign({}, _this.props.init), { selector: undefined, target: target, readonly: _this.props.disabled, inline: _this.inline, plugins: mergePlugins((_a = _this.props.init) === null || _a === void 0 ? void 0 : _a.plugins, _this.props.plugins), toolbar: (_b = _this.props.toolbar) !== null && _b !== void 0 ? _b : (_c = _this.props.init) === null || _c === void 0 ? void 0 : _c.toolbar, setup: function (editor) {\n                    _this.editor = editor;\n                    _this.bindHandlers({});\n                    // When running in inline mode the editor gets the initial value\n                    // from the innerHTML of the element it is initialized on.\n                    // However we don't want to take on the responsibility of sanitizing\n                    // to remove XSS in the react integration so we have a chicken and egg\n                    // problem... We avoid it by sneaking in a set content before the first\n                    // \"official\" setContent and using TinyMCE to do the sanitization.\n                    if (_this.inline && !isTextareaOrInput(target)) {\n                        editor.once('PostRender', function (_evt) {\n                            editor.setContent(_this.getInitialValue(), { no_events: true });\n                        });\n                    }\n                    if (_this.props.init && isFunction(_this.props.init.setup)) {\n                        _this.props.init.setup(editor);\n                    }\n                }, init_instance_callback: function (editor) {\n                    var _a, _b;\n                    // check for changes that happened since tinymce.init() was called\n                    var initialValue = _this.getInitialValue();\n                    _this.currentContent = (_a = _this.currentContent) !== null && _a !== void 0 ? _a : editor.getContent();\n                    if (_this.currentContent !== initialValue) {\n                        _this.currentContent = initialValue;\n                        // same as resetContent in TinyMCE 5\n                        editor.setContent(initialValue);\n                        editor.undoManager.clear();\n                        editor.undoManager.add();\n                        editor.setDirty(false);\n                    }\n                    var disabled = (_b = _this.props.disabled) !== null && _b !== void 0 ? _b : false;\n                    setMode(_this.editor, disabled ? 'readonly' : 'design');\n                    // ensure existing init_instance_callback is called\n                    if (_this.props.init && isFunction(_this.props.init.init_instance_callback)) {\n                        _this.props.init.init_instance_callback(editor);\n                    }\n                } });\n            if (!_this.inline) {\n                target.style.visibility = '';\n            }\n            if (isTextareaOrInput(target)) {\n                target.value = _this.getInitialValue();\n            }\n            tinymce.init(finalInit);\n        };\n        _this.id = _this.props.id || uuid('tiny-react');\n        _this.elementRef = React.createRef();\n        _this.inline = (_c = (_a = _this.props.inline) !== null && _a !== void 0 ? _a : (_b = _this.props.init) === null || _b === void 0 ? void 0 : _b.inline) !== null && _c !== void 0 ? _c : false;\n        _this.boundHandlers = {};\n        return _this;\n    }\n    Object.defineProperty(Editor.prototype, \"view\", {\n        get: function () {\n            var _a, _b;\n            return (_b = (_a = this.elementRef.current) === null || _a === void 0 ? void 0 : _a.ownerDocument.defaultView) !== null && _b !== void 0 ? _b : window;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Editor.prototype.componentDidUpdate = function (prevProps) {\n        var _this = this;\n        var _a, _b;\n        if (this.rollbackTimer) {\n            clearTimeout(this.rollbackTimer);\n            this.rollbackTimer = undefined;\n        }\n        if (this.editor) {\n            this.bindHandlers(prevProps);\n            if (this.editor.initialized) {\n                this.currentContent = (_a = this.currentContent) !== null && _a !== void 0 ? _a : this.editor.getContent();\n                if (typeof this.props.initialValue === 'string' && this.props.initialValue !== prevProps.initialValue) {\n                    // same as resetContent in TinyMCE 5\n                    this.editor.setContent(this.props.initialValue);\n                    this.editor.undoManager.clear();\n                    this.editor.undoManager.add();\n                    this.editor.setDirty(false);\n                }\n                else if (typeof this.props.value === 'string' && this.props.value !== this.currentContent) {\n                    var localEditor_1 = this.editor;\n                    localEditor_1.undoManager.transact(function () {\n                        // inline editors grab focus when restoring selection\n                        // so we don't try to keep their selection unless they are currently focused\n                        var cursor;\n                        if (!_this.inline || localEditor_1.hasFocus()) {\n                            try {\n                                // getBookmark throws exceptions when the editor has not been focused\n                                // possibly only in inline mode but I'm not taking chances\n                                cursor = localEditor_1.selection.getBookmark(3);\n                            }\n                            catch (e) { /* ignore */ }\n                        }\n                        var valueCursor = _this.valueCursor;\n                        localEditor_1.setContent(_this.props.value);\n                        if (!_this.inline || localEditor_1.hasFocus()) {\n                            for (var _i = 0, _a = [cursor, valueCursor]; _i < _a.length; _i++) {\n                                var bookmark = _a[_i];\n                                if (bookmark) {\n                                    try {\n                                        localEditor_1.selection.moveToBookmark(bookmark);\n                                        _this.valueCursor = bookmark;\n                                        break;\n                                    }\n                                    catch (e) { /* ignore */ }\n                                }\n                            }\n                        }\n                    });\n                }\n                if (this.props.disabled !== prevProps.disabled) {\n                    var disabled = (_b = this.props.disabled) !== null && _b !== void 0 ? _b : false;\n                    setMode(this.editor, disabled ? 'readonly' : 'design');\n                }\n            }\n        }\n    };\n    Editor.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a, _b, _c, _d, _e;\n        if (getTinymce(this.view) !== null) {\n            this.initialise();\n        }\n        else if (Array.isArray(this.props.tinymceScriptSrc) && this.props.tinymceScriptSrc.length === 0) {\n            (_b = (_a = this.props).onScriptsLoadError) === null || _b === void 0 ? void 0 : _b.call(_a, new Error('No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array.'));\n        }\n        else if ((_c = this.elementRef.current) === null || _c === void 0 ? void 0 : _c.ownerDocument) {\n            var successHandler = function () {\n                var _a, _b;\n                (_b = (_a = _this.props).onScriptsLoad) === null || _b === void 0 ? void 0 : _b.call(_a);\n                _this.initialise();\n            };\n            var errorHandler = function (err) {\n                var _a, _b;\n                (_b = (_a = _this.props).onScriptsLoadError) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n            };\n            ScriptLoader.loadList(this.elementRef.current.ownerDocument, this.getScriptSources(), (_e = (_d = this.props.scriptLoading) === null || _d === void 0 ? void 0 : _d.delay) !== null && _e !== void 0 ? _e : 0, successHandler, errorHandler);\n        }\n    };\n    Editor.prototype.componentWillUnmount = function () {\n        var _this = this;\n        var editor = this.editor;\n        if (editor) {\n            editor.off(this.changeEvents(), this.handleEditorChange);\n            editor.off(this.beforeInputEvent(), this.handleBeforeInput);\n            editor.off('keypress', this.handleEditorChangeSpecial);\n            editor.off('keydown', this.handleBeforeInputSpecial);\n            editor.off('NewBlock', this.handleEditorChange);\n            Object.keys(this.boundHandlers).forEach(function (eventName) {\n                editor.off(eventName, _this.boundHandlers[eventName]);\n            });\n            this.boundHandlers = {};\n            editor.remove();\n            this.editor = undefined;\n        }\n    };\n    Editor.prototype.render = function () {\n        return this.inline ? this.renderInline() : this.renderIframe();\n    };\n    Editor.prototype.changeEvents = function () {\n        var _a, _b, _c;\n        var isIE = (_c = (_b = (_a = getTinymce(this.view)) === null || _a === void 0 ? void 0 : _a.Env) === null || _b === void 0 ? void 0 : _b.browser) === null || _c === void 0 ? void 0 : _c.isIE();\n        return (isIE\n            ? 'change keyup compositionend setcontent CommentChange'\n            : 'change input compositionend setcontent CommentChange');\n    };\n    Editor.prototype.beforeInputEvent = function () {\n        return isBeforeInputEventAvailable() ? 'beforeinput SelectionChange' : 'SelectionChange';\n    };\n    Editor.prototype.renderInline = function () {\n        var _a = this.props.tagName, tagName = _a === void 0 ? 'div' : _a;\n        return React.createElement(tagName, {\n            ref: this.elementRef,\n            id: this.id\n        });\n    };\n    Editor.prototype.renderIframe = function () {\n        return React.createElement('textarea', {\n            ref: this.elementRef,\n            style: { visibility: 'hidden' },\n            name: this.props.textareaName,\n            id: this.id\n        });\n    };\n    Editor.prototype.getScriptSources = function () {\n        var _a, _b;\n        var async = (_a = this.props.scriptLoading) === null || _a === void 0 ? void 0 : _a.async;\n        var defer = (_b = this.props.scriptLoading) === null || _b === void 0 ? void 0 : _b.defer;\n        if (this.props.tinymceScriptSrc !== undefined) {\n            if (typeof this.props.tinymceScriptSrc === 'string') {\n                return [{ src: this.props.tinymceScriptSrc, async: async, defer: defer }];\n            }\n            // multiple scripts can be specified which allows for hybrid mode\n            return this.props.tinymceScriptSrc.map(function (item) {\n                if (typeof item === 'string') {\n                    // async does not make sense for multiple items unless\n                    // they are not dependent (which will be unlikely)\n                    return { src: item, async: async, defer: defer };\n                }\n                else {\n                    return item;\n                }\n            });\n        }\n        // fallback to the cloud when the tinymceScriptSrc is not specified\n        var channel = this.props.cloudChannel;\n        var apiKey = this.props.apiKey ? this.props.apiKey : 'no-api-key';\n        var cloudTinyJs = \"https://cdn.tiny.cloud/1/\".concat(apiKey, \"/tinymce/\").concat(channel, \"/tinymce.min.js\");\n        return [{ src: cloudTinyJs, async: async, defer: defer }];\n    };\n    Editor.prototype.getInitialValue = function () {\n        if (typeof this.props.initialValue === 'string') {\n            return this.props.initialValue;\n        }\n        else if (typeof this.props.value === 'string') {\n            return this.props.value;\n        }\n        else {\n            return '';\n        }\n    };\n    Editor.prototype.bindHandlers = function (prevProps) {\n        var _this = this;\n        if (this.editor !== undefined) {\n            // typescript chokes trying to understand the type of the lookup function\n            configHandlers(this.editor, prevProps, this.props, this.boundHandlers, function (key) { return _this.props[key]; });\n            // check if we should monitor editor changes\n            var isValueControlled = function (p) { return p.onEditorChange !== undefined || p.value !== undefined; };\n            var wasControlled = isValueControlled(prevProps);\n            var nowControlled = isValueControlled(this.props);\n            if (!wasControlled && nowControlled) {\n                this.editor.on(this.changeEvents(), this.handleEditorChange);\n                this.editor.on(this.beforeInputEvent(), this.handleBeforeInput);\n                this.editor.on('keydown', this.handleBeforeInputSpecial);\n                this.editor.on('keyup', this.handleEditorChangeSpecial);\n                this.editor.on('NewBlock', this.handleEditorChange);\n            }\n            else if (wasControlled && !nowControlled) {\n                this.editor.off(this.changeEvents(), this.handleEditorChange);\n                this.editor.off(this.beforeInputEvent(), this.handleBeforeInput);\n                this.editor.off('keydown', this.handleBeforeInputSpecial);\n                this.editor.off('keyup', this.handleEditorChangeSpecial);\n                this.editor.off('NewBlock', this.handleEditorChange);\n            }\n        }\n    };\n    Editor.propTypes = EditorPropTypes;\n    Editor.defaultProps = {\n        cloudChannel: '6'\n    };\n    return Editor;\n}(React.Component));\nexport { Editor };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as PropTypes from 'prop-types';\nexport var eventPropTypes = {\n    onActivate: PropTypes.func,\n    onAddUndo: PropTypes.func,\n    onBeforeAddUndo: PropTypes.func,\n    onBeforeExecCommand: PropTypes.func,\n    onBeforeGetContent: PropTypes.func,\n    onBeforeRenderUI: PropTypes.func,\n    onBeforeSetContent: PropTypes.func,\n    onBeforePaste: PropTypes.func,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onClearUndos: PropTypes.func,\n    onClick: PropTypes.func,\n    onContextMenu: PropTypes.func,\n    onCommentChange: PropTypes.func,\n    onCopy: PropTypes.func,\n    onCut: PropTypes.func,\n    onDblclick: PropTypes.func,\n    onDeactivate: PropTypes.func,\n    onDirty: PropTypes.func,\n    onDrag: PropTypes.func,\n    onDragDrop: PropTypes.func,\n    onDragEnd: PropTypes.func,\n    onDragGesture: PropTypes.func,\n    onDragOver: PropTypes.func,\n    onDrop: PropTypes.func,\n    onExecCommand: PropTypes.func,\n    onFocus: PropTypes.func,\n    onFocusIn: PropTypes.func,\n    onFocusOut: PropTypes.func,\n    onGetContent: PropTypes.func,\n    onHide: PropTypes.func,\n    onInit: PropTypes.func,\n    onKeyDown: PropTypes.func,\n    onKeyPress: PropTypes.func,\n    onKeyUp: PropTypes.func,\n    onLoadContent: PropTypes.func,\n    onMouseDown: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onMouseOut: PropTypes.func,\n    onMouseOver: PropTypes.func,\n    onMouseUp: PropTypes.func,\n    onNodeChange: PropTypes.func,\n    onObjectResizeStart: PropTypes.func,\n    onObjectResized: PropTypes.func,\n    onObjectSelected: PropTypes.func,\n    onPaste: PropTypes.func,\n    onPostProcess: PropTypes.func,\n    onPostRender: PropTypes.func,\n    onPreProcess: PropTypes.func,\n    onProgressState: PropTypes.func,\n    onRedo: PropTypes.func,\n    onRemove: PropTypes.func,\n    onReset: PropTypes.func,\n    onSaveContent: PropTypes.func,\n    onSelectionChange: PropTypes.func,\n    onSetAttrib: PropTypes.func,\n    onSetContent: PropTypes.func,\n    onShow: PropTypes.func,\n    onSubmit: PropTypes.func,\n    onUndo: PropTypes.func,\n    onVisualAid: PropTypes.func,\n    onSkinLoadError: PropTypes.func,\n    onThemeLoadError: PropTypes.func,\n    onModelLoadError: PropTypes.func,\n    onPluginLoadError: PropTypes.func,\n    onIconsLoadError: PropTypes.func,\n    onLanguageLoadError: PropTypes.func,\n    onScriptsLoad: PropTypes.func,\n    onScriptsLoadError: PropTypes.func,\n};\nexport var EditorPropTypes = __assign({ apiKey: PropTypes.string, id: PropTypes.string, inline: PropTypes.bool, init: PropTypes.object, initialValue: PropTypes.string, onEditorChange: PropTypes.func, value: PropTypes.string, tagName: PropTypes.string, cloudChannel: PropTypes.string, plugins: PropTypes.oneOfType([PropTypes.string, PropTypes.array]), toolbar: PropTypes.oneOfType([PropTypes.string, PropTypes.array]), disabled: PropTypes.bool, textareaName: PropTypes.string, tinymceScriptSrc: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string),\n        PropTypes.arrayOf(PropTypes.shape({\n            src: PropTypes.string,\n            async: PropTypes.bool,\n            defer: PropTypes.bool\n        }))\n    ]), rollback: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf([false])]), scriptLoading: PropTypes.shape({\n        async: PropTypes.bool,\n        defer: PropTypes.bool,\n        delay: PropTypes.number\n    }) }, eventPropTypes);\n","import { eventPropTypes } from './components/EditorPropTypes';\nexport var isFunction = function (x) { return typeof x === 'function'; };\nvar isEventProp = function (name) { return name in eventPropTypes; };\nvar eventAttrToEventName = function (attrName) { return attrName.substr(2); };\nexport var configHandlers2 = function (handlerLookup, on, off, adapter, prevProps, props, boundHandlers) {\n    var prevEventKeys = Object.keys(prevProps).filter(isEventProp);\n    var currEventKeys = Object.keys(props).filter(isEventProp);\n    var removedKeys = prevEventKeys.filter(function (key) { return props[key] === undefined; });\n    var addedKeys = currEventKeys.filter(function (key) { return prevProps[key] === undefined; });\n    removedKeys.forEach(function (key) {\n        // remove event handler\n        var eventName = eventAttrToEventName(key);\n        var wrappedHandler = boundHandlers[eventName];\n        off(eventName, wrappedHandler);\n        delete boundHandlers[eventName];\n    });\n    addedKeys.forEach(function (key) {\n        var wrappedHandler = adapter(handlerLookup, key);\n        var eventName = eventAttrToEventName(key);\n        boundHandlers[eventName] = wrappedHandler;\n        on(eventName, wrappedHandler);\n    });\n};\nexport var configHandlers = function (editor, prevProps, props, boundHandlers, lookup) {\n    return configHandlers2(lookup, editor.on.bind(editor), editor.off.bind(editor), \n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    function (handlerLookup, key) { return function (e) { var _a; return (_a = handlerLookup(key)) === null || _a === void 0 ? void 0 : _a(e, editor); }; }, prevProps, props, boundHandlers);\n};\nvar unique = 0;\nexport var uuid = function (prefix) {\n    var time = Date.now();\n    var random = Math.floor(Math.random() * 1000000000);\n    unique++;\n    return prefix + '_' + random + unique + String(time);\n};\nexport var isTextareaOrInput = function (element) {\n    return element !== null && (element.tagName.toLowerCase() === 'textarea' || element.tagName.toLowerCase() === 'input');\n};\nvar normalizePluginArray = function (plugins) {\n    if (typeof plugins === 'undefined' || plugins === '') {\n        return [];\n    }\n    return Array.isArray(plugins) ? plugins : plugins.split(' ');\n};\n// eslint-disable-next-line max-len\nexport var mergePlugins = function (initPlugins, inputPlugins) { return normalizePluginArray(initPlugins).concat(normalizePluginArray(inputPlugins)); };\nexport var isBeforeInputEventAvailable = function () { return window.InputEvent && typeof InputEvent.prototype.getTargetRanges === 'function'; };\nexport var isInDoc = function (elem) {\n    if (!('isConnected' in Node.prototype)) {\n        // Fallback for IE and old Edge\n        var current = elem;\n        var parent_1 = elem.parentNode;\n        while (parent_1 != null) {\n            current = parent_1;\n            parent_1 = current.parentNode;\n        }\n        return current === elem.ownerDocument;\n    }\n    return elem.isConnected;\n};\nexport var setMode = function (editor, mode) {\n    if (editor !== undefined) {\n        if (editor.mode != null && typeof editor.mode === 'object' && typeof editor.mode.set === 'function') {\n            editor.mode.set(mode);\n        }\n        else { // support TinyMCE 4\n            editor.setMode(mode);\n        }\n    }\n};\n","var getTinymce = function (view) {\n    var global = view;\n    return global && global.tinymce ? global.tinymce : null;\n};\nexport { getTinymce };\n"],"sourceRoot":""}